var T_=Object.defineProperty;var F6=t=>{throw TypeError(t)};var R_=(t,e,s)=>e in t?T_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var se=(t,e,s)=>R_(t,typeof e!="symbol"?e+"":e,s),ey=(t,e,s)=>e.has(t)||F6("Cannot "+s);var U=(t,e,s)=>(ey(t,e,"read from private field"),s?s.call(t):e.get(t)),pe=(t,e,s)=>e.has(t)?F6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),J=(t,e,s,r)=>(ey(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),Re=(t,e,s)=>(ey(t,e,"access private method"),s);var Uh=(t,e,s,r)=>({set _(a){J(t,e,a,s)},get _(){return U(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function ym(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function M_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),s}var ty={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z6;function D_(){if(z6)return $h;z6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return $h.Fragment=e,$h.jsx=s,$h.jsxs=s,$h}var U6;function B_(){return U6||(U6=1,ty.exports=D_()),ty.exports}var n=B_(),sy={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $6;function __(){if($6)return rt;$6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function w(F,z,G){this.props=F,this.context=z,this.refs=y,this.updater=G||p}w.prototype.isReactComponent={},w.prototype.setState=function(F,z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,z,"setState")},w.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function A(){}A.prototype=w.prototype;function j(F,z,G){this.props=F,this.context=z,this.refs=y,this.updater=G||p}var C=j.prototype=new A;C.constructor=j,v(C,w.prototype),C.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function R(F,z,G,K,W,Q){return G=Q.ref,{$$typeof:t,type:F,key:z,ref:G!==void 0?G:null,props:Q}}function _(F,z){return R(F.type,z,void 0,void 0,void 0,F.props)}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function D(F){var z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(G){return z[G]})}var B=/\/+/g;function O(F,z){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):z.toString(36)}function $(){}function Y(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then($,$):(F.status="pending",F.then(function(z){F.status==="pending"&&(F.status="fulfilled",F.value=z)},function(z){F.status==="pending"&&(F.status="rejected",F.reason=z)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,z,G,K,W){var Q=typeof F;(Q==="undefined"||Q==="boolean")&&(F=null);var Z=!1;if(F===null)Z=!0;else switch(Q){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(F.$$typeof){case t:case e:Z=!0;break;case f:return Z=F._init,H(Z(F._payload),z,G,K,W)}}if(Z)return W=W(F),Z=K===""?"."+O(F,0):K,S(W)?(G="",Z!=null&&(G=Z.replace(B,"$&/")+"/"),H(W,z,G,"",function(ke){return ke})):W!=null&&(I(W)&&(W=_(W,G+(W.key==null||F&&F.key===W.key?"":(""+W.key).replace(B,"$&/")+"/")+Z)),z.push(W)),1;Z=0;var ne=K===""?".":K+":";if(S(F))for(var re=0;re<F.length;re++)K=F[re],Q=ne+O(K,re),Z+=H(K,z,G,Q,W);else if(re=g(F),typeof re=="function")for(F=re.call(F),re=0;!(K=F.next()).done;)K=K.value,Q=ne+O(K,re++),Z+=H(K,z,G,Q,W);else if(Q==="object"){if(typeof F.then=="function")return H(Y(F),z,G,K,W);throw z=String(F),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Z}function L(F,z,G){if(F==null)return F;var K=[],W=0;return H(F,K,"","",function(Q){return z.call(G,Q,W++)}),K}function V(F){if(F._status===-1){var z=F._result;z=z(),z.then(function(G){(F._status===0||F._status===-1)&&(F._status=1,F._result=G)},function(G){(F._status===0||F._status===-1)&&(F._status=2,F._result=G)}),F._status===-1&&(F._status=0,F._result=z)}if(F._status===1)return F._result.default;throw F._result}var X=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ee(){}return rt.Children={map:L,forEach:function(F,z,G){L(F,function(){z.apply(this,arguments)},G)},count:function(F){var z=0;return L(F,function(){z++}),z},toArray:function(F){return L(F,function(z){return z})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},rt.Component=w,rt.Fragment=s,rt.Profiler=a,rt.PureComponent=j,rt.StrictMode=r,rt.Suspense=d,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,rt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return E.H.useMemoCache(F)}},rt.cache=function(F){return function(){return F.apply(null,arguments)}},rt.cloneElement=function(F,z,G){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var K=v({},F.props),W=F.key,Q=void 0;if(z!=null)for(Z in z.ref!==void 0&&(Q=void 0),z.key!==void 0&&(W=""+z.key),z)!M.call(z,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&z.ref===void 0||(K[Z]=z[Z]);var Z=arguments.length-2;if(Z===1)K.children=G;else if(1<Z){for(var ne=Array(Z),re=0;re<Z;re++)ne[re]=arguments[re+2];K.children=ne}return R(F.type,W,void 0,void 0,Q,K)},rt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:i,_context:F},F},rt.createElement=function(F,z,G){var K,W={},Q=null;if(z!=null)for(K in z.key!==void 0&&(Q=""+z.key),z)M.call(z,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(W[K]=z[K]);var Z=arguments.length-2;if(Z===1)W.children=G;else if(1<Z){for(var ne=Array(Z),re=0;re<Z;re++)ne[re]=arguments[re+2];W.children=ne}if(F&&F.defaultProps)for(K in Z=F.defaultProps,Z)W[K]===void 0&&(W[K]=Z[K]);return R(F,Q,void 0,void 0,null,W)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(F){return{$$typeof:c,render:F}},rt.isValidElement=I,rt.lazy=function(F){return{$$typeof:f,_payload:{_status:-1,_result:F},_init:V}},rt.memo=function(F,z){return{$$typeof:h,type:F,compare:z===void 0?null:z}},rt.startTransition=function(F){var z=E.T,G={};E.T=G;try{var K=F(),W=E.S;W!==null&&W(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ee,X)}catch(Q){X(Q)}finally{E.T=z}},rt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},rt.use=function(F){return E.H.use(F)},rt.useActionState=function(F,z,G){return E.H.useActionState(F,z,G)},rt.useCallback=function(F,z){return E.H.useCallback(F,z)},rt.useContext=function(F){return E.H.useContext(F)},rt.useDebugValue=function(){},rt.useDeferredValue=function(F,z){return E.H.useDeferredValue(F,z)},rt.useEffect=function(F,z,G){var K=E.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(F,z)},rt.useId=function(){return E.H.useId()},rt.useImperativeHandle=function(F,z,G){return E.H.useImperativeHandle(F,z,G)},rt.useInsertionEffect=function(F,z){return E.H.useInsertionEffect(F,z)},rt.useLayoutEffect=function(F,z){return E.H.useLayoutEffect(F,z)},rt.useMemo=function(F,z){return E.H.useMemo(F,z)},rt.useOptimistic=function(F,z){return E.H.useOptimistic(F,z)},rt.useReducer=function(F,z,G){return E.H.useReducer(F,z,G)},rt.useRef=function(F){return E.H.useRef(F)},rt.useState=function(F){return E.H.useState(F)},rt.useSyncExternalStore=function(F,z,G){return E.H.useSyncExternalStore(F,z,G)},rt.useTransition=function(){return E.H.useTransition()},rt.version="19.1.0",rt}var H6;function g4(){return H6||(H6=1,sy.exports=__()),sy.exports}var k=g4();const en=ym(k);var ny={exports:{}},Hh={},ry={exports:{}},ay={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6;function I_(){return V6||(V6=1,function(t){function e(L,V){var X=L.length;L.push(V);e:for(;0<X;){var ee=X-1>>>1,F=L[ee];if(0<a(F,V))L[ee]=V,L[X]=F,X=ee;else break e}}function s(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],X=L.pop();if(X!==V){L[0]=X;e:for(var ee=0,F=L.length,z=F>>>1;ee<z;){var G=2*(ee+1)-1,K=L[G],W=G+1,Q=L[W];if(0>a(K,X))W<F&&0>a(Q,K)?(L[ee]=Q,L[W]=X,ee=W):(L[ee]=K,L[G]=X,ee=G);else if(W<F&&0>a(Q,X))L[ee]=Q,L[W]=X,ee=W;else break e}}return V}function a(L,V){var X=L.sortIndex-V.sortIndex;return X!==0?X:L.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,x=null,g=3,p=!1,v=!1,y=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function S(L){for(var V=s(h);V!==null;){if(V.callback===null)r(h);else if(V.startTime<=L)r(h),V.sortIndex=V.expirationTime,e(d,V);else break;V=s(h)}}function E(L){if(y=!1,S(L),!v)if(s(d)!==null)v=!0,M||(M=!0,O());else{var V=s(h);V!==null&&H(E,V.startTime-L)}}var M=!1,R=-1,_=5,I=-1;function D(){return w?!0:!(t.unstable_now()-I<_)}function B(){if(w=!1,M){var L=t.unstable_now();I=L;var V=!0;try{e:{v=!1,y&&(y=!1,j(R),R=-1),p=!0;var X=g;try{t:{for(S(L),x=s(d);x!==null&&!(x.expirationTime>L&&D());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,g=x.priorityLevel;var F=ee(x.expirationTime<=L);if(L=t.unstable_now(),typeof F=="function"){x.callback=F,S(L),V=!0;break t}x===s(d)&&r(d),S(L)}else r(d);x=s(d)}if(x!==null)V=!0;else{var z=s(h);z!==null&&H(E,z.startTime-L),V=!1}}break e}finally{x=null,g=X,p=!1}V=void 0}}finally{V?O():M=!1}}}var O;if(typeof C=="function")O=function(){C(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Y=$.port2;$.port1.onmessage=B,O=function(){Y.postMessage(null)}}else O=function(){A(B,0)};function H(L,V){R=A(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(L){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var X=g;g=V;try{return L()}finally{g=X}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=g;g=L;try{return V()}finally{g=X}},t.unstable_scheduleCallback=function(L,V,X){var ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,L){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=X+F,L={id:f++,callback:V,priorityLevel:L,startTime:X,expirationTime:F,sortIndex:-1},X>ee?(L.sortIndex=X,e(h,L),s(d)===null&&L===s(h)&&(y?(j(R),R=-1):y=!0,H(E,X-ee))):(L.sortIndex=F,e(d,L),v||p||(v=!0,M||(M=!0,O()))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var V=g;return function(){var X=g;g=V;try{return L.apply(this,arguments)}finally{g=X}}}}(ay)),ay}var G6;function L_(){return G6||(G6=1,ry.exports=I_()),ry.exports}var iy={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q6;function O_(){if(q6)return rn;q6=1;var t=g4();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(d,h,null,f)},rn.flushSync=function(d){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=h,r.p=f,r.d.f()}},rn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},rn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},rn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,x=c(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,p=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:p}):f==="script"&&r.d.X(d,{crossOrigin:x,integrity:g,fetchPriority:p,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},rn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},rn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,x=c(f,h.crossOrigin);r.d.L(d,f,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},rn.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},rn.requestFormReset=function(d){r.d.r(d)},rn.unstable_batchedUpdates=function(d,h){return d(h)},rn.useFormState=function(d,h,f){return o.H.useFormState(d,h,f)},rn.useFormStatus=function(){return o.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var W6;function BS(){if(W6)return iy.exports;W6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=O_(),iy.exports}var Y6;function P_(){if(Y6)return Hh;Y6=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=L_(),e=g4(),s=BS();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(i(l)!==l)throw Error(r(188))}function d(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,b=u;;){var N=m.return;if(N===null)break;var T=N.alternate;if(T===null){if(b=N.return,b!==null){m=b;continue}break}if(N.child===T.child){for(T=N.child;T;){if(T===m)return c(N),l;if(T===b)return c(N),u;T=T.sibling}throw Error(r(188))}if(m.return!==b.return)m=N,b=T;else{for(var P=!1,q=N.child;q;){if(q===m){P=!0,m=N,b=T;break}if(q===b){P=!0,b=N,m=T;break}q=q.sibling}if(!P){for(q=T.child;q;){if(q===m){P=!0,m=T,b=N;break}if(q===b){P=!0,b=T,m=N;break}q=q.sibling}if(!P)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var $=Symbol.for("react.client.reference");function Y(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===$?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case p:return"Portal";case C:return(l.displayName||"Context")+".Provider";case j:return(l._context.displayName||"Context")+".Consumer";case S:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return u=l.displayName||null,u!==null?u:Y(l.type)||"Memo";case _:u=l._payload,l=l._init;try{return Y(l(u))}catch{}}return null}var H=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ee=[],F=-1;function z(l){return{current:l}}function G(l){0>F||(l.current=ee[F],ee[F]=null,F--)}function K(l,u){F++,ee[F]=l.current,l.current=u}var W=z(null),Q=z(null),Z=z(null),ne=z(null);function re(l,u){switch(K(Z,u),K(Q,l),K(W,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?f6(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=f6(u),l=m6(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}G(W),K(W,l)}function ke(){G(W),G(Q),G(Z)}function Me(l){l.memoizedState!==null&&K(ne,l);var u=W.current,m=m6(u,l.type);u!==m&&(K(Q,l),K(W,m))}function de(l){Q.current===l&&(G(W),G(Q)),ne.current===l&&(G(ne),Lh._currentValue=X)}var be=Object.prototype.hasOwnProperty,me=t.unstable_scheduleCallback,ve=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,Be=t.unstable_requestPaint,ue=t.unstable_now,le=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,De=t.unstable_IdlePriority,_e=t.log,st=t.unstable_setDisableYieldValue,Pe=null,ot=null;function nt(l){if(typeof _e=="function"&&st(l),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Pe,l)}catch{}}var $e=Math.clz32?Math.clz32:Xt,Mt=Math.log,rs=Math.LN2;function Xt(l){return l>>>=0,l===0?32:31-(Mt(l)/rs|0)|0}var sn=256,xt=4194304;function Rs(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Tn(l,u,m){var b=l.pendingLanes;if(b===0)return 0;var N=0,T=l.suspendedLanes,P=l.pingedLanes;l=l.warmLanes;var q=b&134217727;return q!==0?(b=q&~T,b!==0?N=Rs(b):(P&=q,P!==0?N=Rs(P):m||(m=q&~l,m!==0&&(N=Rs(m))))):(q=b&~T,q!==0?N=Rs(q):P!==0?N=Rs(P):m||(m=b&~l,m!==0&&(N=Rs(m)))),N===0?0:u!==0&&u!==N&&(u&T)===0&&(T=N&-N,m=u&-u,T>=m||T===32&&(m&4194048)!==0)?u:N}function xr(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Gr(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(){var l=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),l}function Rn(){var l=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),l}function gr(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function bn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Mn(l,u,m,b,N,T){var P=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var q=l.entanglements,te=l.expirationTimes,fe=l.hiddenUpdates;for(m=P&~m;0<m;){var we=31-$e(m),Ee=1<<we;q[we]=0,te[we]=-1;var xe=fe[we];if(xe!==null)for(fe[we]=null,we=0;we<xe.length;we++){var ge=xe[we];ge!==null&&(ge.lane&=-536870913)}m&=~Ee}b!==0&&pr(l,b,0),T!==0&&N===0&&l.tag!==0&&(l.suspendedLanes|=T&~(P&~u))}function pr(l,u,m){l.pendingLanes|=u,l.suspendedLanes&=~u;var b=31-$e(u);l.entangledLanes|=u,l.entanglements[b]=l.entanglements[b]|1073741824|m&4194090}function ya(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var b=31-$e(m),N=1<<b;N&u|l[b]&u&&(l[b]|=u),m&=~N}}function Dn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function qr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Wr(){var l=V.p;return l!==0?l:(l=window.event,l===void 0?32:B6(l.type))}function wa(l,u){var m=V.p;try{return V.p=l,u()}finally{V.p=m}}var Ms=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ms,gt="__reactProps$"+Ms,As="__reactContainer$"+Ms,Yn="__reactEvents$"+Ms,vo="__reactListeners$"+Ms,yo="__reactHandles$"+Ms,Wl="__reactResources$"+Ms,Qn="__reactMarker$"+Ms;function ii(l){delete l[Zt],delete l[gt],delete l[Yn],delete l[vo],delete l[yo]}function Kn(l){var u=l[Zt];if(u)return u;for(var m=l.parentNode;m;){if(u=m[As]||m[Zt]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=b6(l);l!==null;){if(m=l[Zt])return m;l=b6(l)}return u}l=m,m=l.parentNode}return null}function Yr(l){if(l=l[Zt]||l[As]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Xn(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function Bn(l){var u=l[Wl];return u||(u=l[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function qt(l){l[Qn]=!0}var Yl=new Set,oi={};function Zn(l,u){Jn(l,u),Jn(l+"Capture",u)}function Jn(l,u){for(oi[l]=u,l=0;l<u.length;l++)Yl.add(u[l])}var Cd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},li={};function wo(l){return be.call(li,l)?!0:be.call(Qr,l)?!1:Cd.test(l)?li[l]=!0:(Qr[l]=!0,!1)}function Na(l,u,m){if(wo(u))if(m===null)l.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var b=u.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+m)}}function Kr(l,u,m){if(m===null)l.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+m)}}function _n(l,u,m,b){if(b===null)l.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(u,m,""+b)}}var ja,ci;function vn(l){if(ja===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);ja=u&&u[1]||"",ci=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+l+ci}var No=!1;function Ca(l,u){if(!l||No)return"";No=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var xe=ge}Reflect.construct(l,[],Ee)}else{try{Ee.call()}catch(ge){xe=ge}l.call(Ee.prototype)}}else{try{throw Error()}catch(ge){xe=ge}(Ee=l())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&xe&&typeof ge.stack=="string")return[ge.stack,xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=b.DetermineComponentFrameRoot(),P=T[0],q=T[1];if(P&&q){var te=P.split(`
`),fe=q.split(`
`);for(N=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;N<fe.length&&!fe[N].includes("DetermineComponentFrameRoot");)N++;if(b===te.length||N===fe.length)for(b=te.length-1,N=fe.length-1;1<=b&&0<=N&&te[b]!==fe[N];)N--;for(;1<=b&&0<=N;b--,N--)if(te[b]!==fe[N]){if(b!==1||N!==1)do if(b--,N--,0>N||te[b]!==fe[N]){var we=`
`+te[b].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=b&&0<=N);break}}}finally{No=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?vn(m):""}function jo(l){switch(l.tag){case 26:case 27:case 5:return vn(l.type);case 16:return vn("Lazy");case 13:return vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return Ca(l.type,!1);case 11:return Ca(l.type.render,!1);case 1:return Ca(l.type,!0);case 31:return vn("Activity");default:return""}}function di(l){try{var u="";do u+=jo(l),l=l.return;while(l);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function qs(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ie(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function tt(l){var u=Ie(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,T=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return N.call(this)},set:function(P){b=""+P,T.call(this,P)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(P){b=""+P},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function er(l){l._valueTracker||(l._valueTracker=tt(l))}function kd(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),b="";return l&&(b=Ie(l)?l.checked?"true":"false":l.value),l=b,l!==m?(u.setValue(l),!0):!1}function Ad(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var t1=/[\n"\\]/g;function In(l){return l.replace(t1,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Yu(l,u,m,b,N,T,P,q){l.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?l.type=P:l.removeAttribute("type"),u!=null?P==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+qs(u)):l.value!==""+qs(u)&&(l.value=""+qs(u)):P!=="submit"&&P!=="reset"||l.removeAttribute("value"),u!=null?Qu(l,P,qs(u)):m!=null?Qu(l,P,qs(m)):b!=null&&l.removeAttribute("value"),N==null&&T!=null&&(l.defaultChecked=!!T),N!=null&&(l.checked=N&&typeof N!="function"&&typeof N!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?l.name=""+qs(q):l.removeAttribute("name")}function zm(l,u,m,b,N,T,P,q){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(l.type=T),u!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||u!=null))return;m=m!=null?""+qs(m):"",u=u!=null?""+qs(u):m,q||u===l.value||(l.value=u),l.defaultValue=u}b=b??N,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=q?l.checked:!!b,l.defaultChecked=!!b,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.name=P)}function Qu(l,u,m){u==="number"&&Ad(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function ka(l,u,m,b){if(l=l.options,u){u={};for(var N=0;N<m.length;N++)u["$"+m[N]]=!0;for(m=0;m<l.length;m++)N=u.hasOwnProperty("$"+l[m].value),l[m].selected!==N&&(l[m].selected=N),N&&b&&(l[m].defaultSelected=!0)}else{for(m=""+qs(m),u=null,N=0;N<l.length;N++){if(l[N].value===m){l[N].selected=!0,b&&(l[N].defaultSelected=!0);return}u!==null||l[N].disabled||(u=l[N])}u!==null&&(u.selected=!0)}}function Um(l,u,m){if(u!=null&&(u=""+qs(u),u!==l.value&&(l.value=u),m==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=m!=null?""+qs(m):""}function $m(l,u,m,b){if(u==null){if(b!=null){if(m!=null)throw Error(r(92));if(H(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),u=m}m=qs(u),l.defaultValue=m,b=l.textContent,b===m&&b!==""&&b!==null&&(l.value=b)}function ui(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ye(l,u,m){var b=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":b?l.setProperty(u,m):typeof m!="number"||m===0||s1.has(u)?u==="float"?l.cssFloat=m:l[u]=(""+m).trim():l[u]=m+"px"}function vt(l,u,m){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||u!=null&&u.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var N in u)b=u[N],u.hasOwnProperty(N)&&m[N]!==b&&Ye(l,N,b)}else for(var T in u)u.hasOwnProperty(T)&&Ye(l,T,u[T])}function It(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(l){return Is.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Co=null;function yn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var us=null,br=null;function Aa(l){var u=Yr(l);if(u&&(l=u.stateNode)){var m=l[gt]||null;e:switch(l=u.stateNode,u.type){case"input":if(Yu(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+In(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var b=m[u];if(b!==l&&b.form===l.form){var N=b[gt]||null;if(!N)throw Error(r(90));Yu(b,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(u=0;u<m.length;u++)b=m[u],b.form===l.form&&kd(b)}break e;case"textarea":Um(l,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&ka(l,!!m.multiple,u,!1)}}}var vr=!1;function Ql(l,u,m){if(vr)return l(u,m);vr=!0;try{var b=l(u);return b}finally{if(vr=!1,(us!==null||br!==null)&&(Ex(),us&&(u=us,l=br,br=us=null,Aa(u),l)))for(u=0;u<l.length;u++)Aa(l[u])}}function Ea(l,u){var m=l.stateNode;if(m===null)return null;var b=m[gt]||null;if(b===null)return null;m=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n1=!1;if(hi)try{var Ku={};Object.defineProperty(Ku,"passive",{get:function(){n1=!0}}),window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{n1=!1}var ko=null,r1=null,Hm=null;function pN(){if(Hm)return Hm;var l,u=r1,m=u.length,b,N="value"in ko?ko.value:ko.textContent,T=N.length;for(l=0;l<m&&u[l]===N[l];l++);var P=m-l;for(b=1;b<=P&&u[m-b]===N[T-b];b++);return Hm=N.slice(l,1<b?1-b:void 0)}function Vm(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Gm(){return!0}function bN(){return!1}function Ln(l){function u(m,b,N,T,P){this._reactName=m,this._targetInst=N,this.type=b,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var q in l)l.hasOwnProperty(q)&&(m=l[q],this[q]=m?m(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Gm:bN,this.isPropagationStopped=bN,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Gm)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Gm)},persist:function(){},isPersistent:Gm}),u}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=Ln(Kl),Xu=f({},Kl,{view:0,detail:0}),TD=Ln(Xu),a1,i1,Zu,Wm=f({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l1,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Zu&&(Zu&&l.type==="mousemove"?(a1=l.screenX-Zu.screenX,i1=l.screenY-Zu.screenY):i1=a1=0,Zu=l),a1)},movementY:function(l){return"movementY"in l?l.movementY:i1}}),vN=Ln(Wm),RD=f({},Wm,{dataTransfer:0}),MD=Ln(RD),DD=f({},Xu,{relatedTarget:0}),o1=Ln(DD),BD=f({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=Ln(BD),ID=f({},Kl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),LD=Ln(ID),OD=f({},Kl,{data:0}),yN=Ln(OD),PD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UD(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=zD[l])?!!u[l]:!1}function l1(){return UD}var $D=f({},Xu,{key:function(l){if(l.key){var u=PD[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Vm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?FD[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l1,charCode:function(l){return l.type==="keypress"?Vm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Vm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),HD=Ln($D),VD=f({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wN=Ln(VD),GD=f({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l1}),qD=Ln(GD),WD=f({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YD=Ln(WD),QD=f({},Wm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),KD=Ln(QD),XD=f({},Kl,{newState:0,oldState:0}),ZD=Ln(XD),JD=[9,13,27,32],c1=hi&&"CompositionEvent"in window,Ju=null;hi&&"documentMode"in document&&(Ju=document.documentMode);var eB=hi&&"TextEvent"in window&&!Ju,NN=hi&&(!c1||Ju&&8<Ju&&11>=Ju),jN=" ",CN=!1;function kN(l,u){switch(l){case"keyup":return JD.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AN(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ed=!1;function tB(l,u){switch(l){case"compositionend":return AN(u);case"keypress":return u.which!==32?null:(CN=!0,jN);case"textInput":return l=u.data,l===jN&&CN?null:l;default:return null}}function sB(l,u){if(Ed)return l==="compositionend"||!c1&&kN(l,u)?(l=pN(),Hm=r1=ko=null,Ed=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return NN&&u.locale!=="ko"?null:u.data;default:return null}}var nB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EN(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!nB[l.type]:u==="textarea"}function SN(l,u,m,b){us?br?br.push(b):br=[b]:us=b,u=Bx(u,"onChange"),0<u.length&&(m=new qm("onChange","change",null,m,b),l.push({event:m,listeners:u}))}var eh=null,th=null;function rB(l){l6(l,0)}function Ym(l){var u=Xn(l);if(kd(u))return l}function TN(l,u){if(l==="change")return u}var RN=!1;if(hi){var d1;if(hi){var u1="oninput"in document;if(!u1){var MN=document.createElement("div");MN.setAttribute("oninput","return;"),u1=typeof MN.oninput=="function"}d1=u1}else d1=!1;RN=d1&&(!document.documentMode||9<document.documentMode)}function DN(){eh&&(eh.detachEvent("onpropertychange",BN),th=eh=null)}function BN(l){if(l.propertyName==="value"&&Ym(th)){var u=[];SN(u,th,l,yn(l)),Ql(rB,u)}}function aB(l,u,m){l==="focusin"?(DN(),eh=u,th=m,eh.attachEvent("onpropertychange",BN)):l==="focusout"&&DN()}function iB(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ym(th)}function oB(l,u){if(l==="click")return Ym(u)}function lB(l,u){if(l==="input"||l==="change")return Ym(u)}function cB(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var sr=typeof Object.is=="function"?Object.is:cB;function sh(l,u){if(sr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),b=Object.keys(u);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var N=m[b];if(!be.call(u,N)||!sr(l[N],u[N]))return!1}return!0}function _N(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function IN(l,u){var m=_N(l);l=0;for(var b;m;){if(m.nodeType===3){if(b=l+m.textContent.length,l<=u&&b>=u)return{node:m,offset:u-l};l=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_N(m)}}function LN(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?LN(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function ON(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Ad(l.document);u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=Ad(l.document)}return u}function h1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var dB=hi&&"documentMode"in document&&11>=document.documentMode,Sd=null,f1=null,nh=null,m1=!1;function PN(l,u,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;m1||Sd==null||Sd!==Ad(b)||(b=Sd,"selectionStart"in b&&h1(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),nh&&sh(nh,b)||(nh=b,b=Bx(f1,"onSelect"),0<b.length&&(u=new qm("onSelect","select",null,u,m),l.push({event:u,listeners:b}),u.target=Sd)))}function Xl(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Td={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionrun:Xl("Transition","TransitionRun"),transitionstart:Xl("Transition","TransitionStart"),transitioncancel:Xl("Transition","TransitionCancel"),transitionend:Xl("Transition","TransitionEnd")},x1={},FN={};hi&&(FN=document.createElement("div").style,"AnimationEvent"in window||(delete Td.animationend.animation,delete Td.animationiteration.animation,delete Td.animationstart.animation),"TransitionEvent"in window||delete Td.transitionend.transition);function Zl(l){if(x1[l])return x1[l];if(!Td[l])return l;var u=Td[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in FN)return x1[l]=u[m];return l}var zN=Zl("animationend"),UN=Zl("animationiteration"),$N=Zl("animationstart"),uB=Zl("transitionrun"),hB=Zl("transitionstart"),fB=Zl("transitioncancel"),HN=Zl("transitionend"),VN=new Map,g1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g1.push("scrollEnd");function Xr(l,u){VN.set(l,u),Zn(u,[l])}var GN=new WeakMap;function yr(l,u){if(typeof l=="object"&&l!==null){var m=GN.get(l);return m!==void 0?m:(u={value:l,source:u,stack:di(u)},GN.set(l,u),u)}return{value:l,source:u,stack:di(u)}}var wr=[],Rd=0,p1=0;function Qm(){for(var l=Rd,u=p1=Rd=0;u<l;){var m=wr[u];wr[u++]=null;var b=wr[u];wr[u++]=null;var N=wr[u];wr[u++]=null;var T=wr[u];if(wr[u++]=null,b!==null&&N!==null){var P=b.pending;P===null?N.next=N:(N.next=P.next,P.next=N),b.pending=N}T!==0&&qN(m,N,T)}}function Km(l,u,m,b){wr[Rd++]=l,wr[Rd++]=u,wr[Rd++]=m,wr[Rd++]=b,p1|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function b1(l,u,m,b){return Km(l,u,m,b),Xm(l)}function Md(l,u){return Km(l,null,null,u),Xm(l)}function qN(l,u,m){l.lanes|=m;var b=l.alternate;b!==null&&(b.lanes|=m);for(var N=!1,T=l.return;T!==null;)T.childLanes|=m,b=T.alternate,b!==null&&(b.childLanes|=m),T.tag===22&&(l=T.stateNode,l===null||l._visibility&1||(N=!0)),l=T,T=T.return;return l.tag===3?(T=l.stateNode,N&&u!==null&&(N=31-$e(m),l=T.hiddenUpdates,b=l[N],b===null?l[N]=[u]:b.push(u),u.lane=m|536870912),T):null}function Xm(l){if(50<Sh)throw Sh=0,Cv=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Dd={};function mB(l,u,m,b){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(l,u,m,b){return new mB(l,u,m,b)}function v1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function fi(l,u){var m=l.alternate;return m===null?(m=nr(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function WN(l,u){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,u=m.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Zm(l,u,m,b,N,T){var P=0;if(b=l,typeof l=="function")v1(l)&&(P=1);else if(typeof l=="string")P=g_(l,m,W.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=nr(31,m,u,N),l.elementType=I,l.lanes=T,l;case v:return Jl(m.children,N,T,u);case y:P=8,N|=24;break;case w:return l=nr(12,m,u,N|2),l.elementType=w,l.lanes=T,l;case E:return l=nr(13,m,u,N),l.elementType=E,l.lanes=T,l;case M:return l=nr(19,m,u,N),l.elementType=M,l.lanes=T,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:case C:P=10;break e;case j:P=9;break e;case S:P=11;break e;case R:P=14;break e;case _:P=16,b=null;break e}P=29,m=Error(r(130,l===null?"null":typeof l,"")),b=null}return u=nr(P,m,u,N),u.elementType=l,u.type=b,u.lanes=T,u}function Jl(l,u,m,b){return l=nr(7,l,b,u),l.lanes=m,l}function y1(l,u,m){return l=nr(6,l,null,u),l.lanes=m,l}function w1(l,u,m){return u=nr(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Bd=[],_d=0,Jm=null,ex=0,Nr=[],jr=0,ec=null,mi=1,xi="";function tc(l,u){Bd[_d++]=ex,Bd[_d++]=Jm,Jm=l,ex=u}function YN(l,u,m){Nr[jr++]=mi,Nr[jr++]=xi,Nr[jr++]=ec,ec=l;var b=mi;l=xi;var N=32-$e(b)-1;b&=~(1<<N),m+=1;var T=32-$e(u)+N;if(30<T){var P=N-N%5;T=(b&(1<<P)-1).toString(32),b>>=P,N-=P,mi=1<<32-$e(u)+N|m<<N|b,xi=T+l}else mi=1<<T|m<<N|b,xi=l}function N1(l){l.return!==null&&(tc(l,1),YN(l,1,0))}function j1(l){for(;l===Jm;)Jm=Bd[--_d],Bd[_d]=null,ex=Bd[--_d],Bd[_d]=null;for(;l===ec;)ec=Nr[--jr],Nr[jr]=null,xi=Nr[--jr],Nr[jr]=null,mi=Nr[--jr],Nr[jr]=null}var wn=null,hs=null,Et=!1,sc=null,Sa=!1,C1=Error(r(519));function nc(l){var u=Error(r(418,""));throw ih(yr(u,l)),C1}function QN(l){var u=l.stateNode,m=l.type,b=l.memoizedProps;switch(u[Zt]=l,u[gt]=b,m){case"dialog":ft("cancel",u),ft("close",u);break;case"iframe":case"object":case"embed":ft("load",u);break;case"video":case"audio":for(m=0;m<Rh.length;m++)ft(Rh[m],u);break;case"source":ft("error",u);break;case"img":case"image":case"link":ft("error",u),ft("load",u);break;case"details":ft("toggle",u);break;case"input":ft("invalid",u),zm(u,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),er(u);break;case"select":ft("invalid",u);break;case"textarea":ft("invalid",u),$m(u,b.value,b.defaultValue,b.children),er(u)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||b.suppressHydrationWarning===!0||h6(u.textContent,m)?(b.popover!=null&&(ft("beforetoggle",u),ft("toggle",u)),b.onScroll!=null&&ft("scroll",u),b.onScrollEnd!=null&&ft("scrollend",u),b.onClick!=null&&(u.onclick=_x),u=!0):u=!1,u||nc(l)}function KN(l){for(wn=l.return;wn;)switch(wn.tag){case 5:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:wn=wn.return}}function rh(l){if(l!==wn)return!1;if(!Et)return KN(l),Et=!0,!1;var u=l.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||zv(l.type,l.memoizedProps)),m=!m),m&&hs&&nc(l),KN(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(m=l.data,m==="/$"){if(u===0){hs=Jr(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;l=l.nextSibling}hs=null}}else u===27?(u=hs,Uo(l.type)?(l=Vv,Vv=null,hs=l):hs=u):hs=wn?Jr(l.stateNode.nextSibling):null;return!0}function ah(){hs=wn=null,Et=!1}function XN(){var l=sc;return l!==null&&(Fn===null?Fn=l:Fn.push.apply(Fn,l),sc=null),l}function ih(l){sc===null?sc=[l]:sc.push(l)}var k1=z(null),rc=null,gi=null;function Ao(l,u,m){K(k1,u._currentValue),u._currentValue=m}function pi(l){l._currentValue=k1.current,G(k1)}function A1(l,u,m){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===m)break;l=l.return}}function E1(l,u,m,b){var N=l.child;for(N!==null&&(N.return=l);N!==null;){var T=N.dependencies;if(T!==null){var P=N.child;T=T.firstContext;e:for(;T!==null;){var q=T;T=N;for(var te=0;te<u.length;te++)if(q.context===u[te]){T.lanes|=m,q=T.alternate,q!==null&&(q.lanes|=m),A1(T.return,m,l),b||(P=null);break e}T=q.next}}else if(N.tag===18){if(P=N.return,P===null)throw Error(r(341));P.lanes|=m,T=P.alternate,T!==null&&(T.lanes|=m),A1(P,m,l),P=null}else P=N.child;if(P!==null)P.return=N;else for(P=N;P!==null;){if(P===l){P=null;break}if(N=P.sibling,N!==null){N.return=P.return,P=N;break}P=P.return}N=P}}function oh(l,u,m,b){l=null;for(var N=u,T=!1;N!==null;){if(!T){if((N.flags&524288)!==0)T=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var P=N.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var q=N.type;sr(N.pendingProps.value,P.value)||(l!==null?l.push(q):l=[q])}}else if(N===ne.current){if(P=N.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(l!==null?l.push(Lh):l=[Lh])}N=N.return}l!==null&&E1(u,l,m,b),u.flags|=262144}function tx(l){for(l=l.firstContext;l!==null;){if(!sr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ac(l){rc=l,gi=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function nn(l){return ZN(rc,l)}function sx(l,u){return rc===null&&ac(l),ZN(l,u)}function ZN(l,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},gi===null){if(l===null)throw Error(r(308));gi=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else gi=gi.next=u;return m}var xB=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(m,b){l.push(b)}};this.abort=function(){u.aborted=!0,l.forEach(function(m){return m()})}},gB=t.unstable_scheduleCallback,pB=t.unstable_NormalPriority,Ds={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S1(){return{controller:new xB,data:new Map,refCount:0}}function lh(l){l.refCount--,l.refCount===0&&gB(pB,function(){l.controller.abort()})}var ch=null,T1=0,Id=0,Ld=null;function bB(l,u){if(ch===null){var m=ch=[];T1=0,Id=Mv(),Ld={status:"pending",value:void 0,then:function(b){m.push(b)}}}return T1++,u.then(JN,JN),u}function JN(){if(--T1===0&&ch!==null){Ld!==null&&(Ld.status="fulfilled");var l=ch;ch=null,Id=0,Ld=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function vB(l,u){var m=[],b={status:"pending",value:null,reason:null,then:function(N){m.push(N)}};return l.then(function(){b.status="fulfilled",b.value=u;for(var N=0;N<m.length;N++)(0,m[N])(u)},function(N){for(b.status="rejected",b.reason=N,N=0;N<m.length;N++)(0,m[N])(void 0)}),b}var e3=L.S;L.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&bB(l,u),e3!==null&&e3(l,u)};var ic=z(null);function R1(){var l=ic.current;return l!==null?l:Vt.pooledCache}function nx(l,u){u===null?K(ic,ic.current):K(ic,u.pool)}function t3(){var l=R1();return l===null?null:{parent:Ds._currentValue,pool:l}}var dh=Error(r(460)),s3=Error(r(474)),rx=Error(r(542)),M1={then:function(){}};function n3(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ax(){}function r3(l,u,m){switch(m=l[m],m===void 0?l.push(u):m!==u&&(u.then(ax,ax),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,i3(l),l;default:if(typeof u.status=="string")u.then(ax,ax);else{if(l=Vt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(b){if(u.status==="pending"){var N=u;N.status="fulfilled",N.value=b}},function(b){if(u.status==="pending"){var N=u;N.status="rejected",N.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,i3(l),l}throw uh=u,dh}}var uh=null;function a3(){if(uh===null)throw Error(r(459));var l=uh;return uh=null,l}function i3(l){if(l===dh||l===rx)throw Error(r(483))}var Eo=!1;function D1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function B1(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function So(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function To(l,u,m){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Dt&2)!==0){var N=b.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),b.pending=u,u=Xm(l),qN(l,null,m),u}return Km(l,b,u,m),Xm(l)}function hh(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var b=u.lanes;b&=l.pendingLanes,m|=b,u.lanes=m,ya(l,m)}}function _1(l,u){var m=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var N=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var P={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?N=T=P:T=T.next=P,m=m.next}while(m!==null);T===null?N=T=u:T=T.next=u}else N=T=u;m={baseState:b.baseState,firstBaseUpdate:N,lastBaseUpdate:T,shared:b.shared,callbacks:b.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}var I1=!1;function fh(){if(I1){var l=Ld;if(l!==null)throw l}}function mh(l,u,m,b){I1=!1;var N=l.updateQueue;Eo=!1;var T=N.firstBaseUpdate,P=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var te=q,fe=te.next;te.next=null,P===null?T=fe:P.next=fe,P=te;var we=l.alternate;we!==null&&(we=we.updateQueue,q=we.lastBaseUpdate,q!==P&&(q===null?we.firstBaseUpdate=fe:q.next=fe,we.lastBaseUpdate=te))}if(T!==null){var Ee=N.baseState;P=0,we=fe=te=null,q=T;do{var xe=q.lane&-536870913,ge=xe!==q.lane;if(ge?(yt&xe)===xe:(b&xe)===xe){xe!==0&&xe===Id&&(I1=!0),we!==null&&(we=we.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Qe=l,qe=q;xe=u;var Pt=m;switch(qe.tag){case 1:if(Qe=qe.payload,typeof Qe=="function"){Ee=Qe.call(Pt,Ee,xe);break e}Ee=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=qe.payload,xe=typeof Qe=="function"?Qe.call(Pt,Ee,xe):Qe,xe==null)break e;Ee=f({},Ee,xe);break e;case 2:Eo=!0}}xe=q.callback,xe!==null&&(l.flags|=64,ge&&(l.flags|=8192),ge=N.callbacks,ge===null?N.callbacks=[xe]:ge.push(xe))}else ge={lane:xe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},we===null?(fe=we=ge,te=Ee):we=we.next=ge,P|=xe;if(q=q.next,q===null){if(q=N.shared.pending,q===null)break;ge=q,q=ge.next,ge.next=null,N.lastBaseUpdate=ge,N.shared.pending=null}}while(!0);we===null&&(te=Ee),N.baseState=te,N.firstBaseUpdate=fe,N.lastBaseUpdate=we,T===null&&(N.shared.lanes=0),Oo|=P,l.lanes=P,l.memoizedState=Ee}}function o3(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function l3(l,u){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)o3(m[l],u)}var Od=z(null),ix=z(0);function c3(l,u){l=Ci,K(ix,l),K(Od,u),Ci=l|u.baseLanes}function L1(){K(ix,Ci),K(Od,Od.current)}function O1(){Ci=ix.current,G(Od),G(ix)}var Ro=0,ct=null,Lt=null,Es=null,ox=!1,Pd=!1,oc=!1,lx=0,xh=0,Fd=null,yB=0;function ps(){throw Error(r(321))}function P1(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!sr(l[m],u[m]))return!1;return!0}function F1(l,u,m,b,N,T){return Ro=T,ct=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,L.H=l===null||l.memoizedState===null?q3:W3,oc=!1,T=m(b,N),oc=!1,Pd&&(T=u3(u,m,b,N)),d3(l),T}function d3(l){L.H=mx;var u=Lt!==null&&Lt.next!==null;if(Ro=0,Es=Lt=ct=null,ox=!1,xh=0,Fd=null,u)throw Error(r(300));l===null||Ls||(l=l.dependencies,l!==null&&tx(l)&&(Ls=!0))}function u3(l,u,m,b){ct=l;var N=0;do{if(Pd&&(Fd=null),xh=0,Pd=!1,25<=N)throw Error(r(301));if(N+=1,Es=Lt=null,l.updateQueue!=null){var T=l.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}L.H=EB,T=u(m,b)}while(Pd);return T}function wB(){var l=L.H,u=l.useState()[0];return u=typeof u.then=="function"?gh(u):u,l=l.useState()[0],(Lt!==null?Lt.memoizedState:null)!==l&&(ct.flags|=1024),u}function z1(){var l=lx!==0;return lx=0,l}function U1(l,u,m){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~m}function $1(l){if(ox){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ox=!1}Ro=0,Es=Lt=ct=null,Pd=!1,xh=lx=0,Fd=null}function On(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?ct.memoizedState=Es=l:Es=Es.next=l,Es}function Ss(){if(Lt===null){var l=ct.alternate;l=l!==null?l.memoizedState:null}else l=Lt.next;var u=Es===null?ct.memoizedState:Es.next;if(u!==null)Es=u,Lt=l;else{if(l===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Lt=l,l={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Es===null?ct.memoizedState=Es=l:Es=Es.next=l}return Es}function H1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gh(l){var u=xh;return xh+=1,Fd===null&&(Fd=[]),l=r3(Fd,l,u),u=ct,(Es===null?u.memoizedState:Es.next)===null&&(u=u.alternate,L.H=u===null||u.memoizedState===null?q3:W3),l}function cx(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return gh(l);if(l.$$typeof===C)return nn(l)}throw Error(r(438,String(l)))}function V1(l){var u=null,m=ct.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var b=ct.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(N){return N.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=H1(),ct.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(l),b=0;b<l;b++)m[b]=D;return u.index++,m}function bi(l,u){return typeof u=="function"?u(l):u}function dx(l){var u=Ss();return G1(u,Lt,l)}function G1(l,u,m){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=m;var N=l.baseQueue,T=b.pending;if(T!==null){if(N!==null){var P=N.next;N.next=T.next,T.next=P}u.baseQueue=N=T,b.pending=null}if(T=l.baseState,N===null)l.memoizedState=T;else{u=N.next;var q=P=null,te=null,fe=u,we=!1;do{var Ee=fe.lane&-536870913;if(Ee!==fe.lane?(yt&Ee)===Ee:(Ro&Ee)===Ee){var xe=fe.revertLane;if(xe===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ee===Id&&(we=!0);else if((Ro&xe)===xe){fe=fe.next,xe===Id&&(we=!0);continue}else Ee={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},te===null?(q=te=Ee,P=T):te=te.next=Ee,ct.lanes|=xe,Oo|=xe;Ee=fe.action,oc&&m(T,Ee),T=fe.hasEagerState?fe.eagerState:m(T,Ee)}else xe={lane:Ee,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},te===null?(q=te=xe,P=T):te=te.next=xe,ct.lanes|=Ee,Oo|=Ee;fe=fe.next}while(fe!==null&&fe!==u);if(te===null?P=T:te.next=q,!sr(T,l.memoizedState)&&(Ls=!0,we&&(m=Ld,m!==null)))throw m;l.memoizedState=T,l.baseState=P,l.baseQueue=te,b.lastRenderedState=T}return N===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function q1(l){var u=Ss(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var b=m.dispatch,N=m.pending,T=u.memoizedState;if(N!==null){m.pending=null;var P=N=N.next;do T=l(T,P.action),P=P.next;while(P!==N);sr(T,u.memoizedState)||(Ls=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,b]}function h3(l,u,m){var b=ct,N=Ss(),T=Et;if(T){if(m===void 0)throw Error(r(407));m=m()}else m=u();var P=!sr((Lt||N).memoizedState,m);P&&(N.memoizedState=m,Ls=!0),N=N.queue;var q=x3.bind(null,b,N,l);if(ph(2048,8,q,[l]),N.getSnapshot!==u||P||Es!==null&&Es.memoizedState.tag&1){if(b.flags|=2048,zd(9,ux(),m3.bind(null,b,N,m,u),null),Vt===null)throw Error(r(349));T||(Ro&124)!==0||f3(b,u,m)}return m}function f3(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=ct.updateQueue,u===null?(u=H1(),ct.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function m3(l,u,m,b){u.value=m,u.getSnapshot=b,g3(u)&&p3(l)}function x3(l,u,m){return m(function(){g3(u)&&p3(l)})}function g3(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!sr(l,m)}catch{return!0}}function p3(l){var u=Md(l,2);u!==null&&lr(u,l,2)}function W1(l){var u=On();if(typeof l=="function"){var m=l;if(l=m(),oc){nt(!0);try{m()}finally{nt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:l},u}function b3(l,u,m,b){return l.baseState=m,G1(l,Lt,typeof b=="function"?b:bi)}function NB(l,u,m,b,N){if(fx(l))throw Error(r(485));if(l=u.action,l!==null){var T={payload:N,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};L.T!==null?m(!0):T.isTransition=!1,b(T),m=u.pending,m===null?(T.next=u.pending=T,v3(u,T)):(T.next=m.next,u.pending=m.next=T)}}function v3(l,u){var m=u.action,b=u.payload,N=l.state;if(u.isTransition){var T=L.T,P={};L.T=P;try{var q=m(N,b),te=L.S;te!==null&&te(P,q),y3(l,u,q)}catch(fe){Y1(l,u,fe)}finally{L.T=T}}else try{T=m(N,b),y3(l,u,T)}catch(fe){Y1(l,u,fe)}}function y3(l,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){w3(l,u,b)},function(b){return Y1(l,u,b)}):w3(l,u,m)}function w3(l,u,m){u.status="fulfilled",u.value=m,N3(u),l.state=m,u=l.pending,u!==null&&(m=u.next,m===u?l.pending=null:(m=m.next,u.next=m,v3(l,m)))}function Y1(l,u,m){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=m,N3(u),u=u.next;while(u!==b)}l.action=null}function N3(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function j3(l,u){return u}function C3(l,u){if(Et){var m=Vt.formState;if(m!==null){e:{var b=ct;if(Et){if(hs){t:{for(var N=hs,T=Sa;N.nodeType!==8;){if(!T){N=null;break t}if(N=Jr(N.nextSibling),N===null){N=null;break t}}T=N.data,N=T==="F!"||T==="F"?N:null}if(N){hs=Jr(N.nextSibling),b=N.data==="F!";break e}}nc(b)}b=!1}b&&(u=m[0])}}return m=On(),m.memoizedState=m.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j3,lastRenderedState:u},m.queue=b,m=H3.bind(null,ct,b),b.dispatch=m,b=W1(!1),T=J1.bind(null,ct,!1,b.queue),b=On(),N={state:u,dispatch:null,action:l,pending:null},b.queue=N,m=NB.bind(null,ct,N,T,m),N.dispatch=m,b.memoizedState=l,[u,m,!1]}function k3(l){var u=Ss();return A3(u,Lt,l)}function A3(l,u,m){if(u=G1(l,u,j3)[0],l=dx(bi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=gh(u)}catch(P){throw P===dh?rx:P}else b=u;u=Ss();var N=u.queue,T=N.dispatch;return m!==u.memoizedState&&(ct.flags|=2048,zd(9,ux(),jB.bind(null,N,m),null)),[b,T,l]}function jB(l,u){l.action=u}function E3(l){var u=Ss(),m=Lt;if(m!==null)return A3(u,m,l);Ss(),u=u.memoizedState,m=Ss();var b=m.queue.dispatch;return m.memoizedState=l,[u,b,!1]}function zd(l,u,m,b){return l={tag:l,create:m,deps:b,inst:u,next:null},u=ct.updateQueue,u===null&&(u=H1(),ct.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=l.next=l:(b=m.next,m.next=l,l.next=b,u.lastEffect=l),l}function ux(){return{destroy:void 0,resource:void 0}}function S3(){return Ss().memoizedState}function hx(l,u,m,b){var N=On();b=b===void 0?null:b,ct.flags|=l,N.memoizedState=zd(1|u,ux(),m,b)}function ph(l,u,m,b){var N=Ss();b=b===void 0?null:b;var T=N.memoizedState.inst;Lt!==null&&b!==null&&P1(b,Lt.memoizedState.deps)?N.memoizedState=zd(u,T,m,b):(ct.flags|=l,N.memoizedState=zd(1|u,T,m,b))}function T3(l,u){hx(8390656,8,l,u)}function R3(l,u){ph(2048,8,l,u)}function M3(l,u){return ph(4,2,l,u)}function D3(l,u){return ph(4,4,l,u)}function B3(l,u){if(typeof u=="function"){l=l();var m=u(l);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function _3(l,u,m){m=m!=null?m.concat([l]):null,ph(4,4,B3.bind(null,u,l),m)}function Q1(){}function I3(l,u){var m=Ss();u=u===void 0?null:u;var b=m.memoizedState;return u!==null&&P1(u,b[1])?b[0]:(m.memoizedState=[l,u],l)}function L3(l,u){var m=Ss();u=u===void 0?null:u;var b=m.memoizedState;if(u!==null&&P1(u,b[1]))return b[0];if(b=l(),oc){nt(!0);try{l()}finally{nt(!1)}}return m.memoizedState=[b,u],b}function K1(l,u,m){return m===void 0||(Ro&1073741824)!==0?l.memoizedState=u:(l.memoizedState=m,l=Fj(),ct.lanes|=l,Oo|=l,m)}function O3(l,u,m,b){return sr(m,u)?m:Od.current!==null?(l=K1(l,m,b),sr(l,u)||(Ls=!0),l):(Ro&42)===0?(Ls=!0,l.memoizedState=m):(l=Fj(),ct.lanes|=l,Oo|=l,u)}function P3(l,u,m,b,N){var T=V.p;V.p=T!==0&&8>T?T:8;var P=L.T,q={};L.T=q,J1(l,!1,u,m);try{var te=N(),fe=L.S;if(fe!==null&&fe(q,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var we=vB(te,b);bh(l,u,we,or(l))}else bh(l,u,b,or(l))}catch(Ee){bh(l,u,{then:function(){},status:"rejected",reason:Ee},or())}finally{V.p=T,L.T=P}}function CB(){}function X1(l,u,m,b){if(l.tag!==5)throw Error(r(476));var N=F3(l).queue;P3(l,N,u,X,m===null?CB:function(){return z3(l),m(b)})}function F3(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:X},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:m},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function z3(l){var u=F3(l).next.queue;bh(l,u,{},or())}function Z1(){return nn(Lh)}function U3(){return Ss().memoizedState}function $3(){return Ss().memoizedState}function kB(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var m=or();l=So(m);var b=To(u,l,m);b!==null&&(lr(b,u,m),hh(b,u,m)),u={cache:S1()},l.payload=u;return}u=u.return}}function AB(l,u,m){var b=or();m={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},fx(l)?V3(u,m):(m=b1(l,u,m,b),m!==null&&(lr(m,l,b),G3(m,u,b)))}function H3(l,u,m){var b=or();bh(l,u,m,b)}function bh(l,u,m,b){var N={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(fx(l))V3(u,N);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var P=u.lastRenderedState,q=T(P,m);if(N.hasEagerState=!0,N.eagerState=q,sr(q,P))return Km(l,u,N,0),Vt===null&&Qm(),!1}catch{}finally{}if(m=b1(l,u,N,b),m!==null)return lr(m,l,b),G3(m,u,b),!0}return!1}function J1(l,u,m,b){if(b={lane:2,revertLane:Mv(),action:b,hasEagerState:!1,eagerState:null,next:null},fx(l)){if(u)throw Error(r(479))}else u=b1(l,m,b,2),u!==null&&lr(u,l,2)}function fx(l){var u=l.alternate;return l===ct||u!==null&&u===ct}function V3(l,u){Pd=ox=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function G3(l,u,m){if((m&4194048)!==0){var b=u.lanes;b&=l.pendingLanes,m|=b,u.lanes=m,ya(l,m)}}var mx={readContext:nn,use:cx,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useLayoutEffect:ps,useInsertionEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useSyncExternalStore:ps,useId:ps,useHostTransitionStatus:ps,useFormState:ps,useActionState:ps,useOptimistic:ps,useMemoCache:ps,useCacheRefresh:ps},q3={readContext:nn,use:cx,useCallback:function(l,u){return On().memoizedState=[l,u===void 0?null:u],l},useContext:nn,useEffect:T3,useImperativeHandle:function(l,u,m){m=m!=null?m.concat([l]):null,hx(4194308,4,B3.bind(null,u,l),m)},useLayoutEffect:function(l,u){return hx(4194308,4,l,u)},useInsertionEffect:function(l,u){hx(4,2,l,u)},useMemo:function(l,u){var m=On();u=u===void 0?null:u;var b=l();if(oc){nt(!0);try{l()}finally{nt(!1)}}return m.memoizedState=[b,u],b},useReducer:function(l,u,m){var b=On();if(m!==void 0){var N=m(u);if(oc){nt(!0);try{m(u)}finally{nt(!1)}}}else N=u;return b.memoizedState=b.baseState=N,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:N},b.queue=l,l=l.dispatch=AB.bind(null,ct,l),[b.memoizedState,l]},useRef:function(l){var u=On();return l={current:l},u.memoizedState=l},useState:function(l){l=W1(l);var u=l.queue,m=H3.bind(null,ct,u);return u.dispatch=m,[l.memoizedState,m]},useDebugValue:Q1,useDeferredValue:function(l,u){var m=On();return K1(m,l,u)},useTransition:function(){var l=W1(!1);return l=P3.bind(null,ct,l.queue,!0,!1),On().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,m){var b=ct,N=On();if(Et){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),Vt===null)throw Error(r(349));(yt&124)!==0||f3(b,u,m)}N.memoizedState=m;var T={value:m,getSnapshot:u};return N.queue=T,T3(x3.bind(null,b,T,l),[l]),b.flags|=2048,zd(9,ux(),m3.bind(null,b,T,m,u),null),m},useId:function(){var l=On(),u=Vt.identifierPrefix;if(Et){var m=xi,b=mi;m=(b&~(1<<32-$e(b)-1)).toString(32)+m,u="«"+u+"R"+m,m=lx++,0<m&&(u+="H"+m.toString(32)),u+="»"}else m=yB++,u="«"+u+"r"+m.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:Z1,useFormState:C3,useActionState:C3,useOptimistic:function(l){var u=On();u.memoizedState=u.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=J1.bind(null,ct,!0,m),m.dispatch=u,[l,u]},useMemoCache:V1,useCacheRefresh:function(){return On().memoizedState=kB.bind(null,ct)}},W3={readContext:nn,use:cx,useCallback:I3,useContext:nn,useEffect:R3,useImperativeHandle:_3,useInsertionEffect:M3,useLayoutEffect:D3,useMemo:L3,useReducer:dx,useRef:S3,useState:function(){return dx(bi)},useDebugValue:Q1,useDeferredValue:function(l,u){var m=Ss();return O3(m,Lt.memoizedState,l,u)},useTransition:function(){var l=dx(bi)[0],u=Ss().memoizedState;return[typeof l=="boolean"?l:gh(l),u]},useSyncExternalStore:h3,useId:U3,useHostTransitionStatus:Z1,useFormState:k3,useActionState:k3,useOptimistic:function(l,u){var m=Ss();return b3(m,Lt,l,u)},useMemoCache:V1,useCacheRefresh:$3},EB={readContext:nn,use:cx,useCallback:I3,useContext:nn,useEffect:R3,useImperativeHandle:_3,useInsertionEffect:M3,useLayoutEffect:D3,useMemo:L3,useReducer:q1,useRef:S3,useState:function(){return q1(bi)},useDebugValue:Q1,useDeferredValue:function(l,u){var m=Ss();return Lt===null?K1(m,l,u):O3(m,Lt.memoizedState,l,u)},useTransition:function(){var l=q1(bi)[0],u=Ss().memoizedState;return[typeof l=="boolean"?l:gh(l),u]},useSyncExternalStore:h3,useId:U3,useHostTransitionStatus:Z1,useFormState:E3,useActionState:E3,useOptimistic:function(l,u){var m=Ss();return Lt!==null?b3(m,Lt,l,u):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:V1,useCacheRefresh:$3},Ud=null,vh=0;function xx(l){var u=vh;return vh+=1,Ud===null&&(Ud=[]),r3(Ud,l,u)}function yh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function gx(l,u){throw u.$$typeof===x?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function Y3(l){var u=l._init;return u(l._payload)}function Q3(l){function u(ce,ae){if(l){var he=ce.deletions;he===null?(ce.deletions=[ae],ce.flags|=16):he.push(ae)}}function m(ce,ae){if(!l)return null;for(;ae!==null;)u(ce,ae),ae=ae.sibling;return null}function b(ce){for(var ae=new Map;ce!==null;)ce.key!==null?ae.set(ce.key,ce):ae.set(ce.index,ce),ce=ce.sibling;return ae}function N(ce,ae){return ce=fi(ce,ae),ce.index=0,ce.sibling=null,ce}function T(ce,ae,he){return ce.index=he,l?(he=ce.alternate,he!==null?(he=he.index,he<ae?(ce.flags|=67108866,ae):he):(ce.flags|=67108866,ae)):(ce.flags|=1048576,ae)}function P(ce){return l&&ce.alternate===null&&(ce.flags|=67108866),ce}function q(ce,ae,he,Ce){return ae===null||ae.tag!==6?(ae=y1(he,ce.mode,Ce),ae.return=ce,ae):(ae=N(ae,he),ae.return=ce,ae)}function te(ce,ae,he,Ce){var Fe=he.type;return Fe===v?we(ce,ae,he.props.children,Ce,he.key):ae!==null&&(ae.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===_&&Y3(Fe)===ae.type)?(ae=N(ae,he.props),yh(ae,he),ae.return=ce,ae):(ae=Zm(he.type,he.key,he.props,null,ce.mode,Ce),yh(ae,he),ae.return=ce,ae)}function fe(ce,ae,he,Ce){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==he.containerInfo||ae.stateNode.implementation!==he.implementation?(ae=w1(he,ce.mode,Ce),ae.return=ce,ae):(ae=N(ae,he.children||[]),ae.return=ce,ae)}function we(ce,ae,he,Ce,Fe){return ae===null||ae.tag!==7?(ae=Jl(he,ce.mode,Ce,Fe),ae.return=ce,ae):(ae=N(ae,he),ae.return=ce,ae)}function Ee(ce,ae,he){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=y1(""+ae,ce.mode,he),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return he=Zm(ae.type,ae.key,ae.props,null,ce.mode,he),yh(he,ae),he.return=ce,he;case p:return ae=w1(ae,ce.mode,he),ae.return=ce,ae;case _:var Ce=ae._init;return ae=Ce(ae._payload),Ee(ce,ae,he)}if(H(ae)||O(ae))return ae=Jl(ae,ce.mode,he,null),ae.return=ce,ae;if(typeof ae.then=="function")return Ee(ce,xx(ae),he);if(ae.$$typeof===C)return Ee(ce,sx(ce,ae),he);gx(ce,ae)}return null}function xe(ce,ae,he,Ce){var Fe=ae!==null?ae.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Fe!==null?null:q(ce,ae,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case g:return he.key===Fe?te(ce,ae,he,Ce):null;case p:return he.key===Fe?fe(ce,ae,he,Ce):null;case _:return Fe=he._init,he=Fe(he._payload),xe(ce,ae,he,Ce)}if(H(he)||O(he))return Fe!==null?null:we(ce,ae,he,Ce,null);if(typeof he.then=="function")return xe(ce,ae,xx(he),Ce);if(he.$$typeof===C)return xe(ce,ae,sx(ce,he),Ce);gx(ce,he)}return null}function ge(ce,ae,he,Ce,Fe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(he)||null,q(ae,ce,""+Ce,Fe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return ce=ce.get(Ce.key===null?he:Ce.key)||null,te(ae,ce,Ce,Fe);case p:return ce=ce.get(Ce.key===null?he:Ce.key)||null,fe(ae,ce,Ce,Fe);case _:var dt=Ce._init;return Ce=dt(Ce._payload),ge(ce,ae,he,Ce,Fe)}if(H(Ce)||O(Ce))return ce=ce.get(he)||null,we(ae,ce,Ce,Fe,null);if(typeof Ce.then=="function")return ge(ce,ae,he,xx(Ce),Fe);if(Ce.$$typeof===C)return ge(ce,ae,he,sx(ae,Ce),Fe);gx(ae,Ce)}return null}function Qe(ce,ae,he,Ce){for(var Fe=null,dt=null,He=ae,We=ae=0,Ps=null;He!==null&&We<he.length;We++){He.index>We?(Ps=He,He=null):Ps=He.sibling;var Ct=xe(ce,He,he[We],Ce);if(Ct===null){He===null&&(He=Ps);break}l&&He&&Ct.alternate===null&&u(ce,He),ae=T(Ct,ae,We),dt===null?Fe=Ct:dt.sibling=Ct,dt=Ct,He=Ps}if(We===he.length)return m(ce,He),Et&&tc(ce,We),Fe;if(He===null){for(;We<he.length;We++)He=Ee(ce,he[We],Ce),He!==null&&(ae=T(He,ae,We),dt===null?Fe=He:dt.sibling=He,dt=He);return Et&&tc(ce,We),Fe}for(He=b(He);We<he.length;We++)Ps=ge(He,ce,We,he[We],Ce),Ps!==null&&(l&&Ps.alternate!==null&&He.delete(Ps.key===null?We:Ps.key),ae=T(Ps,ae,We),dt===null?Fe=Ps:dt.sibling=Ps,dt=Ps);return l&&He.forEach(function(qo){return u(ce,qo)}),Et&&tc(ce,We),Fe}function qe(ce,ae,he,Ce){if(he==null)throw Error(r(151));for(var Fe=null,dt=null,He=ae,We=ae=0,Ps=null,Ct=he.next();He!==null&&!Ct.done;We++,Ct=he.next()){He.index>We?(Ps=He,He=null):Ps=He.sibling;var qo=xe(ce,He,Ct.value,Ce);if(qo===null){He===null&&(He=Ps);break}l&&He&&qo.alternate===null&&u(ce,He),ae=T(qo,ae,We),dt===null?Fe=qo:dt.sibling=qo,dt=qo,He=Ps}if(Ct.done)return m(ce,He),Et&&tc(ce,We),Fe;if(He===null){for(;!Ct.done;We++,Ct=he.next())Ct=Ee(ce,Ct.value,Ce),Ct!==null&&(ae=T(Ct,ae,We),dt===null?Fe=Ct:dt.sibling=Ct,dt=Ct);return Et&&tc(ce,We),Fe}for(He=b(He);!Ct.done;We++,Ct=he.next())Ct=ge(He,ce,We,Ct.value,Ce),Ct!==null&&(l&&Ct.alternate!==null&&He.delete(Ct.key===null?We:Ct.key),ae=T(Ct,ae,We),dt===null?Fe=Ct:dt.sibling=Ct,dt=Ct);return l&&He.forEach(function(S_){return u(ce,S_)}),Et&&tc(ce,We),Fe}function Pt(ce,ae,he,Ce){if(typeof he=="object"&&he!==null&&he.type===v&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case g:e:{for(var Fe=he.key;ae!==null;){if(ae.key===Fe){if(Fe=he.type,Fe===v){if(ae.tag===7){m(ce,ae.sibling),Ce=N(ae,he.props.children),Ce.return=ce,ce=Ce;break e}}else if(ae.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===_&&Y3(Fe)===ae.type){m(ce,ae.sibling),Ce=N(ae,he.props),yh(Ce,he),Ce.return=ce,ce=Ce;break e}m(ce,ae);break}else u(ce,ae);ae=ae.sibling}he.type===v?(Ce=Jl(he.props.children,ce.mode,Ce,he.key),Ce.return=ce,ce=Ce):(Ce=Zm(he.type,he.key,he.props,null,ce.mode,Ce),yh(Ce,he),Ce.return=ce,ce=Ce)}return P(ce);case p:e:{for(Fe=he.key;ae!==null;){if(ae.key===Fe)if(ae.tag===4&&ae.stateNode.containerInfo===he.containerInfo&&ae.stateNode.implementation===he.implementation){m(ce,ae.sibling),Ce=N(ae,he.children||[]),Ce.return=ce,ce=Ce;break e}else{m(ce,ae);break}else u(ce,ae);ae=ae.sibling}Ce=w1(he,ce.mode,Ce),Ce.return=ce,ce=Ce}return P(ce);case _:return Fe=he._init,he=Fe(he._payload),Pt(ce,ae,he,Ce)}if(H(he))return Qe(ce,ae,he,Ce);if(O(he)){if(Fe=O(he),typeof Fe!="function")throw Error(r(150));return he=Fe.call(he),qe(ce,ae,he,Ce)}if(typeof he.then=="function")return Pt(ce,ae,xx(he),Ce);if(he.$$typeof===C)return Pt(ce,ae,sx(ce,he),Ce);gx(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ae!==null&&ae.tag===6?(m(ce,ae.sibling),Ce=N(ae,he),Ce.return=ce,ce=Ce):(m(ce,ae),Ce=y1(he,ce.mode,Ce),Ce.return=ce,ce=Ce),P(ce)):m(ce,ae)}return function(ce,ae,he,Ce){try{vh=0;var Fe=Pt(ce,ae,he,Ce);return Ud=null,Fe}catch(He){if(He===dh||He===rx)throw He;var dt=nr(29,He,null,ce.mode);return dt.lanes=Ce,dt.return=ce,dt}finally{}}}var $d=Q3(!0),K3=Q3(!1),Cr=z(null),Ta=null;function Mo(l){var u=l.alternate;K(Bs,Bs.current&1),K(Cr,l),Ta===null&&(u===null||Od.current!==null||u.memoizedState!==null)&&(Ta=l)}function X3(l){if(l.tag===22){if(K(Bs,Bs.current),K(Cr,l),Ta===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Ta=l)}}else Do()}function Do(){K(Bs,Bs.current),K(Cr,Cr.current)}function vi(l){G(Cr),Ta===l&&(Ta=null),G(Bs)}var Bs=z(0);function px(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Hv(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function ev(l,u,m,b){u=l.memoizedState,m=m(b,u),m=m==null?u:f({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var tv={enqueueSetState:function(l,u,m){l=l._reactInternals;var b=or(),N=So(b);N.payload=u,m!=null&&(N.callback=m),u=To(l,N,b),u!==null&&(lr(u,l,b),hh(u,l,b))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var b=or(),N=So(b);N.tag=1,N.payload=u,m!=null&&(N.callback=m),u=To(l,N,b),u!==null&&(lr(u,l,b),hh(u,l,b))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=or(),b=So(m);b.tag=2,u!=null&&(b.callback=u),u=To(l,b,m),u!==null&&(lr(u,l,m),hh(u,l,m))}};function Z3(l,u,m,b,N,T,P){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,T,P):u.prototype&&u.prototype.isPureReactComponent?!sh(m,b)||!sh(N,T):!0}function J3(l,u,m,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,b),u.state!==l&&tv.enqueueReplaceState(u,u.state,null)}function lc(l,u){var m=u;if("ref"in u){m={};for(var b in u)b!=="ref"&&(m[b]=u[b])}if(l=l.defaultProps){m===u&&(m=f({},m));for(var N in l)m[N]===void 0&&(m[N]=l[N])}return m}var bx=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function ej(l){bx(l)}function tj(l){console.error(l)}function sj(l){bx(l)}function vx(l,u){try{var m=l.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function nj(l,u,m){try{var b=l.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function sv(l,u,m){return m=So(m),m.tag=3,m.payload={element:null},m.callback=function(){vx(l,u)},m}function rj(l){return l=So(l),l.tag=3,l}function aj(l,u,m,b){var N=m.type.getDerivedStateFromError;if(typeof N=="function"){var T=b.value;l.payload=function(){return N(T)},l.callback=function(){nj(u,m,b)}}var P=m.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){nj(u,m,b),typeof N!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var q=b.stack;this.componentDidCatch(b.value,{componentStack:q!==null?q:""})})}function SB(l,u,m,b,N){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=m.alternate,u!==null&&oh(u,m,N,!0),m=Cr.current,m!==null){switch(m.tag){case 13:return Ta===null?Av():m.alternate===null&&fs===0&&(fs=3),m.flags&=-257,m.flags|=65536,m.lanes=N,b===M1?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([b]):u.add(b),Sv(l,b,N)),!1;case 22:return m.flags|=65536,b===M1?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([b]):m.add(b)),Sv(l,b,N)),!1}throw Error(r(435,m.tag))}return Sv(l,b,N),Av(),!1}if(Et)return u=Cr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=N,b!==C1&&(l=Error(r(422),{cause:b}),ih(yr(l,m)))):(b!==C1&&(u=Error(r(423),{cause:b}),ih(yr(u,m))),l=l.current.alternate,l.flags|=65536,N&=-N,l.lanes|=N,b=yr(b,m),N=sv(l.stateNode,b,N),_1(l,N),fs!==4&&(fs=2)),!1;var T=Error(r(520),{cause:b});if(T=yr(T,m),Eh===null?Eh=[T]:Eh.push(T),fs!==4&&(fs=2),u===null)return!0;b=yr(b,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,l=N&-N,m.lanes|=l,l=sv(m.stateNode,b,l),_1(m,l),!1;case 1:if(u=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Po===null||!Po.has(T))))return m.flags|=65536,N&=-N,m.lanes|=N,N=rj(N),aj(N,l,m,b),_1(m,N),!1}m=m.return}while(m!==null);return!1}var ij=Error(r(461)),Ls=!1;function Ws(l,u,m,b){u.child=l===null?K3(u,null,m,b):$d(u,l.child,m,b)}function oj(l,u,m,b,N){m=m.render;var T=u.ref;if("ref"in b){var P={};for(var q in b)q!=="ref"&&(P[q]=b[q])}else P=b;return ac(u),b=F1(l,u,m,P,T,N),q=z1(),l!==null&&!Ls?(U1(l,u,N),yi(l,u,N)):(Et&&q&&N1(u),u.flags|=1,Ws(l,u,b,N),u.child)}function lj(l,u,m,b,N){if(l===null){var T=m.type;return typeof T=="function"&&!v1(T)&&T.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=T,cj(l,u,T,b,N)):(l=Zm(m.type,null,b,u,u.mode,N),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,!dv(l,N)){var P=T.memoizedProps;if(m=m.compare,m=m!==null?m:sh,m(P,b)&&l.ref===u.ref)return yi(l,u,N)}return u.flags|=1,l=fi(T,b),l.ref=u.ref,l.return=u,u.child=l}function cj(l,u,m,b,N){if(l!==null){var T=l.memoizedProps;if(sh(T,b)&&l.ref===u.ref)if(Ls=!1,u.pendingProps=b=T,dv(l,N))(l.flags&131072)!==0&&(Ls=!0);else return u.lanes=l.lanes,yi(l,u,N)}return nv(l,u,m,b,N)}function dj(l,u,m){var b=u.pendingProps,N=b.children,T=l!==null?l.memoizedState:null;if(b.mode==="hidden"){if((u.flags&128)!==0){if(b=T!==null?T.baseLanes|m:m,l!==null){for(N=u.child=l.child,T=0;N!==null;)T=T|N.lanes|N.childLanes,N=N.sibling;u.childLanes=T&~b}else u.childLanes=0,u.child=null;return uj(l,u,b,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&nx(u,T!==null?T.cachePool:null),T!==null?c3(u,T):L1(),X3(u);else return u.lanes=u.childLanes=536870912,uj(l,u,T!==null?T.baseLanes|m:m,m)}else T!==null?(nx(u,T.cachePool),c3(u,T),Do(),u.memoizedState=null):(l!==null&&nx(u,null),L1(),Do());return Ws(l,u,N,m),u.child}function uj(l,u,m,b){var N=R1();return N=N===null?null:{parent:Ds._currentValue,pool:N},u.memoizedState={baseLanes:m,cachePool:N},l!==null&&nx(u,null),L1(),X3(u),l!==null&&oh(l,u,b,!0),null}function yx(l,u){var m=u.ref;if(m===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(l===null||l.ref!==m)&&(u.flags|=4194816)}}function nv(l,u,m,b,N){return ac(u),m=F1(l,u,m,b,void 0,N),b=z1(),l!==null&&!Ls?(U1(l,u,N),yi(l,u,N)):(Et&&b&&N1(u),u.flags|=1,Ws(l,u,m,N),u.child)}function hj(l,u,m,b,N,T){return ac(u),u.updateQueue=null,m=u3(u,b,m,N),d3(l),b=z1(),l!==null&&!Ls?(U1(l,u,T),yi(l,u,T)):(Et&&b&&N1(u),u.flags|=1,Ws(l,u,m,T),u.child)}function fj(l,u,m,b,N){if(ac(u),u.stateNode===null){var T=Dd,P=m.contextType;typeof P=="object"&&P!==null&&(T=nn(P)),T=new m(b,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=tv,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=b,T.state=u.memoizedState,T.refs={},D1(u),P=m.contextType,T.context=typeof P=="object"&&P!==null?nn(P):Dd,T.state=u.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(ev(u,m,P,b),T.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&tv.enqueueReplaceState(T,T.state,null),mh(u,b,T,N),fh(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(l===null){T=u.stateNode;var q=u.memoizedProps,te=lc(m,q);T.props=te;var fe=T.context,we=m.contextType;P=Dd,typeof we=="object"&&we!==null&&(P=nn(we));var Ee=m.getDerivedStateFromProps;we=typeof Ee=="function"||typeof T.getSnapshotBeforeUpdate=="function",q=u.pendingProps!==q,we||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(q||fe!==P)&&J3(u,T,b,P),Eo=!1;var xe=u.memoizedState;T.state=xe,mh(u,b,T,N),fh(),fe=u.memoizedState,q||xe!==fe||Eo?(typeof Ee=="function"&&(ev(u,m,Ee,b),fe=u.memoizedState),(te=Eo||Z3(u,m,te,b,xe,fe,P))?(we||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=fe),T.props=b,T.state=fe,T.context=P,b=te):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{T=u.stateNode,B1(l,u),P=u.memoizedProps,we=lc(m,P),T.props=we,Ee=u.pendingProps,xe=T.context,fe=m.contextType,te=Dd,typeof fe=="object"&&fe!==null&&(te=nn(fe)),q=m.getDerivedStateFromProps,(fe=typeof q=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==Ee||xe!==te)&&J3(u,T,b,te),Eo=!1,xe=u.memoizedState,T.state=xe,mh(u,b,T,N),fh();var ge=u.memoizedState;P!==Ee||xe!==ge||Eo||l!==null&&l.dependencies!==null&&tx(l.dependencies)?(typeof q=="function"&&(ev(u,m,q,b),ge=u.memoizedState),(we=Eo||Z3(u,m,we,b,xe,ge,te)||l!==null&&l.dependencies!==null&&tx(l.dependencies))?(fe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(b,ge,te),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(b,ge,te)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===l.memoizedProps&&xe===l.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&xe===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=ge),T.props=b,T.state=ge,T.context=te,b=we):(typeof T.componentDidUpdate!="function"||P===l.memoizedProps&&xe===l.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&xe===l.memoizedState||(u.flags|=1024),b=!1)}return T=b,yx(l,u),b=(u.flags&128)!==0,T||b?(T=u.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,l!==null&&b?(u.child=$d(u,l.child,null,N),u.child=$d(u,null,m,N)):Ws(l,u,m,N),u.memoizedState=T.state,l=u.child):l=yi(l,u,N),l}function mj(l,u,m,b){return ah(),u.flags|=256,Ws(l,u,m,b),u.child}var rv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(l){return{baseLanes:l,cachePool:t3()}}function iv(l,u,m){return l=l!==null?l.childLanes&~m:0,u&&(l|=kr),l}function xj(l,u,m){var b=u.pendingProps,N=!1,T=(u.flags&128)!==0,P;if((P=T)||(P=l!==null&&l.memoizedState===null?!1:(Bs.current&2)!==0),P&&(N=!0,u.flags&=-129),P=(u.flags&32)!==0,u.flags&=-33,l===null){if(Et){if(N?Mo(u):Do(),Et){var q=hs,te;if(te=q){e:{for(te=q,q=Sa;te.nodeType!==8;){if(!q){q=null;break e}if(te=Jr(te.nextSibling),te===null){q=null;break e}}q=te}q!==null?(u.memoizedState={dehydrated:q,treeContext:ec!==null?{id:mi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},te=nr(18,null,null,0),te.stateNode=q,te.return=u,u.child=te,wn=u,hs=null,te=!0):te=!1}te||nc(u)}if(q=u.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Hv(q)?u.lanes=32:u.lanes=536870912,null;vi(u)}return q=b.children,b=b.fallback,N?(Do(),N=u.mode,q=wx({mode:"hidden",children:q},N),b=Jl(b,N,m,null),q.return=u,b.return=u,q.sibling=b,u.child=q,N=u.child,N.memoizedState=av(m),N.childLanes=iv(l,P,m),u.memoizedState=rv,b):(Mo(u),ov(u,q))}if(te=l.memoizedState,te!==null&&(q=te.dehydrated,q!==null)){if(T)u.flags&256?(Mo(u),u.flags&=-257,u=lv(l,u,m)):u.memoizedState!==null?(Do(),u.child=l.child,u.flags|=128,u=null):(Do(),N=b.fallback,q=u.mode,b=wx({mode:"visible",children:b.children},q),N=Jl(N,q,m,null),N.flags|=2,b.return=u,N.return=u,b.sibling=N,u.child=b,$d(u,l.child,null,m),b=u.child,b.memoizedState=av(m),b.childLanes=iv(l,P,m),u.memoizedState=rv,u=N);else if(Mo(u),Hv(q)){if(P=q.nextSibling&&q.nextSibling.dataset,P)var fe=P.dgst;P=fe,b=Error(r(419)),b.stack="",b.digest=P,ih({value:b,source:null,stack:null}),u=lv(l,u,m)}else if(Ls||oh(l,u,m,!1),P=(m&l.childLanes)!==0,Ls||P){if(P=Vt,P!==null&&(b=m&-m,b=(b&42)!==0?1:Dn(b),b=(b&(P.suspendedLanes|m))!==0?0:b,b!==0&&b!==te.retryLane))throw te.retryLane=b,Md(l,b),lr(P,l,b),ij;q.data==="$?"||Av(),u=lv(l,u,m)}else q.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=te.treeContext,hs=Jr(q.nextSibling),wn=u,Et=!0,sc=null,Sa=!1,l!==null&&(Nr[jr++]=mi,Nr[jr++]=xi,Nr[jr++]=ec,mi=l.id,xi=l.overflow,ec=u),u=ov(u,b.children),u.flags|=4096);return u}return N?(Do(),N=b.fallback,q=u.mode,te=l.child,fe=te.sibling,b=fi(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,fe!==null?N=fi(fe,N):(N=Jl(N,q,m,null),N.flags|=2),N.return=u,b.return=u,b.sibling=N,u.child=b,b=N,N=u.child,q=l.child.memoizedState,q===null?q=av(m):(te=q.cachePool,te!==null?(fe=Ds._currentValue,te=te.parent!==fe?{parent:fe,pool:fe}:te):te=t3(),q={baseLanes:q.baseLanes|m,cachePool:te}),N.memoizedState=q,N.childLanes=iv(l,P,m),u.memoizedState=rv,b):(Mo(u),m=l.child,l=m.sibling,m=fi(m,{mode:"visible",children:b.children}),m.return=u,m.sibling=null,l!==null&&(P=u.deletions,P===null?(u.deletions=[l],u.flags|=16):P.push(l)),u.child=m,u.memoizedState=null,m)}function ov(l,u){return u=wx({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function wx(l,u){return l=nr(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function lv(l,u,m){return $d(u,l.child,null,m),l=ov(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function gj(l,u,m){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),A1(l.return,u,m)}function cv(l,u,m,b,N){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:N}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=m,T.tailMode=N)}function pj(l,u,m){var b=u.pendingProps,N=b.revealOrder,T=b.tail;if(Ws(l,u,b.children,m),b=Bs.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&gj(l,m,u);else if(l.tag===19)gj(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}switch(K(Bs,b),N){case"forwards":for(m=u.child,N=null;m!==null;)l=m.alternate,l!==null&&px(l)===null&&(N=m),m=m.sibling;m=N,m===null?(N=u.child,u.child=null):(N=m.sibling,m.sibling=null),cv(u,!1,N,m,T);break;case"backwards":for(m=null,N=u.child,u.child=null;N!==null;){if(l=N.alternate,l!==null&&px(l)===null){u.child=N;break}l=N.sibling,N.sibling=m,m=N,N=l}cv(u,!0,m,null,T);break;case"together":cv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function yi(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Oo|=u.lanes,(m&u.childLanes)===0)if(l!==null){if(oh(l,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=fi(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=fi(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function dv(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&tx(l)))}function TB(l,u,m){switch(u.tag){case 3:re(u,u.stateNode.containerInfo),Ao(u,Ds,l.memoizedState.cache),ah();break;case 27:case 5:Me(u);break;case 4:re(u,u.stateNode.containerInfo);break;case 10:Ao(u,u.type,u.memoizedProps.value);break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(Mo(u),u.flags|=128,null):(m&u.child.childLanes)!==0?xj(l,u,m):(Mo(u),l=yi(l,u,m),l!==null?l.sibling:null);Mo(u);break;case 19:var N=(l.flags&128)!==0;if(b=(m&u.childLanes)!==0,b||(oh(l,u,m,!1),b=(m&u.childLanes)!==0),N){if(b)return pj(l,u,m);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),K(Bs,Bs.current),b)break;return null;case 22:case 23:return u.lanes=0,dj(l,u,m);case 24:Ao(u,Ds,l.memoizedState.cache)}return yi(l,u,m)}function bj(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps)Ls=!0;else{if(!dv(l,m)&&(u.flags&128)===0)return Ls=!1,TB(l,u,m);Ls=(l.flags&131072)!==0}else Ls=!1,Et&&(u.flags&1048576)!==0&&YN(u,ex,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var b=u.elementType,N=b._init;if(b=N(b._payload),u.type=b,typeof b=="function")v1(b)?(l=lc(b,l),u.tag=1,u=fj(null,u,b,l,m)):(u.tag=0,u=nv(null,u,b,l,m));else{if(b!=null){if(N=b.$$typeof,N===S){u.tag=11,u=oj(null,u,b,l,m);break e}else if(N===R){u.tag=14,u=lj(null,u,b,l,m);break e}}throw u=Y(b)||b,Error(r(306,u,""))}}return u;case 0:return nv(l,u,u.type,u.pendingProps,m);case 1:return b=u.type,N=lc(b,u.pendingProps),fj(l,u,b,N,m);case 3:e:{if(re(u,u.stateNode.containerInfo),l===null)throw Error(r(387));b=u.pendingProps;var T=u.memoizedState;N=T.element,B1(l,u),mh(u,b,null,m);var P=u.memoizedState;if(b=P.cache,Ao(u,Ds,b),b!==T.cache&&E1(u,[Ds],m,!0),fh(),b=P.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:P.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=mj(l,u,b,m);break e}else if(b!==N){N=yr(Error(r(424)),u),ih(N),u=mj(l,u,b,m);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(hs=Jr(l.firstChild),wn=u,Et=!0,sc=null,Sa=!0,m=K3(u,null,b,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ah(),b===N){u=yi(l,u,m);break e}Ws(l,u,b,m)}u=u.child}return u;case 26:return yx(l,u),l===null?(m=N6(u.type,null,u.pendingProps,null))?u.memoizedState=m:Et||(m=u.type,l=u.pendingProps,b=Ix(Z.current).createElement(m),b[Zt]=u,b[gt]=l,Qs(b,m,l),qt(b),u.stateNode=b):u.memoizedState=N6(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Me(u),l===null&&Et&&(b=u.stateNode=v6(u.type,u.pendingProps,Z.current),wn=u,Sa=!0,N=hs,Uo(u.type)?(Vv=N,hs=Jr(b.firstChild)):hs=N),Ws(l,u,u.pendingProps.children,m),yx(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Et&&((N=b=hs)&&(b=n_(b,u.type,u.pendingProps,Sa),b!==null?(u.stateNode=b,wn=u,hs=Jr(b.firstChild),Sa=!1,N=!0):N=!1),N||nc(u)),Me(u),N=u.type,T=u.pendingProps,P=l!==null?l.memoizedProps:null,b=T.children,zv(N,T)?b=null:P!==null&&zv(N,P)&&(u.flags|=32),u.memoizedState!==null&&(N=F1(l,u,wB,null,null,m),Lh._currentValue=N),yx(l,u),Ws(l,u,b,m),u.child;case 6:return l===null&&Et&&((l=m=hs)&&(m=r_(m,u.pendingProps,Sa),m!==null?(u.stateNode=m,wn=u,hs=null,l=!0):l=!1),l||nc(u)),null;case 13:return xj(l,u,m);case 4:return re(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=$d(u,null,b,m):Ws(l,u,b,m),u.child;case 11:return oj(l,u,u.type,u.pendingProps,m);case 7:return Ws(l,u,u.pendingProps,m),u.child;case 8:return Ws(l,u,u.pendingProps.children,m),u.child;case 12:return Ws(l,u,u.pendingProps.children,m),u.child;case 10:return b=u.pendingProps,Ao(u,u.type,b.value),Ws(l,u,b.children,m),u.child;case 9:return N=u.type._context,b=u.pendingProps.children,ac(u),N=nn(N),b=b(N),u.flags|=1,Ws(l,u,b,m),u.child;case 14:return lj(l,u,u.type,u.pendingProps,m);case 15:return cj(l,u,u.type,u.pendingProps,m);case 19:return pj(l,u,m);case 31:return b=u.pendingProps,m=u.mode,b={mode:b.mode,children:b.children},l===null?(m=wx(b,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=fi(l.child,b),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return dj(l,u,m);case 24:return ac(u),b=nn(Ds),l===null?(N=R1(),N===null&&(N=Vt,T=S1(),N.pooledCache=T,T.refCount++,T!==null&&(N.pooledCacheLanes|=m),N=T),u.memoizedState={parent:b,cache:N},D1(u),Ao(u,Ds,N)):((l.lanes&m)!==0&&(B1(l,u),mh(u,null,null,m),fh()),N=l.memoizedState,T=u.memoizedState,N.parent!==b?(N={parent:b,cache:b},u.memoizedState=N,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=N),Ao(u,Ds,b)):(b=T.cache,Ao(u,Ds,b),b!==N.cache&&E1(u,[Ds],m,!0))),Ws(l,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function wi(l){l.flags|=4}function vj(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!E6(u)){if(u=Cr.current,u!==null&&((yt&4194048)===yt?Ta!==null:(yt&62914560)!==yt&&(yt&536870912)===0||u!==Ta))throw uh=M1,s3;l.flags|=8192}}function Nx(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Rn():536870912,l.lanes|=u,qd|=u)}function wh(l,u){if(!Et)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function as(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,b=0;if(u)for(var N=l.child;N!==null;)m|=N.lanes|N.childLanes,b|=N.subtreeFlags&65011712,b|=N.flags&65011712,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)m|=N.lanes|N.childLanes,b|=N.subtreeFlags,b|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=b,l.childLanes=m,u}function RB(l,u,m){var b=u.pendingProps;switch(j1(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return as(u),null;case 1:return as(u),null;case 3:return m=u.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),pi(Ds),ke(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(rh(u)?wi(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,XN())),as(u),null;case 26:return m=u.memoizedState,l===null?(wi(u),m!==null?(as(u),vj(u,m)):(as(u),u.flags&=-16777217)):m?m!==l.memoizedState?(wi(u),as(u),vj(u,m)):(as(u),u.flags&=-16777217):(l.memoizedProps!==b&&wi(u),as(u),u.flags&=-16777217),null;case 27:de(u),m=Z.current;var N=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==b&&wi(u);else{if(!b){if(u.stateNode===null)throw Error(r(166));return as(u),null}l=W.current,rh(u)?QN(u):(l=v6(N,b,m),u.stateNode=l,wi(u))}return as(u),null;case 5:if(de(u),m=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==b&&wi(u);else{if(!b){if(u.stateNode===null)throw Error(r(166));return as(u),null}if(l=W.current,rh(u))QN(u);else{switch(N=Ix(Z.current),l){case 1:l=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:l=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":l=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":l=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":l=N.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof b.is=="string"?N.createElement("select",{is:b.is}):N.createElement("select"),b.multiple?l.multiple=!0:b.size&&(l.size=b.size);break;default:l=typeof b.is=="string"?N.createElement(m,{is:b.is}):N.createElement(m)}}l[Zt]=u,l[gt]=b;e:for(N=u.child;N!==null;){if(N.tag===5||N.tag===6)l.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===u)break e;for(;N.sibling===null;){if(N.return===null||N.return===u)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}u.stateNode=l;e:switch(Qs(l,m,b),m){case"button":case"input":case"select":case"textarea":l=!!b.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wi(u)}}return as(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==b&&wi(u);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(l=Z.current,rh(u)){if(l=u.stateNode,m=u.memoizedProps,b=null,N=wn,N!==null)switch(N.tag){case 27:case 5:b=N.memoizedProps}l[Zt]=u,l=!!(l.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||h6(l.nodeValue,m)),l||nc(u)}else l=Ix(l).createTextNode(b),l[Zt]=u,u.stateNode=l}return as(u),null;case 13:if(b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(N=rh(u),b!==null&&b.dehydrated!==null){if(l===null){if(!N)throw Error(r(318));if(N=u.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Zt]=u}else ah(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;as(u),N=!1}else N=XN(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=N),N=!0;if(!N)return u.flags&256?(vi(u),u):(vi(u),null)}if(vi(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=b!==null,l=l!==null&&l.memoizedState!==null,m){b=u.child,N=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(N=b.alternate.memoizedState.cachePool.pool);var T=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(T=b.memoizedState.cachePool.pool),T!==N&&(b.flags|=2048)}return m!==l&&m&&(u.child.flags|=8192),Nx(u,u.updateQueue),as(u),null;case 4:return ke(),l===null&&Iv(u.stateNode.containerInfo),as(u),null;case 10:return pi(u.type),as(u),null;case 19:if(G(Bs),N=u.memoizedState,N===null)return as(u),null;if(b=(u.flags&128)!==0,T=N.rendering,T===null)if(b)wh(N,!1);else{if(fs!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(T=px(l),T!==null){for(u.flags|=128,wh(N,!1),l=T.updateQueue,u.updateQueue=l,Nx(u,l),u.subtreeFlags=0,l=m,m=u.child;m!==null;)WN(m,l),m=m.sibling;return K(Bs,Bs.current&1|2),u.child}l=l.sibling}N.tail!==null&&ue()>kx&&(u.flags|=128,b=!0,wh(N,!1),u.lanes=4194304)}else{if(!b)if(l=px(T),l!==null){if(u.flags|=128,b=!0,l=l.updateQueue,u.updateQueue=l,Nx(u,l),wh(N,!0),N.tail===null&&N.tailMode==="hidden"&&!T.alternate&&!Et)return as(u),null}else 2*ue()-N.renderingStartTime>kx&&m!==536870912&&(u.flags|=128,b=!0,wh(N,!1),u.lanes=4194304);N.isBackwards?(T.sibling=u.child,u.child=T):(l=N.last,l!==null?l.sibling=T:u.child=T,N.last=T)}return N.tail!==null?(u=N.tail,N.rendering=u,N.tail=u.sibling,N.renderingStartTime=ue(),u.sibling=null,l=Bs.current,K(Bs,b?l&1|2:l&1),u):(as(u),null);case 22:case 23:return vi(u),O1(),b=u.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(m&536870912)!==0&&(u.flags&128)===0&&(as(u),u.subtreeFlags&6&&(u.flags|=8192)):as(u),m=u.updateQueue,m!==null&&Nx(u,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==m&&(u.flags|=2048),l!==null&&G(ic),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),pi(Ds),as(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function MB(l,u){switch(j1(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return pi(Ds),ke(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return de(u),null;case 13:if(vi(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));ah()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return G(Bs),null;case 4:return ke(),null;case 10:return pi(u.type),null;case 22:case 23:return vi(u),O1(),l!==null&&G(ic),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return pi(Ds),null;case 25:return null;default:return null}}function yj(l,u){switch(j1(u),u.tag){case 3:pi(Ds),ke();break;case 26:case 27:case 5:de(u);break;case 4:ke();break;case 13:vi(u);break;case 19:G(Bs);break;case 10:pi(u.type);break;case 22:case 23:vi(u),O1(),l!==null&&G(ic);break;case 24:pi(Ds)}}function Nh(l,u){try{var m=u.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var N=b.next;m=N;do{if((m.tag&l)===l){b=void 0;var T=m.create,P=m.inst;b=T(),P.destroy=b}m=m.next}while(m!==N)}}catch(q){$t(u,u.return,q)}}function Bo(l,u,m){try{var b=u.updateQueue,N=b!==null?b.lastEffect:null;if(N!==null){var T=N.next;b=T;do{if((b.tag&l)===l){var P=b.inst,q=P.destroy;if(q!==void 0){P.destroy=void 0,N=u;var te=m,fe=q;try{fe()}catch(we){$t(N,te,we)}}}b=b.next}while(b!==T)}}catch(we){$t(u,u.return,we)}}function wj(l){var u=l.updateQueue;if(u!==null){var m=l.stateNode;try{l3(u,m)}catch(b){$t(l,l.return,b)}}}function Nj(l,u,m){m.props=lc(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(b){$t(l,u,b)}}function jh(l,u){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof m=="function"?l.refCleanup=m(b):m.current=b}}catch(N){$t(l,u,N)}}function Ra(l,u){var m=l.ref,b=l.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(N){$t(l,u,N)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(N){$t(l,u,N)}else m.current=null}function jj(l){var u=l.type,m=l.memoizedProps,b=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(N){$t(l,l.return,N)}}function uv(l,u,m){try{var b=l.stateNode;ZB(b,l.type,m,u),b[gt]=u}catch(N){$t(l,l.return,N)}}function Cj(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Uo(l.type)||l.tag===4}function hv(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Cj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Uo(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function fv(l,u,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(l),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=_x));else if(b!==4&&(b===27&&Uo(l.type)&&(m=l.stateNode,u=null),l=l.child,l!==null))for(fv(l,u,m),l=l.sibling;l!==null;)fv(l,u,m),l=l.sibling}function jx(l,u,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(b!==4&&(b===27&&Uo(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(jx(l,u,m),l=l.sibling;l!==null;)jx(l,u,m),l=l.sibling}function kj(l){var u=l.stateNode,m=l.memoizedProps;try{for(var b=l.type,N=u.attributes;N.length;)u.removeAttributeNode(N[0]);Qs(u,b,m),u[Zt]=l,u[gt]=m}catch(T){$t(l,l.return,T)}}var Ni=!1,bs=!1,mv=!1,Aj=typeof WeakSet=="function"?WeakSet:Set,Os=null;function DB(l,u){if(l=l.containerInfo,Pv=Ux,l=ON(l),h1(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var N=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var P=0,q=-1,te=-1,fe=0,we=0,Ee=l,xe=null;t:for(;;){for(var ge;Ee!==m||N!==0&&Ee.nodeType!==3||(q=P+N),Ee!==T||b!==0&&Ee.nodeType!==3||(te=P+b),Ee.nodeType===3&&(P+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)xe=Ee,Ee=ge;for(;;){if(Ee===l)break t;if(xe===m&&++fe===N&&(q=P),xe===T&&++we===b&&(te=P),(ge=Ee.nextSibling)!==null)break;Ee=xe,xe=Ee.parentNode}Ee=ge}m=q===-1||te===-1?null:{start:q,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(Fv={focusedElem:l,selectionRange:m},Ux=!1,Os=u;Os!==null;)if(u=Os,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Os=l;else for(;Os!==null;){switch(u=Os,T=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&T!==null){l=void 0,m=u,N=T.memoizedProps,T=T.memoizedState,b=m.stateNode;try{var Qe=lc(m.type,N,m.elementType===m.type);l=b.getSnapshotBeforeUpdate(Qe,T),b.__reactInternalSnapshotBeforeUpdate=l}catch(qe){$t(m,m.return,qe)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,m=l.nodeType,m===9)$v(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":$v(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Os=l;break}Os=u.return}}function Ej(l,u,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:_o(l,m),b&4&&Nh(5,m);break;case 1:if(_o(l,m),b&4)if(l=m.stateNode,u===null)try{l.componentDidMount()}catch(P){$t(m,m.return,P)}else{var N=lc(m.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(N,u,l.__reactInternalSnapshotBeforeUpdate)}catch(P){$t(m,m.return,P)}}b&64&&wj(m),b&512&&jh(m,m.return);break;case 3:if(_o(l,m),b&64&&(l=m.updateQueue,l!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{l3(l,u)}catch(P){$t(m,m.return,P)}}break;case 27:u===null&&b&4&&kj(m);case 26:case 5:_o(l,m),u===null&&b&4&&jj(m),b&512&&jh(m,m.return);break;case 12:_o(l,m);break;case 13:_o(l,m),b&4&&Rj(l,m),b&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=UB.bind(null,m),a_(l,m))));break;case 22:if(b=m.memoizedState!==null||Ni,!b){u=u!==null&&u.memoizedState!==null||bs,N=Ni;var T=bs;Ni=b,(bs=u)&&!T?Io(l,m,(m.subtreeFlags&8772)!==0):_o(l,m),Ni=N,bs=T}break;case 30:break;default:_o(l,m)}}function Sj(l){var u=l.alternate;u!==null&&(l.alternate=null,Sj(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&ii(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Jt=null,Pn=!1;function ji(l,u,m){for(m=m.child;m!==null;)Tj(l,u,m),m=m.sibling}function Tj(l,u,m){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Pe,m)}catch{}switch(m.tag){case 26:bs||Ra(m,u),ji(l,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:bs||Ra(m,u);var b=Jt,N=Pn;Uo(m.type)&&(Jt=m.stateNode,Pn=!1),ji(l,u,m),Dh(m.stateNode),Jt=b,Pn=N;break;case 5:bs||Ra(m,u);case 6:if(b=Jt,N=Pn,Jt=null,ji(l,u,m),Jt=b,Pn=N,Jt!==null)if(Pn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(m.stateNode)}catch(T){$t(m,u,T)}else try{Jt.removeChild(m.stateNode)}catch(T){$t(m,u,T)}break;case 18:Jt!==null&&(Pn?(l=Jt,p6(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),zh(l)):p6(Jt,m.stateNode));break;case 4:b=Jt,N=Pn,Jt=m.stateNode.containerInfo,Pn=!0,ji(l,u,m),Jt=b,Pn=N;break;case 0:case 11:case 14:case 15:bs||Bo(2,m,u),bs||Bo(4,m,u),ji(l,u,m);break;case 1:bs||(Ra(m,u),b=m.stateNode,typeof b.componentWillUnmount=="function"&&Nj(m,u,b)),ji(l,u,m);break;case 21:ji(l,u,m);break;case 22:bs=(b=bs)||m.memoizedState!==null,ji(l,u,m),bs=b;break;default:ji(l,u,m)}}function Rj(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{zh(l)}catch(m){$t(u,u.return,m)}}function BB(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Aj),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Aj),u;default:throw Error(r(435,l.tag))}}function xv(l,u){var m=BB(l);u.forEach(function(b){var N=$B.bind(null,l,b);m.has(b)||(m.add(b),b.then(N,N))})}function rr(l,u){var m=u.deletions;if(m!==null)for(var b=0;b<m.length;b++){var N=m[b],T=l,P=u,q=P;e:for(;q!==null;){switch(q.tag){case 27:if(Uo(q.type)){Jt=q.stateNode,Pn=!1;break e}break;case 5:Jt=q.stateNode,Pn=!1;break e;case 3:case 4:Jt=q.stateNode.containerInfo,Pn=!0;break e}q=q.return}if(Jt===null)throw Error(r(160));Tj(T,P,N),Jt=null,Pn=!1,T=N.alternate,T!==null&&(T.return=null),N.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Mj(u,l),u=u.sibling}var Zr=null;function Mj(l,u){var m=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:rr(u,l),ar(l),b&4&&(Bo(3,l,l.return),Nh(3,l),Bo(5,l,l.return));break;case 1:rr(u,l),ar(l),b&512&&(bs||m===null||Ra(m,m.return)),b&64&&Ni&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var N=Zr;if(rr(u,l),ar(l),b&512&&(bs||m===null||Ra(m,m.return)),b&4){var T=m!==null?m.memoizedState:null;if(b=l.memoizedState,m===null)if(b===null)if(l.stateNode===null){e:{b=l.type,m=l.memoizedProps,N=N.ownerDocument||N;t:switch(b){case"title":T=N.getElementsByTagName("title")[0],(!T||T[Qn]||T[Zt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=N.createElement(b),N.head.insertBefore(T,N.querySelector("head > title"))),Qs(T,b,m),T[Zt]=l,qt(T),b=T;break e;case"link":var P=k6("link","href",N).get(b+(m.href||""));if(P){for(var q=0;q<P.length;q++)if(T=P[q],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){P.splice(q,1);break t}}T=N.createElement(b),Qs(T,b,m),N.head.appendChild(T);break;case"meta":if(P=k6("meta","content",N).get(b+(m.content||""))){for(q=0;q<P.length;q++)if(T=P[q],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){P.splice(q,1);break t}}T=N.createElement(b),Qs(T,b,m),N.head.appendChild(T);break;default:throw Error(r(468,b))}T[Zt]=l,qt(T),b=T}l.stateNode=b}else A6(N,l.type,l.stateNode);else l.stateNode=C6(N,b,l.memoizedProps);else T!==b?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,b===null?A6(N,l.type,l.stateNode):C6(N,b,l.memoizedProps)):b===null&&l.stateNode!==null&&uv(l,l.memoizedProps,m.memoizedProps)}break;case 27:rr(u,l),ar(l),b&512&&(bs||m===null||Ra(m,m.return)),m!==null&&b&4&&uv(l,l.memoizedProps,m.memoizedProps);break;case 5:if(rr(u,l),ar(l),b&512&&(bs||m===null||Ra(m,m.return)),l.flags&32){N=l.stateNode;try{ui(N,"")}catch(ge){$t(l,l.return,ge)}}b&4&&l.stateNode!=null&&(N=l.memoizedProps,uv(l,N,m!==null?m.memoizedProps:N)),b&1024&&(mv=!0);break;case 6:if(rr(u,l),ar(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,m=l.stateNode;try{m.nodeValue=b}catch(ge){$t(l,l.return,ge)}}break;case 3:if(Px=null,N=Zr,Zr=Lx(u.containerInfo),rr(u,l),Zr=N,ar(l),b&4&&m!==null&&m.memoizedState.isDehydrated)try{zh(u.containerInfo)}catch(ge){$t(l,l.return,ge)}mv&&(mv=!1,Dj(l));break;case 4:b=Zr,Zr=Lx(l.stateNode.containerInfo),rr(u,l),ar(l),Zr=b;break;case 12:rr(u,l),ar(l);break;case 13:rr(u,l),ar(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(wv=ue()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,xv(l,b)));break;case 22:N=l.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,fe=Ni,we=bs;if(Ni=fe||N,bs=we||te,rr(u,l),bs=we,Ni=fe,ar(l),b&8192)e:for(u=l.stateNode,u._visibility=N?u._visibility&-2:u._visibility|1,N&&(m===null||te||Ni||bs||cc(l)),m=null,u=l;;){if(u.tag===5||u.tag===26){if(m===null){te=m=u;try{if(T=te.stateNode,N)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{q=te.stateNode;var Ee=te.memoizedProps.style,xe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;q.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(ge){$t(te,te.return,ge)}}}else if(u.tag===6){if(m===null){te=u;try{te.stateNode.nodeValue=N?"":te.memoizedProps}catch(ge){$t(te,te.return,ge)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}b&4&&(b=l.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,xv(l,m))));break;case 19:rr(u,l),ar(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,xv(l,b)));break;case 30:break;case 21:break;default:rr(u,l),ar(l)}}function ar(l){var u=l.flags;if(u&2){try{for(var m,b=l.return;b!==null;){if(Cj(b)){m=b;break}b=b.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var N=m.stateNode,T=hv(l);jx(l,T,N);break;case 5:var P=m.stateNode;m.flags&32&&(ui(P,""),m.flags&=-33);var q=hv(l);jx(l,q,P);break;case 3:case 4:var te=m.stateNode.containerInfo,fe=hv(l);fv(l,fe,te);break;default:throw Error(r(161))}}catch(we){$t(l,l.return,we)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function Dj(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;Dj(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function _o(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ej(l,u.alternate,u),u=u.sibling}function cc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Bo(4,u,u.return),cc(u);break;case 1:Ra(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&Nj(u,u.return,m),cc(u);break;case 27:Dh(u.stateNode);case 26:case 5:Ra(u,u.return),cc(u);break;case 22:u.memoizedState===null&&cc(u);break;case 30:cc(u);break;default:cc(u)}l=l.sibling}}function Io(l,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,N=l,T=u,P=T.flags;switch(T.tag){case 0:case 11:case 15:Io(N,T,m),Nh(4,T);break;case 1:if(Io(N,T,m),b=T,N=b.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(fe){$t(b,b.return,fe)}if(b=T,N=b.updateQueue,N!==null){var q=b.stateNode;try{var te=N.shared.hiddenCallbacks;if(te!==null)for(N.shared.hiddenCallbacks=null,N=0;N<te.length;N++)o3(te[N],q)}catch(fe){$t(b,b.return,fe)}}m&&P&64&&wj(T),jh(T,T.return);break;case 27:kj(T);case 26:case 5:Io(N,T,m),m&&b===null&&P&4&&jj(T),jh(T,T.return);break;case 12:Io(N,T,m);break;case 13:Io(N,T,m),m&&P&4&&Rj(N,T);break;case 22:T.memoizedState===null&&Io(N,T,m),jh(T,T.return);break;case 30:break;default:Io(N,T,m)}u=u.sibling}}function gv(l,u){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&lh(m))}function pv(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&lh(l))}function Ma(l,u,m,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Bj(l,u,m,b),u=u.sibling}function Bj(l,u,m,b){var N=u.flags;switch(u.tag){case 0:case 11:case 15:Ma(l,u,m,b),N&2048&&Nh(9,u);break;case 1:Ma(l,u,m,b);break;case 3:Ma(l,u,m,b),N&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&lh(l)));break;case 12:if(N&2048){Ma(l,u,m,b),l=u.stateNode;try{var T=u.memoizedProps,P=T.id,q=T.onPostCommit;typeof q=="function"&&q(P,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(te){$t(u,u.return,te)}}else Ma(l,u,m,b);break;case 13:Ma(l,u,m,b);break;case 23:break;case 22:T=u.stateNode,P=u.alternate,u.memoizedState!==null?T._visibility&2?Ma(l,u,m,b):Ch(l,u):T._visibility&2?Ma(l,u,m,b):(T._visibility|=2,Hd(l,u,m,b,(u.subtreeFlags&10256)!==0)),N&2048&&gv(P,u);break;case 24:Ma(l,u,m,b),N&2048&&pv(u.alternate,u);break;default:Ma(l,u,m,b)}}function Hd(l,u,m,b,N){for(N=N&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var T=l,P=u,q=m,te=b,fe=P.flags;switch(P.tag){case 0:case 11:case 15:Hd(T,P,q,te,N),Nh(8,P);break;case 23:break;case 22:var we=P.stateNode;P.memoizedState!==null?we._visibility&2?Hd(T,P,q,te,N):Ch(T,P):(we._visibility|=2,Hd(T,P,q,te,N)),N&&fe&2048&&gv(P.alternate,P);break;case 24:Hd(T,P,q,te,N),N&&fe&2048&&pv(P.alternate,P);break;default:Hd(T,P,q,te,N)}u=u.sibling}}function Ch(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=l,b=u,N=b.flags;switch(b.tag){case 22:Ch(m,b),N&2048&&gv(b.alternate,b);break;case 24:Ch(m,b),N&2048&&pv(b.alternate,b);break;default:Ch(m,b)}u=u.sibling}}var kh=8192;function Vd(l){if(l.subtreeFlags&kh)for(l=l.child;l!==null;)_j(l),l=l.sibling}function _j(l){switch(l.tag){case 26:Vd(l),l.flags&kh&&l.memoizedState!==null&&b_(Zr,l.memoizedState,l.memoizedProps);break;case 5:Vd(l);break;case 3:case 4:var u=Zr;Zr=Lx(l.stateNode.containerInfo),Vd(l),Zr=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=kh,kh=16777216,Vd(l),kh=u):Vd(l));break;default:Vd(l)}}function Ij(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Ah(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var b=u[m];Os=b,Oj(b,l)}Ij(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Lj(l),l=l.sibling}function Lj(l){switch(l.tag){case 0:case 11:case 15:Ah(l),l.flags&2048&&Bo(9,l,l.return);break;case 3:Ah(l);break;case 12:Ah(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Cx(l)):Ah(l);break;default:Ah(l)}}function Cx(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var b=u[m];Os=b,Oj(b,l)}Ij(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Bo(8,u,u.return),Cx(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,Cx(u));break;default:Cx(u)}l=l.sibling}}function Oj(l,u){for(;Os!==null;){var m=Os;switch(m.tag){case 0:case 11:case 15:Bo(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:lh(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Os=b;else e:for(m=l;Os!==null;){b=Os;var N=b.sibling,T=b.return;if(Sj(b),b===m){Os=null;break e}if(N!==null){N.return=T,Os=N;break e}Os=T}}}var _B={getCacheForType:function(l){var u=nn(Ds),m=u.data.get(l);return m===void 0&&(m=l(),u.data.set(l,m)),m}},IB=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Vt=null,ht=null,yt=0,Bt=0,ir=null,Lo=!1,Gd=!1,bv=!1,Ci=0,fs=0,Oo=0,dc=0,vv=0,kr=0,qd=0,Eh=null,Fn=null,yv=!1,wv=0,kx=1/0,Ax=null,Po=null,Ys=0,Fo=null,Wd=null,Yd=0,Nv=0,jv=null,Pj=null,Sh=0,Cv=null;function or(){if((Dt&2)!==0&&yt!==0)return yt&-yt;if(L.T!==null){var l=Id;return l!==0?l:Mv()}return Wr()}function Fj(){kr===0&&(kr=(yt&536870912)===0||Et?ai():536870912);var l=Cr.current;return l!==null&&(l.flags|=32),kr}function lr(l,u,m){(l===Vt&&(Bt===2||Bt===9)||l.cancelPendingCommit!==null)&&(Qd(l,0),zo(l,yt,kr,!1)),bn(l,m),((Dt&2)===0||l!==Vt)&&(l===Vt&&((Dt&2)===0&&(dc|=m),fs===4&&zo(l,yt,kr,!1)),Da(l))}function zj(l,u,m){if((Dt&6)!==0)throw Error(r(327));var b=!m&&(u&124)===0&&(u&l.expiredLanes)===0||xr(l,u),N=b?PB(l,u):Ev(l,u,!0),T=b;do{if(N===0){Gd&&!b&&zo(l,u,0,!1);break}else{if(m=l.current.alternate,T&&!LB(m)){N=Ev(l,u,!1),T=!1;continue}if(N===2){if(T=u,l.errorRecoveryDisabledLanes&T)var P=0;else P=l.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){u=P;e:{var q=l;N=Eh;var te=q.current.memoizedState.isDehydrated;if(te&&(Qd(q,P).flags|=256),P=Ev(q,P,!1),P!==2){if(bv&&!te){q.errorRecoveryDisabledLanes|=T,dc|=T,N=4;break e}T=Fn,Fn=N,T!==null&&(Fn===null?Fn=T:Fn.push.apply(Fn,T))}N=P}if(T=!1,N!==2)continue}}if(N===1){Qd(l,0),zo(l,u,0,!0);break}e:{switch(b=l,T=N,T){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:zo(b,u,kr,!Lo);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(N=wv+300-ue(),10<N)){if(zo(b,u,kr,!Lo),Tn(b,0,!0)!==0)break e;b.timeoutHandle=x6(Uj.bind(null,b,m,Fn,Ax,yv,u,kr,dc,qd,Lo,T,2,-0,0),N);break e}Uj(b,m,Fn,Ax,yv,u,kr,dc,qd,Lo,T,0,-0,0)}}break}while(!0);Da(l)}function Uj(l,u,m,b,N,T,P,q,te,fe,we,Ee,xe,ge){if(l.timeoutHandle=-1,Ee=u.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(Ih={stylesheets:null,count:0,unsuspend:p_},_j(u),Ee=v_(),Ee!==null)){l.cancelPendingCommit=Ee(Yj.bind(null,l,u,T,m,b,N,P,q,te,we,1,xe,ge)),zo(l,T,P,!fe);return}Yj(l,u,T,m,b,N,P,q,te)}function LB(l){for(var u=l;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var N=m[b],T=N.getSnapshot;N=N.value;try{if(!sr(T(),N))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function zo(l,u,m,b){u&=~vv,u&=~dc,l.suspendedLanes|=u,l.pingedLanes&=~u,b&&(l.warmLanes|=u),b=l.expirationTimes;for(var N=u;0<N;){var T=31-$e(N),P=1<<T;b[T]=-1,N&=~P}m!==0&&pr(l,m,u)}function Ex(){return(Dt&6)===0?(Th(0),!1):!0}function kv(){if(ht!==null){if(Bt===0)var l=ht.return;else l=ht,gi=rc=null,$1(l),Ud=null,vh=0,l=ht;for(;l!==null;)yj(l.alternate,l),l=l.return;ht=null}}function Qd(l,u){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,e_(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),kv(),Vt=l,ht=m=fi(l.current,null),yt=u,Bt=0,ir=null,Lo=!1,Gd=xr(l,u),bv=!1,qd=kr=vv=dc=Oo=fs=0,Fn=Eh=null,yv=!1,(u&8)!==0&&(u|=u&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=u;0<b;){var N=31-$e(b),T=1<<N;u|=l[N],b&=~T}return Ci=u,Qm(),m}function $j(l,u){ct=null,L.H=mx,u===dh||u===rx?(u=a3(),Bt=3):u===s3?(u=a3(),Bt=4):Bt=u===ij?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ir=u,ht===null&&(fs=1,vx(l,yr(u,l.current)))}function Hj(){var l=L.H;return L.H=mx,l===null?mx:l}function Vj(){var l=L.A;return L.A=_B,l}function Av(){fs=4,Lo||(yt&4194048)!==yt&&Cr.current!==null||(Gd=!0),(Oo&134217727)===0&&(dc&134217727)===0||Vt===null||zo(Vt,yt,kr,!1)}function Ev(l,u,m){var b=Dt;Dt|=2;var N=Hj(),T=Vj();(Vt!==l||yt!==u)&&(Ax=null,Qd(l,u)),u=!1;var P=fs;e:do try{if(Bt!==0&&ht!==null){var q=ht,te=ir;switch(Bt){case 8:kv(),P=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(u=!0);var fe=Bt;if(Bt=0,ir=null,Kd(l,q,te,fe),m&&Gd){P=0;break e}break;default:fe=Bt,Bt=0,ir=null,Kd(l,q,te,fe)}}OB(),P=fs;break}catch(we){$j(l,we)}while(!0);return u&&l.shellSuspendCounter++,gi=rc=null,Dt=b,L.H=N,L.A=T,ht===null&&(Vt=null,yt=0,Qm()),P}function OB(){for(;ht!==null;)Gj(ht)}function PB(l,u){var m=Dt;Dt|=2;var b=Hj(),N=Vj();Vt!==l||yt!==u?(Ax=null,kx=ue()+500,Qd(l,u)):Gd=xr(l,u);e:do try{if(Bt!==0&&ht!==null){u=ht;var T=ir;t:switch(Bt){case 1:Bt=0,ir=null,Kd(l,u,T,1);break;case 2:case 9:if(n3(T)){Bt=0,ir=null,qj(u);break}u=function(){Bt!==2&&Bt!==9||Vt!==l||(Bt=7),Da(l)},T.then(u,u);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:n3(T)?(Bt=0,ir=null,qj(u)):(Bt=0,ir=null,Kd(l,u,T,7));break;case 5:var P=null;switch(ht.tag){case 26:P=ht.memoizedState;case 5:case 27:var q=ht;if(!P||E6(P)){Bt=0,ir=null;var te=q.sibling;if(te!==null)ht=te;else{var fe=q.return;fe!==null?(ht=fe,Sx(fe)):ht=null}break t}}Bt=0,ir=null,Kd(l,u,T,5);break;case 6:Bt=0,ir=null,Kd(l,u,T,6);break;case 8:kv(),fs=6;break e;default:throw Error(r(462))}}FB();break}catch(we){$j(l,we)}while(!0);return gi=rc=null,L.H=b,L.A=N,Dt=m,ht!==null?0:(Vt=null,yt=0,Qm(),fs)}function FB(){for(;ht!==null&&!Ae();)Gj(ht)}function Gj(l){var u=bj(l.alternate,l,Ci);l.memoizedProps=l.pendingProps,u===null?Sx(l):ht=u}function qj(l){var u=l,m=u.alternate;switch(u.tag){case 15:case 0:u=hj(m,u,u.pendingProps,u.type,void 0,yt);break;case 11:u=hj(m,u,u.pendingProps,u.type.render,u.ref,yt);break;case 5:$1(u);default:yj(m,u),u=ht=WN(u,Ci),u=bj(m,u,Ci)}l.memoizedProps=l.pendingProps,u===null?Sx(l):ht=u}function Kd(l,u,m,b){gi=rc=null,$1(u),Ud=null,vh=0;var N=u.return;try{if(SB(l,N,u,m,yt)){fs=1,vx(l,yr(m,l.current)),ht=null;return}}catch(T){if(N!==null)throw ht=N,T;fs=1,vx(l,yr(m,l.current)),ht=null;return}u.flags&32768?(Et||b===1?l=!0:Gd||(yt&536870912)!==0?l=!1:(Lo=l=!0,(b===2||b===9||b===3||b===6)&&(b=Cr.current,b!==null&&b.tag===13&&(b.flags|=16384))),Wj(u,l)):Sx(u)}function Sx(l){var u=l;do{if((u.flags&32768)!==0){Wj(u,Lo);return}l=u.return;var m=RB(u.alternate,u,Ci);if(m!==null){ht=m;return}if(u=u.sibling,u!==null){ht=u;return}ht=u=l}while(u!==null);fs===0&&(fs=5)}function Wj(l,u){do{var m=MB(l.alternate,l);if(m!==null){m.flags&=32767,ht=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(l=l.sibling,l!==null)){ht=l;return}ht=l=m}while(l!==null);fs=6,ht=null}function Yj(l,u,m,b,N,T,P,q,te){l.cancelPendingCommit=null;do Tx();while(Ys!==0);if((Dt&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(T=u.lanes|u.childLanes,T|=p1,Mn(l,m,T,P,q,te),l===Vt&&(ht=Vt=null,yt=0),Wd=u,Fo=l,Yd=m,Nv=T,jv=N,Pj=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,HB(Se,function(){return Jj(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=L.T,L.T=null,N=V.p,V.p=2,P=Dt,Dt|=4;try{DB(l,u,m)}finally{Dt=P,V.p=N,L.T=b}}Ys=1,Qj(),Kj(),Xj()}}function Qj(){if(Ys===1){Ys=0;var l=Fo,u=Wd,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=L.T,L.T=null;var b=V.p;V.p=2;var N=Dt;Dt|=4;try{Mj(u,l);var T=Fv,P=ON(l.containerInfo),q=T.focusedElem,te=T.selectionRange;if(P!==q&&q&&q.ownerDocument&&LN(q.ownerDocument.documentElement,q)){if(te!==null&&h1(q)){var fe=te.start,we=te.end;if(we===void 0&&(we=fe),"selectionStart"in q)q.selectionStart=fe,q.selectionEnd=Math.min(we,q.value.length);else{var Ee=q.ownerDocument||document,xe=Ee&&Ee.defaultView||window;if(xe.getSelection){var ge=xe.getSelection(),Qe=q.textContent.length,qe=Math.min(te.start,Qe),Pt=te.end===void 0?qe:Math.min(te.end,Qe);!ge.extend&&qe>Pt&&(P=Pt,Pt=qe,qe=P);var ce=IN(q,qe),ae=IN(q,Pt);if(ce&&ae&&(ge.rangeCount!==1||ge.anchorNode!==ce.node||ge.anchorOffset!==ce.offset||ge.focusNode!==ae.node||ge.focusOffset!==ae.offset)){var he=Ee.createRange();he.setStart(ce.node,ce.offset),ge.removeAllRanges(),qe>Pt?(ge.addRange(he),ge.extend(ae.node,ae.offset)):(he.setEnd(ae.node,ae.offset),ge.addRange(he))}}}}for(Ee=[],ge=q;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ee.length;q++){var Ce=Ee[q];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Ux=!!Pv,Fv=Pv=null}finally{Dt=N,V.p=b,L.T=m}}l.current=u,Ys=2}}function Kj(){if(Ys===2){Ys=0;var l=Fo,u=Wd,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=L.T,L.T=null;var b=V.p;V.p=2;var N=Dt;Dt|=4;try{Ej(l,u.alternate,u)}finally{Dt=N,V.p=b,L.T=m}}Ys=3}}function Xj(){if(Ys===4||Ys===3){Ys=0,Be();var l=Fo,u=Wd,m=Yd,b=Pj;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ys=5:(Ys=0,Wd=Fo=null,Zj(l,l.pendingLanes));var N=l.pendingLanes;if(N===0&&(Po=null),qr(m),u=u.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Pe,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=L.T,N=V.p,V.p=2,L.T=null;try{for(var T=l.onRecoverableError,P=0;P<b.length;P++){var q=b[P];T(q.value,{componentStack:q.stack})}}finally{L.T=u,V.p=N}}(Yd&3)!==0&&Tx(),Da(l),N=l.pendingLanes,(m&4194090)!==0&&(N&42)!==0?l===Cv?Sh++:(Sh=0,Cv=l):Sh=0,Th(0)}}function Zj(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,lh(u)))}function Tx(l){return Qj(),Kj(),Xj(),Jj()}function Jj(){if(Ys!==5)return!1;var l=Fo,u=Nv;Nv=0;var m=qr(Yd),b=L.T,N=V.p;try{V.p=32>m?32:m,L.T=null,m=jv,jv=null;var T=Fo,P=Yd;if(Ys=0,Wd=Fo=null,Yd=0,(Dt&6)!==0)throw Error(r(331));var q=Dt;if(Dt|=4,Lj(T.current),Bj(T,T.current,P,m),Dt=q,Th(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Pe,T)}catch{}return!0}finally{V.p=N,L.T=b,Zj(l,u)}}function e6(l,u,m){u=yr(m,u),u=sv(l.stateNode,u,2),l=To(l,u,2),l!==null&&(bn(l,2),Da(l))}function $t(l,u,m){if(l.tag===3)e6(l,l,m);else for(;u!==null;){if(u.tag===3){e6(u,l,m);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b))){l=yr(m,l),m=rj(2),b=To(u,m,2),b!==null&&(aj(m,b,u,l),bn(b,2),Da(b));break}}u=u.return}}function Sv(l,u,m){var b=l.pingCache;if(b===null){b=l.pingCache=new IB;var N=new Set;b.set(u,N)}else N=b.get(u),N===void 0&&(N=new Set,b.set(u,N));N.has(m)||(bv=!0,N.add(m),l=zB.bind(null,l,u,m),u.then(l,l))}function zB(l,u,m){var b=l.pingCache;b!==null&&b.delete(u),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,Vt===l&&(yt&m)===m&&(fs===4||fs===3&&(yt&62914560)===yt&&300>ue()-wv?(Dt&2)===0&&Qd(l,0):vv|=m,qd===yt&&(qd=0)),Da(l)}function t6(l,u){u===0&&(u=Rn()),l=Md(l,u),l!==null&&(bn(l,u),Da(l))}function UB(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),t6(l,m)}function $B(l,u){var m=0;switch(l.tag){case 13:var b=l.stateNode,N=l.memoizedState;N!==null&&(m=N.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(u),t6(l,m)}function HB(l,u){return me(l,u)}var Rx=null,Xd=null,Tv=!1,Mx=!1,Rv=!1,uc=0;function Da(l){l!==Xd&&l.next===null&&(Xd===null?Rx=Xd=l:Xd=Xd.next=l),Mx=!0,Tv||(Tv=!0,GB())}function Th(l,u){if(!Rv&&Mx){Rv=!0;do for(var m=!1,b=Rx;b!==null;){if(l!==0){var N=b.pendingLanes;if(N===0)var T=0;else{var P=b.suspendedLanes,q=b.pingedLanes;T=(1<<31-$e(42|l)+1)-1,T&=N&~(P&~q),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,a6(b,T))}else T=yt,T=Tn(b,b===Vt?T:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(T&3)===0||xr(b,T)||(m=!0,a6(b,T));b=b.next}while(m);Rv=!1}}function VB(){s6()}function s6(){Mx=Tv=!1;var l=0;uc!==0&&(JB()&&(l=uc),uc=0);for(var u=ue(),m=null,b=Rx;b!==null;){var N=b.next,T=n6(b,u);T===0?(b.next=null,m===null?Rx=N:m.next=N,N===null&&(Xd=m)):(m=b,(l!==0||(T&3)!==0)&&(Mx=!0)),b=N}Th(l)}function n6(l,u){for(var m=l.suspendedLanes,b=l.pingedLanes,N=l.expirationTimes,T=l.pendingLanes&-62914561;0<T;){var P=31-$e(T),q=1<<P,te=N[P];te===-1?((q&m)===0||(q&b)!==0)&&(N[P]=Gr(q,u)):te<=u&&(l.expiredLanes|=q),T&=~q}if(u=Vt,m=yt,m=Tn(l,l===u?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,m===0||l===u&&(Bt===2||Bt===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&ve(b),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||xr(l,m)){if(u=m&-m,u===l.callbackPriority)return u;switch(b!==null&&ve(b),qr(m)){case 2:case 8:m=je;break;case 32:m=Se;break;case 268435456:m=De;break;default:m=Se}return b=r6.bind(null,l),m=me(m,b),l.callbackPriority=u,l.callbackNode=m,u}return b!==null&&b!==null&&ve(b),l.callbackPriority=2,l.callbackNode=null,2}function r6(l,u){if(Ys!==0&&Ys!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(Tx()&&l.callbackNode!==m)return null;var b=yt;return b=Tn(l,l===Vt?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(zj(l,b,u),n6(l,ue()),l.callbackNode!=null&&l.callbackNode===m?r6.bind(null,l):null)}function a6(l,u){if(Tx())return null;zj(l,u,!0)}function GB(){t_(function(){(Dt&6)!==0?me(ye,VB):s6()})}function Mv(){return uc===0&&(uc=ai()),uc}function i6(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:tr(""+l)}function o6(l,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,l.id&&m.setAttribute("form",l.id),u.parentNode.insertBefore(m,u),l=new FormData(l),m.parentNode.removeChild(m),l}function qB(l,u,m,b,N){if(u==="submit"&&m&&m.stateNode===N){var T=i6((N[gt]||null).action),P=b.submitter;P&&(u=(u=P[gt]||null)?i6(u.formAction):P.getAttribute("formAction"),u!==null&&(T=u,P=null));var q=new qm("action","action",null,b,N);l.push({event:q,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(uc!==0){var te=P?o6(N,P):new FormData(N);X1(m,{pending:!0,data:te,method:N.method,action:T},null,te)}}else typeof T=="function"&&(q.preventDefault(),te=P?o6(N,P):new FormData(N),X1(m,{pending:!0,data:te,method:N.method,action:T},T,te))},currentTarget:N}]})}}for(var Dv=0;Dv<g1.length;Dv++){var Bv=g1[Dv],WB=Bv.toLowerCase(),YB=Bv[0].toUpperCase()+Bv.slice(1);Xr(WB,"on"+YB)}Xr(zN,"onAnimationEnd"),Xr(UN,"onAnimationIteration"),Xr($N,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(uB,"onTransitionRun"),Xr(hB,"onTransitionStart"),Xr(fB,"onTransitionCancel"),Xr(HN,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rh));function l6(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var b=l[m],N=b.event;b=b.listeners;e:{var T=void 0;if(u)for(var P=b.length-1;0<=P;P--){var q=b[P],te=q.instance,fe=q.currentTarget;if(q=q.listener,te!==T&&N.isPropagationStopped())break e;T=q,N.currentTarget=fe;try{T(N)}catch(we){bx(we)}N.currentTarget=null,T=te}else for(P=0;P<b.length;P++){if(q=b[P],te=q.instance,fe=q.currentTarget,q=q.listener,te!==T&&N.isPropagationStopped())break e;T=q,N.currentTarget=fe;try{T(N)}catch(we){bx(we)}N.currentTarget=null,T=te}}}}function ft(l,u){var m=u[Yn];m===void 0&&(m=u[Yn]=new Set);var b=l+"__bubble";m.has(b)||(c6(u,l,2,!1),m.add(b))}function _v(l,u,m){var b=0;u&&(b|=4),c6(m,l,b,u)}var Dx="_reactListening"+Math.random().toString(36).slice(2);function Iv(l){if(!l[Dx]){l[Dx]=!0,Yl.forEach(function(m){m!=="selectionchange"&&(QB.has(m)||_v(m,!1,l),_v(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Dx]||(u[Dx]=!0,_v("selectionchange",!1,u))}}function c6(l,u,m,b){switch(B6(u)){case 2:var N=N_;break;case 8:N=j_;break;default:N=Qv}m=N.bind(null,u,m,l),N=void 0,!n1||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),b?N!==void 0?l.addEventListener(u,m,{capture:!0,passive:N}):l.addEventListener(u,m,!0):N!==void 0?l.addEventListener(u,m,{passive:N}):l.addEventListener(u,m,!1)}function Lv(l,u,m,b,N){var T=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var P=b.tag;if(P===3||P===4){var q=b.stateNode.containerInfo;if(q===N)break;if(P===4)for(P=b.return;P!==null;){var te=P.tag;if((te===3||te===4)&&P.stateNode.containerInfo===N)return;P=P.return}for(;q!==null;){if(P=Kn(q),P===null)return;if(te=P.tag,te===5||te===6||te===26||te===27){b=T=P;continue e}q=q.parentNode}}b=b.return}Ql(function(){var fe=T,we=yn(m),Ee=[];e:{var xe=VN.get(l);if(xe!==void 0){var ge=qm,Qe=l;switch(l){case"keypress":if(Vm(m)===0)break e;case"keydown":case"keyup":ge=HD;break;case"focusin":Qe="focus",ge=o1;break;case"focusout":Qe="blur",ge=o1;break;case"beforeblur":case"afterblur":ge=o1;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=vN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=qD;break;case zN:case UN:case $N:ge=_D;break;case HN:ge=YD;break;case"scroll":case"scrollend":ge=TD;break;case"wheel":ge=KD;break;case"copy":case"cut":case"paste":ge=LD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=wN;break;case"toggle":case"beforetoggle":ge=ZD}var qe=(u&4)!==0,Pt=!qe&&(l==="scroll"||l==="scrollend"),ce=qe?xe!==null?xe+"Capture":null:xe;qe=[];for(var ae=fe,he;ae!==null;){var Ce=ae;if(he=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||he===null||ce===null||(Ce=Ea(ae,ce),Ce!=null&&qe.push(Mh(ae,Ce,he))),Pt)break;ae=ae.return}0<qe.length&&(xe=new ge(xe,Qe,null,m,we),Ee.push({event:xe,listeners:qe}))}}if((u&7)===0){e:{if(xe=l==="mouseover"||l==="pointerover",ge=l==="mouseout"||l==="pointerout",xe&&m!==Co&&(Qe=m.relatedTarget||m.fromElement)&&(Kn(Qe)||Qe[As]))break e;if((ge||xe)&&(xe=we.window===we?we:(xe=we.ownerDocument)?xe.defaultView||xe.parentWindow:window,ge?(Qe=m.relatedTarget||m.toElement,ge=fe,Qe=Qe?Kn(Qe):null,Qe!==null&&(Pt=i(Qe),qe=Qe.tag,Qe!==Pt||qe!==5&&qe!==27&&qe!==6)&&(Qe=null)):(ge=null,Qe=fe),ge!==Qe)){if(qe=vN,Ce="onMouseLeave",ce="onMouseEnter",ae="mouse",(l==="pointerout"||l==="pointerover")&&(qe=wN,Ce="onPointerLeave",ce="onPointerEnter",ae="pointer"),Pt=ge==null?xe:Xn(ge),he=Qe==null?xe:Xn(Qe),xe=new qe(Ce,ae+"leave",ge,m,we),xe.target=Pt,xe.relatedTarget=he,Ce=null,Kn(we)===fe&&(qe=new qe(ce,ae+"enter",Qe,m,we),qe.target=he,qe.relatedTarget=Pt,Ce=qe),Pt=Ce,ge&&Qe)t:{for(qe=ge,ce=Qe,ae=0,he=qe;he;he=Zd(he))ae++;for(he=0,Ce=ce;Ce;Ce=Zd(Ce))he++;for(;0<ae-he;)qe=Zd(qe),ae--;for(;0<he-ae;)ce=Zd(ce),he--;for(;ae--;){if(qe===ce||ce!==null&&qe===ce.alternate)break t;qe=Zd(qe),ce=Zd(ce)}qe=null}else qe=null;ge!==null&&d6(Ee,xe,ge,qe,!1),Qe!==null&&Pt!==null&&d6(Ee,Pt,Qe,qe,!0)}}e:{if(xe=fe?Xn(fe):window,ge=xe.nodeName&&xe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&xe.type==="file")var Fe=TN;else if(EN(xe))if(RN)Fe=lB;else{Fe=iB;var dt=aB}else ge=xe.nodeName,!ge||ge.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?fe&&It(fe.elementType)&&(Fe=TN):Fe=oB;if(Fe&&(Fe=Fe(l,fe))){SN(Ee,Fe,m,we);break e}dt&&dt(l,xe,fe),l==="focusout"&&fe&&xe.type==="number"&&fe.memoizedProps.value!=null&&Qu(xe,"number",xe.value)}switch(dt=fe?Xn(fe):window,l){case"focusin":(EN(dt)||dt.contentEditable==="true")&&(Sd=dt,f1=fe,nh=null);break;case"focusout":nh=f1=Sd=null;break;case"mousedown":m1=!0;break;case"contextmenu":case"mouseup":case"dragend":m1=!1,PN(Ee,m,we);break;case"selectionchange":if(dB)break;case"keydown":case"keyup":PN(Ee,m,we)}var He;if(c1)e:{switch(l){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ed?kN(l,m)&&(We="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(We="onCompositionStart");We&&(NN&&m.locale!=="ko"&&(Ed||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ed&&(He=pN()):(ko=we,r1="value"in ko?ko.value:ko.textContent,Ed=!0)),dt=Bx(fe,We),0<dt.length&&(We=new yN(We,l,null,m,we),Ee.push({event:We,listeners:dt}),He?We.data=He:(He=AN(m),He!==null&&(We.data=He)))),(He=eB?tB(l,m):sB(l,m))&&(We=Bx(fe,"onBeforeInput"),0<We.length&&(dt=new yN("onBeforeInput","beforeinput",null,m,we),Ee.push({event:dt,listeners:We}),dt.data=He)),qB(Ee,l,fe,m,we)}l6(Ee,u)})}function Mh(l,u,m){return{instance:l,listener:u,currentTarget:m}}function Bx(l,u){for(var m=u+"Capture",b=[];l!==null;){var N=l,T=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||T===null||(N=Ea(l,m),N!=null&&b.unshift(Mh(l,N,T)),N=Ea(l,u),N!=null&&b.push(Mh(l,N,T))),l.tag===3)return b;l=l.return}return[]}function Zd(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function d6(l,u,m,b,N){for(var T=u._reactName,P=[];m!==null&&m!==b;){var q=m,te=q.alternate,fe=q.stateNode;if(q=q.tag,te!==null&&te===b)break;q!==5&&q!==26&&q!==27||fe===null||(te=fe,N?(fe=Ea(m,T),fe!=null&&P.unshift(Mh(m,fe,te))):N||(fe=Ea(m,T),fe!=null&&P.push(Mh(m,fe,te)))),m=m.return}P.length!==0&&l.push({event:u,listeners:P})}var KB=/\r\n?/g,XB=/\u0000|\uFFFD/g;function u6(l){return(typeof l=="string"?l:""+l).replace(KB,`
`).replace(XB,"")}function h6(l,u){return u=u6(u),u6(l)===u}function _x(){}function Ot(l,u,m,b,N,T){switch(m){case"children":typeof b=="string"?u==="body"||u==="textarea"&&b===""||ui(l,b):(typeof b=="number"||typeof b=="bigint")&&u!=="body"&&ui(l,""+b);break;case"className":Kr(l,"class",b);break;case"tabIndex":Kr(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(l,m,b);break;case"style":vt(l,b,T);break;case"data":if(u!=="object"){Kr(l,"data",b);break}case"src":case"href":if(b===""&&(u!=="a"||m!=="href")){l.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(m);break}b=tr(""+b),l.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(u!=="input"&&Ot(l,u,"name",N.name,N,null),Ot(l,u,"formEncType",N.formEncType,N,null),Ot(l,u,"formMethod",N.formMethod,N,null),Ot(l,u,"formTarget",N.formTarget,N,null)):(Ot(l,u,"encType",N.encType,N,null),Ot(l,u,"method",N.method,N,null),Ot(l,u,"target",N.target,N,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(m);break}b=tr(""+b),l.setAttribute(m,b);break;case"onClick":b!=null&&(l.onclick=_x);break;case"onScroll":b!=null&&ft("scroll",l);break;case"onScrollEnd":b!=null&&ft("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(N.children!=null)throw Error(r(60));l.innerHTML=m}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}m=tr(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(m,""+b):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":b===!0?l.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(m,b):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(m,b):l.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(m):l.setAttribute(m,b);break;case"popover":ft("beforetoggle",l),ft("toggle",l),Na(l,"popover",b);break;case"xlinkActuate":_n(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":_n(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":_n(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":_n(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":_n(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":_n(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":_n(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":_n(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":_n(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Na(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Ut.get(m)||m,Na(l,m,b))}}function Ov(l,u,m,b,N,T){switch(m){case"style":vt(l,b,T);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(N.children!=null)throw Error(r(60));l.innerHTML=m}}break;case"children":typeof b=="string"?ui(l,b):(typeof b=="number"||typeof b=="bigint")&&ui(l,""+b);break;case"onScroll":b!=null&&ft("scroll",l);break;case"onScrollEnd":b!=null&&ft("scrollend",l);break;case"onClick":b!=null&&(l.onclick=_x);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(N=m.endsWith("Capture"),u=m.slice(2,N?m.length-7:void 0),T=l[gt]||null,T=T!=null?T[m]:null,typeof T=="function"&&l.removeEventListener(u,T,N),typeof b=="function")){typeof T!="function"&&T!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(u,b,N);break e}m in l?l[m]=b:b===!0?l.setAttribute(m,""):Na(l,m,b)}}}function Qs(l,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",l),ft("load",l);var b=!1,N=!1,T;for(T in m)if(m.hasOwnProperty(T)){var P=m[T];if(P!=null)switch(T){case"src":b=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ot(l,u,T,P,m,null)}}N&&Ot(l,u,"srcSet",m.srcSet,m,null),b&&Ot(l,u,"src",m.src,m,null);return;case"input":ft("invalid",l);var q=T=P=N=null,te=null,fe=null;for(b in m)if(m.hasOwnProperty(b)){var we=m[b];if(we!=null)switch(b){case"name":N=we;break;case"type":P=we;break;case"checked":te=we;break;case"defaultChecked":fe=we;break;case"value":T=we;break;case"defaultValue":q=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,u));break;default:Ot(l,u,b,we,m,null)}}zm(l,T,q,te,fe,P,N,!1),er(l);return;case"select":ft("invalid",l),b=P=T=null;for(N in m)if(m.hasOwnProperty(N)&&(q=m[N],q!=null))switch(N){case"value":T=q;break;case"defaultValue":P=q;break;case"multiple":b=q;default:Ot(l,u,N,q,m,null)}u=T,m=P,l.multiple=!!b,u!=null?ka(l,!!b,u,!1):m!=null&&ka(l,!!b,m,!0);return;case"textarea":ft("invalid",l),T=N=b=null;for(P in m)if(m.hasOwnProperty(P)&&(q=m[P],q!=null))switch(P){case"value":b=q;break;case"defaultValue":N=q;break;case"children":T=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Ot(l,u,P,q,m,null)}$m(l,b,N,T),er(l);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(b=m[te],b!=null))switch(te){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Ot(l,u,te,b,m,null)}return;case"dialog":ft("beforetoggle",l),ft("toggle",l),ft("cancel",l),ft("close",l);break;case"iframe":case"object":ft("load",l);break;case"video":case"audio":for(b=0;b<Rh.length;b++)ft(Rh[b],l);break;case"image":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"embed":case"source":case"link":ft("error",l),ft("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in m)if(m.hasOwnProperty(fe)&&(b=m[fe],b!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ot(l,u,fe,b,m,null)}return;default:if(It(u)){for(we in m)m.hasOwnProperty(we)&&(b=m[we],b!==void 0&&Ov(l,u,we,b,m,void 0));return}}for(q in m)m.hasOwnProperty(q)&&(b=m[q],b!=null&&Ot(l,u,q,b,m,null))}function ZB(l,u,m,b){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,T=null,P=null,q=null,te=null,fe=null,we=null;for(ge in m){var Ee=m[ge];if(m.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":te=Ee;default:b.hasOwnProperty(ge)||Ot(l,u,ge,null,b,Ee)}}for(var xe in b){var ge=b[xe];if(Ee=m[xe],b.hasOwnProperty(xe)&&(ge!=null||Ee!=null))switch(xe){case"type":T=ge;break;case"name":N=ge;break;case"checked":fe=ge;break;case"defaultChecked":we=ge;break;case"value":P=ge;break;case"defaultValue":q=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,u));break;default:ge!==Ee&&Ot(l,u,xe,ge,b,Ee)}}Yu(l,P,q,te,fe,we,T,N);return;case"select":ge=P=q=xe=null;for(T in m)if(te=m[T],m.hasOwnProperty(T)&&te!=null)switch(T){case"value":break;case"multiple":ge=te;default:b.hasOwnProperty(T)||Ot(l,u,T,null,b,te)}for(N in b)if(T=b[N],te=m[N],b.hasOwnProperty(N)&&(T!=null||te!=null))switch(N){case"value":xe=T;break;case"defaultValue":q=T;break;case"multiple":P=T;default:T!==te&&Ot(l,u,N,T,b,te)}u=q,m=P,b=ge,xe!=null?ka(l,!!m,xe,!1):!!b!=!!m&&(u!=null?ka(l,!!m,u,!0):ka(l,!!m,m?[]:"",!1));return;case"textarea":ge=xe=null;for(q in m)if(N=m[q],m.hasOwnProperty(q)&&N!=null&&!b.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Ot(l,u,q,null,b,N)}for(P in b)if(N=b[P],T=m[P],b.hasOwnProperty(P)&&(N!=null||T!=null))switch(P){case"value":xe=N;break;case"defaultValue":ge=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==T&&Ot(l,u,P,N,b,T)}Um(l,xe,ge);return;case"option":for(var Qe in m)if(xe=m[Qe],m.hasOwnProperty(Qe)&&xe!=null&&!b.hasOwnProperty(Qe))switch(Qe){case"selected":l.selected=!1;break;default:Ot(l,u,Qe,null,b,xe)}for(te in b)if(xe=b[te],ge=m[te],b.hasOwnProperty(te)&&xe!==ge&&(xe!=null||ge!=null))switch(te){case"selected":l.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:Ot(l,u,te,xe,b,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in m)xe=m[qe],m.hasOwnProperty(qe)&&xe!=null&&!b.hasOwnProperty(qe)&&Ot(l,u,qe,null,b,xe);for(fe in b)if(xe=b[fe],ge=m[fe],b.hasOwnProperty(fe)&&xe!==ge&&(xe!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,u));break;default:Ot(l,u,fe,xe,b,ge)}return;default:if(It(u)){for(var Pt in m)xe=m[Pt],m.hasOwnProperty(Pt)&&xe!==void 0&&!b.hasOwnProperty(Pt)&&Ov(l,u,Pt,void 0,b,xe);for(we in b)xe=b[we],ge=m[we],!b.hasOwnProperty(we)||xe===ge||xe===void 0&&ge===void 0||Ov(l,u,we,xe,b,ge);return}}for(var ce in m)xe=m[ce],m.hasOwnProperty(ce)&&xe!=null&&!b.hasOwnProperty(ce)&&Ot(l,u,ce,null,b,xe);for(Ee in b)xe=b[Ee],ge=m[Ee],!b.hasOwnProperty(Ee)||xe===ge||xe==null&&ge==null||Ot(l,u,Ee,xe,b,ge)}var Pv=null,Fv=null;function Ix(l){return l.nodeType===9?l:l.ownerDocument}function f6(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m6(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function zv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Uv=null;function JB(){var l=window.event;return l&&l.type==="popstate"?l===Uv?!1:(Uv=l,!0):(Uv=null,!1)}var x6=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,g6=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof g6<"u"?function(l){return g6.resolve(null).then(l).catch(s_)}:x6;function s_(l){setTimeout(function(){throw l})}function Uo(l){return l==="head"}function p6(l,u){var m=u,b=0,N=0;do{var T=m.nextSibling;if(l.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(0<b&&8>b){m=b;var P=l.ownerDocument;if(m&1&&Dh(P.documentElement),m&2&&Dh(P.body),m&4)for(m=P.head,Dh(m),P=m.firstChild;P;){var q=P.nextSibling,te=P.nodeName;P[Qn]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=q}}if(N===0){l.removeChild(T),zh(u);return}N--}else m==="$"||m==="$?"||m==="$!"?N++:b=m.charCodeAt(0)-48;else b=0;m=T}while(m);zh(u)}function $v(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":$v(m),ii(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function n_(l,u,m,b){for(;l.nodeType===1;){var N=m;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[Qn])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(T=l.getAttribute("rel"),T==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(T!==N.rel||l.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||l.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||l.getAttribute("title")!==(N.title==null?null:N.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(T=l.getAttribute("src"),(T!==(N.src==null?null:N.src)||l.getAttribute("type")!==(N.type==null?null:N.type)||l.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&T&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var T=N.name==null?null:""+N.name;if(N.type==="hidden"&&l.getAttribute("name")===T)return l}else return l;if(l=Jr(l.nextSibling),l===null)break}return null}function r_(l,u,m){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=Jr(l.nextSibling),l===null))return null;return l}function Hv(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function a_(l,u){var m=l.ownerDocument;if(l.data!=="$?"||m.readyState==="complete")u();else{var b=function(){u(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function Jr(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var Vv=null;function b6(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}function v6(l,u,m){switch(u=Ix(m),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Dh(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);ii(l)}var Ar=new Map,y6=new Set;function Lx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ki=V.d;V.d={f:i_,r:o_,D:l_,C:c_,L:d_,m:u_,X:f_,S:h_,M:m_};function i_(){var l=ki.f(),u=Ex();return l||u}function o_(l){var u=Yr(l);u!==null&&u.tag===5&&u.type==="form"?z3(u):ki.r(l)}var Jd=typeof document>"u"?null:document;function w6(l,u,m){var b=Jd;if(b&&typeof u=="string"&&u){var N=In(u);N='link[rel="'+l+'"][href="'+N+'"]',typeof m=="string"&&(N+='[crossorigin="'+m+'"]'),y6.has(N)||(y6.add(N),l={rel:l,crossOrigin:m,href:u},b.querySelector(N)===null&&(u=b.createElement("link"),Qs(u,"link",l),qt(u),b.head.appendChild(u)))}}function l_(l){ki.D(l),w6("dns-prefetch",l,null)}function c_(l,u){ki.C(l,u),w6("preconnect",l,u)}function d_(l,u,m){ki.L(l,u,m);var b=Jd;if(b&&l&&u){var N='link[rel="preload"][as="'+In(u)+'"]';u==="image"&&m&&m.imageSrcSet?(N+='[imagesrcset="'+In(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(N+='[imagesizes="'+In(m.imageSizes)+'"]')):N+='[href="'+In(l)+'"]';var T=N;switch(u){case"style":T=e0(l);break;case"script":T=t0(l)}Ar.has(T)||(l=f({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:l,as:u},m),Ar.set(T,l),b.querySelector(N)!==null||u==="style"&&b.querySelector(Bh(T))||u==="script"&&b.querySelector(_h(T))||(u=b.createElement("link"),Qs(u,"link",l),qt(u),b.head.appendChild(u)))}}function u_(l,u){ki.m(l,u);var m=Jd;if(m&&l){var b=u&&typeof u.as=="string"?u.as:"script",N='link[rel="modulepreload"][as="'+In(b)+'"][href="'+In(l)+'"]',T=N;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=t0(l)}if(!Ar.has(T)&&(l=f({rel:"modulepreload",href:l},u),Ar.set(T,l),m.querySelector(N)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(_h(T)))return}b=m.createElement("link"),Qs(b,"link",l),qt(b),m.head.appendChild(b)}}}function h_(l,u,m){ki.S(l,u,m);var b=Jd;if(b&&l){var N=Bn(b).hoistableStyles,T=e0(l);u=u||"default";var P=N.get(T);if(!P){var q={loading:0,preload:null};if(P=b.querySelector(Bh(T)))q.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},m),(m=Ar.get(T))&&Gv(l,m);var te=P=b.createElement("link");qt(te),Qs(te,"link",l),te._p=new Promise(function(fe,we){te.onload=fe,te.onerror=we}),te.addEventListener("load",function(){q.loading|=1}),te.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Ox(P,u,b)}P={type:"stylesheet",instance:P,count:1,state:q},N.set(T,P)}}}function f_(l,u){ki.X(l,u);var m=Jd;if(m&&l){var b=Bn(m).hoistableScripts,N=t0(l),T=b.get(N);T||(T=m.querySelector(_h(N)),T||(l=f({src:l,async:!0},u),(u=Ar.get(N))&&qv(l,u),T=m.createElement("script"),qt(T),Qs(T,"link",l),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},b.set(N,T))}}function m_(l,u){ki.M(l,u);var m=Jd;if(m&&l){var b=Bn(m).hoistableScripts,N=t0(l),T=b.get(N);T||(T=m.querySelector(_h(N)),T||(l=f({src:l,async:!0,type:"module"},u),(u=Ar.get(N))&&qv(l,u),T=m.createElement("script"),qt(T),Qs(T,"link",l),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},b.set(N,T))}}function N6(l,u,m,b){var N=(N=Z.current)?Lx(N):null;if(!N)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=e0(m.href),m=Bn(N).hoistableStyles,b=m.get(u),b||(b={type:"style",instance:null,count:0,state:null},m.set(u,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=e0(m.href);var T=Bn(N).hoistableStyles,P=T.get(l);if(P||(N=N.ownerDocument||N,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(l,P),(T=N.querySelector(Bh(l)))&&!T._p&&(P.instance=T,P.state.loading=5),Ar.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ar.set(l,m),T||x_(N,l,m,P.state))),u&&b===null)throw Error(r(528,""));return P}if(u&&b!==null)throw Error(r(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=t0(m),m=Bn(N).hoistableScripts,b=m.get(u),b||(b={type:"script",instance:null,count:0,state:null},m.set(u,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function e0(l){return'href="'+In(l)+'"'}function Bh(l){return'link[rel="stylesheet"]['+l+"]"}function j6(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function x_(l,u,m,b){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?b.loading=1:(u=l.createElement("link"),b.preload=u,u.addEventListener("load",function(){return b.loading|=1}),u.addEventListener("error",function(){return b.loading|=2}),Qs(u,"link",m),qt(u),l.head.appendChild(u))}function t0(l){return'[src="'+In(l)+'"]'}function _h(l){return"script[async]"+l}function C6(l,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var b=l.querySelector('style[data-href~="'+In(m.href)+'"]');if(b)return u.instance=b,qt(b),b;var N=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),qt(b),Qs(b,"style",N),Ox(b,m.precedence,l),u.instance=b;case"stylesheet":N=e0(m.href);var T=l.querySelector(Bh(N));if(T)return u.state.loading|=4,u.instance=T,qt(T),T;b=j6(m),(N=Ar.get(N))&&Gv(b,N),T=(l.ownerDocument||l).createElement("link"),qt(T);var P=T;return P._p=new Promise(function(q,te){P.onload=q,P.onerror=te}),Qs(T,"link",b),u.state.loading|=4,Ox(T,m.precedence,l),u.instance=T;case"script":return T=t0(m.src),(N=l.querySelector(_h(T)))?(u.instance=N,qt(N),N):(b=m,(N=Ar.get(T))&&(b=f({},m),qv(b,N)),l=l.ownerDocument||l,N=l.createElement("script"),qt(N),Qs(N,"link",b),l.head.appendChild(N),u.instance=N);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(b=u.instance,u.state.loading|=4,Ox(b,m.precedence,l));return u.instance}function Ox(l,u,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=b.length?b[b.length-1]:null,T=N,P=0;P<b.length;P++){var q=b[P];if(q.dataset.precedence===u)T=q;else if(T!==N)break}T?T.parentNode.insertBefore(l,T.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(l,u.firstChild))}function Gv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function qv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Px=null;function k6(l,u,m){if(Px===null){var b=new Map,N=Px=new Map;N.set(m,b)}else N=Px,b=N.get(m),b||(b=new Map,N.set(m,b));if(b.has(l))return b;for(b.set(l,null),m=m.getElementsByTagName(l),N=0;N<m.length;N++){var T=m[N];if(!(T[Qn]||T[Zt]||l==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(u)||"";P=l+P;var q=b.get(P);q?q.push(T):b.set(P,[T])}}return b}function A6(l,u,m){l=l.ownerDocument||l,l.head.insertBefore(m,u==="title"?l.querySelector("head > title"):null)}function g_(l,u,m){if(m===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function E6(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Ih=null;function p_(){}function b_(l,u,m){if(Ih===null)throw Error(r(475));var b=Ih;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var N=e0(m.href),T=l.querySelector(Bh(N));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(b.count++,b=Fx.bind(b),l.then(b,b)),u.state.loading|=4,u.instance=T,qt(T);return}T=l.ownerDocument||l,m=j6(m),(N=Ar.get(N))&&Gv(m,N),T=T.createElement("link"),qt(T);var P=T;P._p=new Promise(function(q,te){P.onload=q,P.onerror=te}),Qs(T,"link",m),u.instance=T}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(b.count++,u=Fx.bind(b),l.addEventListener("load",u),l.addEventListener("error",u))}}function v_(){if(Ih===null)throw Error(r(475));var l=Ih;return l.stylesheets&&l.count===0&&Wv(l,l.stylesheets),0<l.count?function(u){var m=setTimeout(function(){if(l.stylesheets&&Wv(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(m)}}:null}function Fx(){if(this.count--,this.count===0){if(this.stylesheets)Wv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var zx=null;function Wv(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,zx=new Map,u.forEach(y_,l),zx=null,Fx.call(l))}function y_(l,u){if(!(u.state.loading&4)){var m=zx.get(l);if(m)var b=m.get(null);else{m=new Map,zx.set(l,m);for(var N=l.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<N.length;T++){var P=N[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(m.set(P.dataset.precedence,P),b=P)}b&&m.set(null,b)}N=u.instance,P=N.getAttribute("data-precedence"),T=m.get(P)||b,T===b&&m.set(null,N),m.set(P,N),this.count++,b=Fx.bind(this),N.addEventListener("load",b),N.addEventListener("error",b),T?T.parentNode.insertBefore(N,T.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(N,l.firstChild)),u.state.loading|=4}}var Lh={$$typeof:C,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function w_(l,u,m,b,N,T,P,q){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=b,this.onUncaughtError=N,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function S6(l,u,m,b,N,T,P,q,te,fe,we,Ee){return l=new w_(l,u,m,P,q,te,fe,Ee),u=1,T===!0&&(u|=24),T=nr(3,null,null,u),l.current=T,T.stateNode=l,u=S1(),u.refCount++,l.pooledCache=u,u.refCount++,T.memoizedState={element:b,isDehydrated:m,cache:u},D1(T),l}function T6(l){return l?(l=Dd,l):Dd}function R6(l,u,m,b,N,T){N=T6(N),b.context===null?b.context=N:b.pendingContext=N,b=So(u),b.payload={element:m},T=T===void 0?null:T,T!==null&&(b.callback=T),m=To(l,b,u),m!==null&&(lr(m,l,u),hh(m,l,u))}function M6(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Yv(l,u){M6(l,u),(l=l.alternate)&&M6(l,u)}function D6(l){if(l.tag===13){var u=Md(l,67108864);u!==null&&lr(u,l,67108864),Yv(l,67108864)}}var Ux=!0;function N_(l,u,m,b){var N=L.T;L.T=null;var T=V.p;try{V.p=2,Qv(l,u,m,b)}finally{V.p=T,L.T=N}}function j_(l,u,m,b){var N=L.T;L.T=null;var T=V.p;try{V.p=8,Qv(l,u,m,b)}finally{V.p=T,L.T=N}}function Qv(l,u,m,b){if(Ux){var N=Kv(b);if(N===null)Lv(l,u,b,$x,m),_6(l,b);else if(k_(N,l,u,m,b))b.stopPropagation();else if(_6(l,b),u&4&&-1<C_.indexOf(l)){for(;N!==null;){var T=Yr(N);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=Rs(T.pendingLanes);if(P!==0){var q=T;for(q.pendingLanes|=2,q.entangledLanes|=2;P;){var te=1<<31-$e(P);q.entanglements[1]|=te,P&=~te}Da(T),(Dt&6)===0&&(kx=ue()+500,Th(0))}}break;case 13:q=Md(T,2),q!==null&&lr(q,T,2),Ex(),Yv(T,2)}if(T=Kv(b),T===null&&Lv(l,u,b,$x,m),T===N)break;N=T}N!==null&&b.stopPropagation()}else Lv(l,u,b,null,m)}}function Kv(l){return l=yn(l),Xv(l)}var $x=null;function Xv(l){if($x=null,l=Kn(l),l!==null){var u=i(l);if(u===null)l=null;else{var m=u.tag;if(m===13){if(l=o(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return $x=l,null}function B6(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ye:return 2;case je:return 8;case Se:case Ne:return 32;case De:return 268435456;default:return 32}default:return 32}}var Zv=!1,$o=null,Ho=null,Vo=null,Oh=new Map,Ph=new Map,Go=[],C_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _6(l,u){switch(l){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":Oh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(u.pointerId)}}function Fh(l,u,m,b,N,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:m,eventSystemFlags:b,nativeEvent:T,targetContainers:[N]},u!==null&&(u=Yr(u),u!==null&&D6(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),l)}function k_(l,u,m,b,N){switch(u){case"focusin":return $o=Fh($o,l,u,m,b,N),!0;case"dragenter":return Ho=Fh(Ho,l,u,m,b,N),!0;case"mouseover":return Vo=Fh(Vo,l,u,m,b,N),!0;case"pointerover":var T=N.pointerId;return Oh.set(T,Fh(Oh.get(T)||null,l,u,m,b,N)),!0;case"gotpointercapture":return T=N.pointerId,Ph.set(T,Fh(Ph.get(T)||null,l,u,m,b,N)),!0}return!1}function I6(l){var u=Kn(l.target);if(u!==null){var m=i(u);if(m!==null){if(u=m.tag,u===13){if(u=o(m),u!==null){l.blockedOn=u,wa(l.priority,function(){if(m.tag===13){var b=or();b=Dn(b);var N=Md(m,b);N!==null&&lr(N,m,b),Yv(m,b)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Hx(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=Kv(l.nativeEvent);if(m===null){m=l.nativeEvent;var b=new m.constructor(m.type,m);Co=b,m.target.dispatchEvent(b),Co=null}else return u=Yr(m),u!==null&&D6(u),l.blockedOn=m,!1;u.shift()}return!0}function L6(l,u,m){Hx(l)&&m.delete(u)}function A_(){Zv=!1,$o!==null&&Hx($o)&&($o=null),Ho!==null&&Hx(Ho)&&(Ho=null),Vo!==null&&Hx(Vo)&&(Vo=null),Oh.forEach(L6),Ph.forEach(L6)}function Vx(l,u){l.blockedOn===u&&(l.blockedOn=null,Zv||(Zv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A_)))}var Gx=null;function O6(l){Gx!==l&&(Gx=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gx===l&&(Gx=null);for(var u=0;u<l.length;u+=3){var m=l[u],b=l[u+1],N=l[u+2];if(typeof b!="function"){if(Xv(b||m)===null)continue;break}var T=Yr(m);T!==null&&(l.splice(u,3),u-=3,X1(T,{pending:!0,data:N,method:m.method,action:b},b,N))}}))}function zh(l){function u(te){return Vx(te,l)}$o!==null&&Vx($o,l),Ho!==null&&Vx(Ho,l),Vo!==null&&Vx(Vo,l),Oh.forEach(u),Ph.forEach(u);for(var m=0;m<Go.length;m++){var b=Go[m];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Go.length&&(m=Go[0],m.blockedOn===null);)I6(m),m.blockedOn===null&&Go.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var N=m[b],T=m[b+1],P=N[gt]||null;if(typeof T=="function")P||O6(m);else if(P){var q=null;if(T&&T.hasAttribute("formAction")){if(N=T,P=T[gt]||null)q=P.formAction;else if(Xv(N)!==null)continue}else q=P.action;typeof q=="function"?m[b+1]=q:(m.splice(b,3),b-=3),O6(m)}}}function Jv(l){this._internalRoot=l}qx.prototype.render=Jv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var m=u.current,b=or();R6(m,b,l,u,null,null)},qx.prototype.unmount=Jv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;R6(l.current,2,null,l,null,null),Ex(),u[As]=null}};function qx(l){this._internalRoot=l}qx.prototype.unstable_scheduleHydration=function(l){if(l){var u=Wr();l={blockedOn:null,target:l,priority:u};for(var m=0;m<Go.length&&u!==0&&u<Go[m].priority;m++);Go.splice(m,0,l),m===0&&I6(l)}};var P6=e.version;if(P6!=="19.1.0")throw Error(r(527,P6,"19.1.0"));V.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=d(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var E_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wx.isDisabled&&Wx.supportsFiber)try{Pe=Wx.inject(E_),ot=Wx}catch{}}return Hh.createRoot=function(l,u){if(!a(l))throw Error(r(299));var m=!1,b="",N=ej,T=tj,P=sj,q=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks)),u=S6(l,1,!1,null,null,m,b,N,T,P,q,null),l[As]=u.current,Iv(l),new Jv(u)},Hh.hydrateRoot=function(l,u,m){if(!a(l))throw Error(r(299));var b=!1,N="",T=ej,P=tj,q=sj,te=null,fe=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(P=m.onCaughtError),m.onRecoverableError!==void 0&&(q=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(te=m.unstable_transitionCallbacks),m.formState!==void 0&&(fe=m.formState)),u=S6(l,1,!0,u,m??null,b,N,T,P,q,te,fe),u.context=T6(null),m=u.current,b=or(),b=Dn(b),N=So(b),N.callback=null,To(m,N,b),m=b,u.current.lanes=m,bn(u,m),Da(u),l[As]=u.current,Iv(l),new qx(u)},Hh.version="19.1.0",Hh}var Q6;function F_(){if(Q6)return ny.exports;Q6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=P_(),ny.exports}var z_=F_(),Vh={},K6;function U_(){if(K6)return Vh;K6=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.parse=o,Vh.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,p){const v=new i,y=g.length;if(y<2)return v;const w=(p==null?void 0:p.decode)||f;let A=0;do{const j=g.indexOf("=",A);if(j===-1)break;const C=g.indexOf(";",A),S=C===-1?y:C;if(j>S){A=g.lastIndexOf(";",j-1)+1;continue}const E=c(g,A,j),M=d(g,j,E),R=g.slice(E,M);if(v[R]===void 0){let _=c(g,j+1,S),I=d(g,S,_);const D=w(g.slice(_,I));v[R]=D}A=S+1}while(A<y);return v}function c(g,p,v){do{const y=g.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<v);return v}function d(g,p,v){for(;p>v;){const y=g.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return v}function h(g,p,v){const y=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const w=y(p);if(!e.test(w))throw new TypeError(`argument val is invalid: ${p}`);let A=g+"="+w;if(!v)return A;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);A+="; Max-Age="+v.maxAge}if(v.domain){if(!s.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);A+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);A+="; Path="+v.path}if(v.expires){if(!x(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);A+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(A+="; HttpOnly"),v.secure&&(A+="; Secure"),v.partitioned&&(A+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return A}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function x(g){return a.call(g)==="[object Date]"}return Vh}U_();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var X6="popstate";function $_(t={}){function e(r,a){let{pathname:i,search:o,hash:c}=r.location;return W2("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Rf(a)}return V_(e,s,null,t)}function ns(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H_(){return Math.random().toString(36).substring(2,10)}function Z6(t,e){return{usr:t.state,key:t.key,idx:e}}function W2(t,e,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Iu(e):e,state:s,key:e&&e.key||r||H_()}}function Rf({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Iu(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function V_(t,e,s,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,c="POP",d=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function x(){c="POP";let w=f(),A=w==null?null:w-h;h=w,d&&d({action:c,location:y.location,delta:A})}function g(w,A){c="PUSH";let j=W2(y.location,w,A);h=f()+1;let C=Z6(j,h),S=y.createHref(j);try{o.pushState(C,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(S)}i&&d&&d({action:c,location:y.location,delta:1})}function p(w,A){c="REPLACE";let j=W2(y.location,w,A);h=f();let C=Z6(j,h),S=y.createHref(j);o.replaceState(C,"",S),i&&d&&d({action:c,location:y.location,delta:0})}function v(w){let A=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof w=="string"?w:Rf(w);return j=j.replace(/ $/,"%20"),ns(A,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,A)}let y={get action(){return c},get location(){return t(a,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(X6,x),d=w,()=>{a.removeEventListener(X6,x),d=null}},createHref(w){return e(a,w)},createURL:v,encodeLocation(w){let A=v(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:p,go(w){return o.go(w)}};return y}function _S(t,e,s="/"){return G_(t,e,s,!1)}function G_(t,e,s,r){let a=typeof e=="string"?Iu(e):e,i=ao(a.pathname||"/",s);if(i==null)return null;let o=IS(t);q_(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=nI(i);c=tI(o[d],h,r)}return c}function IS(t,e=[],s=[],r=""){let a=(i,o,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ns(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=eo([r,d.relativePath]),f=s.concat(d);i.children&&i.children.length>0&&(ns(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),IS(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:J_(h,i.index),routesMeta:f})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let d of LS(i.path))a(i,o,d)}),e}function LS(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=LS(r.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function q_(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:eI(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var W_=/^:[\w-]+$/,Y_=3,Q_=2,K_=1,X_=10,Z_=-2,J6=t=>t==="*";function J_(t,e){let s=t.split("/"),r=s.length;return s.some(J6)&&(r+=Z_),e&&(r+=Q_),s.filter(a=>!J6(a)).reduce((a,i)=>a+(W_.test(i)?Y_:i===""?K_:X_),r)}function eI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function tI(t,e,s=!1){let{routesMeta:r}=t,a={},i="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",x=Bp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),g=d.route;if(!x&&h&&s&&!r[r.length-1].route.index&&(x=Bp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!x)return null;Object.assign(a,x.params),o.push({params:a,pathname:eo([i,x.pathname]),pathnameBase:oI(eo([i,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(i=eo([i,x.pathnameBase]))}return o}function Bp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=sI(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:x},g)=>{if(f==="*"){let v=c[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=c[g];return x&&!p?h[f]=void 0:h[f]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function sI(t,e=!1,s=!0){xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function nI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function rI(t,e="/"){let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?Iu(t):t;return{pathname:s?s.startsWith("/")?s:aI(s,e):e,search:lI(r),hash:cI(a)}}function aI(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function oy(t,e,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iI(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function p4(t){let e=iI(t);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function b4(t,e,s,r=!1){let a;typeof t=="string"?a=Iu(t):(a={...t},ns(!a.pathname||!a.pathname.includes("?"),oy("?","pathname","search",a)),ns(!a.pathname||!a.pathname.includes("#"),oy("#","pathname","hash",a)),ns(!a.search||!a.search.includes("#"),oy("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=s;else{let x=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),x-=1;a.pathname=g.join("/")}c=x>=0?e[x]:"/"}let d=rI(a,c),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var eo=t=>t.join("/").replace(/\/\/+/g,"/"),oI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var OS=["POST","PUT","PATCH","DELETE"];new Set(OS);var uI=["GET",...OS];new Set(uI);var Lu=k.createContext(null);Lu.displayName="DataRouter";var vb=k.createContext(null);vb.displayName="DataRouterState";var PS=k.createContext({isTransitioning:!1});PS.displayName="ViewTransition";var hI=k.createContext(new Map);hI.displayName="Fetchers";var fI=k.createContext(null);fI.displayName="Await";var pa=k.createContext(null);pa.displayName="Navigation";var wm=k.createContext(null);wm.displayName="Location";var Vr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var v4=k.createContext(null);v4.displayName="RouteError";function mI(t,{relative:e}={}){ns(Ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=k.useContext(pa),{hash:a,pathname:i,search:o}=Nm(t,{relative:e}),c=i;return s!=="/"&&(c=i==="/"?s:eo([s,i])),r.createHref({pathname:c,search:o,hash:a})}function Ou(){return k.useContext(wm)!=null}function ri(){return ns(Ou(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(wm).location}var FS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zS(t){k.useContext(pa).static||k.useLayoutEffect(t)}function yb(){let{isDataRoute:t}=k.useContext(Vr);return t?RI():xI()}function xI(){ns(Ou(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Lu),{basename:e,navigator:s}=k.useContext(pa),{matches:r}=k.useContext(Vr),{pathname:a}=ri(),i=JSON.stringify(p4(r)),o=k.useRef(!1);return zS(()=>{o.current=!0}),k.useCallback((d,h={})=>{if(xa(o.current,FS),!o.current)return;if(typeof d=="number"){s.go(d);return}let f=b4(d,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:eo([e,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[e,s,i,a,t])}var gI=k.createContext(null);function pI(t){let e=k.useContext(Vr).outlet;return e&&k.createElement(gI.Provider,{value:t},e)}function bI(){let{matches:t}=k.useContext(Vr),e=t[t.length-1];return e?e.params:{}}function Nm(t,{relative:e}={}){let{matches:s}=k.useContext(Vr),{pathname:r}=ri(),a=JSON.stringify(p4(s));return k.useMemo(()=>b4(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function vI(t,e){return US(t,e)}function US(t,e,s,r){var j;ns(Ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=k.useContext(pa),{matches:o}=k.useContext(Vr),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",x=c&&c.route;{let C=x&&x.path||"";$S(h,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=ri(),p;if(e){let C=typeof e=="string"?Iu(e):e;ns(f==="/"||((j=C.pathname)==null?void 0:j.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),p=C}else p=g;let v=p.pathname||"/",y=v;if(f!=="/"){let C=f.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=!i&&s&&s.matches&&s.matches.length>0?s.matches:_S(t,{pathname:y});xa(x||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),xa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=CI(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:eo([f,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:eo([f,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,s,r);return e&&A?k.createElement(wm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},A):A}function yI(){let t=TI(),e=dI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),s?k.createElement("pre",{style:a},s):null,o)}var wI=k.createElement(yI,null),NI=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Vr.Provider,{value:this.props.routeContext},k.createElement(v4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jI({routeContext:t,match:e,children:s}){let r=k.useContext(Lu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Vr.Provider,{value:t},s)}function CI(t,e=[],s=null,r=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,i=s==null?void 0:s.errors;if(i!=null){let d=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);ns(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,c=-1;if(s)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:x}=s,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||g){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let x,g=!1,p=null,v=null;s&&(x=i&&h.route.id?i[h.route.id]:void 0,p=h.route.errorElement||wI,o&&(c<0&&f===0?($S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let A;return x?A=p:g?A=v:h.route.Component?A=k.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,k.createElement(jI,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:s!=null},children:A})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(NI,{location:s.location,revalidation:s.revalidation,component:p,error:x,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}function y4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kI(t){let e=k.useContext(Lu);return ns(e,y4(t)),e}function AI(t){let e=k.useContext(vb);return ns(e,y4(t)),e}function EI(t){let e=k.useContext(Vr);return ns(e,y4(t)),e}function w4(t){let e=EI(t),s=e.matches[e.matches.length-1];return ns(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function SI(){return w4("useRouteId")}function TI(){var r;let t=k.useContext(v4),e=AI("useRouteError"),s=w4("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[s]}function RI(){let{router:t}=kI("useNavigate"),e=w4("useNavigate"),s=k.useRef(!1);return zS(()=>{s.current=!0}),k.useCallback(async(a,i={})=>{xa(s.current,FS),s.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var e8={};function $S(t,e,s){!e&&!e8[t]&&(e8[t]=!0,xa(!1,s))}k.memo(MI);function MI({routes:t,future:e,state:s}){return US(t,void 0,s,e)}function nf({to:t,replace:e,state:s,relative:r}){ns(Ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(pa);xa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Vr),{pathname:o}=ri(),c=yb(),d=b4(t,p4(i),o,r==="path"),h=JSON.stringify(d);return k.useEffect(()=>{c(JSON.parse(h),{replace:e,state:s,relative:r})},[c,h,r,e,s]),null}function DI(t){return pI(t.context)}function Ks(t){ns(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BI({basename:t="/",children:e=null,location:s,navigationType:r="POP",navigator:a,static:i=!1}){ns(!Ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof s=="string"&&(s=Iu(s));let{pathname:d="/",search:h="",hash:f="",state:x=null,key:g="default"}=s,p=k.useMemo(()=>{let v=ao(d,o);return v==null?null:{location:{pathname:v,search:h,hash:f,state:x,key:g},navigationType:r}},[o,d,h,f,x,g,r]);return xa(p!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:k.createElement(pa.Provider,{value:c},k.createElement(wm.Provider,{children:e,value:p}))}function _I({children:t,location:e}){return vI(Y2(t),e)}function Y2(t,e=[]){let s=[];return k.Children.forEach(t,(r,a)=>{if(!k.isValidElement(r))return;let i=[...e,a];if(r.type===k.Fragment){s.push.apply(s,Y2(r.props.children,i));return}ns(r.type===Ks,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ns(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Y2(r.props.children,i)),s.push(o)}),s}var Ag="get",Eg="application/x-www-form-urlencoded";function wb(t){return t!=null&&typeof t.tagName=="string"}function II(t){return wb(t)&&t.tagName.toLowerCase()==="button"}function LI(t){return wb(t)&&t.tagName.toLowerCase()==="form"}function OI(t){return wb(t)&&t.tagName.toLowerCase()==="input"}function PI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FI(t,e){return t.button===0&&(!e||e==="_self")&&!PI(t)}var Yx=null;function zI(){if(Yx===null)try{new FormData(document.createElement("form"),0),Yx=!1}catch{Yx=!0}return Yx}var UI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ly(t){return t!=null&&!UI.has(t)?(xa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eg}"`),null):t}function $I(t,e){let s,r,a,i,o;if(LI(t)){let c=t.getAttribute("action");r=c?ao(c,e):null,s=t.getAttribute("method")||Ag,a=ly(t.getAttribute("enctype"))||Eg,i=new FormData(t)}else if(II(t)||OI(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ao(d,e):null,s=t.getAttribute("formmethod")||c.getAttribute("method")||Ag,a=ly(t.getAttribute("formenctype"))||ly(c.getAttribute("enctype"))||Eg,i=new FormData(c,t),!zI()){let{name:h,type:f,value:x}=t;if(f==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,x)}}else{if(wb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ag,r=null,a=Eg,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:i,body:o}}function N4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function HI(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GI(t,e,s){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await HI(i,s);return o.links?o.links():[]}return[]}));return QI(r.flat(1).filter(VI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function t8(t,e,s,r,a,i){let o=(d,h)=>s[h]?d.route.id!==s[h].route.id:!0,c=(d,h)=>{var f;return s[h].pathname!==d.pathname||((f=s[h].route.path)==null?void 0:f.endsWith("*"))&&s[h].params["*"]!==d.params["*"]};return i==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):i==="data"?e.filter((d,h)=>{var x;let f=r.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=s[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qI(t,e,{includeHydrateFallback:s}={}){return WI(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function WI(t){return[...new Set(t)]}function YI(t){let e={},s=Object.keys(t).sort();for(let r of s)e[r]=t[r];return e}function QI(t,e){let s=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(YI(a));return s.has(i)||(s.add(i),r.push({key:i,link:a})),r},[])}function KI(t,e){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname="_root.data":e&&ao(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function HS(){let t=k.useContext(Lu);return N4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XI(){let t=k.useContext(vb);return N4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j4=k.createContext(void 0);j4.displayName="FrameworkContext";function VS(){let t=k.useContext(j4);return N4(t,"You must render this element inside a <HydratedRouter> element"),t}function ZI(t,e){let s=k.useContext(j4),[r,a]=k.useState(!1),[i,o]=k.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:x}=e,g=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=A=>{A.forEach(j=>{o(j.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[t]),k.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{a(!0)},v=()=>{a(!1),o(!1)};return s?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Gh(c,p),onBlur:Gh(d,v),onMouseEnter:Gh(h,p),onMouseLeave:Gh(f,v),onTouchStart:Gh(x,p)}]:[!1,g,{}]}function Gh(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function JI({page:t,...e}){let{router:s}=HS(),r=k.useMemo(()=>_S(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?k.createElement(tL,{page:t,matches:r,...e}):null}function eL(t){let{manifest:e,routeModules:s}=VS(),[r,a]=k.useState([]);return k.useEffect(()=>{let i=!1;return GI(t,e,s).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,s]),r}function tL({page:t,matches:e,...s}){let r=ri(),{manifest:a,routeModules:i}=VS(),{basename:o}=HS(),{loaderData:c,matches:d}=XI(),h=k.useMemo(()=>t8(t,e,d,a,r,"data"),[t,e,d,a,r]),f=k.useMemo(()=>t8(t,e,d,a,r,"assets"),[t,e,d,a,r]),x=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(e.forEach(A=>{var C;let j=a.routes[A.route.id];!j||!j.hasLoader||(!h.some(S=>S.route.id===A.route.id)&&A.route.id in c&&((C=i[A.route.id])!=null&&C.shouldRevalidate)||j.hasClientLoader?y=!0:v.add(A.route.id))}),v.size===0)return[];let w=KI(t,o);return y&&v.size>0&&w.searchParams.set("_routes",e.filter(A=>v.has(A.route.id)).map(A=>A.route.id).join(",")),[w.pathname+w.search]},[o,c,r,a,h,e,t,i]),g=k.useMemo(()=>qI(f,a),[f,a]),p=eL(f);return k.createElement(k.Fragment,null,x.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...s})),g.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...s})),p.map(({key:v,link:y})=>k.createElement("link",{key:v,...y})))}function sL(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.5.0")}catch{}function nL({basename:t,children:e,window:s}){let r=k.useRef();r.current==null&&(r.current=$_({window:s,v5Compat:!0}));let a=r.current,[i,o]=k.useState({action:a.action,location:a.location}),c=k.useCallback(d=>{k.startTransition(()=>o(d))},[o]);return k.useLayoutEffect(()=>a.listen(c),[a,c]),k.createElement(BI,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var qS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=k.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:h,preventScrollReset:f,viewTransition:x,...g},p){let{basename:v}=k.useContext(pa),y=typeof h=="string"&&qS.test(h),w,A=!1;if(typeof h=="string"&&y&&(w=h,GS))try{let I=new URL(window.location.href),D=h.startsWith("//")?new URL(I.protocol+h):new URL(h),B=ao(D.pathname,v);D.origin===I.origin&&B!=null?h=B+D.search+D.hash:A=!0}catch{xa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=mI(h,{relative:a}),[C,S,E]=ZI(r,g),M=iL(h,{replace:o,state:c,target:d,preventScrollReset:f,relative:a,viewTransition:x});function R(I){e&&e(I),I.defaultPrevented||M(I)}let _=k.createElement("a",{...g,...E,href:w||j,onClick:A||i?e:R,ref:sL(p,S),target:d,"data-discover":!y&&s==="render"?"true":void 0});return C&&!y?k.createElement(k.Fragment,null,_,k.createElement(JI,{page:j})):_});io.displayName="Link";var Si=k.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...h},f){let x=Nm(o,{relative:h.relative}),g=ri(),p=k.useContext(vb),{navigator:v,basename:y}=k.useContext(pa),w=p!=null&&uL(x)&&c===!0,A=v.encodeLocation?v.encodeLocation(x).pathname:x.pathname,j=g.pathname,C=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(j=j.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&y&&(C=ao(C,y)||C);const S=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=j===A||!a&&j.startsWith(A)&&j.charAt(S)==="/",M=C!=null&&(C===A||!a&&C.startsWith(A)&&C.charAt(A.length)==="/"),R={isActive:E,isPending:M,isTransitioning:w},_=E?e:void 0,I;typeof r=="function"?I=r(R):I=[r,E?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(R):i;return k.createElement(io,{...h,"aria-current":_,className:I,ref:f,style:D,to:o,viewTransition:c},typeof d=="function"?d(R):d)});Si.displayName="NavLink";var rL=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:a,state:i,method:o=Ag,action:c,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:x,...g},p)=>{let v=cL(),y=dL(c,{relative:h}),w=o.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&qS.test(c),j=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let S=C.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||o;v(S||C.currentTarget,{fetcherKey:e,method:E,navigate:s,replace:a,state:i,relative:h,preventScrollReset:f,viewTransition:x})};return k.createElement("form",{ref:p,method:w,action:y,onSubmit:r?d:j,...g,"data-discover":!A&&t==="render"?"true":void 0})});rL.displayName="Form";function aL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(t){let e=k.useContext(Lu);return ns(e,aL(t)),e}function iL(t,{target:e,replace:s,state:r,preventScrollReset:a,relative:i,viewTransition:o}={}){let c=yb(),d=ri(),h=Nm(t,{relative:i});return k.useCallback(f=>{if(FI(f,e)){f.preventDefault();let x=s!==void 0?s:Rf(d)===Rf(h);c(t,{replace:x,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[d,c,h,s,r,e,t,a,i,o])}var oL=0,lL=()=>`__${String(++oL)}__`;function cL(){let{router:t}=WS("useSubmit"),{basename:e}=k.useContext(pa),s=SI();return k.useCallback(async(r,a={})=>{let{action:i,method:o,encType:c,formData:d,body:h}=$I(r,e);if(a.navigate===!1){let f=a.fetcherKey||lL();await t.fetch(f,s,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,s])}function dL(t,{relative:e}={}){let{basename:s}=k.useContext(pa),r=k.useContext(Vr);ns(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Nm(t||".",{relative:e})},o=ri();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(f=>f==="")){c.delete("index"),d.filter(x=>x).forEach(x=>c.append("index",x));let f=c.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:eo([s,i.pathname])),Rf(i)}function uL(t,e={}){let s=k.useContext(PS);ns(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WS("useViewTransitionState"),a=Nm(t,{relative:e.relative});if(!s.isTransitioning)return!1;let i=ao(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=ao(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Bp(a.pathname,o)!=null||Bp(a.pathname,i)!=null}new TextEncoder;var hL=BS();const YS="6.13.5";function fL(t,e,s){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const a=new Error(`invalid value for type ${e}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${s}`,a.value=t,a}async function dn(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,a,i)=>(r[e[i]]=a,r),{})}function Ge(t,e,s){for(let r in e){let a=e[r];const i=s?s[r]:null;i&&fL(a,i,r),Object.defineProperty(t,r,{enumerable:!0,value:a,writable:!1})}}function m0(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(m0).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let s="0x";for(let r=0;r<t.length;r++)s+=e[t[r]>>4],s+=e[t[r]&15];return s}if(typeof t=="object"&&typeof t.toJSON=="function")return m0(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(s=>`${m0(s)}: ${m0(t[s])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Us(t,e){return t&&t.code===e}function Nb(t){return Us(t,"CALL_EXCEPTION")}function is(t,e,s){let r=t;{const i=[];if(s){if("message"in s||"code"in s||"name"in s)throw new Error(`value will overwrite populated values: ${m0(s)}`);for(const o in s){if(o==="shortMessage")continue;const c=s[o];i.push(o+"="+m0(c))}}i.push(`code=${e}`),i.push(`version=${YS}`),i.length&&(t+=" ("+i.join(", ")+")")}let a;switch(e){case"INVALID_ARGUMENT":a=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(t);break;default:a=new Error(t)}return Ge(a,{code:e}),s&&Object.assign(a,s),a.shortMessage==null&&Ge(a,{shortMessage:r}),a}function Te(t,e,s,r){if(!t)throw is(e,s,r)}function oe(t,e,s,r){Te(t,e,"INVALID_ARGUMENT",{argument:s,value:r})}function C4(t,e,s){s==null&&(s=""),s&&(s=": "+s),Te(t>=e,"missing argument"+s,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Te(t<=e,"too many arguments"+s,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Pu(t,e,s){if(s==null&&(s=""),t!==e){let r=s,a="new";s&&(r+=".",a+=" "+s),Te(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function QS(t,e,s){if(t instanceof Uint8Array)return s?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let a=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(a,a+2),16),a+=2;return r}oe(!1,"invalid BytesLike value",e||"value",t)}function pt(t,e){return QS(t,e,!1)}function hn(t,e){return QS(t,e,!0)}function Ht(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function jb(t){return Ht(t,!0)||t instanceof Uint8Array}const s8="0123456789abcdef";function Oe(t){const e=pt(t);let s="0x";for(let r=0;r<e.length;r++){const a=e[r];s+=s8[(a&240)>>4]+s8[a&15]}return s}function gs(t){return"0x"+t.map(e=>Oe(e).substring(2)).join("")}function rd(t){return Ht(t,!0)?(t.length-2)/2:pt(t).length}function ls(t,e,s){const r=pt(t);return s!=null&&s>r.length&&Te(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:s}),Oe(r.slice(e??0,s??r.length))}function KS(t,e,s){const r=pt(t);Te(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const a=new Uint8Array(e);return a.fill(0),s?a.set(r,e-r.length):a.set(r,0),Oe(a)}function Rl(t,e){return KS(t,e,!0)}function XS(t,e){return KS(t,e,!1)}const Cb=BigInt(0),da=BigInt(1),Q2=9007199254740991;function Mf(t,e){const s=jm(t,"value"),r=BigInt(it(e,"width"));if(Te(s>>r===Cb,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),s>>r-da){const a=(da<<r)-da;return-((~s&a)+da)}return s}function k4(t,e){let s=ze(t,"value");const r=BigInt(it(e,"width")),a=da<<r-da;if(s<Cb){s=-s,Te(s<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(da<<r)-da;return(~s&i)+da}else Te(s<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return s}function wl(t,e){const s=jm(t,"value"),r=BigInt(it(e,"bits"));return s&(da<<r)-da}function ze(t,e){switch(typeof t){case"bigint":return t;case"number":return oe(Number.isInteger(t),"underflow",e||"value",t),oe(t>=-9007199254740991&&t<=Q2,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(s){oe(!1,`invalid BigNumberish string: ${s.message}`,e||"value",t)}}oe(!1,"invalid BigNumberish value",e||"value",t)}function jm(t,e){const s=ze(t,e);return Te(s>=Cb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),s}const n8="0123456789abcdef";function Cm(t){if(t instanceof Uint8Array){let e="0x0";for(const s of t)e+=n8[s>>4],e+=n8[s&15];return BigInt(e)}return ze(t)}function it(t,e){switch(typeof t){case"bigint":return oe(t>=-9007199254740991&&t<=Q2,"overflow",e||"value",t),Number(t);case"number":return oe(Number.isInteger(t),"underflow",e||"value",t),oe(t>=-9007199254740991&&t<=Q2,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return it(BigInt(t),e)}catch(s){oe(!1,`invalid numeric string: ${s.message}`,e||"value",t)}}oe(!1,"invalid numeric value",e||"value",t)}function ZS(t){return it(Cm(t))}function oo(t,e){let r=jm(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const a=it(e,"width");for(Te(a*2>=r.length,`value exceeds width (${a} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<a*2;)r="0"+r}return"0x"+r}function fn(t){const e=jm(t,"value");if(e===Cb)return new Uint8Array([]);let s=e.toString(16);s.length%2&&(s="0"+s);const r=new Uint8Array(s.length/2);for(let a=0;a<r.length;a++){const i=a*2;r[a]=parseInt(s.substring(i,i+2),16)}return r}function Rc(t){let e=Oe(jb(t)?t:fn(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const r8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const a8=BigInt(58);function JS(t){const e=pt(t);let s=Cm(e),r="";for(;s;)r=r8[Number(s%a8)]+r,s/=a8;for(let a=0;a<e.length&&!e[a];a++)r=r8[0]+r;return r}function e9(t){t=atob(t);const e=new Uint8Array(t.length);for(let s=0;s<t.length;s++)e[s]=t.charCodeAt(s);return pt(e)}function t9(t){const e=pt(t);let s="";for(let r=0;r<e.length;r++)s+=String.fromCharCode(e[r]);return btoa(s)}var D0;class A4{constructor(e,s,r){se(this,"filter");se(this,"emitter");pe(this,D0);J(this,D0,s),Ge(this,{emitter:e,filter:r})}async removeListener(){U(this,D0)!=null&&await this.emitter.off(this.filter,U(this,D0))}}D0=new WeakMap;function mL(t,e,s,r,a){oe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",s)}function s9(t,e,s,r,a){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<s.length&&s[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?s.length-e-1:0}function xL(t,e,s,r,a){return t==="OVERLONG"?(oe(typeof a=="number","invalid bad code point for replacement","badCodepoint",a),r.push(a),0):(r.push(65533),s9(t,e,s))}const n9=Object.freeze({error:mL,ignore:s9,replace:xL});function gL(t,e){e==null&&(e=n9.error);const s=pt(t,"bytes"),r=[];let a=0;for(;a<s.length;){const i=s[a++];if(i>>7===0){r.push(i);continue}let o=null,c=null;if((i&224)===192)o=1,c=127;else if((i&240)===224)o=2,c=2047;else if((i&248)===240)o=3,c=65535;else{(i&192)===128?a+=e("UNEXPECTED_CONTINUE",a-1,s,r):a+=e("BAD_PREFIX",a-1,s,r);continue}if(a-1+o>=s.length){a+=e("OVERRUN",a-1,s,r);continue}let d=i&(1<<8-o-1)-1;for(let h=0;h<o;h++){let f=s[a];if((f&192)!=128){a+=e("MISSING_CONTINUE",a,s,r),d=null;break}d=d<<6|f&63,a++}if(d!==null){if(d>1114111){a+=e("OUT_OF_RANGE",a-1-o,s,r,d);continue}if(d>=55296&&d<=57343){a+=e("UTF16_SURROGATE",a-1-o,s,r,d);continue}if(d<=c){a+=e("OVERLONG",a-1-o,s,r,d);continue}r.push(d)}}return r}function qn(t,e){oe(typeof t=="string","invalid string value","str",t);let s=[];for(let r=0;r<t.length;r++){const a=t.charCodeAt(r);if(a<128)s.push(a);else if(a<2048)s.push(a>>6|192),s.push(a&63|128);else if((a&64512)==55296){r++;const i=t.charCodeAt(r);oe(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((a&1023)<<10)+(i&1023);s.push(o>>18|240),s.push(o>>12&63|128),s.push(o>>6&63|128),s.push(o&63|128)}else s.push(a>>12|224),s.push(a>>6&63|128),s.push(a&63|128)}return new Uint8Array(s)}function pL(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Df(t,e){return pL(gL(t,e))}function r9(t){async function e(s,r){Te(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const a=s.url.split(":")[0].toLowerCase();Te(a==="http"||a==="https",`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),Te(a==="https"||!s.credentials||s.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,c=setTimeout(()=>{i=is("request timeout","TIMEOUT"),o.abort()},s.timeout);r&&r.addListener(()=>{i=is("request cancelled","CANCELLED"),o.abort()});const d={method:s.method,headers:new Headers(Array.from(s)),body:s.body||void 0,signal:o.signal};let h;try{h=await fetch(s.url,d)}catch(p){throw clearTimeout(c),i||p}clearTimeout(c);const f={};h.headers.forEach((p,v)=>{f[v.toLowerCase()]=p});const x=await h.arrayBuffer(),g=x==null?null:new Uint8Array(x);return{statusCode:h.status,statusMessage:h.statusText,headers:f,body:g}}return e}const bL=12,vL=250;let i8=r9();const yL=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),wL=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let cy=!1;async function a9(t,e){try{const s=t.match(yL);if(!s)throw new Error("invalid data");return new to(200,"OK",{"content-type":s[1]||"text/plain"},s[2]?e9(s[3]):NL(s[3]))}catch{return new to(599,"BAD REQUEST (invalid data: URI)",{},null,new ni(t))}}function i9(t){async function e(s,r){try{const a=s.match(wL);if(!a)throw new Error("invalid link");return new ni(`${t}${a[2]}`)}catch{return new to(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ni(s))}}return e}const Qx={data:a9,ipfs:i9("https://gateway.ipfs.io/ipfs/")},o9=new WeakMap;var Pc,rl;class l9{constructor(e){pe(this,Pc);pe(this,rl);J(this,Pc,[]),J(this,rl,!1),o9.set(e,()=>{if(!U(this,rl)){J(this,rl,!0);for(const s of U(this,Pc))setTimeout(()=>{s()},0);J(this,Pc,[])}})}addListener(e){Te(!U(this,rl),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),U(this,Pc).push(e)}get cancelled(){return U(this,rl)}checkSignal(){Te(!this.cancelled,"cancelled","CANCELLED",{})}}Pc=new WeakMap,rl=new WeakMap;function Kx(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var B0,_0,ra,Oi,I0,L0,Fs,ur,Pi,Fc,zc,Uc,Pa,aa,al,$c,rf;const hb=class hb{constructor(e){pe(this,$c);pe(this,B0);pe(this,_0);pe(this,ra);pe(this,Oi);pe(this,I0);pe(this,L0);pe(this,Fs);pe(this,ur);pe(this,Pi);pe(this,Fc);pe(this,zc);pe(this,Uc);pe(this,Pa);pe(this,aa);pe(this,al);J(this,L0,String(e)),J(this,B0,!1),J(this,_0,!0),J(this,ra,{}),J(this,Oi,""),J(this,I0,3e5),J(this,aa,{slotInterval:vL,maxAttempts:bL}),J(this,al,null)}get url(){return U(this,L0)}set url(e){J(this,L0,String(e))}get body(){return U(this,Fs)==null?null:new Uint8Array(U(this,Fs))}set body(e){if(e==null)J(this,Fs,void 0),J(this,ur,void 0);else if(typeof e=="string")J(this,Fs,qn(e)),J(this,ur,"text/plain");else if(e instanceof Uint8Array)J(this,Fs,e),J(this,ur,"application/octet-stream");else if(typeof e=="object")J(this,Fs,qn(JSON.stringify(e))),J(this,ur,"application/json");else throw new Error("invalid body")}hasBody(){return U(this,Fs)!=null}get method(){return U(this,Oi)?U(this,Oi):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),J(this,Oi,String(e).toUpperCase())}get headers(){const e=Object.assign({},U(this,ra));return U(this,Pi)&&(e.authorization=`Basic ${t9(qn(U(this,Pi)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&U(this,ur)&&(e["content-type"]=U(this,ur)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,s){U(this,ra)[String(e).toLowerCase()]=String(s)}clearHeaders(){J(this,ra,{})}[Symbol.iterator](){const e=this.headers,s=Object.keys(e);let r=0;return{next:()=>{if(r<s.length){const a=s[r++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return U(this,Pi)||null}setCredentials(e,s){oe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),J(this,Pi,`${e}:${s}`)}get allowGzip(){return U(this,_0)}set allowGzip(e){J(this,_0,!!e)}get allowInsecureAuthentication(){return!!U(this,B0)}set allowInsecureAuthentication(e){J(this,B0,!!e)}get timeout(){return U(this,I0)}set timeout(e){oe(e>=0,"timeout must be non-zero","timeout",e),J(this,I0,e)}get preflightFunc(){return U(this,Fc)||null}set preflightFunc(e){J(this,Fc,e)}get processFunc(){return U(this,zc)||null}set processFunc(e){J(this,zc,e)}get retryFunc(){return U(this,Uc)||null}set retryFunc(e){J(this,Uc,e)}get getUrlFunc(){return U(this,al)||i8}set getUrlFunc(e){J(this,al,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${U(this,Fs)?Oe(U(this,Fs)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(U(this,aa).slotInterval=e.slotInterval),e.maxAttempts!=null&&(U(this,aa).maxAttempts=e.maxAttempts)}send(){return Te(U(this,Pa)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),J(this,Pa,new l9(this)),Re(this,$c,rf).call(this,0,o8()+this.timeout,0,this,new to(0,"",{},null,this))}cancel(){Te(U(this,Pa)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=o9.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const s=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Te(this.method==="GET"&&(s!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const a=new hb(e);return a.method="GET",a.allowGzip=this.allowGzip,a.timeout=this.timeout,J(a,ra,Object.assign({},U(this,ra))),U(this,Fs)&&J(a,Fs,new Uint8Array(U(this,Fs))),J(a,ur,U(this,ur)),a}clone(){const e=new hb(this.url);return J(e,Oi,U(this,Oi)),U(this,Fs)&&J(e,Fs,U(this,Fs)),J(e,ur,U(this,ur)),J(e,ra,Object.assign({},U(this,ra))),J(e,Pi,U(this,Pi)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),J(e,Fc,U(this,Fc)),J(e,zc,U(this,zc)),J(e,Uc,U(this,Uc)),J(e,aa,Object.assign({},U(this,aa))),J(e,al,U(this,al)),e}static lockConfig(){cy=!0}static getGateway(e){return Qx[e.toLowerCase()]||null}static registerGateway(e,s){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(cy)throw new Error("gateways locked");Qx[e]=s}static registerGetUrl(e){if(cy)throw new Error("gateways locked");i8=e}static createGetUrlFunc(e){return r9()}static createDataGateway(){return a9}static createIpfsGatewayFunc(e){return i9(e)}};B0=new WeakMap,_0=new WeakMap,ra=new WeakMap,Oi=new WeakMap,I0=new WeakMap,L0=new WeakMap,Fs=new WeakMap,ur=new WeakMap,Pi=new WeakMap,Fc=new WeakMap,zc=new WeakMap,Uc=new WeakMap,Pa=new WeakMap,aa=new WeakMap,al=new WeakMap,$c=new WeakSet,rf=async function(e,s,r,a,i){var f,x,g;if(e>=U(this,aa).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Te(o8()<=s,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:a}),r>0&&await jL(r);let o=this.clone();const c=(o.url.split(":")[0]||"").toLowerCase();if(c in Qx){const p=await Qx[c](o.url,Kx(U(a,Pa)));if(p instanceof to){let v=p;if(this.processFunc){Kx(U(a,Pa));try{v=await this.processFunc(o,v)}catch(y){(y.throttle==null||typeof y.stall!="number")&&v.makeServerError("error in post-processing function",y).assertOk()}}return v}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const d=await this.getUrlFunc(o,Kx(U(a,Pa)));let h=new to(d.statusCode,d.statusMessage,d.headers,d.body,a);if(h.statusCode===301||h.statusCode===302){try{const p=h.headers.location||"";return Re(f=o.redirect(p),$c,rf).call(f,e+1,s,0,a,h)}catch{}return h}else if(h.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,h,e))){const p=h.headers["retry-after"];let v=U(this,aa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(v=parseInt(p)),Re(x=o.clone(),$c,rf).call(x,e+1,s,v,a,h)}if(this.processFunc){Kx(U(a,Pa));try{h=await this.processFunc(o,h)}catch(p){(p.throttle==null||typeof p.stall!="number")&&h.makeServerError("error in post-processing function",p).assertOk();let v=U(this,aa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(v=p.stall),Re(g=o.clone(),$c,rf).call(g,e+1,s,v,a,h)}}return h};let ni=hb;var lm,cm,dm,hr,O0,Hc;const mN=class mN{constructor(e,s,r,a,i){pe(this,lm);pe(this,cm);pe(this,dm);pe(this,hr);pe(this,O0);pe(this,Hc);J(this,lm,e),J(this,cm,s),J(this,dm,Object.keys(r).reduce((o,c)=>(o[c.toLowerCase()]=String(r[c]),o),{})),J(this,hr,a==null?null:new Uint8Array(a)),J(this,O0,i||null),J(this,Hc,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${U(this,hr)?Oe(U(this,hr)):"null"}>`}get statusCode(){return U(this,lm)}get statusMessage(){return U(this,cm)}get headers(){return Object.assign({},U(this,dm))}get body(){return U(this,hr)==null?null:new Uint8Array(U(this,hr))}get bodyText(){try{return U(this,hr)==null?"":Df(U(this,hr))}catch{Te(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Te(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,s=Object.keys(e);let r=0;return{next:()=>{if(r<s.length){const a=s[r++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,s){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const a=new mN(599,r,this.headers,this.body,U(this,O0)||void 0);return J(a,Hc,{message:e,error:s}),a}throwThrottleError(e,s){s==null?s=-1:oe(Number.isInteger(s)&&s>=0,"invalid stall timeout","stall",s);const r=new Error(e||"throttling requests");throw Ge(r,{stall:s,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return U(this,hr)!=null}get request(){return U(this,O0)}ok(){return U(this,Hc).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:s}=U(this,Hc);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let a=null;try{U(this,hr)&&(a=Df(U(this,hr)))}catch{}Te(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:s,info:{requestUrl:r,responseBody:a,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};lm=new WeakMap,cm=new WeakMap,dm=new WeakMap,hr=new WeakMap,O0=new WeakMap,Hc=new WeakMap;let to=mN;function o8(){return new Date().getTime()}function NL(t){return qn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,s)=>String.fromCharCode(parseInt(s,16))))}function jL(t){return new Promise(e=>setTimeout(e,t))}const CL=BigInt(-1),ea=BigInt(0),x0=BigInt(1),kL=BigInt(5),s0={};let A0="0000";for(;A0.length<80;)A0+=A0;function hc(t){let e=A0;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function qh(t,e,s){const r=BigInt(e.width);if(e.signed){const a=x0<<r-x0;Te(s==null||t>=-a&&t<a,"overflow","NUMERIC_FAULT",{operation:s,fault:"overflow",value:t}),t>ea?t=Mf(wl(t,r),r):t=-Mf(wl(-t,r),r)}else{const a=x0<<r;Te(s==null||t>=0&&t<a,"overflow","NUMERIC_FAULT",{operation:s,fault:"overflow",value:t}),t=(t%a+a)%a&a-x0}return t}function dy(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,s=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);oe(i,"invalid fixed format","format",t),e=i[1]!=="u",s=parseInt(i[2]),r=parseInt(i[3])}}else if(t){const i=t,o=(c,d,h)=>i[c]==null?h:(oe(typeof i[c]===d,"invalid fixed format ("+c+" not "+d+")","format."+c,i[c]),i[c]);e=o("signed","boolean",e),s=o("width","number",s),r=o("decimals","number",r)}oe(s%8===0,"invalid FixedNumber width (not byte aligned)","format.width",s),oe(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const a=(e?"":"u")+"fixed"+String(s)+"x"+String(r);return{signed:e,width:s,decimals:r,name:a}}function AL(t,e){let s="";t<ea&&(s="-",t*=CL);let r=t.toString();if(e===0)return s+r;for(;r.length<=e;)r=A0+r;const a=r.length-e;for(r=r.substring(0,a)+"."+r.substring(a);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return s+r}var ia,Ft,Nn,Tt,yc,Ti,K2,X2,Z2,J2;const sl=class sl{constructor(e,s,r){pe(this,Tt);se(this,"format");pe(this,ia);pe(this,Ft);pe(this,Nn);se(this,"_value");Pu(e,s0,"FixedNumber"),J(this,Ft,s),J(this,ia,r);const a=AL(s,r.decimals);Ge(this,{format:r.name,_value:a}),J(this,Nn,hc(r.decimals))}get signed(){return U(this,ia).signed}get width(){return U(this,ia).width}get decimals(){return U(this,ia).decimals}get value(){return U(this,Ft)}addUnsafe(e){return Re(this,Tt,K2).call(this,e)}add(e){return Re(this,Tt,K2).call(this,e,"add")}subUnsafe(e){return Re(this,Tt,X2).call(this,e)}sub(e){return Re(this,Tt,X2).call(this,e,"sub")}mulUnsafe(e){return Re(this,Tt,Z2).call(this,e)}mul(e){return Re(this,Tt,Z2).call(this,e,"mul")}mulSignal(e){Re(this,Tt,yc).call(this,e);const s=U(this,Ft)*U(e,Ft);return Te(s%U(this,Nn)===ea,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Re(this,Tt,Ti).call(this,s/U(this,Nn),"mulSignal")}divUnsafe(e){return Re(this,Tt,J2).call(this,e)}div(e){return Re(this,Tt,J2).call(this,e,"div")}divSignal(e){Te(U(e,Ft)!==ea,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Re(this,Tt,yc).call(this,e);const s=U(this,Ft)*U(this,Nn);return Te(s%U(e,Ft)===ea,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Re(this,Tt,Ti).call(this,s/U(e,Ft),"divSignal")}cmp(e){let s=this.value,r=e.value;const a=this.decimals-e.decimals;return a>0?r*=hc(a):a<0&&(s*=hc(-a)),s<r?-1:s>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=U(this,Ft);return U(this,Ft)<ea&&(e-=U(this,Nn)-x0),e=U(this,Ft)/U(this,Nn)*U(this,Nn),Re(this,Tt,Ti).call(this,e,"floor")}ceiling(){let e=U(this,Ft);return U(this,Ft)>ea&&(e+=U(this,Nn)-x0),e=U(this,Ft)/U(this,Nn)*U(this,Nn),Re(this,Tt,Ti).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const s=this.decimals-e,r=kL*hc(s-1);let a=this.value+r;const i=hc(s);return a=a/i*i,qh(a,U(this,ia),"round"),new sl(s0,a,U(this,ia))}isZero(){return U(this,Ft)===ea}isNegative(){return U(this,Ft)<ea}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return sl.fromString(this.toString(),e)}static fromValue(e,s,r){const a=s==null?0:it(s),i=dy(r);let o=ze(e,"value");const c=a-i.decimals;if(c>0){const d=hc(c);Te(o%d===ea,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=d}else c<0&&(o*=hc(-c));return qh(o,i,"fromValue"),new sl(s0,o,i)}static fromString(e,s){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);oe(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const a=dy(s);let i=r[2]||"0",o=r[3]||"";for(;o.length<a.decimals;)o+=A0;Te(o.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,a.decimals);const c=BigInt(r[1]+i+o);return qh(c,a,"fromString"),new sl(s0,c,a)}static fromBytes(e,s){let r=Cm(pt(e,"value"));const a=dy(s);return a.signed&&(r=Mf(r,a.width)),qh(r,a,"fromBytes"),new sl(s0,r,a)}};ia=new WeakMap,Ft=new WeakMap,Nn=new WeakMap,Tt=new WeakSet,yc=function(e){oe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Ti=function(e,s){return e=qh(e,U(this,ia),s),new sl(s0,e,U(this,ia))},K2=function(e,s){return Re(this,Tt,yc).call(this,e),Re(this,Tt,Ti).call(this,U(this,Ft)+U(e,Ft),s)},X2=function(e,s){return Re(this,Tt,yc).call(this,e),Re(this,Tt,Ti).call(this,U(this,Ft)-U(e,Ft),s)},Z2=function(e,s){return Re(this,Tt,yc).call(this,e),Re(this,Tt,Ti).call(this,U(this,Ft)*U(e,Ft)/U(this,Nn),s)},J2=function(e,s){return Te(U(e,Ft)!==ea,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Re(this,Tt,yc).call(this,e),Re(this,Tt,Ti).call(this,U(this,Ft)*U(this,Nn)/U(e,Ft),s)};let _p=sl;function EL(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function l8(t,e,s){let r=0;for(let a=0;a<s;a++)r=r*256+t[e+a];return r}function c8(t,e,s,r){const a=[];for(;s<e+1+r;){const i=c9(t,s);a.push(i.result),s+=i.consumed,Te(s<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:a}}function c9(t,e){Te(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const s=r=>{Te(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;s(e+1+r);const a=l8(t,e+1,r);return s(e+1+r+a),c8(t,e,e+1+r,r+a)}else if(t[e]>=192){const r=t[e]-192;return s(e+1+r),c8(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;s(e+1+r);const a=l8(t,e+1,r);s(e+1+r+a);const i=Oe(t.slice(e+1+r,e+1+r+a));return{consumed:1+r+a,result:i}}else if(t[e]>=128){const r=t[e]-128;s(e+1+r);const a=Oe(t.slice(e+1,e+1+r));return{consumed:1+r,result:a}}return{consumed:1,result:EL(t[e])}}function km(t){const e=pt(t,"data"),s=c9(e,0);return oe(s.consumed===e.length,"unexpected junk after rlp payload","data",t),s.result}function d8(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function d9(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(d9(i))}),r.length<=55)return r.unshift(192+r.length),r;const a=d8(r.length);return a.unshift(247+a.length),a.concat(r)}const e=Array.prototype.slice.call(pt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const s=d8(e.length);return s.unshift(183+s.length),s.concat(e)}const u8="0123456789abcdef";function Ml(t){let e="0x";for(const s of d9(t))e+=u8[s>>4],e+=u8[s&15];return e}const SL=["wei","kwei","mwei","gwei","szabo","finney","ether"];function xf(t,e){let s=18;if(typeof e=="string"){const r=SL.indexOf(e);oe(r>=0,"invalid unit","unit",e),s=3*r}else e!=null&&(s=it(e,"unit"));return _p.fromValue(t,s,{decimals:s,width:512}).toString()}function u9(t){return xf(t,18)}const kn=32,ew=new Uint8Array(kn),TL=["then"],Xx={},h9=new WeakMap;function Ac(t){return h9.get(t)}function h8(t,e){h9.set(t,e)}function Wh(t,e){const s=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw s.error=e,s}function tw(t,e,s){return t.indexOf(null)>=0?e.map((r,a)=>r instanceof dd?tw(Ac(r),r,s):r):t.reduce((r,a,i)=>{let o=e.getValue(a);return a in r||(s&&o instanceof dd&&(o=tw(Ac(o),o,s)),r[a]=o),r},{})}var P0;const j0=class j0 extends Array{constructor(...s){const r=s[0];let a=s[1],i=(s[2]||[]).slice(),o=!0;r!==Xx&&(a=s,i=[],o=!1);super(a.length);pe(this,P0);a.forEach((h,f)=>{this[f]=h});const c=i.reduce((h,f)=>(typeof f=="string"&&h.set(f,(h.get(f)||0)+1),h),new Map);if(h8(this,Object.freeze(a.map((h,f)=>{const x=i[f];return x!=null&&c.get(x)===1?x:null}))),J(this,P0,[]),U(this,P0)==null&&U(this,P0),!o)return;Object.freeze(this);const d=new Proxy(this,{get:(h,f,x)=>{if(typeof f=="string"){if(f.match(/^[0-9]+$/)){const p=it(f,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const v=h[p];return v instanceof Error&&Wh(`index ${p}`,v),v}if(TL.indexOf(f)>=0)return Reflect.get(h,f,x);const g=h[f];if(g instanceof Function)return function(...p){return g.apply(this===x?h:this,p)};if(!(f in h))return h.getValue.apply(this===x?h:this,[f])}return Reflect.get(h,f,x)}});return h8(d,Ac(this)),d}toArray(s){const r=[];return this.forEach((a,i)=>{a instanceof Error&&Wh(`index ${i}`,a),s&&a instanceof j0&&(a=a.toArray(s)),r.push(a)}),r}toObject(s){const r=Ac(this);return r.reduce((a,i,o)=>(Te(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),tw(r,this,s)),{})}slice(s,r){s==null&&(s=0),s<0&&(s+=this.length,s<0&&(s=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const a=Ac(this),i=[],o=[];for(let c=s;c<r;c++)i.push(this[c]),o.push(a[c]);return new j0(Xx,i,o)}filter(s,r){const a=Ac(this),i=[],o=[];for(let c=0;c<this.length;c++){const d=this[c];d instanceof Error&&Wh(`index ${c}`,d),s.call(r,d,c,this)&&(i.push(d),o.push(a[c]))}return new j0(Xx,i,o)}map(s,r){const a=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Wh(`index ${i}`,o),a.push(s.call(r,o,i,this))}return a}getValue(s){const r=Ac(this).indexOf(s);if(r===-1)return;const a=this[r];return a instanceof Error&&Wh(`property ${JSON.stringify(s)}`,a.error),a}static fromItems(s,r){return new j0(Xx,s,r)}};P0=new WeakMap;let dd=j0;function f8(t){let e=fn(t);return Te(e.length<=kn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:kn,offset:e.length}),e.length!==kn&&(e=hn(gs([ew.slice(e.length%kn),e]))),e}class po{constructor(e,s,r,a){se(this,"name");se(this,"type");se(this,"localName");se(this,"dynamic");Ge(this,{name:e,type:s,localName:r,dynamic:a},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,s){oe(!1,e,this.localName,s)}}var Fi,Vc,F0,Sg;class sw{constructor(){pe(this,F0);pe(this,Fi);pe(this,Vc);J(this,Fi,[]),J(this,Vc,0)}get data(){return gs(U(this,Fi))}get length(){return U(this,Vc)}appendWriter(e){return Re(this,F0,Sg).call(this,hn(e.data))}writeBytes(e){let s=hn(e);const r=s.length%kn;return r&&(s=hn(gs([s,ew.slice(r)]))),Re(this,F0,Sg).call(this,s)}writeValue(e){return Re(this,F0,Sg).call(this,f8(e))}writeUpdatableValue(){const e=U(this,Fi).length;return U(this,Fi).push(ew),J(this,Vc,U(this,Vc)+kn),s=>{U(this,Fi)[e]=f8(s)}}}Fi=new WeakMap,Vc=new WeakMap,F0=new WeakSet,Sg=function(e){return U(this,Fi).push(e),J(this,Vc,U(this,Vc)+e.length),e.length};var Un,fr,Gc,qc,il,pd,rw,f9;const xN=class xN{constructor(e,s,r){pe(this,pd);se(this,"allowLoose");pe(this,Un);pe(this,fr);pe(this,Gc);pe(this,qc);pe(this,il);Ge(this,{allowLoose:!!s}),J(this,Un,hn(e)),J(this,Gc,0),J(this,qc,null),J(this,il,r??1024),J(this,fr,0)}get data(){return Oe(U(this,Un))}get dataLength(){return U(this,Un).length}get consumed(){return U(this,fr)}get bytes(){return new Uint8Array(U(this,Un))}subReader(e){const s=new xN(U(this,Un).slice(U(this,fr)+e),this.allowLoose,U(this,il));return J(s,qc,this),s}readBytes(e,s){let r=Re(this,pd,f9).call(this,0,e,!!s);return Re(this,pd,rw).call(this,e),J(this,fr,U(this,fr)+r.length),r.slice(0,e)}readValue(){return Cm(this.readBytes(kn))}readIndex(){return ZS(this.readBytes(kn))}};Un=new WeakMap,fr=new WeakMap,Gc=new WeakMap,qc=new WeakMap,il=new WeakMap,pd=new WeakSet,rw=function(e){var s;if(U(this,qc))return Re(s=U(this,qc),pd,rw).call(s,e);J(this,Gc,U(this,Gc)+e),Te(U(this,il)<1||U(this,Gc)<=U(this,il)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${U(this,il)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:hn(U(this,Un)),offset:U(this,fr),length:e,info:{bytesRead:U(this,Gc),dataLength:this.dataLength}})},f9=function(e,s,r){let a=Math.ceil(s/kn)*kn;return U(this,fr)+a>U(this,Un).length&&(this.allowLoose&&r&&U(this,fr)+s<=U(this,Un).length?a=s:Te(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:hn(U(this,Un)),length:U(this,Un).length,offset:U(this,fr)+a})),U(this,Un).slice(U(this,fr),U(this,fr)+a)};let nw=xN;function Ip(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function E4(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function RL(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ip(t.outputLen),Ip(t.blockLen)}function bu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function m9(t,e){E4(t);const s=e.outputLen;if(t.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const uy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x9=t=>t instanceof Uint8Array,ML=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),hy=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ba=(t,e)=>t<<32-e|t>>>e,DL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!DL)throw new Error("Non little-endian hardware is not supported");function BL(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function kb(t){if(typeof t=="string"&&(t=BL(t)),!x9(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function _L(...t){const e=new Uint8Array(t.reduce((r,a)=>r+a.length,0));let s=0;return t.forEach(r=>{if(!x9(r))throw new Error("Uint8Array expected");e.set(r,s),s+=r.length}),e}class S4{clone(){return this._cloneInto()}}function T4(t){const e=r=>t().update(kb(r)).digest(),s=t();return e.outputLen=s.outputLen,e.blockLen=s.blockLen,e.create=()=>t(),e}function IL(t=32){if(uy&&typeof uy.getRandomValues=="function")return uy.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class g9 extends S4{constructor(e,s){super(),this.finished=!1,this.destroyed=!1,RL(e);const r=kb(s);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(r.length>a?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return bu(this),this.iHash.update(e),this}digestInto(e){bu(this),E4(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:r,finished:a,destroyed:i,blockLen:o,outputLen:c}=this;return e=e,e.finished=a,e.destroyed=i,e.blockLen=o,e.outputLen=c,e.oHash=s._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const p9=(t,e,s)=>new g9(t,e).update(s).digest();p9.create=(t,e)=>new g9(t,e);function LL(t,e,s,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,s,r);const a=BigInt(32),i=BigInt(4294967295),o=Number(s>>a&i),c=Number(s&i),d=r?4:0,h=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+h,c,r)}class b9 extends S4{constructor(e,s,r,a){super(),this.blockLen=e,this.outputLen=s,this.padOffset=r,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=hy(this.buffer)}update(e){bu(this);const{view:s,buffer:r,blockLen:a}=this;e=kb(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(a-this.pos,i-o);if(c===a){const d=hy(e);for(;a<=i-o;o+=a)this.process(d,o);continue}r.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===a&&(this.process(s,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bu(this),m9(e,this),this.finished=!0;const{buffer:s,view:r,blockLen:a,isLE:i}=this;let{pos:o}=this;s[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(r,0),o=0);for(let x=o;x<a;x++)s[x]=0;LL(r,a-8,BigInt(this.length*8),i),this.process(r,0);const c=hy(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,f=this.get();if(h>f.length)throw new Error("_sha2: outputLen bigger than state");for(let x=0;x<h;x++)c.setUint32(4*x,f[x],i)}digest(){const{buffer:e,outputLen:s}=this;this.digestInto(e);const r=e.slice(0,s);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:s,buffer:r,length:a,finished:i,destroyed:o,pos:c}=this;return e.length=a,e.pos=c,e.finished=i,e.destroyed=o,a%s&&e.buffer.set(r),e}}const OL=(t,e,s)=>t&e^~t&s,PL=(t,e,s)=>t&e^t&s^e&s,FL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yo=new Uint32Array(64);class zL extends b9{constructor(){super(64,32,8,!1),this.A=Wo[0]|0,this.B=Wo[1]|0,this.C=Wo[2]|0,this.D=Wo[3]|0,this.E=Wo[4]|0,this.F=Wo[5]|0,this.G=Wo[6]|0,this.H=Wo[7]|0}get(){const{A:e,B:s,C:r,D:a,E:i,F:o,G:c,H:d}=this;return[e,s,r,a,i,o,c,d]}set(e,s,r,a,i,o,c,d){this.A=e|0,this.B=s|0,this.C=r|0,this.D=a|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=d|0}process(e,s){for(let x=0;x<16;x++,s+=4)Yo[x]=e.getUint32(s,!1);for(let x=16;x<64;x++){const g=Yo[x-15],p=Yo[x-2],v=Ba(g,7)^Ba(g,18)^g>>>3,y=Ba(p,17)^Ba(p,19)^p>>>10;Yo[x]=y+Yo[x-7]+v+Yo[x-16]|0}let{A:r,B:a,C:i,D:o,E:c,F:d,G:h,H:f}=this;for(let x=0;x<64;x++){const g=Ba(c,6)^Ba(c,11)^Ba(c,25),p=f+g+OL(c,d,h)+FL[x]+Yo[x]|0,y=(Ba(r,2)^Ba(r,13)^Ba(r,22))+PL(r,a,i)|0;f=h,h=d,d=c,c=o+p|0,o=i,i=a,a=r,r=p+y|0}r=r+this.A|0,a=a+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,a,i,o,c,d,h,f)}roundClean(){Yo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const v9=T4(()=>new zL),Zx=BigInt(2**32-1),aw=BigInt(32);function y9(t,e=!1){return e?{h:Number(t&Zx),l:Number(t>>aw&Zx)}:{h:Number(t>>aw&Zx)|0,l:Number(t&Zx)|0}}function w9(t,e=!1){let s=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let a=0;a<t.length;a++){const{h:i,l:o}=y9(t[a],e);[s[a],r[a]]=[i,o]}return[s,r]}const UL=(t,e)=>BigInt(t>>>0)<<aw|BigInt(e>>>0),$L=(t,e,s)=>t>>>s,HL=(t,e,s)=>t<<32-s|e>>>s,VL=(t,e,s)=>t>>>s|e<<32-s,GL=(t,e,s)=>t<<32-s|e>>>s,qL=(t,e,s)=>t<<64-s|e>>>s-32,WL=(t,e,s)=>t>>>s-32|e<<64-s,YL=(t,e)=>e,QL=(t,e)=>t,N9=(t,e,s)=>t<<s|e>>>32-s,j9=(t,e,s)=>e<<s|t>>>32-s,C9=(t,e,s)=>e<<s-32|t>>>64-s,k9=(t,e,s)=>t<<s-32|e>>>64-s;function KL(t,e,s,r){const a=(e>>>0)+(r>>>0);return{h:t+s+(a/2**32|0)|0,l:a|0}}const XL=(t,e,s)=>(t>>>0)+(e>>>0)+(s>>>0),ZL=(t,e,s,r)=>e+s+r+(t/2**32|0)|0,JL=(t,e,s,r)=>(t>>>0)+(e>>>0)+(s>>>0)+(r>>>0),eO=(t,e,s,r,a)=>e+s+r+a+(t/2**32|0)|0,tO=(t,e,s,r,a)=>(t>>>0)+(e>>>0)+(s>>>0)+(r>>>0)+(a>>>0),sO=(t,e,s,r,a,i)=>e+s+r+a+i+(t/2**32|0)|0,lt={fromBig:y9,split:w9,toBig:UL,shrSH:$L,shrSL:HL,rotrSH:VL,rotrSL:GL,rotrBH:qL,rotrBL:WL,rotr32H:YL,rotr32L:QL,rotlSH:N9,rotlSL:j9,rotlBH:C9,rotlBL:k9,add:KL,add3L:XL,add3H:ZL,add4L:JL,add4H:eO,add5H:sO,add5L:tO},[nO,rO]=lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qo=new Uint32Array(80),Ko=new Uint32Array(80);class aO extends b9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:s,Bh:r,Bl:a,Ch:i,Cl:o,Dh:c,Dl:d,Eh:h,El:f,Fh:x,Fl:g,Gh:p,Gl:v,Hh:y,Hl:w}=this;return[e,s,r,a,i,o,c,d,h,f,x,g,p,v,y,w]}set(e,s,r,a,i,o,c,d,h,f,x,g,p,v,y,w){this.Ah=e|0,this.Al=s|0,this.Bh=r|0,this.Bl=a|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=d|0,this.Eh=h|0,this.El=f|0,this.Fh=x|0,this.Fl=g|0,this.Gh=p|0,this.Gl=v|0,this.Hh=y|0,this.Hl=w|0}process(e,s){for(let C=0;C<16;C++,s+=4)Qo[C]=e.getUint32(s),Ko[C]=e.getUint32(s+=4);for(let C=16;C<80;C++){const S=Qo[C-15]|0,E=Ko[C-15]|0,M=lt.rotrSH(S,E,1)^lt.rotrSH(S,E,8)^lt.shrSH(S,E,7),R=lt.rotrSL(S,E,1)^lt.rotrSL(S,E,8)^lt.shrSL(S,E,7),_=Qo[C-2]|0,I=Ko[C-2]|0,D=lt.rotrSH(_,I,19)^lt.rotrBH(_,I,61)^lt.shrSH(_,I,6),B=lt.rotrSL(_,I,19)^lt.rotrBL(_,I,61)^lt.shrSL(_,I,6),O=lt.add4L(R,B,Ko[C-7],Ko[C-16]),$=lt.add4H(O,M,D,Qo[C-7],Qo[C-16]);Qo[C]=$|0,Ko[C]=O|0}let{Ah:r,Al:a,Bh:i,Bl:o,Ch:c,Cl:d,Dh:h,Dl:f,Eh:x,El:g,Fh:p,Fl:v,Gh:y,Gl:w,Hh:A,Hl:j}=this;for(let C=0;C<80;C++){const S=lt.rotrSH(x,g,14)^lt.rotrSH(x,g,18)^lt.rotrBH(x,g,41),E=lt.rotrSL(x,g,14)^lt.rotrSL(x,g,18)^lt.rotrBL(x,g,41),M=x&p^~x&y,R=g&v^~g&w,_=lt.add5L(j,E,R,rO[C],Ko[C]),I=lt.add5H(_,A,S,M,nO[C],Qo[C]),D=_|0,B=lt.rotrSH(r,a,28)^lt.rotrBH(r,a,34)^lt.rotrBH(r,a,39),O=lt.rotrSL(r,a,28)^lt.rotrBL(r,a,34)^lt.rotrBL(r,a,39),$=r&i^r&c^i&c,Y=a&o^a&d^o&d;A=y|0,j=w|0,y=p|0,w=v|0,p=x|0,v=g|0,{h:x,l:g}=lt.add(h|0,f|0,I|0,D|0),h=c|0,f=d|0,c=i|0,d=o|0,i=r|0,o=a|0;const H=lt.add3L(D,O,Y);r=lt.add3H(H,I,B,$),a=H|0}({h:r,l:a}=lt.add(this.Ah|0,this.Al|0,r|0,a|0)),{h:i,l:o}=lt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:d}=lt.add(this.Ch|0,this.Cl|0,c|0,d|0),{h,l:f}=lt.add(this.Dh|0,this.Dl|0,h|0,f|0),{h:x,l:g}=lt.add(this.Eh|0,this.El|0,x|0,g|0),{h:p,l:v}=lt.add(this.Fh|0,this.Fl|0,p|0,v|0),{h:y,l:w}=lt.add(this.Gh|0,this.Gl|0,y|0,w|0),{h:A,l:j}=lt.add(this.Hh|0,this.Hl|0,A|0,j|0),this.set(r,a,i,o,c,d,h,f,x,g,p,v,y,w,A,j)}roundClean(){Qo.fill(0),Ko.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const iO=T4(()=>new aO);function oO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const m8=oO();m8.crypto||m8.msCrypto;function lO(t){switch(t){case"sha256":return v9.create();case"sha512":return iO.create()}oe(!1,"invalid hashing algorithm name","algorithm",t)}const[A9,E9,S9]=[[],[],[]],cO=BigInt(0),Yh=BigInt(1),dO=BigInt(2),uO=BigInt(7),hO=BigInt(256),fO=BigInt(113);for(let t=0,e=Yh,s=1,r=0;t<24;t++){[s,r]=[r,(2*s+3*r)%5],A9.push(2*(5*r+s)),E9.push((t+1)*(t+2)/2%64);let a=cO;for(let i=0;i<7;i++)e=(e<<Yh^(e>>uO)*fO)%hO,e&dO&&(a^=Yh<<(Yh<<BigInt(i))-Yh);S9.push(a)}const[mO,xO]=w9(S9,!0),x8=(t,e,s)=>s>32?C9(t,e,s):N9(t,e,s),g8=(t,e,s)=>s>32?k9(t,e,s):j9(t,e,s);function gO(t,e=24){const s=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)s[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,d=(o+2)%10,h=s[d],f=s[d+1],x=x8(h,f,1)^s[c],g=g8(h,f,1)^s[c+1];for(let p=0;p<50;p+=10)t[o+p]^=x,t[o+p+1]^=g}let a=t[2],i=t[3];for(let o=0;o<24;o++){const c=E9[o],d=x8(a,i,c),h=g8(a,i,c),f=A9[o];a=t[f],i=t[f+1],t[f]=d,t[f+1]=h}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)s[c]=t[o+c];for(let c=0;c<10;c++)t[o+c]^=~s[(c+2)%10]&s[(c+4)%10]}t[0]^=mO[r],t[1]^=xO[r]}s.fill(0)}class R4 extends S4{constructor(e,s,r,a=!1,i=24){if(super(),this.blockLen=e,this.suffix=s,this.outputLen=r,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ip(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ML(this.state)}keccak(){gO(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){bu(this);const{blockLen:s,state:r}=this;e=kb(e);const a=e.length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);for(let c=0;c<o;c++)r[this.pos++]^=e[i++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:s,pos:r,blockLen:a}=this;e[r]^=s,(s&128)!==0&&r===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){bu(this,!1),E4(e),this.finish();const s=this.state,{blockLen:r}=this;for(let a=0,i=e.length;a<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-a);e.set(s.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ip(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(m9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:s,suffix:r,outputLen:a,rounds:i,enableXOF:o}=this;return e||(e=new R4(s,r,a,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=a,e.enableXOF=o,e.destroyed=this.destroyed,e}}const pO=(t,e,s)=>T4(()=>new R4(e,t,s)),bO=pO(1,136,256/8);let T9=!1;const R9=function(t){return bO(t)};let M9=R9;function Qt(t){const e=pt(t,"data");return Oe(M9(e))}Qt._=R9;Qt.lock=function(){T9=!0};Qt.register=function(t){if(T9)throw new TypeError("keccak256 is locked");M9=t};Object.freeze(Qt);const D9=function(t){return lO("sha256").update(t).digest()};let B9=D9,_9=!1;function bd(t){const e=pt(t,"data");return Oe(B9(e))}bd._=D9;bd.lock=function(){_9=!0};bd.register=function(t){if(_9)throw new Error("sha256 is locked");B9=t};Object.freeze(bd);Object.freeze(bd);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const I9=BigInt(0),Ab=BigInt(1),vO=BigInt(2),Eb=t=>t instanceof Uint8Array,yO=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vu(t){if(!Eb(t))throw new Error("Uint8Array expected");let e="";for(let s=0;s<t.length;s++)e+=yO[t[s]];return e}function L9(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function M4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function yu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const s=new Uint8Array(e/2);for(let r=0;r<s.length;r++){const a=r*2,i=t.slice(a,a+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");s[r]=o}return s}function ad(t){return M4(vu(t))}function D4(t){if(!Eb(t))throw new Error("Uint8Array expected");return M4(vu(Uint8Array.from(t).reverse()))}function wu(t,e){return yu(t.toString(16).padStart(e*2,"0"))}function B4(t,e){return wu(t,e).reverse()}function wO(t){return yu(L9(t))}function na(t,e,s){let r;if(typeof e=="string")try{r=yu(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Eb(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const a=r.length;if(typeof s=="number"&&a!==s)throw new Error(`${t} expected ${s} bytes, got ${a}`);return r}function Bf(...t){const e=new Uint8Array(t.reduce((r,a)=>r+a.length,0));let s=0;return t.forEach(r=>{if(!Eb(r))throw new Error("Uint8Array expected");e.set(r,s),s+=r.length}),e}function NO(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}function jO(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function CO(t){let e;for(e=0;t>I9;t>>=Ab,e+=1);return e}function kO(t,e){return t>>BigInt(e)&Ab}const AO=(t,e,s)=>t|(s?Ab:I9)<<BigInt(e),_4=t=>(vO<<BigInt(t-1))-Ab,fy=t=>new Uint8Array(t),p8=t=>Uint8Array.from(t);function O9(t,e,s){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof s!="function")throw new Error("hmacFn must be a function");let r=fy(t),a=fy(t),i=0;const o=()=>{r.fill(1),a.fill(0),i=0},c=(...x)=>s(a,r,...x),d=(x=fy())=>{a=c(p8([0]),x),r=c(),x.length!==0&&(a=c(p8([1]),x),r=c())},h=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const g=[];for(;x<e;){r=c();const p=r.slice();g.push(p),x+=r.length}return Bf(...g)};return(x,g)=>{o(),d(x);let p;for(;!(p=g(h()));)d();return o(),p}}const EO={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Am(t,e,s={}){const r=(a,i,o)=>{const c=EO[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const d=t[a];if(!(o&&d===void 0)&&!c(d,t))throw new Error(`Invalid param ${String(a)}=${d} (${typeof d}), expected ${i}`)};for(const[a,i]of Object.entries(e))r(a,i,!1);for(const[a,i]of Object.entries(s))r(a,i,!0);return t}const SO=Object.freeze(Object.defineProperty({__proto__:null,bitGet:kO,bitLen:CO,bitMask:_4,bitSet:AO,bytesToHex:vu,bytesToNumberBE:ad,bytesToNumberLE:D4,concatBytes:Bf,createHmacDrbg:O9,ensureBytes:na,equalBytes:NO,hexToBytes:yu,hexToNumber:M4,numberToBytesBE:wu,numberToBytesLE:B4,numberToHexUnpadded:L9,numberToVarBytesBE:wO,utf8ToBytes:jO,validateObject:Am},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $s=BigInt(0),js=BigInt(1),Ec=BigInt(2),TO=BigInt(3),iw=BigInt(4),b8=BigInt(5),v8=BigInt(8);BigInt(9);BigInt(16);function Hn(t,e){const s=t%e;return s>=$s?s:e+s}function RO(t,e,s){if(s<=$s||e<$s)throw new Error("Expected power/modulo > 0");if(s===js)return $s;let r=js;for(;e>$s;)e&js&&(r=r*t%s),t=t*t%s,e>>=js;return r}function Er(t,e,s){let r=t;for(;e-- >$s;)r*=r,r%=s;return r}function ow(t,e){if(t===$s||e<=$s)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let s=Hn(t,e),r=e,a=$s,i=js;for(;s!==$s;){const c=r/s,d=r%s,h=a-i*c;r=s,s=d,a=i,i=h}if(r!==js)throw new Error("invert: does not exist");return Hn(a,e)}function MO(t){const e=(t-js)/Ec;let s,r,a;for(s=t-js,r=0;s%Ec===$s;s/=Ec,r++);for(a=Ec;a<t&&RO(a,e,t)!==t-js;a++);if(r===1){const o=(t+js)/iw;return function(d,h){const f=d.pow(h,o);if(!d.eql(d.sqr(f),h))throw new Error("Cannot find square root");return f}}const i=(s+js)/Ec;return function(c,d){if(c.pow(d,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=r,f=c.pow(c.mul(c.ONE,a),s),x=c.pow(d,i),g=c.pow(d,s);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let p=1;for(let y=c.sqr(g);p<h&&!c.eql(y,c.ONE);p++)y=c.sqr(y);const v=c.pow(f,js<<BigInt(h-p-1));f=c.sqr(v),x=c.mul(x,v),g=c.mul(g,f),h=p}return x}}function DO(t){if(t%iw===TO){const e=(t+js)/iw;return function(r,a){const i=r.pow(a,e);if(!r.eql(r.sqr(i),a))throw new Error("Cannot find square root");return i}}if(t%v8===b8){const e=(t-b8)/v8;return function(r,a){const i=r.mul(a,Ec),o=r.pow(i,e),c=r.mul(a,o),d=r.mul(r.mul(c,Ec),o),h=r.mul(c,r.sub(d,r.ONE));if(!r.eql(r.sqr(h),a))throw new Error("Cannot find square root");return h}}return MO(t)}const BO=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _O(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},s=BO.reduce((r,a)=>(r[a]="function",r),e);return Am(t,s)}function IO(t,e,s){if(s<$s)throw new Error("Expected power > 0");if(s===$s)return t.ONE;if(s===js)return e;let r=t.ONE,a=e;for(;s>$s;)s&js&&(r=t.mul(r,a)),a=t.sqr(a),s>>=js;return r}function LO(t,e){const s=new Array(e.length),r=e.reduce((i,o,c)=>t.is0(o)?i:(s[c]=i,t.mul(i,o)),t.ONE),a=t.inv(r);return e.reduceRight((i,o,c)=>t.is0(o)?i:(s[c]=t.mul(i,s[c]),t.mul(i,o)),a),s}function P9(t,e){const s=e!==void 0?e:t.toString(2).length,r=Math.ceil(s/8);return{nBitLength:s,nByteLength:r}}function OO(t,e,s=!1,r={}){if(t<=$s)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:a,nByteLength:i}=P9(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=DO(t),c=Object.freeze({ORDER:t,BITS:a,BYTES:i,MASK:_4(a),ZERO:$s,ONE:js,create:d=>Hn(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return $s<=d&&d<t},is0:d=>d===$s,isOdd:d=>(d&js)===js,neg:d=>Hn(-d,t),eql:(d,h)=>d===h,sqr:d=>Hn(d*d,t),add:(d,h)=>Hn(d+h,t),sub:(d,h)=>Hn(d-h,t),mul:(d,h)=>Hn(d*h,t),pow:(d,h)=>IO(c,d,h),div:(d,h)=>Hn(d*ow(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>ow(d,t),sqrt:r.sqrt||(d=>o(c,d)),invertBatch:d=>LO(c,d),cmov:(d,h,f)=>f?h:d,toBytes:d=>s?B4(d,i):wu(d,i),fromBytes:d=>{if(d.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${d.length}`);return s?D4(d):ad(d)}});return Object.freeze(c)}function F9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function z9(t){const e=F9(t);return e+Math.ceil(e/2)}function PO(t,e,s=!1){const r=t.length,a=F9(e),i=z9(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=s?ad(t):D4(t),c=Hn(o,e-js)+js;return s?B4(c,a):wu(c,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FO=BigInt(0),my=BigInt(1);function zO(t,e){const s=(a,i)=>{const o=i.negate();return a?o:i},r=a=>{const i=Math.ceil(e/a)+1,o=2**(a-1);return{windows:i,windowSize:o}};return{constTimeNegate:s,unsafeLadder(a,i){let o=t.ZERO,c=a;for(;i>FO;)i&my&&(o=o.add(c)),c=c.double(),i>>=my;return o},precomputeWindow(a,i){const{windows:o,windowSize:c}=r(i),d=[];let h=a,f=h;for(let x=0;x<o;x++){f=h,d.push(f);for(let g=1;g<c;g++)f=f.add(h),d.push(f);h=f.double()}return d},wNAF(a,i,o){const{windows:c,windowSize:d}=r(a);let h=t.ZERO,f=t.BASE;const x=BigInt(2**a-1),g=2**a,p=BigInt(a);for(let v=0;v<c;v++){const y=v*d;let w=Number(o&x);o>>=p,w>d&&(w-=g,o+=my);const A=y,j=y+Math.abs(w)-1,C=v%2!==0,S=w<0;w===0?f=f.add(s(C,i[A])):h=h.add(s(S,i[j]))}return{p:h,f}},wNAFCached(a,i,o,c){const d=a._WINDOW_SIZE||1;let h=i.get(a);return h||(h=this.precomputeWindow(a,d),d!==1&&i.set(a,c(h))),this.wNAF(d,h,o)}}}function U9(t){return _O(t.Fp),Am(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...P9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function UO(t){const e=U9(t);Am(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:s,Fp:r,a}=e;if(s){if(!r.eql(a,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof s!="object"||typeof s.beta!="bigint"||typeof s.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:$O,hexToBytes:HO}=SO,Mc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Mc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const s=t[1],r=t.subarray(2,s+2);if(!s||r.length!==s)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:$O(r),l:t.subarray(s+2)}},toSig(t){const{Err:e}=Mc,s=typeof t=="string"?HO(t):t;if(!(s instanceof Uint8Array))throw new Error("ui8a expected");let r=s.length;if(r<2||s[0]!=48)throw new e("Invalid signature tag");if(s[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:a,l:i}=Mc._parseInt(s.subarray(2)),{d:o,l:c}=Mc._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:a,s:o}},hexFromSig(t){const e=h=>Number.parseInt(h[0],16)&8?"00"+h:h,s=h=>{const f=h.toString(16);return f.length&1?`0${f}`:f},r=e(s(t.s)),a=e(s(t.r)),i=r.length/2,o=a.length/2,c=s(i),d=s(o);return`30${s(o+i+4)}02${d}${a}02${c}${r}`}},Qi=BigInt(0),Or=BigInt(1);BigInt(2);const y8=BigInt(3);BigInt(4);function VO(t){const e=UO(t),{Fp:s}=e,r=e.toBytes||((v,y,w)=>{const A=y.toAffine();return Bf(Uint8Array.from([4]),s.toBytes(A.x),s.toBytes(A.y))}),a=e.fromBytes||(v=>{const y=v.subarray(1),w=s.fromBytes(y.subarray(0,s.BYTES)),A=s.fromBytes(y.subarray(s.BYTES,2*s.BYTES));return{x:w,y:A}});function i(v){const{a:y,b:w}=e,A=s.sqr(v),j=s.mul(A,v);return s.add(s.add(j,s.mul(v,y)),w)}if(!s.eql(s.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(v){return typeof v=="bigint"&&Qi<v&&v<e.n}function c(v){if(!o(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(v){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:A,n:j}=e;if(y&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=vu(v)),typeof v!="string"||!y.includes(v.length))throw new Error("Invalid key");v=v.padStart(w*2,"0")}let C;try{C=typeof v=="bigint"?v:ad(na("private key",v,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof v}`)}return A&&(C=Hn(C,j)),c(C),C}const h=new Map;function f(v){if(!(v instanceof x))throw new Error("ProjectivePoint expected")}class x{constructor(y,w,A){if(this.px=y,this.py=w,this.pz=A,y==null||!s.isValid(y))throw new Error("x required");if(w==null||!s.isValid(w))throw new Error("y required");if(A==null||!s.isValid(A))throw new Error("z required")}static fromAffine(y){const{x:w,y:A}=y||{};if(!y||!s.isValid(w)||!s.isValid(A))throw new Error("invalid affine point");if(y instanceof x)throw new Error("projective point not allowed");const j=C=>s.eql(C,s.ZERO);return j(w)&&j(A)?x.ZERO:new x(w,A,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=s.invertBatch(y.map(A=>A.pz));return y.map((A,j)=>A.toAffine(w[j])).map(x.fromAffine)}static fromHex(y){const w=x.fromAffine(a(na("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return x.BASE.multiply(d(y))}_setWindowSize(y){this._WINDOW_SIZE=y,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!s.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!s.isValid(y)||!s.isValid(w))throw new Error("bad point: x or y not FE");const A=s.sqr(w),j=i(y);if(!s.eql(A,j))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(s.isOdd)return!s.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){f(y);const{px:w,py:A,pz:j}=this,{px:C,py:S,pz:E}=y,M=s.eql(s.mul(w,E),s.mul(C,j)),R=s.eql(s.mul(A,E),s.mul(S,j));return M&&R}negate(){return new x(this.px,s.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,A=s.mul(w,y8),{px:j,py:C,pz:S}=this;let E=s.ZERO,M=s.ZERO,R=s.ZERO,_=s.mul(j,j),I=s.mul(C,C),D=s.mul(S,S),B=s.mul(j,C);return B=s.add(B,B),R=s.mul(j,S),R=s.add(R,R),E=s.mul(y,R),M=s.mul(A,D),M=s.add(E,M),E=s.sub(I,M),M=s.add(I,M),M=s.mul(E,M),E=s.mul(B,E),R=s.mul(A,R),D=s.mul(y,D),B=s.sub(_,D),B=s.mul(y,B),B=s.add(B,R),R=s.add(_,_),_=s.add(R,_),_=s.add(_,D),_=s.mul(_,B),M=s.add(M,_),D=s.mul(C,S),D=s.add(D,D),_=s.mul(D,B),E=s.sub(E,_),R=s.mul(D,I),R=s.add(R,R),R=s.add(R,R),new x(E,M,R)}add(y){f(y);const{px:w,py:A,pz:j}=this,{px:C,py:S,pz:E}=y;let M=s.ZERO,R=s.ZERO,_=s.ZERO;const I=e.a,D=s.mul(e.b,y8);let B=s.mul(w,C),O=s.mul(A,S),$=s.mul(j,E),Y=s.add(w,A),H=s.add(C,S);Y=s.mul(Y,H),H=s.add(B,O),Y=s.sub(Y,H),H=s.add(w,j);let L=s.add(C,E);return H=s.mul(H,L),L=s.add(B,$),H=s.sub(H,L),L=s.add(A,j),M=s.add(S,E),L=s.mul(L,M),M=s.add(O,$),L=s.sub(L,M),_=s.mul(I,H),M=s.mul(D,$),_=s.add(M,_),M=s.sub(O,_),_=s.add(O,_),R=s.mul(M,_),O=s.add(B,B),O=s.add(O,B),$=s.mul(I,$),H=s.mul(D,H),O=s.add(O,$),$=s.sub(B,$),$=s.mul(I,$),H=s.add(H,$),B=s.mul(O,H),R=s.add(R,B),B=s.mul(L,H),M=s.mul(Y,M),M=s.sub(M,B),B=s.mul(Y,O),_=s.mul(L,_),_=s.add(_,B),new x(M,R,_)}subtract(y){return this.add(y.negate())}is0(){return this.equals(x.ZERO)}wNAF(y){return p.wNAFCached(this,h,y,w=>{const A=s.invertBatch(w.map(j=>j.pz));return w.map((j,C)=>j.toAffine(A[C])).map(x.fromAffine)})}multiplyUnsafe(y){const w=x.ZERO;if(y===Qi)return w;if(c(y),y===Or)return this;const{endo:A}=e;if(!A)return p.unsafeLadder(this,y);let{k1neg:j,k1:C,k2neg:S,k2:E}=A.splitScalar(y),M=w,R=w,_=this;for(;C>Qi||E>Qi;)C&Or&&(M=M.add(_)),E&Or&&(R=R.add(_)),_=_.double(),C>>=Or,E>>=Or;return j&&(M=M.negate()),S&&(R=R.negate()),R=new x(s.mul(R.px,A.beta),R.py,R.pz),M.add(R)}multiply(y){c(y);let w=y,A,j;const{endo:C}=e;if(C){const{k1neg:S,k1:E,k2neg:M,k2:R}=C.splitScalar(w);let{p:_,f:I}=this.wNAF(E),{p:D,f:B}=this.wNAF(R);_=p.constTimeNegate(S,_),D=p.constTimeNegate(M,D),D=new x(s.mul(D.px,C.beta),D.py,D.pz),A=_.add(D),j=I.add(B)}else{const{p:S,f:E}=this.wNAF(w);A=S,j=E}return x.normalizeZ([A,j])[0]}multiplyAndAddUnsafe(y,w,A){const j=x.BASE,C=(E,M)=>M===Qi||M===Or||!E.equals(j)?E.multiplyUnsafe(M):E.multiply(M),S=C(this,w).add(C(y,A));return S.is0()?void 0:S}toAffine(y){const{px:w,py:A,pz:j}=this,C=this.is0();y==null&&(y=C?s.ONE:s.inv(j));const S=s.mul(w,y),E=s.mul(A,y),M=s.mul(j,y);if(C)return{x:s.ZERO,y:s.ZERO};if(!s.eql(M,s.ONE))throw new Error("invZ was invalid");return{x:S,y:E}}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===Or)return!0;if(w)return w(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===Or?this:w?w(x,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(x,this,y)}toHex(y=!0){return vu(this.toRawBytes(y))}}x.BASE=new x(e.Gx,e.Gy,s.ONE),x.ZERO=new x(s.ZERO,s.ONE,s.ZERO);const g=e.nBitLength,p=zO(x,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:o}}function GO(t){const e=U9(t);return Am(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qO(t){const e=GO(t),{Fp:s,n:r}=e,a=s.BYTES+1,i=2*s.BYTES+1;function o(H){return Qi<H&&H<s.ORDER}function c(H){return Hn(H,r)}function d(H){return ow(H,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:x,isWithinCurveOrder:g}=VO({...e,toBytes(H,L,V){const X=L.toAffine(),ee=s.toBytes(X.x),F=Bf;return V?F(Uint8Array.from([L.hasEvenY()?2:3]),ee):F(Uint8Array.from([4]),ee,s.toBytes(X.y))},fromBytes(H){const L=H.length,V=H[0],X=H.subarray(1);if(L===a&&(V===2||V===3)){const ee=ad(X);if(!o(ee))throw new Error("Point is not on curve");const F=x(ee);let z=s.sqrt(F);const G=(z&Or)===Or;return(V&1)===1!==G&&(z=s.neg(z)),{x:ee,y:z}}else if(L===i&&V===4){const ee=s.fromBytes(X.subarray(0,s.BYTES)),F=s.fromBytes(X.subarray(s.BYTES,2*s.BYTES));return{x:ee,y:F}}else throw new Error(`Point of length ${L} was invalid. Expected ${a} compressed bytes or ${i} uncompressed bytes`)}}),p=H=>vu(wu(H,e.nByteLength));function v(H){const L=r>>Or;return H>L}function y(H){return v(H)?c(-H):H}const w=(H,L,V)=>ad(H.slice(L,V));class A{constructor(L,V,X){this.r=L,this.s=V,this.recovery=X,this.assertValidity()}static fromCompact(L){const V=e.nByteLength;return L=na("compactSignature",L,V*2),new A(w(L,0,V),w(L,V,2*V))}static fromDER(L){const{r:V,s:X}=Mc.toSig(na("DER",L));return new A(V,X)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(L){return new A(this.r,this.s,L)}recoverPublicKey(L){const{r:V,s:X,recovery:ee}=this,F=R(na("msgHash",L));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const z=ee===2||ee===3?V+e.n:V;if(z>=s.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(ee&1)===0?"02":"03",K=h.fromHex(G+p(z)),W=d(z),Q=c(-F*W),Z=c(X*W),ne=h.BASE.multiplyAndAddUnsafe(K,Q,Z);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return yu(this.toDERHex())}toDERHex(){return Mc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return yu(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const j={isValidPrivateKey(H){try{return f(H),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const H=z9(e.n);return PO(e.randomBytes(H),e.n)},precompute(H=8,L=h.BASE){return L._setWindowSize(H),L.multiply(BigInt(3)),L}};function C(H,L=!0){return h.fromPrivateKey(H).toRawBytes(L)}function S(H){const L=H instanceof Uint8Array,V=typeof H=="string",X=(L||V)&&H.length;return L?X===a||X===i:V?X===2*a||X===2*i:H instanceof h}function E(H,L,V=!0){if(S(H))throw new Error("first arg must be private key");if(!S(L))throw new Error("second arg must be public key");return h.fromHex(L).multiply(f(H)).toRawBytes(V)}const M=e.bits2int||function(H){const L=ad(H),V=H.length*8-e.nBitLength;return V>0?L>>BigInt(V):L},R=e.bits2int_modN||function(H){return c(M(H))},_=_4(e.nBitLength);function I(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(Qi<=H&&H<_))throw new Error(`bigint expected < 2^${e.nBitLength}`);return wu(H,e.nByteLength)}function D(H,L,V=B){if(["recovered","canonical"].some(ke=>ke in V))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:ee}=e;let{lowS:F,prehash:z,extraEntropy:G}=V;F==null&&(F=!0),H=na("msgHash",H),z&&(H=na("prehashed msgHash",X(H)));const K=R(H),W=f(L),Q=[I(W),I(K)];if(G!=null){const ke=G===!0?ee(s.BYTES):G;Q.push(na("extraEntropy",ke))}const Z=Bf(...Q),ne=K;function re(ke){const Me=M(ke);if(!g(Me))return;const de=d(Me),be=h.BASE.multiply(Me).toAffine(),me=c(be.x);if(me===Qi)return;const ve=c(de*c(ne+me*W));if(ve===Qi)return;let Ae=(be.x===me?0:2)|Number(be.y&Or),Be=ve;return F&&v(ve)&&(Be=y(ve),Ae^=1),new A(me,Be,Ae)}return{seed:Z,k2sig:re}}const B={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};function $(H,L,V=B){const{seed:X,k2sig:ee}=D(H,L,V),F=e;return O9(F.hash.outputLen,F.nByteLength,F.hmac)(X,ee)}h.BASE._setWindowSize(8);function Y(H,L,V,X=O){var be;const ee=H;if(L=na("msgHash",L),V=na("publicKey",V),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:F,prehash:z}=X;let G,K;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{G=A.fromDER(ee)}catch(me){if(!(me instanceof Mc.Err))throw me;G=A.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:me,s:ve}=ee;G=new A(me,ve)}else throw new Error("PARSE");K=h.fromHex(V)}catch(me){if(me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(F&&G.hasHighS())return!1;z&&(L=e.hash(L));const{r:W,s:Q}=G,Z=R(L),ne=d(Q),re=c(Z*ne),ke=c(W*ne),Me=(be=h.BASE.multiplyAndAddUnsafe(K,re,ke))==null?void 0:be.toAffine();return Me?c(Me.x)===W:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:E,sign:$,verify:Y,ProjectivePoint:h,Signature:A,utils:j}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WO(t){return{hash:t,hmac:(e,...s)=>p9(t,e,_L(...s)),randomBytes:IL}}function YO(t,e){const s=r=>qO({...t,...WO(r)});return Object.freeze({...s(e),create:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),QO=BigInt(1),lw=BigInt(2),N8=(t,e)=>(t+e/lw)/e;function KO(t){const e=$9,s=BigInt(3),r=BigInt(6),a=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),d=BigInt(88),h=t*t*t%e,f=h*h*t%e,x=Er(f,s,e)*f%e,g=Er(x,s,e)*f%e,p=Er(g,lw,e)*h%e,v=Er(p,a,e)*p%e,y=Er(v,i,e)*v%e,w=Er(y,c,e)*y%e,A=Er(w,d,e)*w%e,j=Er(A,c,e)*y%e,C=Er(j,s,e)*f%e,S=Er(C,o,e)*v%e,E=Er(S,r,e)*h%e,M=Er(E,lw,e);if(!cw.eql(cw.sqr(M),t))throw new Error("Cannot find square root");return M}const cw=OO($9,void 0,void 0,{sqrt:KO}),Jo=YO({a:BigInt(0),b:BigInt(7),Fp:cw,n:w8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=w8,s=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-QO*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=s,o=BigInt("0x100000000000000000000000000000000"),c=N8(i*t,e),d=N8(-r*t,e);let h=Hn(t-c*s-d*a,e),f=Hn(-c*r-d*i,e);const x=h>o,g=f>o;if(x&&(h=e-h),g&&(f=e-f),h>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:x,k1:h,k2neg:g,k2:f}}}},v9);BigInt(0);Jo.ProjectivePoint;const Nu="0x0000000000000000000000000000000000000000",Dl="0x0000000000000000000000000000000000000000000000000000000000000000",j8=BigInt(0),C8=BigInt(1),k8=BigInt(2),A8=BigInt(27),E8=BigInt(28),Jx=BigInt(35),n0={};function S8(t){return Rl(fn(t),32)}var z0,U0,$0,Wc;const sa=class sa{constructor(e,s,r,a){pe(this,z0);pe(this,U0);pe(this,$0);pe(this,Wc);Pu(e,n0,"Signature"),J(this,z0,s),J(this,U0,r),J(this,$0,a),J(this,Wc,null)}get r(){return U(this,z0)}set r(e){oe(rd(e)===32,"invalid r","value",e),J(this,z0,Oe(e))}get s(){return U(this,U0)}set s(e){oe(rd(e)===32,"invalid s","value",e);const s=Oe(e);oe(parseInt(s.substring(0,3))<8,"non-canonical s","value",s),J(this,U0,s)}get v(){return U(this,$0)}set v(e){const s=it(e,"value");oe(s===27||s===28,"invalid v","v",e),J(this,$0,s)}get networkV(){return U(this,Wc)}get legacyChainId(){const e=this.networkV;return e==null?null:sa.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=pt(this.s);return this.yParity&&(e[0]|=128),Oe(e)}get compactSerialized(){return gs([this.r,this.yParityAndS])}get serialized(){return gs([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new sa(n0,this.r,this.s,this.v);return this.networkV&&J(e,Wc,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const s=ze(e,"v");return s==A8||s==E8?j8:(oe(s>=Jx,"invalid EIP-155 v","v",e),(s-Jx)/k8)}static getChainIdV(e,s){return ze(e)*k8+BigInt(35+s-27)}static getNormalizedV(e){const s=ze(e);return s===j8||s===A8?27:s===C8||s===E8?28:(oe(s>=Jx,"invalid v","v",e),s&C8?27:28)}static from(e){function s(h,f){oe(h,f,"signature",e)}if(e==null)return new sa(n0,Dl,Dl,27);if(typeof e=="string"){const h=pt(e,"signature");if(h.length===64){const f=Oe(h.slice(0,32)),x=h.slice(32,64),g=x[0]&128?28:27;return x[0]&=127,new sa(n0,f,Oe(x),g)}if(h.length===65){const f=Oe(h.slice(0,32)),x=h.slice(32,64);s((x[0]&128)===0,"non-canonical s");const g=sa.getNormalizedV(h[64]);return new sa(n0,f,Oe(x),g)}s(!1,"invalid raw signature length")}if(e instanceof sa)return e.clone();const r=e.r;s(r!=null,"missing r");const a=S8(r),i=function(h,f){if(h!=null)return S8(h);if(f!=null){s(Ht(f,32),"invalid yParityAndS");const x=pt(f);return x[0]&=127,Oe(x)}s(!1,"missing s")}(e.s,e.yParityAndS);s((pt(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:c}=function(h,f,x){if(h!=null){const g=ze(h);return{networkV:g>=Jx?g:void 0,v:sa.getNormalizedV(g)}}if(f!=null)return s(Ht(f,32),"invalid yParityAndS"),{v:pt(f)[0]&128?28:27};if(x!=null){switch(it(x,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}s(!1,"invalid yParity")}s(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),d=new sa(n0,a,i,c);return o&&J(d,Wc,o),s(e.yParity==null||it(e.yParity,"sig.yParity")===d.yParity,"yParity mismatch"),s(e.yParityAndS==null||e.yParityAndS===d.yParityAndS,"yParityAndS mismatch"),d}};z0=new WeakMap,U0=new WeakMap,$0=new WeakMap,Wc=new WeakMap;let Hr=sa;var zi;const Sc=class Sc{constructor(e){pe(this,zi);oe(rd(e)===32,"invalid private key","privateKey","[REDACTED]"),J(this,zi,Oe(e))}get privateKey(){return U(this,zi)}get publicKey(){return Sc.computePublicKey(U(this,zi))}get compressedPublicKey(){return Sc.computePublicKey(U(this,zi),!0)}sign(e){oe(rd(e)===32,"invalid digest length","digest",e);const s=Jo.sign(hn(e),hn(U(this,zi)),{lowS:!0});return Hr.from({r:oo(s.r,32),s:oo(s.s,32),v:s.recovery?28:27})}computeSharedSecret(e){const s=Sc.computePublicKey(e);return Oe(Jo.getSharedSecret(hn(U(this,zi)),pt(s),!1))}static computePublicKey(e,s){let r=pt(e,"key");if(r.length===32){const i=Jo.getPublicKey(r,!!s);return Oe(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const a=Jo.ProjectivePoint.fromHex(r);return Oe(a.toRawBytes(s))}static recoverPublicKey(e,s){oe(rd(e)===32,"invalid digest length","digest",e);const r=Hr.from(s);let a=Jo.Signature.fromCompact(hn(gs([r.r,r.s])));a=a.addRecoveryBit(r.yParity);const i=a.recoverPublicKey(hn(e));return oe(i!=null,"invalid signautre for digest","signature",s),"0x"+i.toHex(!1)}static addPoints(e,s,r){const a=Jo.ProjectivePoint.fromHex(Sc.computePublicKey(e).substring(2)),i=Jo.ProjectivePoint.fromHex(Sc.computePublicKey(s).substring(2));return"0x"+a.add(i).toHex(!!r)}};zi=new WeakMap;let ju=Sc;const XO=BigInt(0),ZO=BigInt(36);function T8(t){t=t.toLowerCase();const e=t.substring(2).split(""),s=new Uint8Array(40);for(let a=0;a<40;a++)s[a]=e[a].charCodeAt(0);const r=pt(Qt(s));for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&(e[a]=e[a].toUpperCase()),(r[a>>1]&15)>=8&&(e[a+1]=e[a+1].toUpperCase());return"0x"+e.join("")}const I4={};for(let t=0;t<10;t++)I4[String(t)]=String(t);for(let t=0;t<26;t++)I4[String.fromCharCode(65+t)]=String(10+t);const R8=15;function JO(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>I4[r]).join("");for(;e.length>=R8;){let r=e.substring(0,R8);e=parseInt(r,10)%97+e.substring(r.length)}let s=String(98-parseInt(e,10)%97);for(;s.length<2;)s="0"+s;return s}const eP=function(){const t={};for(let e=0;e<36;e++){const s="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[s]=BigInt(e)}return t}();function tP(t){t=t.toLowerCase();let e=XO;for(let s=0;s<t.length;s++)e=e*ZO+eP[t[s]];return e}function Rt(t){if(oe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=T8(t);return oe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){oe(t.substring(2,4)===JO(t),"bad icap checksum","address",t);let e=tP(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return T8("0x"+e)}oe(!1,"invalid address","address",t)}function H9(t){const e=Rt(t.from);let r=ze(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Rt(ls(Qt(Ml([e,r])),12))}function L4(t){return t&&typeof t.getAddress=="function"}function O4(t){try{return Rt(t),!0}catch{}return!1}async function xy(t,e){const s=await e;return(s==null||s==="0x0000000000000000000000000000000000000000")&&(Te(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),oe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Rt(s)}function mn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Rt(t):(Te(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),xy(t,e.resolveName(t)));if(L4(t))return xy(t,t.getAddress());if(t&&typeof t.then=="function")return xy(t,t);oe(!1,"unsupported addressable value","target",t)}const Bi={};function Le(t,e){let s=!1;return e<0&&(s=!0,e*=-1),new tn(Bi,`${s?"":"u"}int${e}`,t,{signed:s,width:e})}function kt(t,e){return new tn(Bi,`bytes${e||""}`,t,{size:e})}const M8=Symbol.for("_ethers_typed");var Yc;const _i=class _i{constructor(e,s,r,a){se(this,"type");se(this,"value");pe(this,Yc);se(this,"_typedSymbol");a==null&&(a=null),Pu(Bi,e,"Typed"),Ge(this,{_typedSymbol:M8,type:s,value:r}),J(this,Yc,a),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return U(this,Yc)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return U(this,Yc)===!0?-1:U(this,Yc)===!1?this.value.length:null}static from(e,s){return new _i(Bi,e,s)}static uint8(e){return Le(e,8)}static uint16(e){return Le(e,16)}static uint24(e){return Le(e,24)}static uint32(e){return Le(e,32)}static uint40(e){return Le(e,40)}static uint48(e){return Le(e,48)}static uint56(e){return Le(e,56)}static uint64(e){return Le(e,64)}static uint72(e){return Le(e,72)}static uint80(e){return Le(e,80)}static uint88(e){return Le(e,88)}static uint96(e){return Le(e,96)}static uint104(e){return Le(e,104)}static uint112(e){return Le(e,112)}static uint120(e){return Le(e,120)}static uint128(e){return Le(e,128)}static uint136(e){return Le(e,136)}static uint144(e){return Le(e,144)}static uint152(e){return Le(e,152)}static uint160(e){return Le(e,160)}static uint168(e){return Le(e,168)}static uint176(e){return Le(e,176)}static uint184(e){return Le(e,184)}static uint192(e){return Le(e,192)}static uint200(e){return Le(e,200)}static uint208(e){return Le(e,208)}static uint216(e){return Le(e,216)}static uint224(e){return Le(e,224)}static uint232(e){return Le(e,232)}static uint240(e){return Le(e,240)}static uint248(e){return Le(e,248)}static uint256(e){return Le(e,256)}static uint(e){return Le(e,256)}static int8(e){return Le(e,-8)}static int16(e){return Le(e,-16)}static int24(e){return Le(e,-24)}static int32(e){return Le(e,-32)}static int40(e){return Le(e,-40)}static int48(e){return Le(e,-48)}static int56(e){return Le(e,-56)}static int64(e){return Le(e,-64)}static int72(e){return Le(e,-72)}static int80(e){return Le(e,-80)}static int88(e){return Le(e,-88)}static int96(e){return Le(e,-96)}static int104(e){return Le(e,-104)}static int112(e){return Le(e,-112)}static int120(e){return Le(e,-120)}static int128(e){return Le(e,-128)}static int136(e){return Le(e,-136)}static int144(e){return Le(e,-144)}static int152(e){return Le(e,-152)}static int160(e){return Le(e,-160)}static int168(e){return Le(e,-168)}static int176(e){return Le(e,-176)}static int184(e){return Le(e,-184)}static int192(e){return Le(e,-192)}static int200(e){return Le(e,-200)}static int208(e){return Le(e,-208)}static int216(e){return Le(e,-216)}static int224(e){return Le(e,-224)}static int232(e){return Le(e,-232)}static int240(e){return Le(e,-240)}static int248(e){return Le(e,-248)}static int256(e){return Le(e,-256)}static int(e){return Le(e,-256)}static bytes1(e){return kt(e,1)}static bytes2(e){return kt(e,2)}static bytes3(e){return kt(e,3)}static bytes4(e){return kt(e,4)}static bytes5(e){return kt(e,5)}static bytes6(e){return kt(e,6)}static bytes7(e){return kt(e,7)}static bytes8(e){return kt(e,8)}static bytes9(e){return kt(e,9)}static bytes10(e){return kt(e,10)}static bytes11(e){return kt(e,11)}static bytes12(e){return kt(e,12)}static bytes13(e){return kt(e,13)}static bytes14(e){return kt(e,14)}static bytes15(e){return kt(e,15)}static bytes16(e){return kt(e,16)}static bytes17(e){return kt(e,17)}static bytes18(e){return kt(e,18)}static bytes19(e){return kt(e,19)}static bytes20(e){return kt(e,20)}static bytes21(e){return kt(e,21)}static bytes22(e){return kt(e,22)}static bytes23(e){return kt(e,23)}static bytes24(e){return kt(e,24)}static bytes25(e){return kt(e,25)}static bytes26(e){return kt(e,26)}static bytes27(e){return kt(e,27)}static bytes28(e){return kt(e,28)}static bytes29(e){return kt(e,29)}static bytes30(e){return kt(e,30)}static bytes31(e){return kt(e,31)}static bytes32(e){return kt(e,32)}static address(e){return new _i(Bi,"address",e)}static bool(e){return new _i(Bi,"bool",!!e)}static bytes(e){return new _i(Bi,"bytes",e)}static string(e){return new _i(Bi,"string",e)}static array(e,s){throw new Error("not implemented yet")}static tuple(e,s){throw new Error("not implemented yet")}static overrides(e){return new _i(Bi,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===M8}static dereference(e,s){if(_i.isTyped(e)){if(e.type!==s)throw new Error(`invalid type: expecetd ${s}, got ${e.type}`);return e.value}return e}};Yc=new WeakMap;let tn=_i;class sP extends po{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,s){let r=tn.dereference(s,"string");try{r=Rt(r)}catch(a){return this._throwError(a.message,s)}return e.writeValue(r)}decode(e){return Rt(oo(e.readValue(),20))}}class nP extends po{constructor(s){super(s.name,s.type,"_",s.dynamic);se(this,"coder");this.coder=s}defaultValue(){return this.coder.defaultValue()}encode(s,r){return this.coder.encode(s,r)}decode(s){return this.coder.decode(s)}}function V9(t,e,s){let r=[];if(Array.isArray(s))r=s;else if(s&&typeof s=="object"){let d={};r=e.map(h=>{const f=h.localName;return Te(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:s}),Te(!d[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:s}),d[f]=!0,s[f]})}else oe(!1,"invalid tuple value","tuple",s);oe(e.length===r.length,"types/value length mismatch","tuple",s);let a=new sw,i=new sw,o=[];e.forEach((d,h)=>{let f=r[h];if(d.dynamic){let x=i.length;d.encode(i,f);let g=a.writeUpdatableValue();o.push(p=>{g(p+x)})}else d.encode(a,f)}),o.forEach(d=>{d(a.length)});let c=t.appendWriter(a);return c+=t.appendWriter(i),c}function G9(t,e){let s=[],r=[],a=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let c=t.readIndex(),d=a.subReader(c);try{o=i.decode(d)}catch(h){if(Us(h,"BUFFER_OVERRUN"))throw h;o=h,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(c){if(Us(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");s.push(o),r.push(i.localName||null)}),dd.fromItems(s,r)}class rP extends po{constructor(s,r,a){const i=s.type+"["+(r>=0?r:"")+"]",o=r===-1||s.dynamic;super("array",i,a,o);se(this,"coder");se(this,"length");Ge(this,{coder:s,length:r})}defaultValue(){const s=this.coder.defaultValue(),r=[];for(let a=0;a<this.length;a++)r.push(s);return r}encode(s,r){const a=tn.dereference(r,"array");Array.isArray(a)||this._throwError("expected array value",a);let i=this.length;i===-1&&(i=a.length,s.writeValue(a.length)),C4(a.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let c=0;c<a.length;c++)o.push(this.coder);return V9(s,o,a)}decode(s){let r=this.length;r===-1&&(r=s.readIndex(),Te(r*kn<=s.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:s.bytes,offset:r*kn,length:s.dataLength}));let a=[];for(let i=0;i<r;i++)a.push(new nP(this.coder));return G9(s,a)}}class aP extends po{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,s){const r=tn.dereference(s,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class q9 extends po{constructor(e,s){super(e,e,s,!0)}defaultValue(){return"0x"}encode(e,s){s=hn(s);let r=e.writeValue(s.length);return r+=e.writeBytes(s),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class iP extends q9{constructor(e){super("bytes",e)}decode(e){return Oe(super.decode(e))}}class oP extends po{constructor(s,r){let a="bytes"+String(s);super(a,a,r,!1);se(this,"size");Ge(this,{size:s},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(s,r){let a=hn(tn.dereference(r,this.type));return a.length!==this.size&&this._throwError("incorrect data length",r),s.writeBytes(a)}decode(s){return Oe(s.readBytes(this.size))}}const lP=new Uint8Array([]);class cP extends po{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,s){return s!=null&&this._throwError("not null",s),e.writeBytes(lP)}decode(e){return e.readBytes(0),null}}const dP=BigInt(0),uP=BigInt(1),hP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class fP extends po{constructor(s,r,a){const i=(r?"int":"uint")+s*8;super(i,i,a,!1);se(this,"size");se(this,"signed");Ge(this,{size:s,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(s,r){let a=ze(tn.dereference(r,this.type)),i=wl(hP,kn*8);if(this.signed){let o=wl(i,this.size*8-1);(a>o||a<-(o+uP))&&this._throwError("value out-of-bounds",r),a=k4(a,8*kn)}else(a<dP||a>wl(i,this.size*8))&&this._throwError("value out-of-bounds",r);return s.writeValue(a)}decode(s){let r=wl(s.readValue(),this.size*8);return this.signed&&(r=Mf(r,this.size*8)),r}}class mP extends q9{constructor(e){super("string",e)}defaultValue(){return""}encode(e,s){return super.encode(e,qn(tn.dereference(s,"string")))}decode(e){return Df(super.decode(e))}}class eg extends po{constructor(s,r){let a=!1;const i=[];s.forEach(c=>{c.dynamic&&(a=!0),i.push(c.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,a);se(this,"coders");Ge(this,{coders:Object.freeze(s.slice())})}defaultValue(){const s=[];this.coders.forEach(a=>{s.push(a.defaultValue())});const r=this.coders.reduce((a,i)=>{const o=i.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});return this.coders.forEach((a,i)=>{let o=a.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),s[o]==null&&(s[o]=s[i]))}),Object.freeze(s)}encode(s,r){const a=tn.dereference(r,"tuple");return V9(s,this.coders,a)}decode(s){return G9(s,this.coders)}}function Bl(t){return Qt(qn(t))}var xP="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const D8=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),B8=4;function gP(t){let e=0;function s(){return t[e++]<<8|t[e++]}let r=s(),a=1,i=[0,1];for(let E=1;E<r;E++)i.push(a+=s());let o=s(),c=e;e+=o;let d=0,h=0;function f(){return d==0&&(h=h<<8|t[e++],d=8),h>>--d&1}const x=31,g=2**x,p=g>>>1,v=p>>1,y=g-1;let w=0;for(let E=0;E<x;E++)w=w<<1|f();let A=[],j=0,C=g;for(;;){let E=Math.floor(((w-j+1)*a-1)/C),M=0,R=r;for(;R-M>1;){let D=M+R>>>1;E<i[D]?R=D:M=D}if(M==0)break;A.push(M);let _=j+Math.floor(C*i[M]/a),I=j+Math.floor(C*i[M+1]/a)-1;for(;((_^I)&p)==0;)w=w<<1&y|f(),_=_<<1&y,I=I<<1&y|1;for(;_&~I&v;)w=w&p|w<<1&y>>>1|f(),_=_<<1^p,I=(I^p)<<1|p|1;j=_,C=1+I-_}let S=r-4;return A.map(E=>{switch(E-S){case 3:return S+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return S+256+(t[c++]<<8|t[c++]);case 1:return S+t[c++];default:return E-1}})}function pP(t){let e=0;return()=>t[e++]}function W9(t){return pP(gP(bP(t)))}function bP(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,i)=>e[a.charCodeAt(0)]=i);let s=t.length,r=new Uint8Array(6*s>>3);for(let a=0,i=0,o=0,c=0;a<s;a++)c=c<<6|e[t.charCodeAt(a)],o+=6,o>=8&&(r[i++]=c>>(o-=8));return r}function vP(t){return t&1?~t>>1:t>>1}function yP(t,e){let s=Array(t);for(let r=0,a=0;r<t;r++)s[r]=a+=vP(e());return s}function _f(t,e=0){let s=[];for(;;){let r=t(),a=t();if(!a)break;e+=r;for(let i=0;i<a;i++)s.push(e+i);e+=a+1}return s}function Y9(t){return If(()=>{let e=_f(t);if(e.length)return e})}function Q9(t){let e=[];for(;;){let s=t();if(s==0)break;e.push(wP(s,t))}for(;;){let s=t()-1;if(s<0)break;e.push(NP(s,t))}return e.flat()}function If(t){let e=[];for(;;){let s=t(e.length);if(!s)break;e.push(s)}return e}function K9(t,e,s){let r=Array(t).fill().map(()=>[]);for(let a=0;a<e;a++)yP(t,s).forEach((i,o)=>r[o].push(i));return r}function wP(t,e){let s=1+e(),r=e(),a=If(e);return K9(a.length,1+t,e).flatMap((o,c)=>{let[d,...h]=o;return Array(a[c]).fill().map((f,x)=>{let g=x*r;return[d+x*s,h.map(p=>p+g)]})})}function NP(t,e){let s=1+e();return K9(s,1+t,e).map(a=>[a[0],a.slice(1)])}function jP(t){let e=[],s=_f(t);return a(r([]),[]),e;function r(i){let o=t(),c=If(()=>{let d=_f(t).map(h=>s[h]);if(d.length)return r(d)});return{S:o,B:c,Q:i}}function a({S:i,B:o},c,d){if(!(i&4&&d===c[c.length-1])){i&2&&(d=c[c.length-1]),i&1&&e.push(c);for(let h of o)for(let f of h.Q)a(h,[...c,f],d)}}}function CP(t){return t.toString(16).toUpperCase().padStart(2,"0")}function X9(t){return`{${CP(t)}}`}function kP(t){let e=[];for(let s=0,r=t.length;s<r;){let a=t.codePointAt(s);s+=a<65536?1:2,e.push(a)}return e}function Cu(t){let s=t.length;if(s<4096)return String.fromCodePoint(...t);let r=[];for(let a=0;a<s;)r.push(String.fromCodePoint(...t.slice(a,a+=4096)));return r.join("")}function AP(t,e){let s=t.length,r=s-e.length;for(let a=0;r==0&&a<s;a++)r=t[a]-e[a];return r}var EP="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Lf=44032,Lp=4352,Op=4449,Pp=4519,Z9=19,J9=21,ku=28,Fp=J9*ku,SP=Z9*Fp,TP=Lf+SP,RP=Lp+Z9,MP=Op+J9,DP=Pp+ku;function af(t){return t>>24&255}function e7(t){return t&16777215}let dw,_8,uw,Tg;function BP(){let t=W9(EP);dw=new Map(Y9(t).flatMap((e,s)=>e.map(r=>[r,s+1<<24]))),_8=new Set(_f(t)),uw=new Map,Tg=new Map;for(let[e,s]of Q9(t)){if(!_8.has(e)&&s.length==2){let[r,a]=s,i=Tg.get(r);i||(i=new Map,Tg.set(r,i)),i.set(a,e)}uw.set(e,s.reverse())}}function t7(t){return t>=Lf&&t<TP}function _P(t,e){if(t>=Lp&&t<RP&&e>=Op&&e<MP)return Lf+(t-Lp)*Fp+(e-Op)*ku;if(t7(t)&&e>Pp&&e<DP&&(t-Lf)%ku==0)return t+(e-Pp);{let s=Tg.get(t);return s&&(s=s.get(e),s)?s:-1}}function s7(t){dw||BP();let e=[],s=[],r=!1;function a(i){let o=dw.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(t7(i)){let o=i-Lf,c=o/Fp|0,d=o%Fp/ku|0,h=o%ku;a(Lp+c),a(Op+d),h>0&&a(Pp+h)}else{let o=uw.get(i);o?s.push(...o):a(i)}if(!s.length)break;i=s.pop()}if(r&&e.length>1){let i=af(e[0]);for(let o=1;o<e.length;o++){let c=af(e[o]);if(c==0||i<=c){i=c;continue}let d=o-1;for(;;){let h=e[d+1];if(e[d+1]=e[d],e[d]=h,!d||(i=af(e[--d]),i<=c))break}i=af(e[o])}}return e}function IP(t){let e=[],s=[],r=-1,a=0;for(let i of t){let o=af(i),c=e7(i);if(r==-1)o==0?r=c:e.push(c);else if(a>0&&a>=o)o==0?(e.push(r,...s),s.length=0,r=c):s.push(c),a=o;else{let d=_P(r,c);d>=0?r=d:a==0&&o==0?(e.push(r),r=c):(s.push(c),a=o)}}return r>=0&&e.push(r,...s),e}function n7(t){return s7(t).map(e7)}function LP(t){return IP(s7(t))}const I8=45,r7=".",a7=65039,i7=1,zp=t=>Array.from(t);function Of(t,e){return t.P.has(e)||t.Q.has(e)}class OP extends Array{get is_emoji(){return!0}}let hw,o7,Dc,fw,l7,E0,gy,d0,wc,L8,mw;function P4(){if(hw)return;let t=W9(xP);const e=()=>_f(t),s=()=>new Set(e()),r=(f,x)=>x.forEach(g=>f.add(g));hw=new Map(Q9(t)),o7=s(),Dc=e(),fw=new Set(e().map(f=>Dc[f])),Dc=new Set(Dc),l7=s(),s();let a=Y9(t),i=t();const o=()=>{let f=new Set;return e().forEach(x=>r(f,a[x])),r(f,e()),f};E0=If(f=>{let x=If(t).map(g=>g+96);if(x.length){let g=f>=i;x[0]-=32,x=Cu(x),g&&(x=`Restricted[${x}]`);let p=o(),v=o(),y=!t();return{N:x,P:p,Q:v,M:y,R:g}}}),gy=s(),d0=new Map;let c=e().concat(zp(gy)).sort((f,x)=>f-x);c.forEach((f,x)=>{let g=t(),p=c[x]=g?c[x-g]:{V:[],M:new Map};p.V.push(f),gy.has(f)||d0.set(f,p)});for(let{V:f,M:x}of new Set(d0.values())){let g=[];for(let v of f){let y=E0.filter(A=>Of(A,v)),w=g.find(({G:A})=>y.some(j=>A.has(j)));w||(w={G:new Set,V:[]},g.push(w)),w.V.push(v),r(w.G,y)}let p=g.flatMap(v=>zp(v.G));for(let{G:v,V:y}of g){let w=new Set(p.filter(A=>!v.has(A)));for(let A of y)x.set(A,w)}}wc=new Set;let d=new Set;const h=f=>wc.has(f)?d.add(f):wc.add(f);for(let f of E0){for(let x of f.P)h(x);for(let x of f.Q)h(x)}for(let f of wc)!d0.has(f)&&!d.has(f)&&d0.set(f,i7);r(wc,n7(wc)),L8=jP(t).map(f=>OP.from(f)).sort(AP),mw=new Map;for(let f of L8){let x=[mw];for(let g of f){let p=x.map(v=>{let y=v.get(g);return y||(y=new Map,v.set(g,y)),y});g===a7?x.push(...p):x=p}for(let g of x)g.V=f}}function F4(t){return(c7(t)?"":`${z4(Sb([t]))} `)+X9(t)}function z4(t){return`"${t}"‎`}function PP(t){if(t.length>=4&&t[2]==I8&&t[3]==I8)throw new Error(`invalid label extension: "${Cu(t.slice(0,4))}"`)}function FP(t){for(let s=t.lastIndexOf(95);s>0;)if(t[--s]!==95)throw new Error("underscore allowed only at start")}function zP(t){let e=t[0],s=D8.get(e);if(s)throw gf(`leading ${s}`);let r=t.length,a=-1;for(let i=1;i<r;i++){e=t[i];let o=D8.get(e);if(o){if(a==i)throw gf(`${s} + ${o}`);a=i+1,s=o}}if(a==r)throw gf(`trailing ${s}`)}function Sb(t,e=1/0,s=X9){let r=[];UP(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let a=0,i=t.length;for(let o=0;o<i;o++){let c=t[o];c7(c)&&(r.push(Cu(t.slice(a,o))),r.push(s(c)),a=o+1)}return r.push(Cu(t.slice(a,i))),r.join("")}function UP(t){return P4(),Dc.has(t)}function c7(t){return P4(),l7.has(t)}function $P(t){return qP(HP(t,LP,QP))}function HP(t,e,s){if(!t)return[];P4();let r=0;return t.split(r7).map(a=>{let i=kP(a),o={input:i,offset:r};r+=i.length+1;try{let c=o.tokens=YP(i,e,s),d=c.length,h;if(!d)throw new Error("empty label");let f=o.output=c.flat();if(FP(f),!(o.emoji=d>1||c[0].is_emoji)&&f.every(g=>g<128))PP(f),h="ASCII";else{let g=c.flatMap(p=>p.is_emoji?[]:p);if(!g.length)h="Emoji";else{if(Dc.has(f[0]))throw gf("leading combining mark");for(let y=1;y<d;y++){let w=c[y];if(!w.is_emoji&&Dc.has(w[0]))throw gf(`emoji + combining mark: "${Cu(c[y-1])} + ${Sb([w[0]])}"`)}zP(f);let p=zp(new Set(g)),[v]=GP(p);WP(v,g),VP(v,p),h=v.N}}o.type=h}catch(c){o.error=c}return o})}function VP(t,e){let s,r=[];for(let a of e){let i=d0.get(a);if(i===i7)return;if(i){let o=i.M.get(a);if(s=s?s.filter(c=>o.has(c)):zp(o),!s.length)return}else r.push(a)}if(s){for(let a of s)if(r.every(i=>Of(a,i)))throw new Error(`whole-script confusable: ${t.N}/${a.N}`)}}function GP(t){let e=E0;for(let s of t){let r=e.filter(a=>Of(a,s));if(!r.length)throw E0.some(a=>Of(a,s))?u7(e[0],s):d7(s);if(e=r,r.length==1)break}return e}function qP(t){return t.map(({input:e,error:s,output:r})=>{if(s){let a=s.message;throw new Error(t.length==1?a:`Invalid label ${z4(Sb(e,63))}: ${a}`)}return Cu(r)}).join(r7)}function d7(t){return new Error(`disallowed character: ${F4(t)}`)}function u7(t,e){let s=F4(e),r=E0.find(a=>a.P.has(e));return r&&(s=`${r.N} ${s}`),new Error(`illegal mixture: ${t.N} + ${s}`)}function gf(t){return new Error(`illegal placement: ${t}`)}function WP(t,e){for(let s of e)if(!Of(t,s))throw u7(t,s);if(t.M){let s=n7(e);for(let r=1,a=s.length;r<a;r++)if(fw.has(s[r])){let i=r+1;for(let o;i<a&&fw.has(o=s[i]);i++)for(let c=r;c<i;c++)if(s[c]==o)throw new Error(`duplicate non-spacing marks: ${F4(o)}`);if(i-r>B8)throw new Error(`excessive non-spacing marks: ${z4(Sb(s.slice(r-1,i)))} (${i-r}/${B8})`);r=i}}}function YP(t,e,s){let r=[],a=[];for(t=t.slice().reverse();t.length;){let i=KP(t);if(i)a.length&&(r.push(e(a)),a=[]),r.push(s(i));else{let o=t.pop();if(wc.has(o))a.push(o);else{let c=hw.get(o);if(c)a.push(...c);else if(!o7.has(o))throw d7(o)}}}return a.length&&r.push(e(a)),r}function QP(t){return t.filter(e=>e!=a7)}function KP(t,e){let s=mw,r,a=t.length;for(;a&&(s=s.get(t[--a]),!!s);){let{V:i}=s;i&&(r=i,t.length=a)}return r}const h7=new Uint8Array(32);h7.fill(0);function O8(t){return oe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function f7(t){const e=qn(m7(t)),s=[];if(t.length===0)return s;let r=0;for(let a=0;a<e.length;a++)e[a]===46&&(s.push(O8(e.slice(r,a))),r=a+1);return oe(r<e.length,"invalid ENS name; empty component","name",t),s.push(O8(e.slice(r))),s}function m7(t){try{if(t.length===0)throw new Error("empty label");return $P(t)}catch(e){oe(!1,`invalid ENS name (${e.message})`,"name",t)}}function Up(t){oe(typeof t=="string","invalid ENS name; not a string","name",t),oe(t.length,"invalid ENS name (empty label)","name",t);let e=h7;const s=f7(t);for(;s.length;)e=Qt(gs([e,Qt(s.pop())]));return Oe(e)}function x7(t,e){const s=e;return oe(s<=255,"DNS encoded label cannot exceed 255","length",s),Oe(gs(f7(t).map(r=>{oe(r.length<=s,`label ${JSON.stringify(t)} exceeds ${s} bytes`,"name",t);const a=new Uint8Array(r.length+1);return a.set(r,1),a[0]=a.length-1,a})))+"00"}function py(t,e){return{address:Rt(t),storageKeys:e.map((s,r)=>(oe(Ht(s,32),"invalid slot",`storageKeys[${r}]`,s),s.toLowerCase()))}}function zl(t){if(Array.isArray(t))return t.map((s,r)=>Array.isArray(s)?(oe(s.length===2,"invalid slot set",`value[${r}]`,s),py(s[0],s[1])):(oe(s!=null&&typeof s=="object","invalid address-slot set","value",t),py(s.address,s.storageKeys)));oe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(s=>{const r=t[s].reduce((a,i)=>(a[i]=!0,a),{});return py(s,Object.keys(r).sort())});return e.sort((s,r)=>s.address.localeCompare(r.address)),e}function g7(t){let e;return typeof t=="string"?e=ju.computePublicKey(t,!1):e=t.publicKey,Rt(Qt("0x"+e.substring(4)).substring(26))}function p7(t,e){return g7(ju.recoverPublicKey(t,e))}const zs=BigInt(0),XP=BigInt(2),ZP=BigInt(27),JP=BigInt(28),eF=BigInt(35),tF=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),by=4096*32;function P8(t,e){let s=t.toString(16);for(;s.length<2;)s="0"+s;return s+=bd(e).substring(4),"0x"+s}function Tb(t){return t==="0x"?null:Rt(t)}function U4(t,e){try{return zl(t)}catch(s){oe(!1,s.message,e,t)}}function Em(t,e){return t==="0x"?0:it(t,e)}function Cs(t,e){if(t==="0x")return zs;const s=ze(t,e);return oe(s<=tF,"value exceeds uint size",e,s),s}function Wt(t,e){const s=ze(t,"value"),r=fn(s);return oe(r.length<=32,"value too large",`tx.${e}`,s),r}function $4(t){return zl(t).map(e=>[e.address,e.storageKeys])}function sF(t,e){oe(Array.isArray(t),`invalid ${e}`,"value",t);for(let s=0;s<t.length;s++)oe(Ht(t[s],32),"invalid ${ param } hash",`value[${s}]`,t[s]);return t}function nF(t){const e=km(t);oe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const s={type:0,nonce:Em(e[0],"nonce"),gasPrice:Cs(e[1],"gasPrice"),gasLimit:Cs(e[2],"gasLimit"),to:Tb(e[3]),value:Cs(e[4],"value"),data:Oe(e[5]),chainId:zs};if(e.length===6)return s;const r=Cs(e[6],"v"),a=Cs(e[7],"r"),i=Cs(e[8],"s");if(a===zs&&i===zs)s.chainId=r;else{let o=(r-eF)/XP;o<zs&&(o=zs),s.chainId=o,oe(o!==zs||r===ZP||r===JP,"non-canonical legacy v","v",e[6]),s.signature=Hr.from({r:Rl(e[7],32),s:Rl(e[8],32),v:r})}return s}function rF(t,e){const s=[Wt(t.nonce,"nonce"),Wt(t.gasPrice||0,"gasPrice"),Wt(t.gasLimit,"gasLimit"),t.to||"0x",Wt(t.value,"value"),t.data];let r=zs;if(t.chainId!=zs)r=ze(t.chainId,"tx.chainId"),oe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==zs&&(s.push(fn(r)),s.push("0x"),s.push("0x")),Ml(s);let a=BigInt(27+e.yParity);return r!==zs?a=Hr.getChainIdV(r,e.v):BigInt(e.v)!==a&&oe(!1,"tx.chainId/sig.v mismatch","sig",e),s.push(fn(a)),s.push(fn(e.r)),s.push(fn(e.s)),Ml(s)}function H4(t,e){let s;try{if(s=Em(e[0],"yParity"),s!==0&&s!==1)throw new Error("bad yParity")}catch{oe(!1,"invalid yParity","yParity",e[0])}const r=Rl(e[1],32),a=Rl(e[2],32),i=Hr.from({r,s:a,yParity:s});t.signature=i}function aF(t){const e=km(pt(t).slice(1));oe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Oe(t));const s={type:2,chainId:Cs(e[0],"chainId"),nonce:Em(e[1],"nonce"),maxPriorityFeePerGas:Cs(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Cs(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cs(e[4],"gasLimit"),to:Tb(e[5]),value:Cs(e[6],"value"),data:Oe(e[7]),accessList:U4(e[8],"accessList")};return e.length===9||H4(s,e.slice(9)),s}function iF(t,e){const s=[Wt(t.chainId,"chainId"),Wt(t.nonce,"nonce"),Wt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wt(t.maxFeePerGas||0,"maxFeePerGas"),Wt(t.gasLimit,"gasLimit"),t.to||"0x",Wt(t.value,"value"),t.data,$4(t.accessList||[])];return e&&(s.push(Wt(e.yParity,"yParity")),s.push(fn(e.r)),s.push(fn(e.s))),gs(["0x02",Ml(s)])}function oF(t){const e=km(pt(t).slice(1));oe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Oe(t));const s={type:1,chainId:Cs(e[0],"chainId"),nonce:Em(e[1],"nonce"),gasPrice:Cs(e[2],"gasPrice"),gasLimit:Cs(e[3],"gasLimit"),to:Tb(e[4]),value:Cs(e[5],"value"),data:Oe(e[6]),accessList:U4(e[7],"accessList")};return e.length===8||H4(s,e.slice(8)),s}function lF(t,e){const s=[Wt(t.chainId,"chainId"),Wt(t.nonce,"nonce"),Wt(t.gasPrice||0,"gasPrice"),Wt(t.gasLimit,"gasLimit"),t.to||"0x",Wt(t.value,"value"),t.data,$4(t.accessList||[])];return e&&(s.push(Wt(e.yParity,"recoveryParam")),s.push(fn(e.r)),s.push(fn(e.s))),gs(["0x01",Ml(s)])}function cF(t){let e=km(pt(t).slice(1)),s="3",r=null;if(e.length===4&&Array.isArray(e[0])){s="3 (network format)";const i=e[1],o=e[2],c=e[3];oe(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),oe(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),oe(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),oe(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),oe(i.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let d=0;d<e[1].length;d++)r.push({data:i[d],commitment:o[d],proof:c[d]});e=e[0]}oe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${s}`,"data",Oe(t));const a={type:3,chainId:Cs(e[0],"chainId"),nonce:Em(e[1],"nonce"),maxPriorityFeePerGas:Cs(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Cs(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cs(e[4],"gasLimit"),to:Tb(e[5]),value:Cs(e[6],"value"),data:Oe(e[7]),accessList:U4(e[8],"accessList"),maxFeePerBlobGas:Cs(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(a.blobs=r),oe(a.to!=null,`invalid address for transaction type: ${s}`,"data",t),oe(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<a.blobVersionedHashes.length;i++)oe(Ht(a.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||H4(a,e.slice(11)),a}function dF(t,e,s){const r=[Wt(t.chainId,"chainId"),Wt(t.nonce,"nonce"),Wt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wt(t.maxFeePerGas||0,"maxFeePerGas"),Wt(t.gasLimit,"gasLimit"),t.to||Nu,Wt(t.value,"value"),t.data,$4(t.accessList||[]),Wt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),sF(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Wt(e.yParity,"yParity")),r.push(fn(e.r)),r.push(fn(e.s)),s)?gs(["0x03",Ml([r,s.map(a=>a.data),s.map(a=>a.commitment),s.map(a=>a.proof)])]):gs(["0x03",Ml(r)])}var Fa,H0,V0,G0,q0,W0,Y0,Q0,K0,X0,Z0,J0,Qc,ol,Ui,ll,eu,Rg;const Ii=class Ii{constructor(){pe(this,eu);pe(this,Fa);pe(this,H0);pe(this,V0);pe(this,G0);pe(this,q0);pe(this,W0);pe(this,Y0);pe(this,Q0);pe(this,K0);pe(this,X0);pe(this,Z0);pe(this,J0);pe(this,Qc);pe(this,ol);pe(this,Ui);pe(this,ll);J(this,Fa,null),J(this,H0,null),J(this,G0,0),J(this,q0,zs),J(this,W0,null),J(this,Y0,null),J(this,Q0,null),J(this,V0,"0x"),J(this,K0,zs),J(this,X0,zs),J(this,Z0,null),J(this,J0,null),J(this,Qc,null),J(this,ol,null),J(this,ll,null),J(this,Ui,null)}get type(){return U(this,Fa)}set type(e){switch(e){case null:J(this,Fa,null);break;case 0:case"legacy":J(this,Fa,0);break;case 1:case"berlin":case"eip-2930":J(this,Fa,1);break;case 2:case"london":case"eip-1559":J(this,Fa,2);break;case 3:case"cancun":case"eip-4844":J(this,Fa,3);break;default:oe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=U(this,H0);return e==null&&this.type===3?Nu:e}set to(e){J(this,H0,e==null?null:Rt(e))}get nonce(){return U(this,G0)}set nonce(e){J(this,G0,it(e,"value"))}get gasLimit(){return U(this,q0)}set gasLimit(e){J(this,q0,ze(e))}get gasPrice(){const e=U(this,W0);return e==null&&(this.type===0||this.type===1)?zs:e}set gasPrice(e){J(this,W0,e==null?null:ze(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=U(this,Y0);return e??(this.type===2||this.type===3?zs:null)}set maxPriorityFeePerGas(e){J(this,Y0,e==null?null:ze(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=U(this,Q0);return e??(this.type===2||this.type===3?zs:null)}set maxFeePerGas(e){J(this,Q0,e==null?null:ze(e,"maxFeePerGas"))}get data(){return U(this,V0)}set data(e){J(this,V0,Oe(e))}get value(){return U(this,K0)}set value(e){J(this,K0,ze(e,"value"))}get chainId(){return U(this,X0)}set chainId(e){J(this,X0,ze(e))}get signature(){return U(this,Z0)||null}set signature(e){J(this,Z0,e==null?null:Hr.from(e))}get accessList(){const e=U(this,J0)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){J(this,J0,e==null?null:zl(e))}get maxFeePerBlobGas(){const e=U(this,Qc);return e==null&&this.type===3?zs:e}set maxFeePerBlobGas(e){J(this,Qc,e==null?null:ze(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=U(this,ol);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){oe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let s=0;s<e.length;s++)oe(Ht(e[s],32),"invalid blobVersionedHash",`value[${s}]`,e[s])}J(this,ol,e)}get blobs(){return U(this,ll)==null?null:U(this,ll).map(e=>Object.assign({},e))}set blobs(e){if(e==null){J(this,ll,null);return}const s=[],r=[];for(let a=0;a<e.length;a++){const i=e[a];if(jb(i)){Te(U(this,Ui),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=pt(i);if(oe(o.length<=by,"blob is too large",`blobs[${a}]`,i),o.length!==by){const h=new Uint8Array(by);h.set(o),o=h}const c=U(this,Ui).blobToKzgCommitment(o),d=Oe(U(this,Ui).computeBlobKzgProof(o,c));s.push({data:Oe(o),commitment:Oe(c),proof:d}),r.push(P8(1,c))}else{const o=Oe(i.commitment);s.push({data:Oe(i.data),commitment:o,proof:Oe(i.proof)}),r.push(P8(1,o))}}J(this,ll,s),J(this,ol,r)}get kzg(){return U(this,Ui)}set kzg(e){J(this,Ui,e)}get hash(){return this.signature==null?null:Qt(Re(this,eu,Rg).call(this,!0,!1))}get unsignedHash(){return Qt(this.unsignedSerialized)}get from(){return this.signature==null?null:p7(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ju.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Re(this,eu,Rg).call(this,!0,!0)}get unsignedSerialized(){return Re(this,eu,Rg).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,s=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,a=U(this,Qc)!=null||U(this,ol);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Te(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Te(!s||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Te(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):s?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(a&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ii.from(this)}toJSON(){const e=s=>s==null?null:s.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ii;if(typeof e=="string"){const r=pt(e);if(r[0]>=127)return Ii.from(nF(r));switch(r[0]){case 1:return Ii.from(oF(r));case 2:return Ii.from(aF(r));case 3:return Ii.from(cF(r))}Te(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const s=new Ii;return e.type!=null&&(s.type=e.type),e.to!=null&&(s.to=e.to),e.nonce!=null&&(s.nonce=e.nonce),e.gasLimit!=null&&(s.gasLimit=e.gasLimit),e.gasPrice!=null&&(s.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(s.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(s.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(s.data=e.data),e.value!=null&&(s.value=e.value),e.chainId!=null&&(s.chainId=e.chainId),e.signature!=null&&(s.signature=Hr.from(e.signature)),e.accessList!=null&&(s.accessList=e.accessList),e.blobVersionedHashes!=null&&(s.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(s.kzg=e.kzg),e.blobs!=null&&(s.blobs=e.blobs),e.hash!=null&&(oe(s.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),oe(s.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(oe(s.isSigned(),"unsigned transaction cannot define '.from'","tx",e),oe(s.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),s}};Fa=new WeakMap,H0=new WeakMap,V0=new WeakMap,G0=new WeakMap,q0=new WeakMap,W0=new WeakMap,Y0=new WeakMap,Q0=new WeakMap,K0=new WeakMap,X0=new WeakMap,Z0=new WeakMap,J0=new WeakMap,Qc=new WeakMap,ol=new WeakMap,Ui=new WeakMap,ll=new WeakMap,eu=new WeakSet,Rg=function(e,s){Te(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return rF(this,r);case 1:return lF(this,r);case 2:return iF(this,r);case 3:return dF(this,r,s?this.blobs:null)}Te(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Pf=Ii;const b7=new Uint8Array(32);b7.fill(0);const uF=BigInt(-1),v7=BigInt(0),y7=BigInt(1),hF=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function fF(t){const e=pt(t),s=e.length%32;return s?gs([e,b7.slice(s)]):Oe(e)}const mF=oo(y7,32),xF=oo(v7,32),F8={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},vy=["name","version","chainId","verifyingContract","salt"];function z8(t){return function(e){return oe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const gF={name:z8("name"),version:z8("version"),chainId:function(t){const e=ze(t,"domain.chainId");return oe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Rc(e)},verifyingContract:function(t){try{return Rt(t).toLowerCase()}catch{}oe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=pt(t,"domain.salt");return oe(e.length===32,'invalid domain value "salt"',"domain.salt",t),Oe(e)}};function yy(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const s=e[1]==="",r=parseInt(e[2]);oe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const a=wl(hF,s?r-1:r),i=s?(a+y7)*uF:v7;return function(o){const c=ze(o,"value");return oe(c>=i&&c<=a,`value out-of-bounds for ${t}`,"value",c),oo(s?k4(c,256):c,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const s=parseInt(e[1]);return oe(s!==0&&s<=32&&e[1]===String(s),"invalid bytes width","type",t),function(r){const a=pt(r);return oe(a.length===s,`invalid length for ${t}`,"value",r),fF(r)}}}switch(t){case"address":return function(e){return Rl(Rt(e),32)};case"bool":return function(e){return e?mF:xF};case"bytes":return function(e){return Qt(e)};case"string":return function(e){return Bl(e)}}return null}function U8(t,e){return`${t}(${e.map(({name:s,type:r})=>r+" "+s).join(",")})`}function tg(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var um,$i,tu,fb,w7;const Mr=class Mr{constructor(e){pe(this,fb);se(this,"primaryType");pe(this,um);pe(this,$i);pe(this,tu);J(this,$i,new Map),J(this,tu,new Map);const s=new Map,r=new Map,a=new Map,i={};Object.keys(e).forEach(d=>{i[d]=e[d].map(({name:h,type:f})=>{let{base:x,index:g}=tg(f);return x==="int"&&!e.int&&(x="int256"),x==="uint"&&!e.uint&&(x="uint256"),{name:h,type:x+(g||"")}}),s.set(d,new Set),r.set(d,[]),a.set(d,new Set)}),J(this,um,JSON.stringify(i));for(const d in i){const h=new Set;for(const f of i[d]){oe(!h.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(d)}`,"types",e),h.add(f.name);const x=tg(f.type).base;oe(x!==d,`circular type reference to ${JSON.stringify(x)}`,"types",e),!yy(x)&&(oe(r.has(x),`unknown type ${JSON.stringify(x)}`,"types",e),r.get(x).push(d),s.get(d).add(x))}}const o=Array.from(r.keys()).filter(d=>r.get(d).length===0);oe(o.length!==0,"missing primary type","types",e),oe(o.length===1,`ambiguous primary types or unused types: ${o.map(d=>JSON.stringify(d)).join(", ")}`,"types",e),Ge(this,{primaryType:o[0]});function c(d,h){oe(!h.has(d),`circular type reference to ${JSON.stringify(d)}`,"types",e),h.add(d);for(const f of s.get(d))if(r.has(f)){c(f,h);for(const x of h)a.get(x).add(f)}h.delete(d)}c(this.primaryType,new Set);for(const[d,h]of a){const f=Array.from(h);f.sort(),U(this,$i).set(d,U8(d,i[d])+f.map(x=>U8(x,i[x])).join(""))}}get types(){return JSON.parse(U(this,um))}getEncoder(e){let s=U(this,tu).get(e);return s||(s=Re(this,fb,w7).call(this,e),U(this,tu).set(e,s)),s}encodeType(e){const s=U(this,$i).get(e);return oe(s,`unknown type: ${JSON.stringify(e)}`,"name",e),s}encodeData(e,s){return this.getEncoder(e)(s)}hashStruct(e,s){return Qt(this.encodeData(e,s))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,s,r){if(yy(e))return r(e,s);const a=tg(e).array;if(a)return oe(a.count===-1||a.count===s.length,`array length mismatch; expected length ${a.count}`,"value",s),s.map(o=>this._visit(a.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:c,type:d})=>(o[c]=this._visit(d,s[c],r),o),{});oe(!1,`unknown type: ${e}`,"type",e)}visit(e,s){return this._visit(this.primaryType,e,s)}static from(e){return new Mr(e)}static getPrimaryType(e){return Mr.from(e).primaryType}static hashStruct(e,s,r){return Mr.from(s).hashStruct(e,r)}static hashDomain(e){const s=[];for(const r in e){if(e[r]==null)continue;const a=F8[r];oe(a,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),s.push({name:r,type:a})}return s.sort((r,a)=>vy.indexOf(r.name)-vy.indexOf(a.name)),Mr.hashStruct("EIP712Domain",{EIP712Domain:s},e)}static encode(e,s,r){return gs(["0x1901",Mr.hashDomain(e),Mr.from(s).hash(r)])}static hash(e,s,r){return Qt(Mr.encode(e,s,r))}static async resolveNames(e,s,r,a){e=Object.assign({},e);for(const c in e)e[c]==null&&delete e[c];const i={};e.verifyingContract&&!Ht(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Mr.from(s);o.visit(r,(c,d)=>(c==="address"&&!Ht(d,20)&&(i[d]="0x"),d));for(const c in i)i[c]=await a(c);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(c,d)=>c==="address"&&i[d]?i[d]:d),{domain:e,value:r}}static getPayload(e,s,r){Mr.hashDomain(e);const a={},i=[];vy.forEach(d=>{const h=e[d];h!=null&&(a[d]=gF[d](h),i.push({name:d,type:F8[d]}))});const o=Mr.from(s);s=o.types;const c=Object.assign({},s);return oe(c.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",s),c.EIP712Domain=i,o.encode(r),{types:c,domain:a,primaryType:o.primaryType,message:o.visit(r,(d,h)=>{if(d.match(/^bytes(\d*)/))return Oe(pt(h));if(d.match(/^u?int/))return ze(h).toString();switch(d){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return oe(typeof h=="string","invalid string","value",h),h}oe(!1,"unsupported type","type",d)})}}};um=new WeakMap,$i=new WeakMap,tu=new WeakMap,fb=new WeakSet,w7=function(e){{const a=yy(e);if(a)return a}const s=tg(e).array;if(s){const a=s.prefix,i=this.getEncoder(a);return o=>{oe(s.count===-1||s.count===o.length,`array length mismatch; expected length ${s.count}`,"value",o);let c=o.map(i);return U(this,$i).has(a)&&(c=c.map(Qt)),Qt(gs(c))}}const r=this.types[e];if(r){const a=Bl(U(this,$i).get(e));return i=>{const o=r.map(({name:c,type:d})=>{const h=this.getEncoder(d)(i[c]);return U(this,$i).has(d)?Qt(h):h});return o.unshift(a),gs(o)}}oe(!1,`unknown type: ${e}`,"type",e)};let Ff=Mr;function An(t){const e=new Set;return t.forEach(s=>e.add(s)),Object.freeze(e)}const pF="external public payable override",bF=An(pF.split(" ")),N7="constant external internal payable private public pure view override",vF=An(N7.split(" ")),j7="constructor error event fallback function receive struct",C7=An(j7.split(" ")),k7="calldata memory storage payable indexed",yF=An(k7.split(" ")),wF="tuple returns",NF=[j7,k7,wF,N7].join(" "),jF=An(NF.split(" ")),CF={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},kF=new RegExp("^(\\s*)"),AF=new RegExp("^([0-9]+)"),EF=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),A7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),E7=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Xs,oa,hm,xw;const mb=class mb{constructor(e){pe(this,hm);pe(this,Xs);pe(this,oa);J(this,Xs,0),J(this,oa,e.slice())}get offset(){return U(this,Xs)}get length(){return U(this,oa).length-U(this,Xs)}clone(){return new mb(U(this,oa))}reset(){J(this,Xs,0)}popKeyword(e){const s=this.peek();if(s.type!=="KEYWORD"||!e.has(s.text))throw new Error(`expected keyword ${s.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const s=this.peek();throw new Error(`expected ${e}; got ${s.type} ${JSON.stringify(s.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const s=Re(this,hm,xw).call(this,U(this,Xs)+1,e.match+1);return J(this,Xs,e.match+1),s}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const s=[];for(;U(this,Xs)<e.match-1;){const r=this.peek().linkNext;s.push(Re(this,hm,xw).call(this,U(this,Xs)+1,r)),J(this,Xs,r)}return J(this,Xs,e.match+1),s}peek(){if(U(this,Xs)>=U(this,oa).length)throw new Error("out-of-bounds");return U(this,oa)[U(this,Xs)]}peekKeyword(e){const s=this.peekType("KEYWORD");return s!=null&&e.has(s)?s:null}peekType(e){if(this.length===0)return null;const s=this.peek();return s.type===e?s.text:null}pop(){const e=this.peek();return Uh(this,Xs)._++,e}toString(){const e=[];for(let s=U(this,Xs);s<U(this,oa).length;s++){const r=U(this,oa)[s];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Xs=new WeakMap,oa=new WeakMap,hm=new WeakSet,xw=function(e=0,s=0){return new mb(U(this,oa).slice(e,s).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let ga=mb;function Ul(t){const e=[],s=o=>{const c=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${c} at ${i}: ${o}`)};let r=[],a=[],i=0;for(;i<t.length;){let o=t.substring(i),c=o.match(kF);c&&(i+=c[1].length,o=t.substring(i));const d={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(d);let h=CF[o[0]]||"";if(h){if(d.type=h,d.text=o[0],i++,h==="OPEN_PAREN")r.push(e.length-1),a.push(e.length-1);else if(h=="CLOSE_PAREN")r.length===0&&s("no matching open bracket"),d.match=r.pop(),e[d.match].match=e.length-1,d.depth--,d.linkBack=a.pop(),e[d.linkBack].linkNext=e.length-1;else if(h==="COMMA")d.linkBack=a.pop(),e[d.linkBack].linkNext=e.length-1,a.push(e.length-1);else if(h==="OPEN_BRACKET")d.type="BRACKET";else if(h==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const x=e.pop().text;f=x+f,e[e.length-1].value=it(x)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(c=o.match(EF),c){if(d.text=c[1],i+=d.text.length,jF.has(d.text)){d.type="KEYWORD";continue}if(d.text.match(E7)){d.type="TYPE";continue}d.type="ID";continue}if(c=o.match(AF),c){d.text=c[1],d.type="NUMBER",i+=d.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new ga(e.map(o=>Object.freeze(o)))}function $8(t,e){let s=[];for(const r in e.keys())t.has(r)&&s.push(r);if(s.length>1)throw new Error(`conflicting types: ${s.join(", ")}`)}function Rb(t,e){if(e.peekKeyword(C7)){const s=e.pop().text;if(s!==t)throw new Error(`expected ${t}, got ${s}`)}return e.popType("ID")}function lo(t,e){const s=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),s.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);s.add(r)}return Object.freeze(s)}function S7(t){let e=lo(t,vF);return $8(e,An("constant payable nonpayable".split(" "))),$8(e,An("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function so(t,e){return t.popParams().map(s=>Hs.from(s,e))}function T7(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ze(t.pop().text);throw new Error("invalid gas")}return null}function ud(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const SF=new RegExp(/^(.*)\[([0-9]*)\]$/);function H8(t){const e=t.match(E7);if(oe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const s=parseInt(e[2]);oe(s!==0&&s<=32,"invalid bytes length","type",t)}else if(e[3]){const s=parseInt(e[3]);oe(s!==0&&s<=256&&s%8===0,"invalid numeric width","type",t)}return t}const cs={},Wn=Symbol.for("_ethers_internal"),V8="_ParamTypeInternal",G8="_ErrorInternal",q8="_EventInternal",W8="_ConstructorInternal",Y8="_FallbackInternal",Q8="_FunctionInternal",K8="_StructInternal";var su,Mg;const Dr=class Dr{constructor(e,s,r,a,i,o,c,d){pe(this,su);se(this,"name");se(this,"type");se(this,"baseType");se(this,"indexed");se(this,"components");se(this,"arrayLength");se(this,"arrayChildren");if(Pu(e,cs,"ParamType"),Object.defineProperty(this,Wn,{value:V8}),o&&(o=Object.freeze(o.slice())),a==="array"){if(c==null||d==null)throw new Error("")}else if(c!=null||d!=null)throw new Error("");if(a==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Ge(this,{name:s,type:r,baseType:a,indexed:i,components:o,arrayLength:c,arrayChildren:d})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const a={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(a.indexed=this.indexed),this.isTuple()&&(a.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(a)}let s="";return this.isArray()?(s+=this.arrayChildren.format(e),s+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?s+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":s+=this.type,e!=="sighash"&&(this.indexed===!0&&(s+=" indexed"),e==="full"&&this.name&&(s+=" "+this.name)),s}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(a=>r.arrayChildren.walk(a,s))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((a,i)=>r.components[i].walk(a,s))}return s(this.type,e)}async walkAsync(e,s){const r=[],a=[e];return Re(this,su,Mg).call(this,r,e,s,i=>{a[0]=i}),r.length&&await Promise.all(r),a[0]}static from(e,s){if(Dr.isParamType(e))return e;if(typeof e=="string")try{return Dr.from(Ul(e),s)}catch{oe(!1,"invalid param type","obj",e)}else if(e instanceof ga){let c="",d="",h=null;lo(e,An(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(d="tuple",h=e.popParams().map(y=>Dr.from(y)),c=`tuple(${h.map(y=>y.format()).join(",")})`):(c=H8(e.popType("TYPE")),d=c);let f=null,x=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();f=new Dr(cs,"",c,d,null,h,x,f),x=y.value,c+=y.text,d="array",h=null}let g=null;if(lo(e,yF).has("indexed")){if(!s)throw new Error("");g=!0}const v=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Dr(cs,v,c,d,g,h,x,f)}const r=e.name;oe(!r||typeof r=="string"&&r.match(A7),"invalid name","obj.name",r);let a=e.indexed;a!=null&&(oe(s,"parameter cannot be indexed","obj.indexed",e.indexed),a=!!a);let i=e.type,o=i.match(SF);if(o){const c=parseInt(o[2]||"-1"),d=Dr.from({type:o[1],components:e.components});return new Dr(cs,r||"",i,"array",a,null,c,d)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const c=e.components!=null?e.components.map(h=>Dr.from(h)):null;return new Dr(cs,r||"",i,"tuple",a,c,null,null)}return i=H8(e.type),new Dr(cs,r||"",i,i,a,null,null,null)}static isParamType(e){return e&&e[Wn]===V8}};su=new WeakSet,Mg=function(e,s,r,a){if(this.isArray()){if(!Array.isArray(s))throw new Error("invalid array value");if(this.arrayLength!==-1&&s.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,c=s.slice();c.forEach((d,h)=>{var f;Re(f=o,su,Mg).call(f,e,d,r,x=>{c[h]=x})}),a(c);return}if(this.isTuple()){const o=this.components;let c;if(Array.isArray(s))c=s.slice();else{if(s==null||typeof s!="object")throw new Error("invalid tuple value");c=o.map(d=>{if(!d.name)throw new Error("cannot use object value with unnamed components");if(!(d.name in s))throw new Error(`missing value for component ${d.name}`);return s[d.name]})}if(c.length!==this.components.length)throw new Error("array is wrong length");c.forEach((d,h)=>{var f;Re(f=o[h],su,Mg).call(f,e,d,r,x=>{c[h]=x})}),a(c);return}const i=r(this.type,s);i.then?e.push(async function(){a(await i)}()):a(i)};let Hs=Dr;class _l{constructor(e,s,r){se(this,"type");se(this,"inputs");Pu(e,cs,"Fragment"),r=Object.freeze(r.slice()),Ge(this,{type:s,inputs:r})}static from(e){if(typeof e=="string"){try{_l.from(JSON.parse(e))}catch{}return _l.from(Ul(e))}if(e instanceof ga)switch(e.peekKeyword(C7)){case"constructor":return Qa.from(e);case"error":return Cn.from(e);case"event":return ua.from(e);case"fallback":case"receive":return qa.from(e);case"function":return ha.from(e);case"struct":return Cl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Qa.from(e);case"error":return Cn.from(e);case"event":return ua.from(e);case"fallback":case"receive":return qa.from(e);case"function":return ha.from(e);case"struct":return Cl.from(e)}Te(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}oe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Qa.isFragment(e)}static isError(e){return Cn.isFragment(e)}static isEvent(e){return ua.isFragment(e)}static isFunction(e){return ha.isFragment(e)}static isStruct(e){return Cl.isFragment(e)}}class Sm extends _l{constructor(s,r,a,i){super(s,r,i);se(this,"name");oe(typeof a=="string"&&a.match(A7),"invalid identifier","name",a),i=Object.freeze(i.slice()),Ge(this,{name:a})}}function zf(t,e){return"("+e.map(s=>s.format(t)).join(t==="full"?", ":",")+")"}class Cn extends Sm{constructor(e,s,r){super(e,"error",s,r),Object.defineProperty(this,Wn,{value:G8})}get selector(){return Bl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const s=[];return e!=="sighash"&&s.push("error"),s.push(this.name+zf(e,this.inputs)),s.join(" ")}static from(e){if(Cn.isFragment(e))return e;if(typeof e=="string")return Cn.from(Ul(e));if(e instanceof ga){const s=Rb("error",e),r=so(e);return ud(e),new Cn(cs,s,r)}return new Cn(cs,e.name,e.inputs?e.inputs.map(Hs.from):[])}static isFragment(e){return e&&e[Wn]===G8}}class ua extends Sm{constructor(s,r,a,i){super(s,"event",r,a);se(this,"anonymous");Object.defineProperty(this,Wn,{value:q8}),Ge(this,{anonymous:i})}get topicHash(){return Bl(this.format("sighash"))}format(s){if(s==null&&(s="sighash"),s==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(s)))});const r=[];return s!=="sighash"&&r.push("event"),r.push(this.name+zf(s,this.inputs)),s!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(s,r){return r=(r||[]).map(i=>Hs.from(i)),new ua(cs,s,r,!1).topicHash}static from(s){if(ua.isFragment(s))return s;if(typeof s=="string")try{return ua.from(Ul(s))}catch{oe(!1,"invalid event fragment","obj",s)}else if(s instanceof ga){const r=Rb("event",s),a=so(s,!0),i=!!lo(s,An(["anonymous"])).has("anonymous");return ud(s),new ua(cs,r,a,i)}return new ua(cs,s.name,s.inputs?s.inputs.map(r=>Hs.from(r,!0)):[],!!s.anonymous)}static isFragment(s){return s&&s[Wn]===q8}}class Qa extends _l{constructor(s,r,a,i,o){super(s,r,a);se(this,"payable");se(this,"gas");Object.defineProperty(this,Wn,{value:W8}),Ge(this,{payable:i,gas:o})}format(s){if(Te(s!=null&&s!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),s==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(s)))});const r=[`constructor${zf(s,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(s){if(Qa.isFragment(s))return s;if(typeof s=="string")try{return Qa.from(Ul(s))}catch{oe(!1,"invalid constuctor fragment","obj",s)}else if(s instanceof ga){lo(s,An(["constructor"]));const r=so(s),a=!!lo(s,bF).has("payable"),i=T7(s);return ud(s),new Qa(cs,"constructor",r,a,i)}return new Qa(cs,"constructor",s.inputs?s.inputs.map(Hs.from):[],!!s.payable,s.gas!=null?s.gas:null)}static isFragment(s){return s&&s[Wn]===W8}}class qa extends _l{constructor(s,r,a){super(s,"fallback",r);se(this,"payable");Object.defineProperty(this,Wn,{value:Y8}),Ge(this,{payable:a})}format(s){const r=this.inputs.length===0?"receive":"fallback";if(s==="json"){const a=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:a})}return`${r}()${this.payable?" payable":""}`}static from(s){if(qa.isFragment(s))return s;if(typeof s=="string")try{return qa.from(Ul(s))}catch{oe(!1,"invalid fallback fragment","obj",s)}else if(s instanceof ga){const r=s.toString(),a=s.peekKeyword(An(["fallback","receive"]));if(oe(a,"type must be fallback or receive","obj",r),s.popKeyword(An(["fallback","receive"]))==="receive"){const d=so(s);return oe(d.length===0,"receive cannot have arguments","obj.inputs",d),lo(s,An(["payable"])),ud(s),new qa(cs,[],!0)}let o=so(s);o.length?oe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(d=>d.format("minimal")).join(", ")):o=[Hs.from("bytes")];const c=S7(s);if(oe(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),lo(s,An(["returns"])).has("returns")){const d=so(s);oe(d.length===1&&d[0].type==="bytes","invalid fallback outputs","obj.outputs",d.map(h=>h.format("minimal")).join(", "))}return ud(s),new qa(cs,o,c==="payable")}if(s.type==="receive")return new qa(cs,[],!0);if(s.type==="fallback"){const r=[Hs.from("bytes")],a=s.stateMutability==="payable";return new qa(cs,r,a)}oe(!1,"invalid fallback description","obj",s)}static isFragment(s){return s&&s[Wn]===Y8}}class ha extends Sm{constructor(s,r,a,i,o,c){super(s,"function",r,i);se(this,"constant");se(this,"outputs");se(this,"stateMutability");se(this,"payable");se(this,"gas");Object.defineProperty(this,Wn,{value:Q8}),o=Object.freeze(o.slice()),Ge(this,{constant:a==="view"||a==="pure",gas:c,outputs:o,payable:a==="payable",stateMutability:a})}get selector(){return Bl(this.format("sighash")).substring(0,10)}format(s){if(s==null&&(s="sighash"),s==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(s))),outputs:this.outputs.map(a=>JSON.parse(a.format(s)))});const r=[];return s!=="sighash"&&r.push("function"),r.push(this.name+zf(s,this.inputs)),s!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(zf(s,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(s,r){return r=(r||[]).map(i=>Hs.from(i)),new ha(cs,s,"view",r,[],null).selector}static from(s){if(ha.isFragment(s))return s;if(typeof s=="string")try{return ha.from(Ul(s))}catch{oe(!1,"invalid function fragment","obj",s)}else if(s instanceof ga){const a=Rb("function",s),i=so(s),o=S7(s);let c=[];lo(s,An(["returns"])).has("returns")&&(c=so(s));const d=T7(s);return ud(s),new ha(cs,a,o,i,c,d)}let r=s.stateMutability;return r==null&&(r="payable",typeof s.constant=="boolean"?(r="view",s.constant||(r="payable",typeof s.payable=="boolean"&&!s.payable&&(r="nonpayable"))):typeof s.payable=="boolean"&&!s.payable&&(r="nonpayable")),new ha(cs,s.name,r,s.inputs?s.inputs.map(Hs.from):[],s.outputs?s.outputs.map(Hs.from):[],s.gas!=null?s.gas:null)}static isFragment(s){return s&&s[Wn]===Q8}}class Cl extends Sm{constructor(e,s,r){super(e,"struct",s,r),Object.defineProperty(this,Wn,{value:K8})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Cl.from(Ul(e))}catch{oe(!1,"invalid struct fragment","obj",e)}else if(e instanceof ga){const s=Rb("struct",e),r=so(e);return ud(e),new Cl(cs,s,r)}return new Cl(cs,e.name,e.inputs?e.inputs.map(Hs.from):[])}static isFragment(e){return e&&e[Wn]===K8}}const ba=new Map;ba.set(0,"GENERIC_PANIC");ba.set(1,"ASSERT_FALSE");ba.set(17,"OVERFLOW");ba.set(18,"DIVIDE_BY_ZERO");ba.set(33,"ENUM_RANGE_ERROR");ba.set(34,"BAD_STORAGE_DATA");ba.set(49,"STACK_UNDERFLOW");ba.set(50,"ARRAY_RANGE_ERROR");ba.set(65,"OUT_OF_MEMORY");ba.set(81,"UNINITIALIZED_FUNCTION_CALL");const TF=new RegExp(/^bytes([0-9]*)$/),RF=new RegExp(/^(u?int)([0-9]*)$/);let wy=null,X8=1024;function MF(t,e,s,r){let a="missing revert data",i=null;const o=null;let c=null;if(s){a="execution reverted";const h=pt(s);if(s=Oe(s),h.length===0)a+=" (no data present; likely require(false) occurred",i="require(false)";else if(h.length%32!==4)a+=" (could not decode reason; invalid data length)";else if(Oe(h.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],h.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[i]},a+=`: ${JSON.stringify(i)}`}catch{a+=" (could not decode reason; invalid string data)"}else if(Oe(h.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],h.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[f]},i=`Panic due to ${ba.get(f)||"UNKNOWN"}(${f})`,a+=`: ${i}`}catch{a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const d={to:e.to?Rt(e.to):null,data:e.data||"0x"};return e.from&&(d.from=Rt(e.from)),is(a,"CALL_EXCEPTION",{action:t,data:s,reason:i,transaction:d,invocation:o,revert:c})}var cl,u0;const xb=class xb{constructor(){pe(this,cl)}getDefaultValue(e){const s=e.map(a=>Re(this,cl,u0).call(this,Hs.from(a)));return new eg(s,"_").defaultValue()}encode(e,s){C4(s.length,e.length,"types/values length mismatch");const r=e.map(o=>Re(this,cl,u0).call(this,Hs.from(o))),a=new eg(r,"_"),i=new sw;return a.encode(i,s),i.data}decode(e,s,r){const a=e.map(o=>Re(this,cl,u0).call(this,Hs.from(o)));return new eg(a,"_").decode(new nw(s,r,X8))}static _setDefaultMaxInflation(e){oe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),X8=e}static defaultAbiCoder(){return wy==null&&(wy=new xb),wy}static getBuiltinCallException(e,s,r){return MF(e,s,r,xb.defaultAbiCoder())}};cl=new WeakSet,u0=function(e){if(e.isArray())return new rP(Re(this,cl,u0).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new eg(e.components.map(r=>Re(this,cl,u0).call(this,r)),e.name);switch(e.baseType){case"address":return new sP(e.name);case"bool":return new aP(e.name);case"string":return new mP(e.name);case"bytes":return new iP(e.name);case"":return new cP(e.name)}let s=e.type.match(RF);if(s){let r=parseInt(s[2]||"256");return oe(r!==0&&r<=256&&r%8===0,"invalid "+s[1]+" bit length","param",e),new fP(r/8,s[1]==="int",e.name)}if(s=e.type.match(TF),s){let r=parseInt(s[1]);return oe(r!==0&&r<=32,"invalid bytes length","param",e),new oP(r,e.name)}oe(!1,"invalid type","type",e.type)};let Au=xb;class R7{constructor(e,s,r){se(this,"fragment");se(this,"name");se(this,"signature");se(this,"topic");se(this,"args");const a=e.name,i=e.format();Ge(this,{fragment:e,name:a,signature:i,topic:s,args:r})}}class M7{constructor(e,s,r,a){se(this,"fragment");se(this,"name");se(this,"args");se(this,"signature");se(this,"selector");se(this,"value");const i=e.name,o=e.format();Ge(this,{fragment:e,name:i,args:r,signature:o,selector:s,value:a})}}class D7{constructor(e,s,r){se(this,"fragment");se(this,"name");se(this,"args");se(this,"signature");se(this,"selector");const a=e.name,i=e.format();Ge(this,{fragment:e,name:a,args:r,signature:i,selector:s})}}class gw{constructor(e){se(this,"hash");se(this,"_isIndexed");Ge(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Z8={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},J8={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Z8[t.toString()]&&(e=Z8[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var za,Ua,$a,an,si,Dg,Bg;const Tc=class Tc{constructor(e){pe(this,si);se(this,"fragments");se(this,"deploy");se(this,"fallback");se(this,"receive");pe(this,za);pe(this,Ua);pe(this,$a);pe(this,an);let s=[];typeof e=="string"?s=JSON.parse(e):s=e,J(this,$a,new Map),J(this,za,new Map),J(this,Ua,new Map);const r=[];for(const o of s)try{r.push(_l.from(o))}catch(c){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,c.message)}Ge(this,{fragments:Object.freeze(r)});let a=null,i=!1;J(this,an,this.getAbiCoder()),this.fragments.forEach((o,c)=>{let d;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ge(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(oe(!a||o.payable!==a.payable,"conflicting fallback fragments",`fragments[${c}]`,o),a=o,i=a.payable);return;case"function":d=U(this,$a);break;case"event":d=U(this,Ua);break;case"error":d=U(this,za);break;default:return}const h=o.format();d.has(h)||d.set(h,o)}),this.deploy||Ge(this,{deploy:Qa.from("constructor()")}),Ge(this,{fallback:a,receive:i})}format(e){const s=e?"minimal":"full";return this.fragments.map(a=>a.format(s))}formatJson(){const e=this.fragments.map(s=>s.format("json"));return JSON.stringify(e.map(s=>JSON.parse(s)))}getAbiCoder(){return Au.defaultAbiCoder()}getFunctionName(e){const s=Re(this,si,Dg).call(this,e,null,!1);return oe(s,"no matching function","key",e),s.name}hasFunction(e){return!!Re(this,si,Dg).call(this,e,null,!1)}getFunction(e,s){return Re(this,si,Dg).call(this,e,s||null,!0)}forEachFunction(e){const s=Array.from(U(this,$a).keys());s.sort((r,a)=>r.localeCompare(a));for(let r=0;r<s.length;r++){const a=s[r];e(U(this,$a).get(a),r)}}getEventName(e){const s=Re(this,si,Bg).call(this,e,null,!1);return oe(s,"no matching event","key",e),s.name}hasEvent(e){return!!Re(this,si,Bg).call(this,e,null,!1)}getEvent(e,s){return Re(this,si,Bg).call(this,e,s||null,!0)}forEachEvent(e){const s=Array.from(U(this,Ua).keys());s.sort((r,a)=>r.localeCompare(a));for(let r=0;r<s.length;r++){const a=s[r];e(U(this,Ua).get(a),r)}}getError(e,s){if(Ht(e)){const a=e.toLowerCase();if(J8[a])return Cn.from(J8[a].signature);for(const i of U(this,za).values())if(a===i.selector)return i;return null}if(e.indexOf("(")===-1){const a=[];for(const[i,o]of U(this,za))i.split("(")[0]===e&&a.push(o);if(a.length===0)return e==="Error"?Cn.from("error Error(string)"):e==="Panic"?Cn.from("error Panic(uint256)"):null;if(a.length>1){const i=a.map(o=>JSON.stringify(o.format())).join(", ");oe(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return a[0]}if(e=Cn.from(e).format(),e==="Error(string)")return Cn.from("error Error(string)");if(e==="Panic(uint256)")return Cn.from("error Panic(uint256)");const r=U(this,za).get(e);return r||null}forEachError(e){const s=Array.from(U(this,za).keys());s.sort((r,a)=>r.localeCompare(a));for(let r=0;r<s.length;r++){const a=s[r];e(U(this,za).get(a),r)}}_decodeParams(e,s){return U(this,an).decode(e,s)}_encodeParams(e,s){return U(this,an).encode(e,s)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,s){if(typeof e=="string"){const r=this.getError(e);oe(r,"unknown error","fragment",e),e=r}return oe(ls(s,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",s),this._decodeParams(e.inputs,ls(s,4))}encodeErrorResult(e,s){if(typeof e=="string"){const r=this.getError(e);oe(r,"unknown error","fragment",e),e=r}return gs([e.selector,this._encodeParams(e.inputs,s||[])])}decodeFunctionData(e,s){if(typeof e=="string"){const r=this.getFunction(e);oe(r,"unknown function","fragment",e),e=r}return oe(ls(s,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",s),this._decodeParams(e.inputs,ls(s,4))}encodeFunctionData(e,s){if(typeof e=="string"){const r=this.getFunction(e);oe(r,"unknown function","fragment",e),e=r}return gs([e.selector,this._encodeParams(e.inputs,s||[])])}decodeFunctionResult(e,s){if(typeof e=="string"){const i=this.getFunction(e);oe(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const a=hn(s);if(a.length%32===0)try{return U(this,an).decode(e.outputs,a)}catch{r="could not decode result data"}Te(!1,r,"BAD_DATA",{value:Oe(a),info:{method:e.name,signature:e.format()}})}makeError(e,s){const r=pt(e,"data"),a=Au.getBuiltinCallException("call",s,r);if(a.message.startsWith("execution reverted (unknown custom error)")){const c=Oe(r.slice(0,4)),d=this.getError(c);if(d)try{const h=U(this,an).decode(d.inputs,r.slice(4));a.revert={name:d.name,signature:d.format(),args:h},a.reason=a.revert.signature,a.message=`execution reverted: ${a.reason}`}catch{a.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(s);return o&&(a.invocation={method:o.name,signature:o.signature,args:o.args}),a}encodeFunctionResult(e,s){if(typeof e=="string"){const r=this.getFunction(e);oe(r,"unknown function","fragment",e),e=r}return Oe(U(this,an).encode(e.outputs,s||[]))}encodeFilterTopics(e,s){if(typeof e=="string"){const i=this.getEvent(e);oe(i,"unknown event","eventFragment",e),e=i}Te(s.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:s.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const a=(i,o)=>i.type==="string"?Bl(o):i.type==="bytes"?Qt(Oe(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=oo(o):i.type.match(/^bytes/)?o=XS(o,32):i.type==="address"&&U(this,an).encode(["address"],[o]),Rl(Oe(o),32));for(s.forEach((i,o)=>{const c=e.inputs[o];if(!c.indexed){oe(i==null,"cannot filter non-indexed parameters; must be null","contract."+c.name,i);return}i==null?r.push(null):c.baseType==="array"||c.baseType==="tuple"?oe(!1,"filtering with tuples or arrays not supported","contract."+c.name,i):Array.isArray(i)?r.push(i.map(d=>a(c,d))):r.push(a(c,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,s){if(typeof e=="string"){const o=this.getEvent(e);oe(o,"unknown event","eventFragment",e),e=o}const r=[],a=[],i=[];return e.anonymous||r.push(e.topicHash),oe(s.length===e.inputs.length,"event arguments/values mismatch","values",s),e.inputs.forEach((o,c)=>{const d=s[c];if(o.indexed)if(o.type==="string")r.push(Bl(d));else if(o.type==="bytes")r.push(Qt(d));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(U(this,an).encode([o.type],[d]))}else a.push(o),i.push(d)}),{data:U(this,an).encode(a,i),topics:r}}decodeEventLog(e,s,r){if(typeof e=="string"){const p=this.getEvent(e);oe(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;oe(Ht(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const a=[],i=[],o=[];e.inputs.forEach((p,v)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(a.push(Hs.from({type:"bytes32",name:p.name})),o.push(!0)):(a.push(p),o.push(!1)):(i.push(p),o.push(!1))});const c=r!=null?U(this,an).decode(a,gs(r)):null,d=U(this,an).decode(i,s,!0),h=[],f=[];let x=0,g=0;return e.inputs.forEach((p,v)=>{let y=null;if(p.indexed)if(c==null)y=new gw(null);else if(o[v])y=new gw(c[g++]);else try{y=c[g++]}catch(w){y=w}else try{y=d[x++]}catch(w){y=w}h.push(y),f.push(p.name||null)}),dd.fromItems(h,f)}parseTransaction(e){const s=pt(e.data,"tx.data"),r=ze(e.value!=null?e.value:0,"tx.value"),a=this.getFunction(Oe(s.slice(0,4)));if(!a)return null;const i=U(this,an).decode(a.inputs,s.slice(4));return new M7(a,a.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const s=this.getEvent(e.topics[0]);return!s||s.anonymous?null:new R7(s,s.topicHash,this.decodeEventLog(s,e.data,e.topics))}parseError(e){const s=Oe(e),r=this.getError(ls(s,0,4));if(!r)return null;const a=U(this,an).decode(r.inputs,ls(s,4));return new D7(r,r.selector,a)}static from(e){return e instanceof Tc?e:typeof e=="string"?new Tc(JSON.parse(e)):typeof e.formatJson=="function"?new Tc(e.formatJson()):typeof e.format=="function"?new Tc(e.format("json")):new Tc(e)}};za=new WeakMap,Ua=new WeakMap,$a=new WeakMap,an=new WeakMap,si=new WeakSet,Dg=function(e,s,r){if(Ht(e)){const i=e.toLowerCase();for(const o of U(this,$a).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,c]of U(this,$a))o.split("(")[0]===e&&i.push(c);if(s){const o=s.length>0?s[s.length-1]:null;let c=s.length,d=!0;tn.isTyped(o)&&o.type==="overrides"&&(d=!1,c--);for(let h=i.length-1;h>=0;h--){const f=i[h].inputs.length;f!==c&&(!d||f!==c-1)&&i.splice(h,1)}for(let h=i.length-1;h>=0;h--){const f=i[h].inputs;for(let x=0;x<s.length;x++)if(tn.isTyped(s[x])){if(x>=f.length){if(s[x].type==="overrides")continue;i.splice(h,1);break}if(s[x].type!==f[x].baseType){i.splice(h,1);break}}}}if(i.length===1&&s&&s.length!==i[0].inputs.length){const o=s[s.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(c=>JSON.stringify(c.format())).join(", ");oe(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const a=U(this,$a).get(ha.from(e).format());return a||null},Bg=function(e,s,r){if(Ht(e)){const i=e.toLowerCase();for(const o of U(this,Ua).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,c]of U(this,Ua))o.split("(")[0]===e&&i.push(c);if(s){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<s.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const c=i[o].inputs;for(let d=0;d<s.length;d++)if(tn.isTyped(s[d])&&s[d].type!==c[d].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(c=>JSON.stringify(c.format())).join(", ");oe(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const a=U(this,Ua).get(ua.from(e).format());return a||null};let $p=Tc;const B7=BigInt(0);function S0(t){return t??null}function Ns(t){return t==null?null:t.toString()}class pw{constructor(e,s,r){se(this,"gasPrice");se(this,"maxFeePerGas");se(this,"maxPriorityFeePerGas");Ge(this,{gasPrice:S0(e),maxFeePerGas:S0(s),maxPriorityFeePerGas:S0(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:s,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Ns(e),maxFeePerGas:Ns(s),maxPriorityFeePerGas:Ns(r)}}}function Uf(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Oe(t.data));const s="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const a of s)!(a in t)||t[a]==null||(e[a]=ze(t[a],`request.${a}`));const r="type,nonce".split(/,/);for(const a of r)!(a in t)||t[a]==null||(e[a]=it(t[a],`request.${a}`));return t.accessList&&(e.accessList=zl(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(a=>jb(a)?Oe(a):Object.assign({},a))),e}var Hi;class _7{constructor(e,s){se(this,"provider");se(this,"number");se(this,"hash");se(this,"timestamp");se(this,"parentHash");se(this,"parentBeaconBlockRoot");se(this,"nonce");se(this,"difficulty");se(this,"gasLimit");se(this,"gasUsed");se(this,"stateRoot");se(this,"receiptsRoot");se(this,"blobGasUsed");se(this,"excessBlobGas");se(this,"miner");se(this,"prevRandao");se(this,"extraData");se(this,"baseFeePerGas");pe(this,Hi);J(this,Hi,e.transactions.map(r=>typeof r!="string"?new Eu(r,s):r)),Ge(this,{provider:s,hash:S0(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:S0(e.prevRandao),extraData:e.extraData,baseFeePerGas:S0(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return U(this,Hi).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=U(this,Hi).slice();return e.length===0?[]:(Te(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:s,extraData:r,gasLimit:a,gasUsed:i,hash:o,miner:c,prevRandao:d,nonce:h,number:f,parentHash:x,parentBeaconBlockRoot:g,stateRoot:p,receiptsRoot:v,timestamp:y,transactions:w}=this;return{_type:"Block",baseFeePerGas:Ns(e),difficulty:Ns(s),extraData:r,gasLimit:Ns(a),gasUsed:Ns(i),blobGasUsed:Ns(this.blobGasUsed),excessBlobGas:Ns(this.excessBlobGas),hash:o,miner:c,prevRandao:d,nonce:h,number:f,parentHash:x,timestamp:y,parentBeaconBlockRoot:g,stateRoot:p,receiptsRoot:v,transactions:w}}[Symbol.iterator](){let e=0;const s=this.transactions;return{next:()=>e<this.length?{value:s[e++],done:!1}:{value:void 0,done:!0}}}get length(){return U(this,Hi).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let s;if(typeof e=="number")s=U(this,Hi)[e];else{const r=e.toLowerCase();for(const a of U(this,Hi))if(typeof a=="string"){if(a!==r)continue;s=a;break}else{if(a.hash!==r)continue;s=a;break}}if(s==null)throw new Error("no such tx");return typeof s=="string"?await this.provider.getTransaction(s):s}getPrefetchedTransaction(e){const s=this.prefetchedTransactions;if(typeof e=="number")return s[e];e=e.toLowerCase();for(const r of s)if(r.hash===e)return r;oe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return DF(this)}}Hi=new WeakMap;class Fu{constructor(e,s){se(this,"provider");se(this,"transactionHash");se(this,"blockHash");se(this,"blockNumber");se(this,"removed");se(this,"address");se(this,"data");se(this,"topics");se(this,"index");se(this,"transactionIndex");this.provider=s;const r=Object.freeze(e.topics.slice());Ge(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:s,blockNumber:r,data:a,index:i,removed:o,topics:c,transactionHash:d,transactionIndex:h}=this;return{_type:"log",address:e,blockHash:s,blockNumber:r,data:a,index:i,removed:o,topics:c,transactionHash:d,transactionIndex:h}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Te(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Te(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Te(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return BF(this)}}var fm;class V4{constructor(e,s){se(this,"provider");se(this,"to");se(this,"from");se(this,"contractAddress");se(this,"hash");se(this,"index");se(this,"blockHash");se(this,"blockNumber");se(this,"logsBloom");se(this,"gasUsed");se(this,"blobGasUsed");se(this,"cumulativeGasUsed");se(this,"gasPrice");se(this,"blobGasPrice");se(this,"type");se(this,"status");se(this,"root");pe(this,fm);J(this,fm,Object.freeze(e.logs.map(a=>new Fu(a,s))));let r=B7;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ge(this,{provider:s,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return U(this,fm)}toJSON(){const{to:e,from:s,contractAddress:r,hash:a,index:i,blockHash:o,blockNumber:c,logsBloom:d,logs:h,status:f,root:x}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:c,contractAddress:r,cumulativeGasUsed:Ns(this.cumulativeGasUsed),from:s,gasPrice:Ns(this.gasPrice),blobGasUsed:Ns(this.blobGasUsed),blobGasPrice:Ns(this.blobGasPrice),gasUsed:Ns(this.gasUsed),hash:a,index:i,logs:h,logsBloom:d,root:x,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return L7(this)}reorderedEvent(e){return Te(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),I7(this,e)}}fm=new WeakMap;var dl;const gN=class gN{constructor(e,s){se(this,"provider");se(this,"blockNumber");se(this,"blockHash");se(this,"index");se(this,"hash");se(this,"type");se(this,"to");se(this,"from");se(this,"nonce");se(this,"gasLimit");se(this,"gasPrice");se(this,"maxPriorityFeePerGas");se(this,"maxFeePerGas");se(this,"maxFeePerBlobGas");se(this,"data");se(this,"value");se(this,"chainId");se(this,"signature");se(this,"accessList");se(this,"blobVersionedHashes");pe(this,dl);this.provider=s,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,J(this,dl,-1)}toJSON(){const{blockNumber:e,blockHash:s,index:r,hash:a,type:i,to:o,from:c,nonce:d,data:h,signature:f,accessList:x,blobVersionedHashes:g}=this;return{_type:"TransactionResponse",accessList:x,blockNumber:e,blockHash:s,blobVersionedHashes:g,chainId:Ns(this.chainId),data:h,from:c,gasLimit:Ns(this.gasLimit),gasPrice:Ns(this.gasPrice),hash:a,maxFeePerGas:Ns(this.maxFeePerGas),maxPriorityFeePerGas:Ns(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ns(this.maxFeePerBlobGas),nonce:d,signature:f,to:o,index:r,type:i,value:Ns(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const s=this.provider.getBlock(e);if(s==null)throw new Error("TODO");return s}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:s,blockNumber:r}=await dn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return s==null||s.blockNumber==null?0:r-s.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,s){const r=e??1,a=s??0;let i=U(this,dl),o=-1,c=i===-1;const d=async()=>{if(c)return null;const{blockNumber:g,nonce:p}=await dn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=g;return}if(c)return null;const v=await this.getTransaction();if(!(v&&v.blockNumber!=null))for(o===-1&&(o=i-3,o<U(this,dl)&&(o=U(this,dl)));o<=g;){if(c)return null;const y=await this.provider.getBlock(o,!0);if(y==null)return;for(const w of y)if(w===this.hash)return;for(let w=0;w<y.length;w++){const A=await y.getTransaction(w);if(A.from===this.from&&A.nonce===this.nonce){if(c)return null;const j=await this.provider.getTransactionReceipt(A.hash);if(j==null||g-j.blockNumber+1<r)return;let C="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?C="repriced":A.data==="0x"&&A.from===A.to&&A.value===B7&&(C="cancelled"),Te(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:A.replaceableTransaction(i),hash:A.hash,receipt:j})}}o++}},h=g=>{if(g==null||g.status!==0)return g;Te(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:g.to,from:g.from,data:""},receipt:g})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return h(f);if(f){if(await f.confirmations()>=r)return h(f)}else if(await d(),r===0)return null;return await new Promise((g,p)=>{const v=[],y=()=>{v.forEach(A=>A())};if(v.push(()=>{c=!0}),a>0){const A=setTimeout(()=>{y(),p(is("wait for transaction timeout","TIMEOUT"))},a);v.push(()=>{clearTimeout(A)})}const w=async A=>{if(await A.confirmations()>=r){y();try{g(h(A))}catch(j){p(j)}}};if(v.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),i>=0){const A=async()=>{try{await d()}catch(j){if(Us(j,"TRANSACTION_REPLACED")){y(),p(j);return}}c||this.provider.once("block",A)};v.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Te(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),L7(this)}reorderedEvent(e){return Te(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Te(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),I7(this,e)}replaceableTransaction(e){oe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const s=new gN(this,this.provider);return J(s,dl,e),s}};dl=new WeakMap;let Eu=gN;function DF(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function I7(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function L7(t){return{orphan:"drop-transaction",tx:t}}function BF(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Mb extends Fu{constructor(s,r,a){super(s,s.provider);se(this,"interface");se(this,"fragment");se(this,"args");const i=r.decodeEventLog(a,s.data,s.topics);Ge(this,{args:i,fragment:a,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class G4 extends Fu{constructor(s,r){super(s,s.provider);se(this,"error");Ge(this,{error:r})}}var nu;class O7 extends V4{constructor(s,r,a){super(a,r);pe(this,nu);J(this,nu,s)}get logs(){return super.logs.map(s=>{const r=s.topics.length?U(this,nu).getEvent(s.topics[0]):null;if(r)try{return new Mb(s,U(this,nu),r)}catch(a){return new G4(s,a)}return s})}}nu=new WeakMap;var mm;class Db extends Eu{constructor(s,r,a){super(a,r);pe(this,mm);J(this,mm,s)}async wait(s,r){const a=await super.wait(s,r);return a==null?null:new O7(U(this,mm),this.provider,a)}}mm=new WeakMap;class q4 extends A4{constructor(s,r,a,i){super(s,r,a);se(this,"log");Ge(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class P7 extends q4{constructor(e,s,r,a,i){super(e,s,r,new Mb(i,e.interface,a));const o=e.interface.decodeEventLog(a,this.log.data,this.log.topics);Ge(this,{args:o,fragment:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const eC=BigInt(0);function F7(t){return t&&typeof t.call=="function"}function z7(t){return t&&typeof t.estimateGas=="function"}function Bb(t){return t&&typeof t.resolveName=="function"}function U7(t){return t&&typeof t.sendTransaction=="function"}function $7(t){if(t!=null){if(Bb(t))return t;if(t.provider)return t.provider}}var xm;class _F{constructor(e,s,r){pe(this,xm);se(this,"fragment");if(Ge(this,{fragment:s}),s.inputs.length<r.length)throw new Error("too many arguments");const a=hd(e.runner,"resolveName"),i=Bb(a)?a:null;J(this,xm,async function(){const o=await Promise.all(s.inputs.map((c,d)=>r[d]==null?null:c.walkAsync(r[d],(f,x)=>f==="address"?Array.isArray(x)?Promise.all(x.map(g=>mn(g,i))):mn(x,i):x)));return e.interface.encodeFilterTopics(s,o)}())}getTopicFilter(){return U(this,xm)}}xm=new WeakMap;function hd(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Bc(t){return t==null?null:t.provider||null}async function H7(t,e){const s=tn.dereference(t,"overrides");oe(typeof s=="object","invalid overrides parameter","overrides",t);const r=Uf(s);return oe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),oe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function IF(t,e,s){const r=hd(t,"resolveName"),a=Bb(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(s[o],(c,d)=>(d=tn.dereference(d,c),c==="address"?mn(d,a):d))))}function LF(t){const e=async function(o){const c=await H7(o,["data"]);c.to=await t.getAddress(),c.from&&(c.from=await mn(c.from,$7(t.runner)));const d=t.interface,h=ze(c.value||eC,"overrides.value")===eC,f=(c.data||"0x")==="0x";d.fallback&&!d.fallback.payable&&d.receive&&!f&&!h&&oe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),oe(d.fallback||f,"cannot send data to receive-only contract","overrides.data",c.data);const x=d.receive||d.fallback&&d.fallback.payable;return oe(x||h,"cannot send value to non-payable fallback","overrides.value",c.value),oe(d.fallback||f,"cannot send data to receive-only contract","overrides.data",c.data),c},s=async function(o){const c=hd(t.runner,"call");Te(F7(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await e(o);try{return await c.call(d)}catch(h){throw Nb(h)&&h.data?t.interface.makeError(h.data,d):h}},r=async function(o){const c=t.runner;Te(U7(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await c.sendTransaction(await e(o)),h=Bc(t.runner);return new Db(t.interface,h,d)},a=async function(o){const c=hd(t.runner,"estimateGas");return Te(z7(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await e(o))},i=async o=>await r(o);return Ge(i,{_contract:t,estimateGas:a,populateTransaction:e,send:r,staticCall:s}),i}function OF(t,e){const s=function(...h){const f=t.interface.getFunction(e,h);return Te(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:h}}),f},r=async function(...h){const f=s(...h);let x={};if(f.inputs.length+1===h.length&&(x=await H7(h.pop()),x.from&&(x.from=await mn(x.from,$7(t.runner)))),f.inputs.length!==h.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const g=await IF(t.runner,f.inputs,h);return Object.assign({},x,await dn({to:t.getAddress(),data:t.interface.encodeFunctionData(f,g)}))},a=async function(...h){const f=await c(...h);return f.length===1?f[0]:f},i=async function(...h){const f=t.runner;Te(U7(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const x=await f.sendTransaction(await r(...h)),g=Bc(t.runner);return new Db(t.interface,g,x)},o=async function(...h){const f=hd(t.runner,"estimateGas");return Te(z7(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...h))},c=async function(...h){const f=hd(t.runner,"call");Te(F7(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const x=await r(...h);let g="0x";try{g=await f.call(x)}catch(v){throw Nb(v)&&v.data?t.interface.makeError(v.data,x):v}const p=s(...h);return t.interface.decodeFunctionResult(p,g)},d=async(...h)=>s(...h).constant?await a(...h):await i(...h);return Ge(d,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:s,estimateGas:o,populateTransaction:r,send:i,staticCall:a,staticCallResult:c}),Object.defineProperty(d,"fragment",{configurable:!1,enumerable:!0,get:()=>{const h=t.interface.getFunction(e);return Te(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),h}}),d}function PF(t,e){const s=function(...a){const i=t.interface.getEvent(e,a);return Te(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:a}}),i},r=function(...a){return new _F(t,s(...a),a)};return Ge(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:s}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const a=t.interface.getEvent(e);return Te(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),a}}),r}const Hp=Symbol.for("_ethersInternal_contract"),V7=new WeakMap;function FF(t,e){V7.set(t[Hp],e)}function dr(t){return V7.get(t[Hp])}function zF(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function W4(t,e){let s,r=null;if(Array.isArray(e)){const i=function(o){if(Ht(o,32))return o;const c=t.interface.getEvent(o);return oe(c,"unknown fragment","name",o),c.topicHash};s=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?s=[null]:typeof e=="string"?Ht(e,32)?s=[e]:(r=t.interface.getEvent(e),oe(r,"unknown fragment","event",e),s=[r.topicHash]):zF(e)?s=await e.getTopicFilter():"fragment"in e?(r=e.fragment,s=[r.topicHash]):oe(!1,"unknown event name","event",e);s=s.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(c=>c.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const a=s.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:a,topics:s}}async function of(t,e){const{subs:s}=dr(t);return s.get((await W4(t,e)).tag)||null}async function tC(t,e,s){const r=Bc(t.runner);Te(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:a,tag:i,topics:o}=await W4(t,s),{addr:c,subs:d}=dr(t);let h=d.get(i);if(!h){const x={address:c||t,topics:o},g=w=>{let A=a;if(A==null)try{A=t.interface.getEvent(w.topics[0])}catch{}if(A){const j=A,C=a?t.interface.decodeEventLog(a,w.data,w.topics):[];vw(t,s,C,S=>new P7(t,S,s,j,w))}else vw(t,s,[],j=>new q4(t,j,s,w))};let p=[];h={tag:i,listeners:[],start:()=>{p.length||p.push(r.on(x,g))},stop:async()=>{if(p.length==0)return;let w=p;p=[],await Promise.all(w),r.off(x,g)}},d.set(i,h)}return h}let bw=Promise.resolve();async function UF(t,e,s,r){await bw;const a=await of(t,e);if(!a)return!1;const i=a.listeners.length;return a.listeners=a.listeners.filter(({listener:o,once:c})=>{const d=Array.from(s);r&&d.push(r(c?null:o));try{o.call(t,...d)}catch{}return!c}),a.listeners.length===0&&(a.stop(),dr(t).subs.delete(a.tag)),i>0}async function vw(t,e,s,r){try{await bw}catch{}const a=UF(t,e,s,r);return bw=a,await a}const sg=["then"];var DS;DS=Hp;const Tf=class Tf{constructor(e,s,r,a){se(this,"target");se(this,"interface");se(this,"runner");se(this,"filters");se(this,DS);se(this,"fallback");oe(typeof e=="string"||L4(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=$p.from(s);Ge(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,Hp,{value:{}});let o,c=null,d=null;if(a){const x=Bc(r);d=new Db(this.interface,x,a)}let h=new Map;if(typeof e=="string")if(Ht(e))c=e,o=Promise.resolve(e);else{const x=hd(r,"resolveName");if(!Bb(x))throw is("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=x.resolveName(e).then(g=>{if(g==null)throw is("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return dr(this).addr=g,g})}else o=e.getAddress().then(x=>{if(x==null)throw new Error("TODO");return dr(this).addr=x,x});FF(this,{addrPromise:o,addr:c,deployTx:d,subs:h});const f=new Proxy({},{get:(x,g,p)=>{if(typeof g=="symbol"||sg.indexOf(g)>=0)return Reflect.get(x,g,p);try{return this.getEvent(g)}catch(v){if(!Us(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(x,g)=>sg.indexOf(g)>=0?Reflect.has(x,g):Reflect.has(x,g)||this.interface.hasEvent(String(g))});return Ge(this,{filters:f}),Ge(this,{fallback:i.receive||i.fallback?LF(this):null}),new Proxy(this,{get:(x,g,p)=>{if(typeof g=="symbol"||g in x||sg.indexOf(g)>=0)return Reflect.get(x,g,p);try{return x.getFunction(g)}catch(v){if(!Us(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(x,g)=>typeof g=="symbol"||g in x||sg.indexOf(g)>=0?Reflect.has(x,g):x.interface.hasFunction(g)})}connect(e){return new Tf(this.target,this.interface,e)}attach(e){return new Tf(e,this.interface,this.runner)}async getAddress(){return await dr(this).addrPromise}async getDeployedCode(){const e=Bc(this.runner);Te(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const s=await e.getCode(await this.getAddress());return s==="0x"?null:s}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Bc(this.runner);return Te(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return a(this);r.once("block",o)}catch(c){i(c)}};o()})}deploymentTransaction(){return dr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),OF(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),PF(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,s,r){s==null&&(s=0),r==null&&(r="latest");const{addr:a,addrPromise:i}=dr(this),o=a||await i,{fragment:c,topics:d}=await W4(this,e),h={address:o,topics:d,fromBlock:s,toBlock:r},f=Bc(this.runner);return Te(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(h)).map(x=>{let g=c;if(g==null)try{g=this.interface.getEvent(x.topics[0])}catch{}if(g)try{return new Mb(x,this.interface,g)}catch(p){return new G4(x,p)}return new Fu(x,f)})}async on(e,s){const r=await tC(this,"on",e);return r.listeners.push({listener:s,once:!1}),r.start(),this}async once(e,s){const r=await tC(this,"once",e);return r.listeners.push({listener:s,once:!0}),r.start(),this}async emit(e,...s){return await vw(this,e,s,null)}async listenerCount(e){if(e){const a=await of(this,e);return a?a.listeners.length:0}const{subs:s}=dr(this);let r=0;for(const{listeners:a}of s.values())r+=a.length;return r}async listeners(e){if(e){const a=await of(this,e);return a?a.listeners.map(({listener:i})=>i):[]}const{subs:s}=dr(this);let r=[];for(const{listeners:a}of s.values())r=r.concat(a.map(({listener:i})=>i));return r}async off(e,s){const r=await of(this,e);if(!r)return this;if(s){const a=r.listeners.map(({listener:i})=>i).indexOf(s);a>=0&&r.listeners.splice(a,1)}return(s==null||r.listeners.length===0)&&(r.stop(),dr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const s=await of(this,e);if(!s)return this;s.stop(),dr(this).subs.delete(s.tag)}else{const{subs:s}=dr(this);for(const{tag:r,stop:a}of s.values())a(),s.delete(r)}return this}async addListener(e,s){return await this.on(e,s)}async removeListener(e,s){return await this.off(e,s)}static buildClass(e){class s extends Tf{constructor(a,i=null){super(a,e,i)}}return s}static from(e,s,r){return r==null&&(r=null),new this(e,s,r)}};let Vp=Tf;function $F(){return Vp}class jt extends $F(){}function Ny(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):oe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class G7{constructor(e){se(this,"name");Ge(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,s){throw new Error("unsupported coin")}async decodeAddress(e,s){throw new Error("unsupported coin")}}const q7=new RegExp("^(ipfs)://(.*)$","i"),sC=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),q7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ul,Kc,hl,h0,gb,W7;const C0=class C0{constructor(e,s,r){pe(this,hl);se(this,"provider");se(this,"address");se(this,"name");pe(this,ul);pe(this,Kc);Ge(this,{provider:e,address:s,name:r}),J(this,ul,null),J(this,Kc,new jt(s,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return U(this,ul)==null&&J(this,ul,(async()=>{try{return await U(this,Kc).supportsInterface("0x9061b923")}catch(e){if(Us(e,"CALL_EXCEPTION"))return!1;throw J(this,ul,null),e}})()),await U(this,ul)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await Re(this,hl,h0).call(this,"addr(bytes32)");return i==null||i===Nu?null:i}catch(i){if(Us(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await Re(this,hl,h0).call(this,"addr(bytes32,uint)",[i]);if(Ht(o,20))return Rt(o)}let s=null;for(const i of this.provider.plugins)if(i instanceof G7&&i.supportsCoinType(e)){s=i;break}if(s==null)return null;const r=await Re(this,hl,h0).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const a=await s.decodeAddress(e,r);if(a!=null)return a;Te(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const s=await Re(this,hl,h0).call(this,"text(bytes32,string)",[e]);return s==null||s==="0x"?null:s}async getContentHash(){const e=await Re(this,hl,h0).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const s=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(s){const a=s[1]==="e3010170"?"ipfs":"ipns",i=parseInt(s[4],16);if(s[5].length===i*2)return`${a}://${JS("0x"+s[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Te(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const s=await this.getText("avatar");if(s==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:s});for(let r=0;r<sC.length;r++){const a=s.match(sC[r]);if(a==null)continue;const i=a[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:s}),{linkage:e,url:s};case"ipfs":{const o=Ny(s);return e.push({type:"ipfs",value:s}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:s});const c=await this.getAddress();if(c==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const d=(a[2]||"").split("/");if(d.length!==2)return e.push({type:`!${i}caip`,value:a[2]||""}),{url:null,linkage:e};const h=d[1],f=new jt(d[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const y=await f.ownerOf(h);if(c!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(i==="erc1155"){const y=await f.balanceOf(c,h);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let x=await f[o](h);if(x==null||x==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:x}),i==="erc1155"&&(x=x.replace("{id}",oo(h,32).substring(2)),e.push({type:"metadata-url-expanded",value:x})),x.match(/^ipfs:/i)&&(x=Ny(x)),e.push({type:"metadata-url",value:x});let g={};const p=await new ni(x).send();p.assertOk();try{g=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const A=p.body;return A&&e.push({type:"!metadata",value:Oe(A)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!g)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(g)});let v=g.image;if(typeof v!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(q7)==null)return e.push({type:"!imageUrl-ipfs",value:v}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:v}),v=Ny(v)}return e.push({type:"url",value:v}),{linkage:e,url:v}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const s=await e.getNetwork(),r=s.getPlugin("org.ethers.plugins.network.Ens");return Te(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:s}}),r.address}static async fromName(e,s){var a;let r=s;for(;;){if(r===""||r==="."||s!=="eth"&&r==="eth")return null;const i=await Re(a=C0,gb,W7).call(a,e,r);if(i!=null){const o=new C0(e,i,s);return r!==s&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};ul=new WeakMap,Kc=new WeakMap,hl=new WeakSet,h0=async function(e,s){s=(s||[]).slice();const r=U(this,Kc).interface;s.unshift(Up(this.name));let a=null;await this.supportsWildcard()&&(a=r.getFunction(e),Te(a,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),s=[x7(this.name,255),r.encodeFunctionData(a,s)],e="resolve(bytes,bytes)"),s.push({enableCcipRead:!0});try{const i=await U(this,Kc)[e](...s);return a?r.decodeFunctionResult(a,i)[0]:i}catch(i){if(!Us(i,"CALL_EXCEPTION"))throw i}return null},gb=new WeakSet,W7=async function(e,s){const r=await C0.getEnsAddress(e);try{const i=await new jt(r,["function resolver(bytes32) view returns (address)"],e).resolver(Up(s),{enableCcipRead:!0});return i===Nu?null:i}catch(a){throw a}return null},pe(C0,gb);let $f=C0;const nC=BigInt(0);function wt(t,e){return function(s){return s==null?e:t(s)}}function _b(t,e){return s=>{if(e&&s==null)return null;if(!Array.isArray(s))throw new Error("not an array");return s.map(r=>t(r))}}function Tm(t,e){return s=>{const r={};for(const a in t){let i=a;if(e&&a in e&&!(i in s)){for(const o of e[a])if(o in s){i=o;break}}try{const o=t[a](s[i]);o!==void 0&&(r[a]=o)}catch(o){const c=o instanceof Error?o.message:"not-an-error";Te(!1,`invalid value for value.${a} (${c})`,"BAD_DATA",{value:s})}}return r}}function HF(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}oe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Su(t){return oe(Ht(t,!0),"invalid data","value",t),t}function Js(t){return oe(Ht(t,32),"invalid hash","value",t),t}const VF=Tm({address:Rt,blockHash:Js,blockNumber:it,data:Su,index:it,removed:wt(HF,!1),topics:_b(Js),transactionHash:Js,transactionIndex:it},{index:["logIndex"]});function GF(t){return VF(t)}const qF=Tm({hash:wt(Js),parentHash:Js,parentBeaconBlockRoot:wt(Js,null),number:it,timestamp:it,nonce:wt(Su),difficulty:ze,gasLimit:ze,gasUsed:ze,stateRoot:wt(Js,null),receiptsRoot:wt(Js,null),blobGasUsed:wt(ze,null),excessBlobGas:wt(ze,null),miner:wt(Rt),prevRandao:wt(Js,null),extraData:Su,baseFeePerGas:wt(ze)},{prevRandao:["mixHash"]});function WF(t){const e=qF(t);return e.transactions=t.transactions.map(s=>typeof s=="string"?s:Y7(s)),e}const YF=Tm({transactionIndex:it,blockNumber:it,transactionHash:Js,address:Rt,topics:_b(Js),data:Su,index:it,blockHash:Js},{index:["logIndex"]});function QF(t){return YF(t)}const KF=Tm({to:wt(Rt,null),from:wt(Rt,null),contractAddress:wt(Rt,null),index:it,root:wt(Oe),gasUsed:ze,blobGasUsed:wt(ze,null),logsBloom:wt(Su),blockHash:Js,hash:Js,logs:_b(QF),blockNumber:it,cumulativeGasUsed:ze,effectiveGasPrice:wt(ze),blobGasPrice:wt(ze,null),status:wt(it),type:wt(it,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function XF(t){return KF(t)}function Y7(t){t.to&&ze(t.to)===nC&&(t.to="0x0000000000000000000000000000000000000000");const e=Tm({hash:Js,index:wt(it,void 0),type:s=>s==="0x"||s==null?0:it(s),accessList:wt(zl,null),blobVersionedHashes:wt(_b(Js,!0),null),blockHash:wt(Js,null),blockNumber:wt(it,null),transactionIndex:wt(it,null),from:Rt,gasPrice:wt(ze),maxPriorityFeePerGas:wt(ze),maxFeePerGas:wt(ze),maxFeePerBlobGas:wt(ze,null),gasLimit:ze,to:wt(Rt,null),value:ze,nonce:it,data:Su,creates:wt(Rt,null),chainId:wt(ze,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=H9(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Hr.from(t.signature):e.signature=Hr.from(t),e.chainId==null){const s=e.signature.legacyChainId;s!=null&&(e.chainId=s)}return e.blockHash&&ze(e.blockHash)===nC&&(e.blockHash=null),e}const ZF="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class zu{constructor(e){se(this,"name");Ge(this,{name:e})}clone(){return new zu(this.name)}}class Rm extends zu{constructor(s,r){s==null&&(s=0);super(`org.ethers.network.plugins.GasCost#${s||0}`);se(this,"effectiveBlock");se(this,"txBase");se(this,"txCreate");se(this,"txDataZero");se(this,"txDataNonzero");se(this,"txAccessListStorageKey");se(this,"txAccessListAddress");const a={effectiveBlock:s};function i(o,c){let d=(r||{})[o];d==null&&(d=c),oe(typeof d=="number",`invalud value for ${o}`,"costs",r),a[o]=d}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Ge(this,a)}clone(){return new Rm(this.effectiveBlock,this)}}class Mm extends zu{constructor(s,r){super("org.ethers.plugins.network.Ens");se(this,"address");se(this,"targetNetwork");Ge(this,{address:s||ZF,targetNetwork:r??1})}clone(){return new Mm(this.address,this.targetNetwork)}}var gm,pm;class Q7 extends zu{constructor(s,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");pe(this,gm);pe(this,pm);J(this,gm,s),J(this,pm,r)}get url(){return U(this,gm)}get processFunc(){return U(this,pm)}clone(){return this}}gm=new WeakMap,pm=new WeakMap;const jy=new Map;var ru,au,fl;const k0=class k0{constructor(e,s){pe(this,ru);pe(this,au);pe(this,fl);J(this,ru,e),J(this,au,ze(s)),J(this,fl,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return U(this,ru)}set name(e){J(this,ru,e)}get chainId(){return U(this,au)}set chainId(e){J(this,au,ze(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ze(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ze(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ze(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(U(this,fl).values())}attachPlugin(e){if(U(this,fl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return U(this,fl).set(e.name,e.clone()),this}getPlugin(e){return U(this,fl).get(e)||null}getPlugins(e){return this.plugins.filter(s=>s.name.split("#")[0]===e)}clone(){const e=new k0(this.name,this.chainId);return this.plugins.forEach(s=>{e.attachPlugin(s.clone())}),e}computeIntrinsicGas(e){const s=this.getPlugin("org.ethers.plugins.network.GasCost")||new Rm;let r=s.txBase;if(e.to==null&&(r+=s.txCreate),e.data)for(let a=2;a<e.data.length;a+=2)e.data.substring(a,a+2)==="00"?r+=s.txDataZero:r+=s.txDataNonzero;if(e.accessList){const a=zl(e.accessList);for(const i in a)r+=s.txAccessListAddress+s.txAccessListStorageKey*a[i].storageKeys.length}return r}static from(e){if(JF(),e==null)return k0.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const s=jy.get(e);if(s)return s();if(typeof e=="bigint")return new k0("unknown",e);oe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){oe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const s=new k0(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&s.attachPlugin(new Mm(e.ensAddress,e.ensNetwork)),s}oe(!1,"invalid network","network",e)}static register(e,s){typeof e=="number"&&(e=BigInt(e));const r=jy.get(e);r&&oe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),jy.set(e,s)}};ru=new WeakMap,au=new WeakMap,fl=new WeakMap;let fa=k0;function rC(t,e){const s=String(t);if(!s.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=s.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let a=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||a++,r[1]=a.toString()}return BigInt(r[0]+r[1])}function aC(t){return new Q7(t,async(e,s,r)=>{r.setHeader("User-Agent","ethers");let a;try{const[i,o]=await Promise.all([r.send(),e()]);a=i;const c=a.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:rC(c.maxFee,9),maxPriorityFeePerGas:rC(c.maxPriorityFee,9)}}catch(i){Te(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:a,error:i})}})}let iC=!1;function JF(){if(iC)return;iC=!0;function t(e,s,r){const a=function(){const i=new fa(e,s);return r.ensNetwork!=null&&i.attachPlugin(new Mm(null,r.ensNetwork)),i.attachPlugin(new Rm),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};fa.register(e,a),fa.register(s,a),r.altNames&&r.altNames.forEach(i=>{fa.register(i,a)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[aC("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[aC("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function yw(t){return JSON.parse(JSON.stringify(t))}var Vi,Br,ml,Ha,iu,_g;class ez{constructor(e){pe(this,iu);pe(this,Vi);pe(this,Br);pe(this,ml);pe(this,Ha);J(this,Vi,e),J(this,Br,null),J(this,ml,4e3),J(this,Ha,-2)}get pollingInterval(){return U(this,ml)}set pollingInterval(e){J(this,ml,e)}start(){U(this,Br)||(J(this,Br,U(this,Vi)._setTimeout(Re(this,iu,_g).bind(this),U(this,ml))),Re(this,iu,_g).call(this))}stop(){U(this,Br)&&(U(this,Vi)._clearTimeout(U(this,Br)),J(this,Br,null))}pause(e){this.stop(),e&&J(this,Ha,-2)}resume(){this.start()}}Vi=new WeakMap,Br=new WeakMap,ml=new WeakMap,Ha=new WeakMap,iu=new WeakSet,_g=async function(){try{const e=await U(this,Vi).getBlockNumber();if(U(this,Ha)===-2){J(this,Ha,e);return}if(e!==U(this,Ha)){for(let s=U(this,Ha)+1;s<=e;s++){if(U(this,Br)==null)return;await U(this,Vi).emit("block",s)}J(this,Ha,e)}}catch{}U(this,Br)!=null&&J(this,Br,U(this,Vi)._setTimeout(Re(this,iu,_g).bind(this),U(this,ml)))};var Xc,Zc,xl;class Y4{constructor(e){pe(this,Xc);pe(this,Zc);pe(this,xl);J(this,Xc,e),J(this,xl,!1),J(this,Zc,s=>{this._poll(s,U(this,Xc))})}async _poll(e,s){throw new Error("sub-classes must override this")}start(){U(this,xl)||(J(this,xl,!0),U(this,Zc).call(this,-2),U(this,Xc).on("block",U(this,Zc)))}stop(){U(this,xl)&&(J(this,xl,!1),U(this,Xc).off("block",U(this,Zc)))}pause(e){this.stop()}resume(){this.start()}}Xc=new WeakMap,Zc=new WeakMap,xl=new WeakMap;var ou,Gi;class tz extends Y4{constructor(s,r){super(s);pe(this,ou);pe(this,Gi);J(this,ou,r),J(this,Gi,-2)}pause(s){s&&J(this,Gi,-2),super.pause(s)}async _poll(s,r){const a=await r.getBlock(U(this,ou));a!=null&&(U(this,Gi)===-2?J(this,Gi,a.number):a.number>U(this,Gi)&&(r.emit(U(this,ou),a.number),J(this,Gi,a.number)))}}ou=new WeakMap,Gi=new WeakMap;var pb;class sz extends Y4{constructor(s,r){super(s);pe(this,pb);J(this,pb,yw(r))}async _poll(s,r){throw new Error("@TODO")}}pb=new WeakMap;var lu;class nz extends Y4{constructor(s,r){super(s);pe(this,lu);J(this,lu,r)}async _poll(s,r){const a=await r.getTransactionReceipt(U(this,lu));a&&r.emit(U(this,lu),a)}}lu=new WeakMap;var qi,cu,du,gl,_r,bb,K7;class Q4{constructor(e,s){pe(this,bb);pe(this,qi);pe(this,cu);pe(this,du);pe(this,gl);pe(this,_r);J(this,qi,e),J(this,cu,yw(s)),J(this,du,Re(this,bb,K7).bind(this)),J(this,gl,!1),J(this,_r,-2)}start(){U(this,gl)||(J(this,gl,!0),U(this,_r)===-2&&U(this,qi).getBlockNumber().then(e=>{J(this,_r,e)}),U(this,qi).on("block",U(this,du)))}stop(){U(this,gl)&&(J(this,gl,!1),U(this,qi).off("block",U(this,du)))}pause(e){this.stop(),e&&J(this,_r,-2)}resume(){this.start()}}qi=new WeakMap,cu=new WeakMap,du=new WeakMap,gl=new WeakMap,_r=new WeakMap,bb=new WeakSet,K7=async function(e){if(U(this,_r)===-2)return;const s=yw(U(this,cu));s.fromBlock=U(this,_r)+1,s.toBlock=e;const r=await U(this,qi).getLogs(s);if(r.length===0){U(this,_r)<e-60&&J(this,_r,e-60);return}for(const a of r)U(this,qi).emit(U(this,cu),a),J(this,_r,a.blockNumber)};const rz=BigInt(2),az=10;function ng(t){return t&&typeof t.then=="function"}function Ig(t,e){return t+":"+JSON.stringify(e,(s,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const a=Object.keys(r);return a.sort(),a.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class K4{constructor(e){se(this,"name");Ge(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function iz(t){return JSON.parse(JSON.stringify(t))}function ww(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Cy(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ht(t,32)){const s=t.toLowerCase();return{type:"transaction",tag:Ig("tx",{hash:s}),hash:s}}if(t.orphan){const s=t;return{type:"orphan",tag:Ig("orphan",s),filter:iz(s)}}if(t.address||t.topics){const s=t,r={topics:(s.topics||[]).map(a=>a==null?null:Array.isArray(a)?ww(a.map(i=>i.toLowerCase())):a.toLowerCase())};if(s.address){const a=[],i=[],o=c=>{Ht(c)?a.push(c):i.push((async()=>{a.push(await mn(c,e))})())};Array.isArray(s.address)?s.address.forEach(o):o(s.address),i.length&&await Promise.all(i),r.address=ww(a.map(c=>c.toLowerCase()))}return{filter:r,tag:Ig("event",r),type:"event"}}oe(!1,"unknown ProviderEvent","event",t)}function ky(){return new Date().getTime()}const oz={cacheTimeout:250,pollingInterval:4e3};var on,pl,ln,uu,mr,Jc,bl,Wi,bm,Ir,hu,fu,ut,cr,Nw,jw,lf,Cw,cf,Lg;class X7{constructor(e,s){pe(this,ut);pe(this,on);pe(this,pl);pe(this,ln);pe(this,uu);pe(this,mr);pe(this,Jc);pe(this,bl);pe(this,Wi);pe(this,bm);pe(this,Ir);pe(this,hu);pe(this,fu);if(J(this,fu,Object.assign({},oz,s||{})),e==="any")J(this,Jc,!0),J(this,mr,null);else if(e){const r=fa.from(e);J(this,Jc,!1),J(this,mr,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else J(this,Jc,!1),J(this,mr,null);J(this,Wi,-1),J(this,bl,new Map),J(this,on,new Map),J(this,pl,new Map),J(this,ln,null),J(this,uu,!1),J(this,bm,1),J(this,Ir,new Map),J(this,hu,!1)}get pollingInterval(){return U(this,fu).pollingInterval}get provider(){return this}get plugins(){return Array.from(U(this,pl).values())}attachPlugin(e){if(U(this,pl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return U(this,pl).set(e.name,e.connect(this)),this}getPlugin(e){return U(this,pl).get(e)||null}get disableCcipRead(){return U(this,hu)}set disableCcipRead(e){J(this,hu,!!e)}async ccipReadFetch(e,s,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const a=e.to.toLowerCase(),i=s.toLowerCase(),o=[];for(let c=0;c<r.length;c++){const d=r[c],h=d.replace("{sender}",a).replace("{data}",i),f=new ni(h);d.indexOf("{data}")===-1&&(f.body={data:i,sender:a}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:c,urls:r});let x="unknown error",g;try{g=await f.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:p}});continue}try{const p=g.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:p}),p.data;p.message&&(x=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:p})}catch{}Te(g.statusCode<400||g.statusCode>=500,`response not found during CCIP fetch: ${x}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:d,errorMessage:x}}),o.push(x)}Te(!1,`error encountered during CCIP fetch: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,s){return new _7(WF(e),this)}_wrapLog(e,s){return new Fu(GF(e),this)}_wrapTransactionReceipt(e,s){return new V4(XF(e),this)}_wrapTransactionResponse(e,s){return new Eu(Y7(e),this)}_detectNetwork(){Te(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Te(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=it(await Re(this,ut,cr).call(this,{method:"getBlockNumber"}),"%response");return U(this,Wi)>=0&&J(this,Wi,e),e}_getAddress(e){return mn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ht(e))return Ht(e,32)?e:Rc(e);if(typeof e=="bigint"&&(e=it(e,"blockTag")),typeof e=="number")return e>=0?Rc(e):U(this,Wi)>=0?Rc(U(this,Wi)+e):this.getBlockNumber().then(s=>Rc(s+e));oe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const s=(e.topics||[]).map(d=>d==null?null:Array.isArray(d)?ww(d.map(h=>h.toLowerCase())):d.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,a=(d,h,f)=>{let x;switch(d.length){case 0:break;case 1:x=d[0];break;default:d.sort(),x=d}if(r&&(h!=null||f!=null))throw new Error("invalid filter");const g={};return x&&(g.address=x),s.length&&(g.topics=s),h&&(g.fromBlock=h),f&&(g.toBlock=f),r&&(g.blockHash=r),g};let i=[];if(e.address)if(Array.isArray(e.address))for(const d of e.address)i.push(this._getAddress(d));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let c;return"toBlock"in e&&(c=this._getBlockTag(e.toBlock)),i.filter(d=>typeof d!="string").length||o!=null&&typeof o!="string"||c!=null&&typeof c!="string"?Promise.all([Promise.all(i),o,c]).then(d=>a(d[0],d[1],d[2])):a(i,o,c)}_getTransactionRequest(e){const s=Uf(e),r=[];if(["to","from"].forEach(a=>{if(s[a]==null)return;const i=mn(s[a],this);ng(i)?r.push(async function(){s[a]=await i}()):s[a]=i}),s.blockTag!=null){const a=this._getBlockTag(s.blockTag);ng(a)?r.push(async function(){s.blockTag=await a}()):s.blockTag=a}return r.length?async function(){return await Promise.all(r),s}():s}async getNetwork(){if(U(this,mr)==null){const a=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw U(this,mr)===a&&J(this,mr,null),i}})();return J(this,mr,a),(await a).clone()}const e=U(this,mr),[s,r]=await Promise.all([e,this._detectNetwork()]);return s.chainId!==r.chainId&&(U(this,Jc)?(this.emit("network",r,s),U(this,mr)===e&&J(this,mr,Promise.resolve(r))):Te(!1,`network changed: ${s.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),s.clone()}async getFeeData(){const e=await this.getNetwork(),s=async()=>{const{_block:a,gasPrice:i,priorityFee:o}=await dn({_block:Re(this,ut,Cw).call(this,"latest",!1),gasPrice:(async()=>{try{const f=await Re(this,ut,cr).call(this,{method:"getGasPrice"});return ze(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await Re(this,ut,cr).call(this,{method:"getPriorityFee"});return ze(f,"%response")}catch{}return null})()});let c=null,d=null;const h=this._wrapBlock(a,e);return h&&h.baseFeePerGas&&(d=o??BigInt("1000000000"),c=h.baseFeePerGas*rz+d),new pw(i,c,d)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const a=new ni(r.url),i=await r.processFunc(s,this,a);return new pw(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await s()}async estimateGas(e){let s=this._getTransactionRequest(e);return ng(s)&&(s=await s),ze(await Re(this,ut,cr).call(this,{method:"estimateGas",transaction:s}),"%response")}async call(e){const{tx:s,blockTag:r}=await dn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Re(this,ut,jw).call(this,Re(this,ut,Nw).call(this,s,r,e.enableCcipRead?0:-1))}async getBalance(e,s){return ze(await Re(this,ut,lf).call(this,{method:"getBalance"},e,s),"%response")}async getTransactionCount(e,s){return it(await Re(this,ut,lf).call(this,{method:"getTransactionCount"},e,s),"%response")}async getCode(e,s){return Oe(await Re(this,ut,lf).call(this,{method:"getCode"},e,s))}async getStorage(e,s,r){const a=ze(s,"position");return Oe(await Re(this,ut,lf).call(this,{method:"getStorage",position:a},e,r))}async broadcastTransaction(e){const{blockNumber:s,hash:r,network:a}=await dn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Pf.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,a).replaceableTransaction(s)}async getBlock(e,s){const{network:r,params:a}=await dn({network:this.getNetwork(),params:Re(this,ut,Cw).call(this,e,!!s)});return a==null?null:this._wrapBlock(a,r)}async getTransaction(e){const{network:s,params:r}=await dn({network:this.getNetwork(),params:Re(this,ut,cr).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,s)}async getTransactionReceipt(e){const{network:s,params:r}=await dn({network:this.getNetwork(),params:Re(this,ut,cr).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const a=await Re(this,ut,cr).call(this,{method:"getTransaction",hash:e});if(a==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=a.gasPrice}return this._wrapTransactionReceipt(r,s)}async getTransactionResult(e){const{result:s}=await dn({network:this.getNetwork(),result:Re(this,ut,cr).call(this,{method:"getTransactionResult",hash:e})});return s==null?null:Oe(s)}async getLogs(e){let s=this._getFilter(e);ng(s)&&(s=await s);const{network:r,params:a}=await dn({network:this.getNetwork(),params:Re(this,ut,cr).call(this,{method:"getLogs",filter:s})});return a.map(i=>this._wrapLog(i,r))}_getProvider(e){Te(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await $f.fromName(this,e)}async getAvatar(e){const s=await this.getResolver(e);return s?await s.getAvatar():null}async resolveName(e){const s=await this.getResolver(e);return s?await s.getAddress():null}async lookupAddress(e){e=Rt(e);const s=Up(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await $f.getEnsAddress(this),i=await new jt(r,["function resolver(bytes32) view returns (address)"],this).resolver(s);if(i==null||i===Nu)return null;const c=await new jt(i,["function name(bytes32) view returns (string)"],this).name(s);return await this.resolveName(c)!==e?null:c}catch(r){if(Us(r,"BAD_DATA")&&r.value==="0x"||Us(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,s,r){const a=s??1;return a===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let c=null;const d=async h=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&h-f.blockNumber+1>=a){i(f),c&&(clearTimeout(c),c=null);return}}catch(f){console.log("EEE",f)}this.once("block",d)};r!=null&&(c=setTimeout(()=>{c!=null&&(c=null,this.off("block",d),o(is("timeout","TIMEOUT",{reason:"timeout"})))},r)),d(await this.getBlockNumber())})}async waitForBlock(e){Te(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const s=U(this,Ir).get(e);s&&(s.timer&&clearTimeout(s.timer),U(this,Ir).delete(e))}_setTimeout(e,s){s==null&&(s=0);const r=Uh(this,bm)._++,a=()=>{U(this,Ir).delete(r),e()};if(this.paused)U(this,Ir).set(r,{timer:null,func:a,time:s});else{const i=setTimeout(a,s);U(this,Ir).set(r,{timer:i,func:a,time:ky()})}return r}_forEachSubscriber(e){for(const s of U(this,on).values())e(s.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new K4(e.type);case"block":{const s=new ez(this);return s.pollingInterval=this.pollingInterval,s}case"safe":case"finalized":return new tz(this,e.type);case"event":return new Q4(this,e.filter);case"transaction":return new nz(this,e.hash);case"orphan":return new sz(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,s){for(const r of U(this,on).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=s,r.started&&s.start(),U(this,ln)!=null&&s.pause(U(this,ln));break}}async on(e,s){const r=await Re(this,ut,Lg).call(this,e);return r.listeners.push({listener:s,once:!1}),r.started||(r.subscriber.start(),r.started=!0,U(this,ln)!=null&&r.subscriber.pause(U(this,ln))),this}async once(e,s){const r=await Re(this,ut,Lg).call(this,e);return r.listeners.push({listener:s,once:!0}),r.started||(r.subscriber.start(),r.started=!0,U(this,ln)!=null&&r.subscriber.pause(U(this,ln))),this}async emit(e,...s){const r=await Re(this,ut,cf).call(this,e,s);if(!r||r.listeners.length===0)return!1;const a=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const c=new A4(this,o?null:i,e);try{i.call(this,...s,c)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),U(this,on).delete(r.tag)),a>0}async listenerCount(e){if(e){const r=await Re(this,ut,cf).call(this,e);return r?r.listeners.length:0}let s=0;for(const{listeners:r}of U(this,on).values())s+=r.length;return s}async listeners(e){if(e){const r=await Re(this,ut,cf).call(this,e);return r?r.listeners.map(({listener:a})=>a):[]}let s=[];for(const{listeners:r}of U(this,on).values())s=s.concat(r.map(({listener:a})=>a));return s}async off(e,s){const r=await Re(this,ut,cf).call(this,e);if(!r)return this;if(s){const a=r.listeners.map(({listener:i})=>i).indexOf(s);a>=0&&r.listeners.splice(a,1)}return(!s||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),U(this,on).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:s,started:r,subscriber:a}=await Re(this,ut,Lg).call(this,e);r&&a.stop(),U(this,on).delete(s)}else for(const[s,{started:r,subscriber:a}]of U(this,on))r&&a.stop(),U(this,on).delete(s);return this}async addListener(e,s){return await this.on(e,s)}async removeListener(e,s){return this.off(e,s)}get destroyed(){return U(this,uu)}destroy(){this.removeAllListeners();for(const e of U(this,Ir).keys())this._clearTimeout(e);J(this,uu,!0)}get paused(){return U(this,ln)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(J(this,Wi,-1),U(this,ln)!=null){if(U(this,ln)==!!e)return;Te(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(s=>s.pause(e)),J(this,ln,!!e);for(const s of U(this,Ir).values())s.timer&&clearTimeout(s.timer),s.time=ky()-s.time}resume(){if(U(this,ln)!=null){this._forEachSubscriber(e=>e.resume()),J(this,ln,null);for(const e of U(this,Ir).values()){let s=e.time;s<0&&(s=0),e.time=ky(),setTimeout(e.func,s)}}}}on=new WeakMap,pl=new WeakMap,ln=new WeakMap,uu=new WeakMap,mr=new WeakMap,Jc=new WeakMap,bl=new WeakMap,Wi=new WeakMap,bm=new WeakMap,Ir=new WeakMap,hu=new WeakMap,fu=new WeakMap,ut=new WeakSet,cr=async function(e){const s=U(this,fu).cacheTimeout;if(s<0)return await this._perform(e);const r=Ig(e.method,e);let a=U(this,bl).get(r);return a||(a=this._perform(e),U(this,bl).set(r,a),setTimeout(()=>{U(this,bl).get(r)===a&&U(this,bl).delete(r)},s)),await a},Nw=async function(e,s,r){Te(r<az,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:s,enableCcipRead:!0})});const a=Uf(e);try{return Oe(await this._perform({method:"call",transaction:a,blockTag:s}))}catch(i){if(!this.disableCcipRead&&Nb(i)&&i.data&&r>=0&&s==="latest"&&a.to!=null&&ls(i.data,0,4)==="0x556f1830"){const o=i.data,c=await mn(a.to,this);let d;try{d=hz(ls(i.data,4))}catch(x){Te(!1,x.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:a,info:{data:o}})}Te(d.sender.toLowerCase()===c.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:a,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:d.errorArgs}});const h=await this.ccipReadFetch(a,d.calldata,d.urls);Te(h!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:a,info:{data:i.data,errorArgs:d.errorArgs}});const f={to:c,data:gs([d.selector,uz([h,d.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const x=await Re(this,ut,Nw).call(this,f,s,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:x}),x}catch(x){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:x}),x}}throw i}},jw=async function(e){const{value:s}=await dn({network:this.getNetwork(),value:e});return s},lf=async function(e,s,r){let a=this._getAddress(s),i=this._getBlockTag(r);return(typeof a!="string"||typeof i!="string")&&([a,i]=await Promise.all([a,i])),await Re(this,ut,jw).call(this,Re(this,ut,cr).call(this,Object.assign(e,{address:a,blockTag:i})))},Cw=async function(e,s){if(Ht(e,32))return await Re(this,ut,cr).call(this,{method:"getBlock",blockHash:e,includeTransactions:s});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await Re(this,ut,cr).call(this,{method:"getBlock",blockTag:r,includeTransactions:s})},cf=async function(e,s){let r=await Cy(e,this);return r.type==="event"&&s&&s.length>0&&s[0].removed===!0&&(r=await Cy({orphan:"drop-log",log:s[0]},this)),U(this,on).get(r.tag)||null},Lg=async function(e){const s=await Cy(e,this),r=s.tag;let a=U(this,on).get(r);return a||(a={subscriber:this._getSubscriber(s),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},U(this,on).set(r,a)),a};function lz(t,e){try{const s=kw(t,e);if(s)return Df(s)}catch{}return null}function kw(t,e){if(t==="0x")return null;try{const s=it(ls(t,e,e+32)),r=it(ls(t,s,s+32));return ls(t,s+32,s+32+r)}catch{}return null}function oC(t){const e=fn(t);if(e.length>32)throw new Error("internal; should not happen");const s=new Uint8Array(32);return s.set(e,32-e.length),s}function cz(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const dz=new Uint8Array([]);function uz(t){const e=[];let s=0;for(let r=0;r<t.length;r++)e.push(dz),s+=32;for(let r=0;r<t.length;r++){const a=pt(t[r]);e[r]=oC(s),e.push(oC(a.length)),e.push(cz(a)),s+=32+Math.ceil(a.length/32)*32}return gs(e)}const lC="0x0000000000000000000000000000000000000000000000000000000000000000";function hz(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Te(rd(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const s=ls(t,0,32);Te(ls(s,0,12)===ls(lC,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ls(s,12);try{const r=[],a=it(ls(t,32,64)),i=it(ls(t,a,a+32)),o=ls(t,a+32);for(let c=0;c<i;c++){const d=lz(o,c*32);if(d==null)throw new Error("abort");r.push(d)}e.urls=r}catch{Te(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=kw(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Te(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Te(ls(t,100,128)===ls(lC,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ls(t,96,100);try{const r=kw(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Te(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function r0(t,e){if(t.provider)return t.provider;Te(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function cC(t,e){let s=Uf(e);if(s.to!=null&&(s.to=mn(s.to,t)),s.from!=null){const r=s.from;s.from=Promise.all([t.getAddress(),mn(r,t)]).then(([a,i])=>(oe(a.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),a))}else s.from=t.getAddress();return await dn(s)}class Z7{constructor(e){se(this,"provider");Ge(this,{provider:e||null})}async getNonce(e){return r0(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await cC(this,e)}async populateTransaction(e){const s=r0(this,"populateTransaction"),r=await cC(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const a=await this.provider.getNetwork();if(r.chainId!=null){const o=ze(r.chainId);oe(o===a.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=a.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?oe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&oe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await s.getFeeData();Te(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await s.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const c=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=c,r.maxPriorityFeePerGas=c}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Te(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Te(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await dn(r)}async estimateGas(e){return r0(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return r0(this,"call").call(await this.populateCall(e))}async resolveName(e){return await r0(this,"resolveName").resolveName(e)}async sendTransaction(e){const s=r0(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const a=Pf.from(r);return await s.broadcastTransaction(await this.signTransaction(a))}}function fz(t){return JSON.parse(JSON.stringify(t))}var jn,Va,ed,vl,td,mu,Fl,Aw,Ew;class J7{constructor(e){pe(this,Fl);pe(this,jn);pe(this,Va);pe(this,ed);pe(this,vl);pe(this,td);pe(this,mu);J(this,jn,e),J(this,Va,null),J(this,ed,Re(this,Fl,Aw).bind(this)),J(this,vl,!1),J(this,td,null),J(this,mu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,s){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){U(this,vl)||(J(this,vl,!0),Re(this,Fl,Aw).call(this,-2))}stop(){U(this,vl)&&(J(this,vl,!1),J(this,mu,!0),Re(this,Fl,Ew).call(this),U(this,jn).off("block",U(this,ed)))}pause(e){e&&Re(this,Fl,Ew).call(this),U(this,jn).off("block",U(this,ed))}resume(){this.start()}}jn=new WeakMap,Va=new WeakMap,ed=new WeakMap,vl=new WeakMap,td=new WeakMap,mu=new WeakMap,Fl=new WeakSet,Aw=async function(e){try{U(this,Va)==null&&J(this,Va,this._subscribe(U(this,jn)));let s=null;try{s=await U(this,Va)}catch(i){if(!Us(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(s==null){J(this,Va,null),U(this,jn)._recoverSubscriber(this,this._recover(U(this,jn)));return}const r=await U(this,jn).getNetwork();if(U(this,td)||J(this,td,r),U(this,td).chainId!==r.chainId)throw new Error("chaid changed");if(U(this,mu))return;const a=await U(this,jn).send("eth_getFilterChanges",[s]);await this._emitResults(U(this,jn),a)}catch(s){console.log("@TODO",s)}U(this,jn).once("block",U(this,ed))},Ew=function(){const e=U(this,Va);e&&(J(this,Va,null),e.then(s=>{U(this,jn).destroyed||U(this,jn).send("eth_uninstallFilter",[s])}))};var sd;class mz extends J7{constructor(s,r){super(s);pe(this,sd);J(this,sd,fz(r))}_recover(s){return new Q4(s,U(this,sd))}async _subscribe(s){return await s.send("eth_newFilter",[U(this,sd)])}async _emitResults(s,r){for(const a of r)s.emit(U(this,sd),s._wrapLog(a,s._network))}}sd=new WeakMap;class xz extends J7{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,s){for(const r of s)e.emit("pending",r)}}const gz="bigint,boolean,function,number,string,symbol".split(/,/g);function Og(t){if(t==null||gz.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Og);if(typeof t=="object")return Object.keys(t).reduce((e,s)=>(e[s]=t[s],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function pz(t){return new Promise(e=>{setTimeout(e,t)})}function a0(t){return t&&t.toLowerCase()}function dC(t){return t&&typeof t.pollingInterval=="number"}const eT={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Pg extends Z7{constructor(s,r){super(s);se(this,"address");r=Rt(r),Ge(this,{address:r})}connect(s){Te(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(s){return await this.populateCall(s)}async sendUncheckedTransaction(s){const r=Og(s),a=[];if(r.from){const o=r.from;a.push((async()=>{const c=await mn(o,this.provider);oe(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",s),r.from=c})())}else r.from=this.address;if(r.gasLimit==null&&a.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;a.push((async()=>{r.to=await mn(o,this.provider)})())}a.length&&await Promise.all(a);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(s){const r=await this.provider.getBlockNumber(),a=await this.sendUncheckedTransaction(s);return await new Promise((i,o)=>{const c=[1e3,100];let d=0;const h=async()=>{try{const f=await this.provider.getTransaction(a);if(f!=null){i(f.replaceableTransaction(r));return}}catch(f){if(Us(f,"CANCELLED")||Us(f,"BAD_DATA")||Us(f,"NETWORK_ERROR")||Us(f,"UNSUPPORTED_OPERATION")){f.info==null&&(f.info={}),f.info.sendTransactionHash=a,o(f);return}if(Us(f,"INVALID_ARGUMENT")&&(d++,f.info==null&&(f.info={}),f.info.sendTransactionHash=a,d>10)){o(f);return}this.provider.emit("error",is("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:f}))}this.provider._setTimeout(()=>{h()},c.pop()||4e3)};h()})}async signTransaction(s){const r=Og(s);if(r.from){const i=await mn(r.from,this.provider);oe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",s),r.from=i}else r.from=this.address;const a=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[a])}async signMessage(s){const r=typeof s=="string"?qn(s):s;return await this.provider.send("personal_sign",[Oe(r),this.address.toLowerCase()])}async signTypedData(s,r,a){const i=Og(a),o=await Ff.resolveNames(s,r,i,async c=>{const d=await mn(c);return oe(d!=null,"TypedData does not support null address","value",c),d});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ff.getPayload(o.domain,r,o.value))])}async unlock(s){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),s,null])}async _legacySignMessage(s){const r=typeof s=="string"?qn(s):s;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Oe(r)])}}var nd,xu,Yi,Ga,la,Lr,$n,vm,Sw;class tT extends X7{constructor(s,r){super(s,r);pe(this,vm);pe(this,nd);pe(this,xu);pe(this,Yi);pe(this,Ga);pe(this,la);pe(this,Lr);pe(this,$n);J(this,xu,1),J(this,nd,Object.assign({},eT,r||{})),J(this,Yi,[]),J(this,Ga,null),J(this,Lr,null),J(this,$n,null);{let i=null;const o=new Promise(c=>{i=c});J(this,la,{promise:o,resolve:i})}const a=this._getOption("staticNetwork");typeof a=="boolean"?(oe(!a||s!=="any","staticNetwork cannot be used on special network 'any'","options",r),a&&s!=null&&J(this,Lr,fa.from(s))):a&&(oe(s==null||a.matches(s),"staticNetwork MUST match network object","options",r),J(this,Lr,a))}_getOption(s){return U(this,nd)[s]}get _network(){return Te(U(this,Lr),"network is not available yet","NETWORK_ERROR"),U(this,Lr)}async _perform(s){if(s.method==="call"||s.method==="estimateGas"){let a=s.transaction;if(a&&a.type!=null&&ze(a.type)&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(s=Object.assign({},s,{transaction:Object.assign({},a,{type:void 0})}))}}const r=this.getRpcRequest(s);return r!=null?await this.send(r.method,r.args):super._perform(s)}async _detectNetwork(){const s=this._getOption("staticNetwork");if(s)if(s===!0){if(U(this,Lr))return U(this,Lr)}else return s;return U(this,$n)?await U(this,$n):this.ready?(J(this,$n,(async()=>{try{const r=fa.from(ze(await this.send("eth_chainId",[])));return J(this,$n,null),r}catch(r){throw J(this,$n,null),r}})()),await U(this,$n)):(J(this,$n,(async()=>{const r={id:Uh(this,xu)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let a;try{a=(await this._send(r))[0],J(this,$n,null)}catch(i){throw J(this,$n,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return fa.from(ze(a.result));throw this.getRpcError(r,a)})()),await U(this,$n))}_start(){U(this,la)==null||U(this,la).resolve==null||(U(this,la).resolve(),J(this,la,null),(async()=>{for(;U(this,Lr)==null&&!this.destroyed;)try{J(this,Lr,await this._detectNetwork())}catch(s){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",is("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:s}})),await pz(1e3)}Re(this,vm,Sw).call(this)})())}async _waitUntilReady(){if(U(this,la)!=null)return await U(this,la).promise}_getSubscriber(s){return s.type==="pending"?new xz(this):s.type==="event"?this._getOption("polling")?new Q4(this,s.filter):new mz(this,s.filter):s.type==="orphan"&&s.filter.orphan==="drop-log"?new K4("orphan"):super._getSubscriber(s)}get ready(){return U(this,la)==null}getRpcTransaction(s){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(a=>{if(s[a]==null)return;let i=a;a==="gasLimit"&&(i="gas"),r[i]=Rc(ze(s[a],`tx.${a}`))}),["from","to","data"].forEach(a=>{s[a]!=null&&(r[a]=Oe(s[a]))}),s.accessList&&(r.accessList=zl(s.accessList)),s.blobVersionedHashes&&(r.blobVersionedHashes=s.blobVersionedHashes.map(a=>a.toLowerCase())),r}getRpcRequest(s){switch(s.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[a0(s.address),s.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[a0(s.address),s.blockTag]};case"getCode":return{method:"eth_getCode",args:[a0(s.address),s.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[a0(s.address),"0x"+s.position.toString(16),s.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[s.signedTransaction]};case"getBlock":if("blockTag"in s)return{method:"eth_getBlockByNumber",args:[s.blockTag,!!s.includeTransactions]};if("blockHash"in s)return{method:"eth_getBlockByHash",args:[s.blockHash,!!s.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[s.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[s.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(s.transaction),s.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(s.transaction)]};case"getLogs":return s.filter&&s.filter.address!=null&&(Array.isArray(s.filter.address)?s.filter.address=s.filter.address.map(a0):s.filter.address=a0(s.filter.address)),{method:"eth_getLogs",args:[s.filter]}}return null}getRpcError(s,r){const{method:a}=s,{error:i}=r;if(a==="eth_estimateGas"&&i.message){const d=i.message;if(!d.match(/revert/i)&&d.match(/insufficient funds/i))return is("insufficient funds","INSUFFICIENT_FUNDS",{transaction:s.params[0],info:{payload:s,error:i}})}if(a==="eth_call"||a==="eth_estimateGas"){const d=Tw(i),h=Au.getBuiltinCallException(a==="eth_call"?"call":"estimateGas",s.params[0],d?d.data:null);return h.info={error:i,payload:s},h}const o=JSON.stringify(bz(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return is("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:s,error:i}});if(a==="eth_sendRawTransaction"||a==="eth_sendTransaction"){const d=s.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return is("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:d,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return is("nonce has already been used","NONCE_EXPIRED",{transaction:d,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return is("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:d,info:{error:i}});if(o.match(/only replay-protected/i))return is("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:d,info:{error:i}}})}let c=!!o.match(/the method .* does not exist/i);return c||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(c=!0),c?is("unsupported operation","UNSUPPORTED_OPERATION",{operation:s.method,info:{error:i,payload:s}}):is("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:s})}send(s,r){if(this.destroyed)return Promise.reject(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s}));const a=Uh(this,xu)._++,i=new Promise((o,c)=>{U(this,Yi).push({resolve:o,reject:c,payload:{method:s,params:r,id:a,jsonrpc:"2.0"}})});return Re(this,vm,Sw).call(this),i}async getSigner(s){s==null&&(s=0);const r=this.send("eth_accounts",[]);if(typeof s=="number"){const i=await r;if(s>=i.length)throw new Error("no such account");return new Pg(this,i[s])}const{accounts:a}=await dn({network:this.getNetwork(),accounts:r});s=Rt(s);for(const i of a)if(Rt(i)===s)return new Pg(this,s);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Pg(this,r))}destroy(){U(this,Ga)&&(clearTimeout(U(this,Ga)),J(this,Ga,null));for(const{payload:s,reject:r}of U(this,Yi))r(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));J(this,Yi,[]),super.destroy()}}nd=new WeakMap,xu=new WeakMap,Yi=new WeakMap,Ga=new WeakMap,la=new WeakMap,Lr=new WeakMap,$n=new WeakMap,vm=new WeakSet,Sw=function(){if(U(this,Ga))return;const s=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");J(this,Ga,setTimeout(()=>{J(this,Ga,null);const r=U(this,Yi);for(J(this,Yi,[]);r.length;){const a=[r.shift()];for(;r.length&&a.length!==U(this,nd).batchMaxCount;)if(a.push(r.shift()),JSON.stringify(a.map(o=>o.payload)).length>U(this,nd).batchMaxSize){r.unshift(a.pop());break}(async()=>{const i=a.length===1?a[0].payload:a.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:c,reject:d,payload:h}of a){if(this.destroyed){d(is("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:h.method}));continue}const f=o.filter(x=>x.id===h.id)[0];if(f==null){const x=is("missing response for request","BAD_DATA",{value:o,info:{payload:h}});this.emit("error",x),d(x);continue}if("error"in f){d(this.getRpcError(h,f));continue}c(f.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:c}of a)c(o)}})()}},s))};var yl;class sT extends tT{constructor(s,r){super(s,r);pe(this,yl);let a=this._getOption("pollingInterval");a==null&&(a=eT.pollingInterval),J(this,yl,a)}_getSubscriber(s){const r=super._getSubscriber(s);return dC(r)&&(r.pollingInterval=U(this,yl)),r}get pollingInterval(){return U(this,yl)}set pollingInterval(s){if(!Number.isInteger(s)||s<0)throw new Error("invalid interval");J(this,yl,s),this._forEachSubscriber(r=>{dC(r)&&(r.pollingInterval=U(this,yl))})}}yl=new WeakMap;var gu;class Ib extends sT{constructor(s,r,a){s==null&&(s="http://localhost:8545");super(r,a);pe(this,gu);typeof s=="string"?J(this,gu,new ni(s)):J(this,gu,s.clone())}_getConnection(){return U(this,gu).clone()}async send(s,r){return await this._start(),await super.send(s,r)}async _send(s){const r=this._getConnection();r.body=JSON.stringify(s),r.setHeader("content-type","application/json");const a=await r.send();a.assertOk();let i=a.bodyJson;return Array.isArray(i)||(i=[i]),i}}gu=new WeakMap;function Tw(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ht(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const s=Tw(t[e]);if(s)return s}return null}if(typeof t=="string")try{return Tw(JSON.parse(t))}catch{}return null}function Rw(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const s in t)Rw(t[s],e);if(typeof t=="string")try{return Rw(JSON.parse(t),e)}catch{}}}function bz(t){const e=[];return Rw(t,e),e}var pu;class Xe extends sT{constructor(s,r,a){const i=Object.assign({},a??{},{batchMaxCount:1});oe(s&&s.request,"invalid EIP-1193 provider","ethereum",s);super(r,i);pe(this,pu);J(this,pu,async(o,c)=>{const d={method:o,params:c};this.emit("debug",{action:"sendEip1193Request",payload:d});try{const h=await s.request(d);return this.emit("debug",{action:"receiveEip1193Result",result:h}),h}catch(h){const f=new Error(h.message);throw f.code=h.code,f.data=h.data,f.payload=d,this.emit("debug",{action:"receiveEip1193Error",error:f}),f}})}async send(s,r){return await this._start(),await super.send(s,r)}async _send(s){oe(!Array.isArray(s),"EIP-1193 does not support batch request","payload",s);try{const r=await U(this,pu).call(this,s.method,s.params||[]);return[{id:s.id,result:r}]}catch(r){return[{id:s.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(s,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(s,r)}async hasSigner(s){s==null&&(s=0);const r=await this.send("eth_accounts",[]);return typeof s=="number"?r.length>s:(s=s.toLowerCase(),r.filter(a=>a.toLowerCase()===s).length!==0)}async getSigner(s){if(s==null&&(s=0),!await this.hasSigner(s))try{await U(this,pu).call(this,"eth_requestAccounts",[])}catch(r){const a=r.payload;throw this.getRpcError(a,{id:a.id,error:r})}return await super.getSigner(s)}}pu=new WeakMap;const Wa=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Au,AbstractProvider:X7,AbstractSigner:Z7,BaseContract:Vp,Block:_7,BrowserProvider:Xe,ConstructorFragment:Qa,Contract:jt,ContractEventPayload:P7,ContractTransactionReceipt:O7,ContractTransactionResponse:Db,ContractUnknownEventPayload:q4,EnsPlugin:Mm,EnsResolver:$f,ErrorDescription:D7,ErrorFragment:Cn,EventFragment:ua,EventLog:Mb,EventPayload:A4,FallbackFragment:qa,FeeData:pw,FetchCancelSignal:l9,FetchRequest:ni,FetchResponse:to,FetchUrlFeeDataNetworkPlugin:Q7,FixedNumber:_p,Fragment:_l,FunctionFragment:ha,GasCostPlugin:Rm,Indexed:gw,Interface:$p,JsonRpcApiProvider:tT,JsonRpcProvider:Ib,JsonRpcSigner:Pg,Log:Fu,LogDescription:R7,MulticoinProviderPlugin:G7,NamedFragment:Sm,Network:fa,NetworkPlugin:zu,ParamType:Hs,Result:dd,Signature:Hr,SigningKey:ju,StructFragment:Cl,Transaction:Pf,TransactionDescription:M7,TransactionReceipt:V4,TransactionResponse:Eu,Typed:tn,TypedDataEncoder:Ff,UndecodedEventLog:G4,UnmanagedSubscriber:K4,Utf8ErrorFuncs:n9,ZeroAddress:Nu,ZeroHash:Dl,accessListify:zl,assert:Te,assertArgument:oe,assertArgumentCount:C4,assertPrivate:Pu,computeAddress:g7,concat:gs,copyRequest:Uf,dataLength:rd,dataSlice:ls,decodeBase64:e9,decodeRlp:km,defineProperties:Ge,dnsEncode:x7,encodeBase58:JS,encodeBase64:t9,encodeRlp:Ml,ensNormalize:m7,formatEther:u9,formatUnits:xf,fromTwos:Mf,getAddress:Rt,getBigInt:ze,getBytes:pt,getBytesCopy:hn,getCreateAddress:H9,getNumber:it,getUint:jm,hexlify:Oe,id:Bl,isAddress:O4,isAddressable:L4,isBytesLike:jb,isCallException:Nb,isError:Us,isHexString:Ht,keccak256:Qt,makeError:is,mask:wl,namehash:Up,recoverAddress:p7,resolveAddress:mn,resolveProperties:dn,sha256:bd,toBeArray:fn,toBeHex:oo,toBigInt:Cm,toNumber:ZS,toQuantity:Rc,toTwos:k4,toUtf8Bytes:qn,toUtf8String:Df,version:YS,zeroPadBytes:XS,zeroPadValue:Rl},Symbol.toStringTag,{value:"Module"})),vz={SoulboundCertificateNFT:"0x8ae9932646EeC1F6816d89D7d23fcDDDafF5FFD5"},yz="sepolia",wz="0x8ae9932646EeC1F6816d89D7d23fcDDDafF5FFD5",Ze={sepolia:vz,defaultNetwork:yz,SoulboundCertificateNFT:wz},Nz=JSON.parse('[{"inputs":[],"name":"AccessControlBadConfirmation","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"name":"AccessControlUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ArrayLengthMismatch","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"BurnRequestStillTimelocked","type":"error"},{"inputs":[{"internalType":"address","name":"caller","type":"address"}],"name":"CallerNotInstitution","type":"error"},{"inputs":[{"internalType":"address","name":"caller","type":"address"}],"name":"CallerNotInstructor","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"CertificateAlreadyVerified","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"CertificateDoesNotExist","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"CertificateIsRevoked","type":"error"},{"inputs":[],"name":"CourseNameEmpty","type":"error"},{"inputs":[],"name":"ERC721EnumerableForbiddenBatchMint","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"ERC721OutOfBoundsIndex","type":"error"},{"inputs":[{"internalType":"address","name":"institution","type":"address"}],"name":"InstitutionAlreadyAuthorized","type":"error"},{"inputs":[{"internalType":"address","name":"institution","type":"address"}],"name":"InstitutionNotAuthorized","type":"error"},{"inputs":[{"internalType":"string","name":"certificateHash","type":"string"}],"name":"InvalidCertificateHash","type":"error"},{"inputs":[{"internalType":"uint256","name":"courseId","type":"uint256"}],"name":"InvalidCourseId","type":"error"},{"inputs":[{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"endDate","type":"uint256"}],"name":"InvalidDateRange","type":"error"},{"inputs":[{"internalType":"address","name":"student","type":"address"}],"name":"InvalidStudentAddress","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"NoBurnRequestExists","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"caller","type":"address"}],"name":"NotAuthorizedToCancelBurn","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"caller","type":"address"}],"name":"NotCertificateIssuer","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"SoulboundTokenCannotBeTransferred","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newTimelock","type":"uint256"}],"name":"BurnTimelockChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"approver","type":"address"}],"name":"CertificateBurnApproved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"canceler","type":"address"}],"name":"CertificateBurnRequestCanceled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"requester","type":"address"},{"indexed":false,"internalType":"string","name":"reason","type":"string"},{"indexed":false,"internalType":"uint256","name":"executionTime","type":"uint256"}],"name":"CertificateBurnRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"burner","type":"address"},{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"CertificateBurned","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"student","type":"address"},{"indexed":true,"internalType":"address","name":"institution","type":"address"},{"indexed":false,"internalType":"uint256","name":"courseId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"completionDate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"grade","type":"uint256"}],"name":"CertificateIssued","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"revoker","type":"address"},{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"CertificateRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isVerified","type":"bool"},{"indexed":false,"internalType":"bool","name":"isRevoked","type":"bool"},{"indexed":true,"internalType":"address","name":"updatedBy","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"CertificateStatusChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newGrade","type":"uint256"},{"indexed":false,"internalType":"string","name":"updateReason","type":"string"}],"name":"CertificateUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"verifier","type":"address"}],"name":"CertificateVerified","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"courseId","type":"uint256"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"CourseNameSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"institution","type":"address"}],"name":"InstitutionAuthorized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"institution","type":"address"}],"name":"InstitutionRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"MetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"INSTITUTION_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"INSTRUCTOR_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"academicCertificates","outputs":[{"internalType":"address","name":"studentAddress","type":"address"},{"internalType":"address","name":"institutionAddress","type":"address"},{"internalType":"uint256","name":"courseId","type":"uint256"},{"internalType":"uint256","name":"completionDate","type":"uint256"},{"internalType":"uint256","name":"grade","type":"uint256"},{"internalType":"bool","name":"isVerified","type":"bool"},{"internalType":"string","name":"certificateHash","type":"string"},{"internalType":"bool","name":"isRevoked","type":"bool"},{"internalType":"string","name":"revocationReason","type":"string"},{"internalType":"uint256","name":"version","type":"uint256"},{"internalType":"uint256","name":"lastUpdateDate","type":"uint256"},{"internalType":"string","name":"updateReason","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approveBurnCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"approveBurnMultipleCertificates","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"institution","type":"address"}],"name":"authorizeInstitution","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"authorizedInstitutions","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"burnApproved","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"reason","type":"string"}],"name":"burnCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"},{"internalType":"string","name":"reason","type":"string"}],"name":"burnMultipleCertificates","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"burnRequestTimestamps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"burnTimelock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"cancelBurnMultipleRequests","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"cancelBurnRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"courseId","type":"uint256"}],"name":"countCertificatesByCourse","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"institution","type":"address"}],"name":"countCertificatesByInstitution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"verified","type":"bool"},{"internalType":"bool","name":"revoked","type":"bool"}],"name":"countCertificatesByStatus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"courseNames","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getCertificate","outputs":[{"internalType":"address","name":"student","type":"address"},{"internalType":"address","name":"institution","type":"address"},{"internalType":"uint256","name":"courseId","type":"uint256"},{"internalType":"uint256","name":"completionDate","type":"uint256"},{"internalType":"uint256","name":"grade","type":"uint256"},{"internalType":"bool","name":"isVerified","type":"bool"},{"internalType":"bool","name":"isRevoked","type":"bool"},{"internalType":"string","name":"revocationReason","type":"string"},{"internalType":"uint256","name":"version","type":"uint256"},{"internalType":"uint256","name":"lastUpdateDate","type":"uint256"},{"internalType":"string","name":"updateReason","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"getCertificatesBatch","outputs":[{"internalType":"address[]","name":"students","type":"address[]"},{"internalType":"address[]","name":"institutions","type":"address[]"},{"internalType":"uint256[]","name":"courseIds","type":"uint256[]"},{"internalType":"uint256[]","name":"completionDates","type":"uint256[]"},{"internalType":"uint256[]","name":"grades","type":"uint256[]"},{"internalType":"bool[]","name":"verificationStatuses","type":"bool[]"},{"internalType":"bool[]","name":"revocationStatuses","type":"bool[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"getCertificatesBatchDetails","outputs":[{"internalType":"string[]","name":"revocationReasons","type":"string[]"},{"internalType":"uint256[]","name":"versions","type":"uint256[]"},{"internalType":"uint256[]","name":"lastUpdateDates","type":"uint256[]"},{"internalType":"string[]","name":"updateReasons","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"courseId","type":"uint256"},{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getCertificatesByCourse","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"endDate","type":"uint256"},{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getCertificatesByDateRange","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"institution","type":"address"},{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getCertificatesByInstitution","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"student","type":"address"},{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getCertificatesByStudent","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"courseId","type":"uint256"}],"name":"getCourseName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"courseIds","type":"uint256[]"}],"name":"getCourseNamesBatch","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getPendingCertificateIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getRecentCertificates","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getRevokedCertificateIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getVerifiedCertificateIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"student","type":"address"},{"internalType":"uint256","name":"courseId","type":"uint256"},{"internalType":"uint256","name":"grade","type":"uint256"},{"internalType":"string","name":"certificateHash","type":"string"}],"name":"issueCertificate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"reason","type":"string"}],"name":"requestBurnCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"},{"internalType":"string","name":"reason","type":"string"}],"name":"requestBurnMultipleCertificates","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"reason","type":"string"}],"name":"revokeCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"institution","type":"address"}],"name":"revokeInstitution","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"},{"internalType":"string[]","name":"uris","type":"string[]"}],"name":"setBatchCertificateURIs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newTimelock","type":"uint256"}],"name":"setBurnTimelock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"uri","type":"string"}],"name":"setCertificateURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"courseId","type":"uint256"},{"internalType":"string","name":"name","type":"string"}],"name":"setCourseName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"courseIds","type":"uint256[]"},{"internalType":"string[]","name":"names","type":"string[]"}],"name":"setMultipleCourseNames","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenExists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"newGrade","type":"uint256"},{"internalType":"string","name":"updateReason","type":"string"}],"name":"updateCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"verifiedCertificates","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"verifyCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"verifyMultipleCertificates","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Ue={SoulboundCertificateNFT:Nz},nT=k.createContext(),jz=({children:t})=>{const[e,s]=k.useState([]),r=h=>{const f={type:"info",duration:4e3,...h};if(e.some(v=>v.message===f.message&&v.type===f.type&&Date.now()-v.timestamp<1e3))return console.log("Duplicate notification prevented:",f.message),null;const g=Date.now()+Math.random(),p={...f,id:g,timestamp:Date.now()};return s(v=>[...v,p]),p.duration>0&&setTimeout(()=>{a(g)},p.duration),g},a=h=>{s(f=>f.filter(x=>x.id!==h))},i=(h,f={})=>r({type:"success",message:h,...f}),o=(h,f={})=>r({type:"error",message:h,duration:6e3,...f}),c=(h,f={})=>r({type:"warning",message:h,...f}),d=(h,f={})=>r({type:"info",message:h,...f});return n.jsxs(nT.Provider,{value:{notifications:e,addNotification:r,removeNotification:a,showSuccess:i,showError:o,showWarning:c,showInfo:d},children:[t,n.jsx(kz,{})]})},X4=()=>{const t=k.useContext(nT);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t},Cz=({notification:t,onRemove:e})=>{const[s,r]=k.useState(!1),[a,i]=k.useState(!1);k.useEffect(()=>{const g=setTimeout(()=>r(!0),10);return()=>clearTimeout(g)},[]);const o=()=>{i(!0),setTimeout(()=>e(t.id),300)},c=()=>{const g="relative overflow-hidden backdrop-blur-md border rounded-xl shadow-xl";switch(t.type){case"success":return`${g} bg-emerald-500/10 border-emerald-400/30 shadow-emerald-500/20`;case"error":return`${g} bg-red-500/10 border-red-400/30 shadow-red-500/20`;case"warning":return`${g} bg-amber-500/10 border-amber-400/30 shadow-amber-500/20`;case"info":default:return`${g} bg-blue-500/10 border-blue-400/30 shadow-blue-500/20`}},d=()=>{switch(t.type){case"success":return{icon:"fas fa-check-circle",color:"text-emerald-400"};case"error":return{icon:"fas fa-exclamation-circle",color:"text-red-400"};case"warning":return{icon:"fas fa-exclamation-triangle",color:"text-amber-400"};case"info":default:return{icon:"fas fa-info-circle",color:"text-blue-400"}}},h=()=>{switch(t.type){case"success":return"bg-gradient-to-r from-emerald-400 to-emerald-600";case"error":return"bg-gradient-to-r from-red-400 to-red-600";case"warning":return"bg-gradient-to-r from-amber-400 to-amber-600";case"info":default:return"bg-gradient-to-r from-blue-400 to-blue-600"}},{icon:f,color:x}=d();return n.jsxs("div",{className:`
        ${c()}
        transform transition-all duration-300 ease-out
        ${s&&!a?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
        ${a?"translate-x-full opacity-0 scale-95":""}
        min-w-[320px] max-w-[400px] p-4 mb-3
      `,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/50 to-slate-800/50 rounded-xl"}),t.duration>0&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-slate-700/50 rounded-b-xl overflow-hidden",children:n.jsx("div",{className:`h-full ${h()} animate-shrink-width`,style:{animation:`shrinkWidth ${t.duration}ms linear`}})}),n.jsxs("div",{className:"relative flex items-start space-x-3",children:[n.jsx("div",{className:`flex-shrink-0 ${x} text-lg mt-0.5`,children:n.jsx("i",{className:f})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[t.title&&n.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:t.title}),n.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:t.message})]}),n.jsx("button",{onClick:o,className:`flex-shrink-0 text-slate-400 hover:text-white transition-colors duration-200 \r
                   hover:bg-slate-700/50 rounded-lg p-1`,children:n.jsx("i",{className:"fas fa-times text-sm"})})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl border border-transparent \r
                    bg-gradient-to-r from-slate-600/20 to-slate-500/20 opacity-50`})]})},kz=()=>{const{notifications:t,removeNotification:e}=X4();return n.jsx("div",{className:"fixed top-4 right-4 z-[9999] pointer-events-none",children:n.jsx("div",{className:"space-y-2 pointer-events-auto",children:t.map(s=>n.jsx(Cz,{notification:s,onRemove:e},s.id))})})},Az=({account:t,isAdmin:e,isInstitution:s,onSwitchAccount:r,onDisconnect:a})=>{const[i,o]=k.useState(!1),[c,d]=k.useState("0.00"),[h,f]=k.useState("Unknown"),[x,g]=k.useState(!1),[p,v]=k.useState(!1),y=k.useRef(null),{showSuccess:w,showError:A,showWarning:j,showInfo:C}=X4(),S=O=>O?`${O.slice(0,6)}...${O.slice(-4)}`:"",E=async()=>{if(!(!window.ethereum||!t))try{const $=await new Xe(window.ethereum).getBalance(t),Y=u9($);d(parseFloat(Y).toFixed(4))}catch(O){console.error("Error fetching balance:",O),d("0.00")}},M=async()=>{if(window.ethereum)try{const $=await new Xe(window.ethereum).getNetwork();f({1:"Ethereum Mainnet",11155111:"Sepolia Testnet",5:"Goerli Testnet",137:"Polygon Mainnet",80001:"Polygon Mumbai",1337:"Local Network"}[Number($.chainId)]||`Network ${$.chainId}`)}catch(O){console.error("Error fetching network:",O),f("Unknown Network")}};k.useEffect(()=>{t&&(E(),M())},[t]),k.useEffect(()=>{const O=$=>{y.current&&!y.current.contains($.target)&&o(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const R=async()=>{g(!0);try{await r()}finally{g(!1),o(!1)}},_=()=>{a(),o(!1)},I=async(O,$="inline")=>{if(O.stopPropagation(),p)return;v(!0);let Y=!1;try{await navigator.clipboard.writeText(t),Y=!0,w("Address copied to clipboard!",{title:"📋 Copied Successfully",duration:2e3})}catch(H){console.error("Modern clipboard API failed, trying fallback:",H);try{const L=document.createElement("textarea");L.value=t,L.style.position="fixed",L.style.left="-999999px",L.style.top="-999999px",document.body.appendChild(L),L.focus(),L.select();const V=document.execCommand("copy");if(document.body.removeChild(L),V)Y=!0,w("Address copied to clipboard!",{title:"📋 Copied Successfully",duration:2e3});else throw new Error("Fallback copy failed")}catch(L){console.error("Fallback copy also failed:",L),A("Failed to copy address. Please copy manually.",{title:"❌ Copy Failed",duration:4e3})}}if(Y){const H=O.currentTarget;if($==="inline"){const L=H.querySelector("i");if(L){const V=L.className;L.className="fas fa-check text-emerald-400",setTimeout(()=>{L.className=V,v(!1)},1e3)}else setTimeout(()=>v(!1),1e3)}else H.classList.add("bg-emerald-500/20","border-emerald-400/50"),setTimeout(()=>{H.classList.remove("bg-emerald-500/20","border-emerald-400/50"),v(!1)},1e3)}else v(!1)},B=e?{label:"Admin",color:"from-purple-500 to-violet-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-400/30",icon:"👑"}:s?{label:"Institution",color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-500/10",borderColor:"border-blue-400/30",icon:"🏛️"}:{label:"Student",color:"from-emerald-500 to-cyan-600",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-400/30",icon:"🎓"};return n.jsxs("div",{className:"relative",ref:y,children:[n.jsxs("button",{onClick:()=>o(!i),className:`group relative flex items-center space-x-2 sm:space-x-3 
                 px-3 py-2 sm:px-4 sm:py-2.5 
                 bg-slate-800/40 hover:bg-slate-700/60 backdrop-blur-sm
                 border border-slate-600/30 hover:border-slate-500/50
                 rounded-lg sm:rounded-xl transition-all duration-300 ease-out
                 shadow-lg shadow-slate-900/20 hover:shadow-xl hover:shadow-slate-800/30
                 transform hover:scale-[1.02]`,children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-violet-500/20 to-blue-500/20 
                        rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),n.jsx("div",{className:`relative w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-violet-500 to-blue-600 
                        rounded-full flex items-center justify-center
                        shadow-lg shadow-violet-500/30 group-hover:shadow-violet-400/50
                        transition-all duration-300`,children:n.jsx("i",{className:"fas fa-wallet text-white text-xs sm:text-sm"})})]}),n.jsxs("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 w-full",children:[n.jsx("span",{className:"text-white font-medium text-xs sm:text-sm truncate",children:S(t)}),n.jsxs("div",{className:`hidden sm:flex px-2 py-0.5 rounded-full text-xs font-medium border ${B.borderColor} ${B.bgColor}`,children:[n.jsx("span",{className:"mr-1",children:B.icon}),n.jsx("span",{className:`bg-gradient-to-r ${B.color} bg-clip-text text-transparent font-bold`,children:B.label})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-slate-400 text-xs font-mono",children:[c," ETH"]}),n.jsx("div",{className:`sm:hidden px-1.5 py-0.5 rounded-full text-xs font-medium border ${B.borderColor} ${B.bgColor}`,children:n.jsx("span",{className:"text-xs",children:B.icon})})]})]}),n.jsx("i",{className:`fas fa-chevron-down text-slate-400 transition-transform duration-200 text-xs sm:text-sm
                      ${i?"transform rotate-180":""}`})]}),i&&n.jsx("div",{className:`absolute right-0 mt-3 w-72 sm:w-80 md:w-96 z-50 
                       max-w-[calc(100vw-2rem)] mx-2 sm:mx-0`,children:n.jsxs("div",{className:`relative bg-slate-900/95 backdrop-blur-xl border border-slate-600/30 
                        rounded-xl sm:rounded-2xl shadow-2xl shadow-slate-900/50 overflow-hidden`,children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-violet-500/20 via-blue-500/20 to-emerald-500/20 
                          rounded-2xl opacity-50 animate-pulse`}),n.jsxs("div",{className:"relative p-4 sm:p-6 border-b border-slate-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsxs("h3",{className:"text-white font-bold text-base sm:text-lg flex items-center space-x-2",children:[n.jsx("span",{className:"text-xl sm:text-2xl",children:B.icon}),n.jsx("span",{className:"hidden sm:inline",children:"Wallet Connected"}),n.jsx("span",{className:"sm:hidden",children:"Connected"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-emerald-400 text-xs font-medium",children:"Online"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-slate-400 text-xs font-medium mb-1 block",children:"Account Address"}),n.jsxs("div",{className:`flex items-center space-x-2 p-2 sm:p-3 bg-slate-800/50 rounded-lg border border-slate-700/30 
                               hover:border-slate-600/50 transition-colors duration-200`,children:[n.jsx("span",{className:"text-white font-mono text-xs sm:text-sm flex-1 truncate",children:t}),n.jsx("button",{onClick:O=>I(O,"inline"),disabled:p,className:`group/copy flex-shrink-0 p-2 transition-all duration-200
                               transform hover:scale-110 active:scale-95 rounded-md
                               ${p?"text-emerald-400 bg-emerald-500/20 cursor-not-allowed":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,title:p?"Copying...":"Copy Address",children:n.jsx("i",{className:`${p?"fas fa-check":"fas fa-copy"} text-xs sm:text-sm 
                                   group-hover/copy:scale-110 transition-transform duration-200`})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-slate-500 text-xs",children:"Click to copy full address"}),n.jsx("span",{className:"text-slate-500 text-xs font-mono",children:S(t)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-slate-400 text-xs font-medium mb-1 block",children:"Balance"}),n.jsx("div",{className:"p-2 sm:p-3 bg-slate-800/50 rounded-lg border border-slate-700/30",children:n.jsxs("span",{className:"text-emerald-400 font-bold text-sm sm:text-base",children:[c," ETH"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-slate-400 text-xs font-medium mb-1 block",children:"Network"}),n.jsx("div",{className:"p-2 sm:p-3 bg-slate-800/50 rounded-lg border border-slate-700/30",children:n.jsx("span",{className:"text-blue-400 font-medium text-xs sm:text-sm truncate",children:h})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-slate-400 text-xs font-medium mb-1 block",children:"Role"}),n.jsx("div",{className:`p-2 sm:p-3 rounded-lg border ${B.borderColor} ${B.bgColor}`,children:n.jsxs("span",{className:"text-white font-bold flex items-center space-x-2",children:[n.jsx("span",{className:"text-base sm:text-lg",children:B.icon}),n.jsx("span",{className:`bg-gradient-to-r ${B.color} bg-clip-text text-transparent text-sm sm:text-base`,children:B.label})]})})]})]})]}),n.jsxs("div",{className:"relative p-3 sm:p-4 space-y-2",children:[n.jsxs("button",{onClick:R,disabled:x,className:`w-full flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 text-left
                         hover:bg-slate-700/50 rounded-lg transition-all duration-200
                         border border-transparent hover:border-slate-600/30
                         group disabled:opacity-50 disabled:cursor-not-allowed`,children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-indigo-600 
                              rounded-lg flex items-center justify-center
                              group-hover:shadow-lg group-hover:shadow-blue-500/30 transition-all duration-200`,children:x?n.jsx("i",{className:"fas fa-spinner fa-spin text-white text-xs sm:text-sm"}):n.jsx("i",{className:"fas fa-exchange-alt text-white text-xs sm:text-sm"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("span",{className:"text-white font-medium block text-sm sm:text-base",children:"Switch Account"}),n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Connect different wallet"})]})]}),n.jsxs("button",{onClick:O=>I(O,"action"),disabled:p,className:`w-full flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 text-left
                         rounded-lg transition-all duration-200 group
                         ${p?"bg-emerald-500/20 border-emerald-400/50 cursor-not-allowed":"hover:bg-slate-700/50 border-transparent hover:border-slate-600/30"}`,children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center
                              transition-all duration-200
                              ${p?"bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-lg shadow-emerald-500/30":"bg-gradient-to-br from-violet-500 to-purple-600 group-hover:shadow-lg group-hover:shadow-violet-500/30"}`,children:n.jsx("i",{className:`${p?"fas fa-check":"fas fa-copy"} text-white text-xs sm:text-sm`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("span",{className:"text-white font-medium block text-sm sm:text-base",children:p?"Copied!":"Copy Address"}),n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:p?"Address copied to clipboard":"Copy wallet address to clipboard"})]})]}),n.jsxs("button",{onClick:E,className:`w-full flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 text-left
                         hover:bg-slate-700/50 rounded-lg transition-all duration-200
                         border border-transparent hover:border-slate-600/30 group`,children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-cyan-600 
                              rounded-lg flex items-center justify-center
                              group-hover:shadow-lg group-hover:shadow-emerald-500/30 transition-all duration-200`,children:n.jsx("i",{className:"fas fa-sync-alt text-white text-xs sm:text-sm"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("span",{className:"text-white font-medium block text-sm sm:text-base",children:"Refresh Balance"}),n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Update wallet information"})]})]}),n.jsxs("button",{onClick:_,className:`w-full flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 text-left
                         hover:bg-red-500/10 rounded-lg transition-all duration-200
                         border border-transparent hover:border-red-500/30 group`,children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-red-500 to-pink-600 
                              rounded-lg flex items-center justify-center
                              group-hover:shadow-lg group-hover:shadow-red-500/30 transition-all duration-200`,children:n.jsx("i",{className:"fas fa-sign-out-alt text-white text-xs sm:text-sm"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("span",{className:"text-red-400 font-medium block text-sm sm:text-base",children:"Disconnect Wallet"}),n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Sign out of current session"})]})]})]})]})})]})};function Ez({isMobileMenuOpen:t,setIsMobileMenuOpen:e}){const[s,r]=k.useState(""),[a,i]=k.useState(!1),[o,c]=k.useState(!1),{showSuccess:d,showError:h,showWarning:f,showInfo:x}=X4(),g=async w=>{if(!(!window.ethereum||!w))try{const A=new Xe(window.ethereum),j=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,A),C=Dl,S=Qt(qn("INSTITUTION_ROLE")),[E,M]=await Promise.all([j.hasRole(C,w),j.hasRole(S,w)]);i(E),c(M)}catch(A){console.error("Error checking roles:",A)}};k.useEffect(()=>{const w=async j=>{j.length>0?(r(j[0]),await g(j[0])):(r(""),i(!1),c(!1))};if((async()=>{if(window.ethereum)try{const j=await window.ethereum.request({method:"eth_accounts"});j.length>0&&(r(j[0]),await g(j[0]))}catch(j){console.error("Error checking wallet connection:",j)}})(),window.ethereum)return window.ethereum.on("accountsChanged",w),()=>{window.ethereum.removeListener("accountsChanged",w)}},[]);const p=async()=>{if(!window.ethereum){h("MetaMask is not installed. Please install MetaMask to connect your wallet.",{title:"MetaMask Required",duration:6e3});return}try{if(navigator.userAgent.includes("Edg")){console.log("Edge browser detected, using alternative method");const A=await window.ethereum.request({method:"eth_accounts"});if(A&&A.length>0){console.log("Using existing connection:",A[0]),r(A[0]),await g(A[0]);return}const j=await window.ethereum.request({method:"eth_requestAccounts",params:[]});j&&j.length>0&&(r(j[0]),await g(j[0]),d("Wallet connected successfully!",{title:"Connection Successful",duration:3e3}));return}const w=await window.ethereum.request({method:"eth_requestAccounts"});w.length>0&&(r(w[0]),await g(w[0]),d("Wallet connected successfully!",{title:"Connection Successful",duration:3e3}))}catch(w){console.error("Error connecting wallet:",w),w.code===4001?f("Wallet connection was cancelled. Please try again to continue.",{title:"Connection Cancelled",duration:4e3}):w.code===-32002?x("Connection request is already pending. Please check your MetaMask extension.",{title:"Request Pending",duration:5e3}):h("Failed to connect wallet. Please try again.",{title:"Connection Error",duration:4e3})}},v=()=>{r(""),i(!1),c(!1),d("Wallet disconnected successfully",{title:"Disconnected",duration:2e3})},y=async()=>{if(!window.ethereum){h("MetaMask is not installed. Please install MetaMask to switch accounts.",{title:"MetaMask Required",duration:6e3});return}try{if(navigator.userAgent.includes("Edg")){console.log("Edge browser detected, using alternative switch method"),r(""),i(!1),c(!1);const A=await window.ethereum.request({method:"eth_requestAccounts",params:[]});A&&A.length>0&&(r(A[0]),await g(A[0]),d("Account switched successfully!",{title:"Account Changed",duration:3e3}));return}await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const w=await window.ethereum.request({method:"eth_requestAccounts"});w.length>0&&(r(w[0]),await g(w[0]),d("Account switched successfully!",{title:"Account Changed",duration:3e3}))}catch(w){console.error("Error switching account:",w),w.code===4001?f("Account selection was cancelled. Please try again if you want to switch accounts.",{title:"Selection Cancelled",duration:4e3}):h("Failed to switch account. Please try again.",{title:"Switch Failed",duration:4e3})}};return n.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/20 backdrop-blur-md shadow-md py-4 px-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs(io,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 text-violet-100 font-bold group logo-container",children:[n.jsxs("div",{className:"relative blockchain-logo-container overflow-visible",children:[n.jsx("div",{className:"absolute inset-0 -m-4 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"w-full h-full bg-gradient-to-r from-emerald-400/10 via-violet-500/10 to-blue-500/10 rounded-full blur-md"})}),n.jsxs("div",{className:"relative flex items-center space-x-1.5 sm:space-x-2 blockchain-blocks",children:[n.jsxs("div",{className:"relative blockchain-block genesis-block group/block",children:[n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-full opacity-0 group-hover:opacity-20 blur-sm transition-opacity duration-300"}),n.jsxs("div",{className:`relative w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-br from-emerald-400 to-cyan-500 rounded-sm transform rotate-45 shadow-lg blockchain-block-inner 
                               transition-all duration-300 ease-out
                               group-hover:rotate-[405deg] group-hover:scale-105 group-hover:shadow-emerald-400/30`,children:[n.jsx("div",{className:`absolute inset-0.5 bg-gradient-to-br from-emerald-300 to-cyan-400 rounded-sm opacity-50 
                                  group-hover:opacity-80 transition-opacity duration-200`}),n.jsx("div",{className:"absolute inset-1 bg-white/20 rounded-sm group-hover:bg-white/40 transition-colors duration-200"})]}),n.jsx("div",{className:"absolute -right-2.5 sm:-right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:`w-3 sm:w-4 h-0.5 bg-gradient-to-r from-cyan-400/60 to-violet-500/60 blockchain-connection 
                                 group-hover:from-cyan-400 group-hover:to-violet-500 transition-colors duration-200`})})]}),n.jsxs("div",{className:"relative blockchain-block academic-block group/block",children:[n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full opacity-0 group-hover:opacity-20 blur-sm transition-opacity duration-300"}),n.jsxs("div",{className:`relative w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-br from-violet-500 to-purple-600 rounded-sm transform rotate-45 shadow-lg blockchain-block-inner
                               transition-all duration-300 ease-out
                               group-hover:rotate-[405deg] group-hover:scale-105 group-hover:shadow-violet-500/30`,children:[n.jsx("div",{className:`absolute inset-0.5 bg-gradient-to-br from-violet-400 to-purple-500 rounded-sm opacity-50
                                  group-hover:opacity-80 transition-opacity duration-200`}),n.jsx("div",{className:"absolute inset-1 bg-white/20 rounded-sm group-hover:bg-white/40 transition-colors duration-200"})]}),n.jsx("div",{className:"absolute -right-2.5 sm:-right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:`w-3 sm:w-4 h-0.5 bg-gradient-to-r from-violet-400/60 to-blue-500/60 blockchain-connection
                                 group-hover:from-violet-400 group-hover:to-blue-500 transition-colors duration-200`})})]}),n.jsxs("div",{className:"relative blockchain-block certificate-block group/block",children:[n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full opacity-0 group-hover:opacity-20 blur-sm transition-opacity duration-300"}),n.jsxs("div",{className:`relative w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-sm transform rotate-45 shadow-lg blockchain-block-inner
                               transition-all duration-300 ease-out
                               group-hover:rotate-[405deg] group-hover:scale-105 group-hover:shadow-blue-500/30`,children:[n.jsx("div",{className:`absolute inset-0.5 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-sm opacity-50
                                  group-hover:opacity-80 transition-opacity duration-200`}),n.jsx("div",{className:"absolute inset-1 bg-white/20 rounded-sm group-hover:bg-white/40 transition-colors duration-200"})]})]})]})]}),n.jsxs("div",{className:"flex flex-col blockchain-text-container relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/10 via-violet-500/10 to-blue-500/10 blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("span",{className:`relative text-lg sm:text-xl lg:text-2xl font-bold tracking-wide text-white transition-all duration-300 ease-out
                               group-hover:tracking-wider group-hover:text-transparent group-hover:bg-clip-text 
                               group-hover:bg-gradient-to-r group-hover:from-emerald-300 group-hover:via-violet-300 group-hover:to-blue-300
                               blockchain-title`,children:"ACADEMIC"}),n.jsx("div",{className:"absolute -bottom-0.5 left-0 h-0.5 bg-gradient-to-r from-emerald-400 to-cyan-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-1.5 -mt-0.5 relative",children:[n.jsx("span",{className:`text-xs sm:text-sm lg:text-base font-medium tracking-wide text-emerald-400 transition-colors duration-300 
                               group-hover:text-emerald-300`,children:"NFT"}),n.jsx("div",{className:`w-0.5 h-0.5 bg-cyan-400 rounded-full opacity-60 transition-all duration-300 
                             group-hover:opacity-100 group-hover:scale-125`}),n.jsx("span",{className:`text-xs sm:text-sm lg:text-base font-medium tracking-wide text-cyan-400 transition-colors duration-300 
                               group-hover:text-cyan-300`,children:"CERTIFICATE"})]})]})]})}),n.jsx("div",{className:"hidden lg:flex items-center",children:s?n.jsx(Az,{account:s,isAdmin:a,isInstitution:o,onSwitchAccount:y,onDisconnect:v}):n.jsx("button",{onClick:p,className:"Nav-btn",children:n.jsx("span",{children:"Connect Wallet"})})}),n.jsx("div",{className:"hidden"})]})})}const Z4=k.createContext({});function J4(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const e5=typeof window<"u",rT=e5?k.useLayoutEffect:k.useEffect,Lb=k.createContext(null);function t5(t,e){t.indexOf(e)===-1&&t.push(e)}function s5(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const co=(t,e,s)=>s>e?e:s<t?t:s;let n5=()=>{};const uo={},aT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iT(t){return typeof t=="object"&&t!==null}const oT=t=>/^0[^.\s]+$/u.test(t);function r5(t){let e;return()=>(e===void 0&&(e=t()),e)}const $r=t=>t,Sz=(t,e)=>s=>e(t(s)),Dm=(...t)=>t.reduce(Sz),Hf=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class a5{constructor(){this.subscriptions=[]}add(e){return t5(this.subscriptions,e),()=>s5(this.subscriptions,e)}notify(e,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Za=t=>t*1e3,Ja=t=>t/1e3;function lT(t,e){return e?t*(1e3/e):0}const cT=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Tz=1e-7,Rz=12;function Mz(t,e,s,r,a){let i,o,c=0;do o=e+(s-e)/2,i=cT(o,r,a)-t,i>0?s=o:e=o;while(Math.abs(i)>Tz&&++c<Rz);return o}function Bm(t,e,s,r){if(t===e&&s===r)return $r;const a=i=>Mz(i,0,1,t,s);return i=>i===0||i===1?i:cT(a(i),e,r)}const dT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uT=t=>e=>1-t(1-e),hT=Bm(.33,1.53,.69,.99),i5=uT(hT),fT=dT(i5),mT=t=>(t*=2)<1?.5*i5(t):.5*(2-Math.pow(2,-10*(t-1))),o5=t=>1-Math.sin(Math.acos(t)),xT=uT(o5),gT=dT(o5),Dz=Bm(.42,0,1,1),Bz=Bm(0,0,.58,1),pT=Bm(.42,0,.58,1),_z=t=>Array.isArray(t)&&typeof t[0]!="number",bT=t=>Array.isArray(t)&&typeof t[0]=="number",Iz={linear:$r,easeIn:Dz,easeInOut:pT,easeOut:Bz,circIn:o5,circInOut:gT,circOut:xT,backIn:i5,backInOut:fT,backOut:hT,anticipate:mT},Lz=t=>typeof t=="string",uC=t=>{if(bT(t)){n5(t.length===4);const[e,s,r,a]=t;return Bm(e,s,r,a)}else if(Lz(t))return Iz[t];return t},rg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Oz(t,e){let s=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(f){o.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,x=!1,g=!1)=>{const v=g&&a?s:r;return x&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(c=f,a){i=!0;return}a=!0,[s,r]=[r,s],s.forEach(d),s.clear(),a=!1,i&&(i=!1,h.process(f))}};return h}const Pz=40;function vT(t,e){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=rg.reduce((C,S)=>(C[S]=Oz(i),C),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:f,update:x,preRender:g,render:p,postRender:v}=o,y=()=>{const C=uo.useManualTiming?a.timestamp:performance.now();s=!1,uo.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(C-a.timestamp,Pz),1)),a.timestamp=C,a.isProcessing=!0,c.process(a),d.process(a),h.process(a),f.process(a),x.process(a),g.process(a),p.process(a),v.process(a),a.isProcessing=!1,s&&e&&(r=!1,t(y))},w=()=>{s=!0,r=!0,a.isProcessing||t(y)};return{schedule:rg.reduce((C,S)=>{const E=o[S];return C[S]=(M,R=!1,_=!1)=>(s||w(),E.schedule(M,R,_)),C},{}),cancel:C=>{for(let S=0;S<rg.length;S++)o[rg[S]].cancel(C)},state:a,steps:o}}const{schedule:ss,cancel:Il,state:Zs,steps:Ay}=vT(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0);let Fg;function Fz(){Fg=void 0}const Gn={now:()=>(Fg===void 0&&Gn.set(Zs.isProcessing||uo.useManualTiming?Zs.timestamp:performance.now()),Fg),set:t=>{Fg=t,queueMicrotask(Fz)}},yT=t=>e=>typeof e=="string"&&e.startsWith(t),l5=yT("--"),zz=yT("var(--"),c5=t=>zz(t)?Uz.test(t.split("/*")[0].trim()):!1,Uz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vf={...Uu,transform:t=>co(0,1,t)},ag={...Uu,default:1},pf=t=>Math.round(t*1e5)/1e5,d5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $z(t){return t==null}const Hz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u5=(t,e)=>s=>!!(typeof s=="string"&&Hz.test(s)&&s.startsWith(t)||e&&!$z(s)&&Object.prototype.hasOwnProperty.call(s,e)),wT=(t,e,s)=>r=>{if(typeof r!="string")return r;const[a,i,o,c]=r.match(d5);return{[t]:parseFloat(a),[e]:parseFloat(i),[s]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Vz=t=>co(0,255,t),Ey={...Uu,transform:t=>Math.round(Vz(t))},_c={test:u5("rgb","red"),parse:wT("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Ey.transform(t)+", "+Ey.transform(e)+", "+Ey.transform(s)+", "+pf(Vf.transform(r))+")"};function Gz(t){let e="",s="",r="",a="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,s+=s,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Mw={test:u5("#"),parse:Gz,transform:_c.transform},_m=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),el=_m("deg"),ei=_m("%"),Ke=_m("px"),qz=_m("vh"),Wz=_m("vw"),hC={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},g0={test:u5("hsl","hue"),parse:wT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+ei.transform(pf(e))+", "+ei.transform(pf(s))+", "+pf(Vf.transform(r))+")"},Ts={test:t=>_c.test(t)||Mw.test(t)||g0.test(t),parse:t=>_c.test(t)?_c.parse(t):g0.test(t)?g0.parse(t):Mw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_c.transform(t):g0.transform(t),getAnimatableNone:t=>{const e=Ts.parse(t);return e.alpha=0,Ts.transform(e)}},Yz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qz(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(d5))==null?void 0:e.length)||0)+(((s=t.match(Yz))==null?void 0:s.length)||0)>0}const NT="number",jT="color",Kz="var",Xz="var(",fC="${}",Zz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gf(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},a=[];let i=0;const c=e.replace(Zz,d=>(Ts.test(d)?(r.color.push(i),a.push(jT),s.push(Ts.parse(d))):d.startsWith(Xz)?(r.var.push(i),a.push(Kz),s.push(d)):(r.number.push(i),a.push(NT),s.push(parseFloat(d))),++i,fC)).split(fC);return{values:s,split:c,indexes:r,types:a}}function CT(t){return Gf(t).values}function kT(t){const{split:e,types:s}=Gf(t),r=e.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],a[o]!==void 0){const c=s[o];c===NT?i+=pf(a[o]):c===jT?i+=Ts.transform(a[o]):i+=a[o]}return i}}const Jz=t=>typeof t=="number"?0:Ts.test(t)?Ts.getAnimatableNone(t):t;function eU(t){const e=CT(t);return kT(t)(e.map(Jz))}const Ll={test:Qz,parse:CT,createTransformer:kT,getAnimatableNone:eU};function Sy(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function tU({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let a=0,i=0,o=0;if(!e)a=i=o=s;else{const c=s<.5?s*(1+e):s+e-s*e,d=2*s-c;a=Sy(d,c,t+1/3),i=Sy(d,c,t),o=Sy(d,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Gp(t,e){return s=>s>0?e:t}const ds=(t,e,s)=>t+(e-t)*s,Ty=(t,e,s)=>{const r=t*t,a=s*(e*e-r)+r;return a<0?0:Math.sqrt(a)},sU=[Mw,_c,g0],nU=t=>sU.find(e=>e.test(t));function mC(t){const e=nU(t);if(!e)return!1;let s=e.parse(t);return e===g0&&(s=tU(s)),s}const xC=(t,e)=>{const s=mC(t),r=mC(e);if(!s||!r)return Gp(t,e);const a={...s};return i=>(a.red=Ty(s.red,r.red,i),a.green=Ty(s.green,r.green,i),a.blue=Ty(s.blue,r.blue,i),a.alpha=ds(s.alpha,r.alpha,i),_c.transform(a))},Dw=new Set(["none","hidden"]);function rU(t,e){return Dw.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function aU(t,e){return s=>ds(t,e,s)}function h5(t){return typeof t=="number"?aU:typeof t=="string"?c5(t)?Gp:Ts.test(t)?xC:lU:Array.isArray(t)?AT:typeof t=="object"?Ts.test(t)?xC:iU:Gp}function AT(t,e){const s=[...t],r=s.length,a=t.map((i,o)=>h5(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)s[o]=a[o](i);return s}}function iU(t,e){const s={...t,...e},r={};for(const a in s)t[a]!==void 0&&e[a]!==void 0&&(r[a]=h5(t[a])(t[a],e[a]));return a=>{for(const i in r)s[i]=r[i](a);return s}}function oU(t,e){const s=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][r[i]],c=t.values[o]??0;s[a]=c,r[i]++}return s}const lU=(t,e)=>{const s=Ll.createTransformer(e),r=Gf(t),a=Gf(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Dw.has(t)&&!a.values.length||Dw.has(e)&&!r.values.length?rU(t,e):Dm(AT(oU(r,a),a.values),s):Gp(t,e)};function ET(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?ds(t,e,s):h5(t)(t,e)}const cU=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>ss.update(e,s),stop:()=>Il(e),now:()=>Zs.isProcessing?Zs.timestamp:Gn.now()}},ST=(t,e,s=10)=>{let r="";const a=Math.max(Math.round(e/s),2);for(let i=0;i<a;i++)r+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},qp=2e4;function f5(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<qp;)e+=s,r=t.next(e);return e>=qp?1/0:e}function dU(t,e=100,s){const r=s({...t,keyframes:[0,e]}),a=Math.min(f5(r),qp);return{type:"keyframes",ease:i=>r.next(a*i).value/e,duration:Ja(a)}}const uU=5;function TT(t,e,s){const r=Math.max(e-uU,0);return lT(s-t(r),e-r)}const ms={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gC=.001;function hU({duration:t=ms.duration,bounce:e=ms.bounce,velocity:s=ms.velocity,mass:r=ms.mass}){let a,i,o=1-e;o=co(ms.minDamping,ms.maxDamping,o),t=co(ms.minDuration,ms.maxDuration,Ja(t)),o<1?(a=h=>{const f=h*o,x=f*t,g=f-s,p=Bw(h,o),v=Math.exp(-x);return gC-g/p*v},i=h=>{const x=h*o*t,g=x*s+s,p=Math.pow(o,2)*Math.pow(h,2)*t,v=Math.exp(-x),y=Bw(Math.pow(h,2),o);return(-a(h)+gC>0?-1:1)*((g-p)*v)/y}):(a=h=>{const f=Math.exp(-h*t),x=(h-s)*t+1;return-.001+f*x},i=h=>{const f=Math.exp(-h*t),x=(s-h)*(t*t);return f*x});const c=5/t,d=mU(a,i,c);if(t=Za(t),isNaN(d))return{stiffness:ms.stiffness,damping:ms.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const fU=12;function mU(t,e,s){let r=s;for(let a=1;a<fU;a++)r=r-t(r)/e(r);return r}function Bw(t,e){return t*Math.sqrt(1-e*e)}const xU=["duration","bounce"],gU=["stiffness","damping","mass"];function pC(t,e){return e.some(s=>t[s]!==void 0)}function pU(t){let e={velocity:ms.velocity,stiffness:ms.stiffness,damping:ms.damping,mass:ms.mass,isResolvedFromDuration:!1,...t};if(!pC(t,gU)&&pC(t,xU))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,i=2*co(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ms.mass,stiffness:a,damping:i}}else{const s=hU(t);e={...e,...s,mass:ms.mass},e.isResolvedFromDuration=!0}return e}function Wp(t=ms.visualDuration,e=ms.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:f,duration:x,velocity:g,isResolvedFromDuration:p}=pU({...s,velocity:-Ja(s.velocity||0)}),v=g||0,y=h/(2*Math.sqrt(d*f)),w=o-i,A=Ja(Math.sqrt(d/f)),j=Math.abs(w)<5;r||(r=j?ms.restSpeed.granular:ms.restSpeed.default),a||(a=j?ms.restDelta.granular:ms.restDelta.default);let C;if(y<1){const E=Bw(A,y);C=M=>{const R=Math.exp(-y*A*M);return o-R*((v+y*A*w)/E*Math.sin(E*M)+w*Math.cos(E*M))}}else if(y===1)C=E=>o-Math.exp(-A*E)*(w+(v+A*w)*E);else{const E=A*Math.sqrt(y*y-1);C=M=>{const R=Math.exp(-y*A*M),_=Math.min(E*M,300);return o-R*((v+y*A*w)*Math.sinh(_)+E*w*Math.cosh(_))/E}}const S={calculatedDuration:p&&x||null,next:E=>{const M=C(E);if(p)c.done=E>=x;else{let R=E===0?v:0;y<1&&(R=E===0?Za(v):TT(C,E,M));const _=Math.abs(R)<=r,I=Math.abs(o-M)<=a;c.done=_&&I}return c.value=c.done?o:M,c},toString:()=>{const E=Math.min(f5(S),qp),M=ST(R=>S.next(E*R).value,E,30);return E+"ms "+M},toTransition:()=>{}};return S}Wp.applyToOptions=t=>{const e=dU(t,100,Wp);return t.ease=e.ease,t.duration=Za(e.duration),t.type="keyframes",t};function _w({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:f}){const x=t[0],g={done:!1,value:x},p=_=>c!==void 0&&_<c||d!==void 0&&_>d,v=_=>c===void 0?d:d===void 0||Math.abs(c-_)<Math.abs(d-_)?c:d;let y=s*e;const w=x+y,A=o===void 0?w:o(w);A!==w&&(y=A-x);const j=_=>-y*Math.exp(-_/r),C=_=>A+j(_),S=_=>{const I=j(_),D=C(_);g.done=Math.abs(I)<=h,g.value=g.done?A:D};let E,M;const R=_=>{p(g.value)&&(E=_,M=Wp({keyframes:[g.value,v(g.value)],velocity:TT(C,_,g.value),damping:a,stiffness:i,restDelta:h,restSpeed:f}))};return R(0),{calculatedDuration:null,next:_=>{let I=!1;return!M&&E===void 0&&(I=!0,S(_),R(_)),E!==void 0&&_>=E?M.next(_-E):(!I&&S(_),g)}}}function bU(t,e,s){const r=[],a=s||uo.mix||ET,i=t.length-1;for(let o=0;o<i;o++){let c=a(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||$r:e;c=Dm(d,c)}r.push(c)}return r}function vU(t,e,{clamp:s=!0,ease:r,mixer:a}={}){const i=t.length;if(n5(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=bU(e,r,a),d=c.length,h=f=>{if(o&&f<t[0])return e[0];let x=0;if(d>1)for(;x<t.length-2&&!(f<t[x+1]);x++);const g=Hf(t[x],t[x+1],f);return c[x](g)};return s?f=>h(co(t[0],t[i-1],f)):h}function yU(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const a=Hf(0,e,r);t.push(ds(s,1,a))}}function wU(t){const e=[0];return yU(e,t.length-1),e}function NU(t,e){return t.map(s=>s*e)}function jU(t,e){return t.map(()=>e||pT).splice(0,t.length-1)}function bf({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const a=_z(r)?r.map(uC):uC(r),i={done:!1,value:e[0]},o=NU(s&&s.length===e.length?s:wU(e),t),c=vU(o,e,{ease:Array.isArray(a)?a:jU(e,a)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const CU=t=>t!==null;function m5(t,{repeat:e,repeatType:s="loop"},r,a=1){const i=t.filter(CU),c=a<0||e&&s!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const kU={decay:_w,inertia:_w,tween:bf,keyframes:bf,spring:Wp};function RT(t){typeof t.type=="string"&&(t.type=kU[t.type])}class x5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const AU=t=>t/100;class g5 extends x5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:s}=this.options;s&&s.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RT(e);const{type:s=bf,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const d=s||bf;d!==bf&&typeof c[0]!="number"&&(this.mixKeyframes=Dm(AU,ET(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=f5(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=h}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:x,repeatType:g,repeatDelay:p,type:v,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?A<0:A>a;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,S=r;if(x){const _=Math.min(this.currentTime,a)/c;let I=Math.floor(_),D=_%1;!D&&_>=1&&(D=1),D===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(g==="reverse"?(D=1-D,p&&(D-=p/c)):g==="mirror"&&(S=o)),C=co(0,1,D)*c}const E=j?{done:!1,value:f[0]}:S.next(C);i&&(E.value=i(E.value));let{done:M}=E;!j&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return R&&v!==_w&&(E.value=m5(f,this.options,w,this.speed)),y&&y(E.value),R&&this.finish(),E}then(e,s){return this.finished.then(e,s)}get duration(){return Ja(this.calculatedDuration)}get time(){return Ja(this.currentTime)}set time(e){var s;e=Za(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ja(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=cU,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function EU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ic=t=>t*180/Math.PI,Iw=t=>{const e=Ic(Math.atan2(t[1],t[0]));return Lw(e)},SU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Iw,rotateZ:Iw,skewX:t=>Ic(Math.atan(t[1])),skewY:t=>Ic(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lw=t=>(t=t%360,t<0&&(t+=360),t),bC=Iw,vC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vC,scaleY:yC,scale:t=>(vC(t)+yC(t))/2,rotateX:t=>Lw(Ic(Math.atan2(t[6],t[5]))),rotateY:t=>Lw(Ic(Math.atan2(-t[2],t[0]))),rotateZ:bC,rotate:bC,skewX:t=>Ic(Math.atan(t[4])),skewY:t=>Ic(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ow(t){return t.includes("scale")?1:0}function Pw(t,e){if(!t||t==="none")return Ow(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(s)r=TU,a=s;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=SU,a=c}if(!a)return Ow(e);const i=r[e],o=a[1].split(",").map(MU);return typeof i=="function"?i(o):o[i]}const RU=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return Pw(s,e)};function MU(t){return parseFloat(t.trim())}const $u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hu=new Set($u),wC=t=>t===Uu||t===Ke,DU=new Set(["x","y","z"]),BU=$u.filter(t=>!DU.has(t));function _U(t){const e=[];return BU.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const id={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pw(e,"x"),y:(t,{transform:e})=>Pw(e,"y")};id.translateX=id.x;id.translateY=id.y;const od=new Set;let Fw=!1,zw=!1,Uw=!1;function MT(){if(zw){const t=Array.from(od).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const a=_U(r);a.length&&(s.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([i,o])=>{var c;(c=r.getValue(i))==null||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zw=!1,Fw=!1,od.forEach(t=>t.complete(Uw)),od.clear()}function DT(){od.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zw=!0)})}function IU(){Uw=!0,DT(),MT(),Uw=!1}class p5{constructor(e,s,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(od.add(this),Fw||(Fw=!0,ss.read(DT),ss.resolveKeyframes(MT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&s){const c=r.readValue(s,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}EU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),od.delete(this)}cancel(){this.state==="scheduled"&&(od.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LU=t=>t.startsWith("--");function OU(t,e,s){LU(e)?t.style.setProperty(e,s):t.style[e]=s}const PU=r5(()=>window.ScrollTimeline!==void 0),FU={};function zU(t,e){const s=r5(t);return()=>FU[e]??s()}const BT=zU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),df=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,NC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:df([0,.65,.55,1]),circOut:df([.55,0,1,.45]),backIn:df([.31,.01,.66,-.59]),backOut:df([.33,1.53,.69,.99])};function _T(t,e){if(t)return typeof t=="function"?BT()?ST(t,e):"ease-out":bT(t)?df(t):Array.isArray(t)?t.map(s=>_T(s,e)||NC.easeOut):NC[t]}function UU(t,e,s,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const f={[e]:s};d&&(f.offset=d);const x=_T(c,a);Array.isArray(x)&&(f.easing=x);const g={delay:r,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function IT(t){return typeof t=="function"&&"applyToOptions"in t}function $U({type:t,...e}){return IT(t)&&BT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HU extends x5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,n5(typeof e.type!="string");const h=$U(e);this.animation=UU(s,r,a,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=m5(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):OU(s,r,f),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return Ja(Number(e))}get time(){return Ja(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Za(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&PU()?(this.animation.timeline=e,$r):s(this)}}const LT={anticipate:mT,backInOut:fT,circInOut:gT};function VU(t){return t in LT}function GU(t){typeof t.ease=="string"&&VU(t.ease)&&(t.ease=LT[t.ease])}const jC=10;class qU extends HU{constructor(e){GU(e),RT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const c=new g5({...o,autoplay:!1}),d=Za(this.finishedTime??this.time);s.setWithVelocity(c.sample(d-jC).value,c.sample(d).value,jC),c.stop()}}const CC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ll.test(t)||t==="0")&&!t.startsWith("url("));function WU(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function YU(t,e,s,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=CC(a,e),c=CC(i,e);return!o||!c?!1:WU(t)||(s==="spring"||IT(s))&&r}function $w(t){t.duration=0,t.type}const QU=new Set(["opacity","clipPath","filter","transform"]),KU=r5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XU(t){var f;const{motionValue:e,name:s,repeatDelay:r,repeatType:a,damping:i,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return KU()&&s&&QU.has(s)&&(s!=="transform"||!h)&&!d&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const ZU=40;class JU extends x5{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:f,...x}){var v;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Gn.now();const g={autoplay:e,delay:s,type:r,repeat:a,repeatDelay:i,repeatType:o,name:d,motionValue:h,element:f,...x},p=(f==null?void 0:f.KeyframeResolver)||p5;this.keyframeResolver=new p(c,(y,w,A)=>this.onKeyframesResolved(y,w,g,!A),d,h,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,s,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:f}=r;this.resolvedAt=Gn.now(),YU(e,i,o,c)||((uo.instantAnimations||!d)&&(f==null||f(m5(e,r,s))),e[0]=e[e.length-1],$w(r),r.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ZU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},p=!h&&XU(g)?new qU({...g,element:g.motionValue.owner.current}):new g5(g);p.finished.then(()=>this.notifyFinished()).catch($r),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),IU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const e$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t$(t){const e=e$.exec(t);if(!e)return[,];const[,s,r,a]=e;return[`--${s??r}`,a]}function OT(t,e,s=1){const[r,a]=t$(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return aT(o)?parseFloat(o):o}return c5(a)?OT(a,e,s+1):a}function b5(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const PT=new Set(["width","height","top","left","right","bottom",...$u]),s$={test:t=>t==="auto",parse:t=>t},FT=t=>e=>e.test(t),zT=[Uu,Ke,ei,el,Wz,qz,s$],kC=t=>zT.find(FT(t));function n$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oT(t):!0}const r$=new Set(["brightness","contrast","saturate","opacity"]);function a$(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(d5)||[];if(!r)return t;const a=s.replace(r,"");let i=r$.has(e)?1:0;return r!==s&&(i*=100),e+"("+i+a+")"}const i$=/\b([a-z-]*)\(.*?\)/gu,Hw={...Ll,getAnimatableNone:t=>{const e=t.match(i$);return e?e.map(a$).join(" "):t}},AC={...Uu,transform:Math.round},o$={rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:ag,scaleX:ag,scaleY:ag,scaleZ:ag,skew:el,skewX:el,skewY:el,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:Vf,originX:hC,originY:hC,originZ:Ke},v5={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...o$,zIndex:AC,fillOpacity:Vf,strokeOpacity:Vf,numOctaves:AC},l$={...v5,color:Ts,backgroundColor:Ts,outlineColor:Ts,fill:Ts,stroke:Ts,borderColor:Ts,borderTopColor:Ts,borderRightColor:Ts,borderBottomColor:Ts,borderLeftColor:Ts,filter:Hw,WebkitFilter:Hw},UT=t=>l$[t];function $T(t,e){let s=UT(t);return s!==Hw&&(s=Ll),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const c$=new Set(["auto","none","0"]);function d$(t,e,s){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!c$.has(i)&&Gf(i).values.length&&(a=t[r]),r++}if(a&&s)for(const i of e)t[i]=$T(s,a)}class u$ extends p5{constructor(e,s,r,a,i){super(e,s,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),c5(h))){const f=OT(h,s.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!PT.has(r)||e.length!==2)return;const[a,i]=e,o=kC(a),c=kC(i);if(o!==c)if(wC(o)&&wC(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else id[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||n$(e[a]))&&r.push(a);r.length&&d$(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=id[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var c;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=id[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function h$(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(s==null?void 0:s[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const HT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function VT(t){return iT(t)&&"offsetHeight"in t}const EC=30,f$=t=>!isNaN(parseFloat(t));class m${constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=Gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new a5);const r=this.events[e].add(s);return e==="change"?()=>{r(),ss.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EC)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,EC);return lT(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(t,e){return new m$(t,e)}const{schedule:y5}=vT(queueMicrotask,!1),ta={x:!1,y:!1};function GT(){return ta.x||ta.y}function x$(t){return t==="x"||t==="y"?ta[t]?null:(ta[t]=!0,()=>{ta[t]=!1}):ta.x||ta.y?null:(ta.x=ta.y=!0,()=>{ta.x=ta.y=!1})}function qT(t,e){const s=h$(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[s,a,()=>r.abort()]}function SC(t){return!(t.pointerType==="touch"||GT())}function g$(t,e,s={}){const[r,a,i]=qT(t,s),o=c=>{if(!SC(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const f=x=>{SC(x)&&(h(x),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,a)};return r.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const WT=(t,e)=>e?t===e?!0:WT(t,e.parentElement):!1,w5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,p$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b$(t){return p$.has(t.tagName)||t.tabIndex!==-1}const zg=new WeakSet;function TC(t){return e=>{e.key==="Enter"&&t(e)}}function Ry(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const v$=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=TC(()=>{if(zg.has(s))return;Ry(s,"down");const a=TC(()=>{Ry(s,"up")}),i=()=>Ry(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",i,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function RC(t){return w5(t)&&!GT()}function y$(t,e,s={}){const[r,a,i]=qT(t,s),o=c=>{const d=c.currentTarget;if(!RC(c))return;zg.add(d);const h=e(d,c),f=(p,v)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",g),zg.has(d)&&zg.delete(d),RC(p)&&typeof h=="function"&&h(p,{success:v})},x=p=>{f(p,d===window||d===document||s.useGlobalTarget||WT(d,p.target))},g=p=>{f(p,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",g,a)};return r.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),VT(c)&&(c.addEventListener("focus",h=>v$(h,a)),!b$(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function YT(t){return iT(t)&&"ownerSVGElement"in t}function w$(t){return YT(t)&&t.tagName==="svg"}const xn=t=>!!(t&&t.getVelocity),N$=[...zT,Ts,Ll],j$=t=>N$.find(FT(t)),N5=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class C$ extends k.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=s.offsetParent,a=VT(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k$({children:t,isPresent:e,anchorX:s,root:r}){const a=k.useId(),i=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=k.useContext(N5);return k.useInsertionEffect(()=>{const{width:d,height:h,top:f,left:x,right:g}=o.current;if(e||!i.current||!d||!h)return;const p=s==="left"?`left: ${x}`:`right: ${g}`;i.current.dataset.motionPopId=a;const v=document.createElement("style");c&&(v.nonce=c);const y=r??document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(v)&&y.removeChild(v)}},[e]),n.jsx(C$,{isPresent:e,childRef:i,sizeRef:o,children:k.cloneElement(t,{ref:i})})}const A$=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c,root:d})=>{const h=J4(E$),f=k.useId();let x=!0,g=k.useMemo(()=>(x=!1,{id:f,initial:e,isPresent:s,custom:a,onExitComplete:p=>{h.set(p,!0);for(const v of h.values())if(!v)return;r&&r()},register:p=>(h.set(p,!1),()=>h.delete(p))}),[s,h,r]);return i&&x&&(g={...g}),k.useMemo(()=>{h.forEach((p,v)=>h.set(v,!1))},[s]),k.useEffect(()=>{!s&&!h.size&&r&&r()},[s]),o==="popLayout"&&(t=n.jsx(k$,{isPresent:s,anchorX:c,root:d,children:t})),n.jsx(Lb.Provider,{value:g,children:t})};function E$(){return new Map}function QT(t=!0){const e=k.useContext(Lb);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=e,i=k.useId();k.useEffect(()=>{if(t)return a(i)},[t]);const o=k.useCallback(()=>t&&r&&r(i),[i,r,t]);return!s&&r?[!1,o]:[!0]}const ig=t=>t.key||"";function MC(t){const e=[];return k.Children.forEach(t,s=>{k.isValidElement(s)&&e.push(s)}),e}const j5=({children:t,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,f]=QT(o),x=k.useMemo(()=>MC(t),[t]),g=o&&!h?[]:x.map(ig),p=k.useRef(!0),v=k.useRef(x),y=J4(()=>new Map),[w,A]=k.useState(x),[j,C]=k.useState(x);rT(()=>{p.current=!1,v.current=x;for(let M=0;M<j.length;M++){const R=ig(j[M]);g.includes(R)?y.delete(R):y.get(R)!==!0&&y.set(R,!1)}},[j,g.length,g.join("-")]);const S=[];if(x!==w){let M=[...x];for(let R=0;R<j.length;R++){const _=j[R],I=ig(_);g.includes(I)||(M.splice(R,0,_),S.push(_))}return i==="wait"&&S.length&&(M=S),C(MC(M)),A(x),null}const{forceRender:E}=k.useContext(Z4);return n.jsx(n.Fragment,{children:j.map(M=>{const R=ig(M),_=o&&!h?!1:x===j||g.includes(R),I=()=>{if(y.has(R))y.set(R,!0);else return;let D=!0;y.forEach(B=>{B||(D=!1)}),D&&(E==null||E(),C(v.current),o&&(f==null||f()),r&&r())};return n.jsx(A$,{isPresent:_,initial:!p.current||s?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:d,onExitComplete:_?void 0:I,anchorX:c,children:M},R)})})},KT=k.createContext({strict:!1}),DC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ru={};for(const t in DC)Ru[t]={isEnabled:e=>DC[t].some(s=>!!e[s])};function S$(t){for(const e in t)Ru[e]={...Ru[e],...t[e]}}const T$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||T$.has(t)}let XT=t=>!Yp(t);function R$(t){typeof t=="function"&&(XT=e=>e.startsWith("on")?!Yp(e):t(e))}try{R$(require("@emotion/is-prop-valid").default)}catch{}function M$(t,e,s){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(XT(a)||s===!0&&Yp(a)||!e&&!Yp(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Ob=k.createContext({});function Pb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qf(t){return typeof t=="string"||Array.isArray(t)}const C5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k5=["initial",...C5];function Fb(t){return Pb(t.animate)||k5.some(e=>qf(t[e]))}function ZT(t){return!!(Fb(t)||t.variants)}function D$(t,e){if(Fb(t)){const{initial:s,animate:r}=t;return{initial:s===!1||qf(s)?s:void 0,animate:qf(r)?r:void 0}}return t.inherit!==!1?e:{}}function B$(t){const{initial:e,animate:s}=D$(t,k.useContext(Ob));return k.useMemo(()=>({initial:e,animate:s}),[BC(e),BC(s)])}function BC(t){return Array.isArray(t)?t.join(" "):t}const Wf={};function _$(t){for(const e in t)Wf[e]=t[e],l5(e)&&(Wf[e].isCSSVariable=!0)}function JT(t,{layout:e,layoutId:s}){return Hu.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Wf[t]||t==="opacity")}const I$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L$=$u.length;function O$(t,e,s){let r="",a=!0;for(let i=0;i<L$;i++){const o=$u[i],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||s){const h=HT(c,v5[o]);if(!d){a=!1;const f=I$[o]||o;r+=`${f}(${h}) `}s&&(e[o]=h)}}return r=r.trim(),s?r=s(e,a?"":r):a&&(r="none"),r}function A5(t,e,s){const{style:r,vars:a,transformOrigin:i}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(Hu.has(d)){o=!0;continue}else if(l5(d)){a[d]=h;continue}else{const f=HT(h,v5[d]);d.startsWith("origin")?(c=!0,i[d]=f):r[d]=f}}if(e.transform||(o||s?r.transform=O$(e,t.transform,s):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=i;r.transformOrigin=`${d} ${h} ${f}`}}const E5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eR(t,e,s){for(const r in e)!xn(e[r])&&!JT(r,s)&&(t[r]=e[r])}function P$({transformTemplate:t},e){return k.useMemo(()=>{const s=E5();return A5(s,e,t),Object.assign({},s.vars,s.style)},[e])}function F$(t,e){const s=t.style||{},r={};return eR(r,s,t),Object.assign(r,P$(t,e)),r}function z$(t,e){const s={},r=F$(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const U$={offset:"stroke-dashoffset",array:"stroke-dasharray"},$$={offset:"strokeDashoffset",array:"strokeDasharray"};function H$(t,e,s=1,r=0,a=!0){t.pathLength=1;const i=a?U$:$$;t[i.offset]=Ke.transform(-r);const o=Ke.transform(e),c=Ke.transform(s);t[i.array]=`${o} ${c}`}function tR(t,{attrX:e,attrY:s,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},d,h,f){if(A5(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:g}=t;x.transform&&(g.transform=x.transform,delete x.transform),(g.transform||x.transformOrigin)&&(g.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),r!==void 0&&(x.scale=r),a!==void 0&&H$(x,a,i,o,!1)}const sR=()=>({...E5(),attrs:{}}),nR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function V$(t,e,s,r){const a=k.useMemo(()=>{const i=sR();return tR(i,e,nR(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};eR(i,t.style,t),a.style={...i,...a.style}}return a}const G$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S5(t){return typeof t!="string"||t.includes("-")?!1:!!(G$.indexOf(t)>-1||/[A-Z]/u.test(t))}function q$(t,e,s,{latestValues:r},a,i=!1){const c=(S5(t)?V$:z$)(e,r,a,t),d=M$(e,typeof t=="string",i),h=t!==k.Fragment?{...d,...c,ref:s}:{},{children:f}=e,x=k.useMemo(()=>xn(f)?f.get():f,[f]);return k.createElement(t,{...h,children:x})}function _C(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function T5(t,e,s,r){if(typeof e=="function"){const[a,i]=_C(r);e=e(s!==void 0?s:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=_C(r);e=e(s!==void 0?s:t.custom,a,i)}return e}function Ug(t){return xn(t)?t.get():t}function W$({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,a){return{latestValues:Y$(s,r,a,t),renderState:e()}}function Y$(t,e,s,r){const a={},i=r(t,{});for(const g in i)a[g]=Ug(i[g]);let{initial:o,animate:c}=t;const d=Fb(t),h=ZT(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let f=s?s.initial===!1:!1;f=f||o===!1;const x=f?c:o;if(x&&typeof x!="boolean"&&!Pb(x)){const g=Array.isArray(x)?x:[x];for(let p=0;p<g.length;p++){const v=T5(t,g[p]);if(v){const{transitionEnd:y,transition:w,...A}=v;for(const j in A){let C=A[j];if(Array.isArray(C)){const S=f?C.length-1:0;C=C[S]}C!==null&&(a[j]=C)}for(const j in y)a[j]=y[j]}}}return a}const rR=t=>(e,s)=>{const r=k.useContext(Ob),a=k.useContext(Lb),i=()=>W$(t,e,r,a);return s?i():J4(i)};function R5(t,e,s){var i;const{style:r}=t,a={};for(const o in r)(xn(r[o])||e.style&&xn(e.style[o])||JT(o,t)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const Q$=rR({scrapeMotionValuesFromProps:R5,createRenderState:E5});function aR(t,e,s){const r=R5(t,e,s);for(const a in t)if(xn(t[a])||xn(e[a])){const i=$u.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const K$=rR({scrapeMotionValuesFromProps:aR,createRenderState:sR}),X$=Symbol.for("motionComponentSymbol");function p0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Z$(t,e,s){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):p0(s)&&(s.current=r))},[e])}const M5=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J$="framerAppearId",iR="data-"+M5(J$),oR=k.createContext({});function eH(t,e,s,r,a){var y,w;const{visualElement:i}=k.useContext(Ob),o=k.useContext(KT),c=k.useContext(Lb),d=k.useContext(N5).reducedMotion,h=k.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,x=k.useContext(oR);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&tH(h.current,s,a,x);const g=k.useRef(!1);k.useInsertionEffect(()=>{f&&g.current&&f.update(s,c)});const p=s[iR],v=k.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return rT(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,p)}),v.current=!1),f.enteringChildren=void 0)}),f}function tH(t,e,s,r){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:lR(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&p0(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:d,layoutRoot:h})}function lR(t){if(t)return t.options.allowProjection!==!1?t.projection:lR(t.parent)}function My(t,{forwardMotionProps:e=!1}={},s,r){s&&S$(s);const a=S5(t)?K$:Q$;function i(c,d){let h;const f={...k.useContext(N5),...c,layoutId:sH(c)},{isStatic:x}=f,g=B$(c),p=a(c,x);if(!x&&e5){nH();const v=rH(f);h=v.MeasureLayout,g.visualElement=eH(t,p,f,r,v.ProjectionNode)}return n.jsxs(Ob.Provider,{value:g,children:[h&&g.visualElement?n.jsx(h,{visualElement:g.visualElement,...f}):null,q$(t,c,Z$(p,g.visualElement,d),p,x,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=k.forwardRef(i);return o[X$]=t,o}function sH({layoutId:t}){const e=k.useContext(Z4).id;return e&&t!==void 0?e+"-"+t:t}function nH(t,e){k.useContext(KT).strict}function rH(t){const{drag:e,layout:s}=Ru;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function aH(t,e){if(typeof Proxy>"u")return My;const s=new Map,r=(i,o)=>My(i,o,t,e),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(s.has(o)||s.set(o,My(o,void 0,t,e)),s.get(o))})}function cR({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function iH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oH(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Dy(t){return t===void 0||t===1}function Vw({scale:t,scaleX:e,scaleY:s}){return!Dy(t)||!Dy(e)||!Dy(s)}function Nc(t){return Vw(t)||dR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dR(t){return IC(t.x)||IC(t.y)}function IC(t){return t&&t!=="0%"}function Qp(t,e,s){const r=t-s,a=e*r;return s+a}function LC(t,e,s,r,a){return a!==void 0&&(t=Qp(t,a,r)),Qp(t,s,r)+e}function Gw(t,e=0,s=1,r,a){t.min=LC(t.min,e,s,r,a),t.max=LC(t.max,e,s,r,a)}function uR(t,{x:e,y:s}){Gw(t.x,e.translate,e.scale,e.originPoint),Gw(t.y,s.translate,s.scale,s.originPoint)}const OC=.999999999999,PC=1.0000000000001;function lH(t,e,s,r=!1){const a=s.length;if(!a)return;e.x=e.y=1;let i,o;for(let c=0;c<a;c++){i=s[c],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&v0(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uR(t,o)),r&&Nc(i.latestValues)&&v0(t,i.latestValues))}e.x<PC&&e.x>OC&&(e.x=1),e.y<PC&&e.y>OC&&(e.y=1)}function b0(t,e){t.min=t.min+e,t.max=t.max+e}function FC(t,e,s,r,a=.5){const i=ds(t.min,t.max,a);Gw(t,e,s,i,r)}function v0(t,e){FC(t.x,e.x,e.scaleX,e.scale,e.originX),FC(t.y,e.y,e.scaleY,e.scale,e.originY)}function hR(t,e){return cR(oH(t.getBoundingClientRect(),e))}function cH(t,e,s){const r=hR(t,s),{scroll:a}=e;return a&&(b0(r.x,a.offset.x),b0(r.y,a.offset.y)),r}const zC=()=>({translate:0,scale:1,origin:0,originPoint:0}),y0=()=>({x:zC(),y:zC()}),UC=()=>({min:0,max:0}),vs=()=>({x:UC(),y:UC()}),qw={current:null},fR={current:!1};function dH(){if(fR.current=!0,!!e5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qw.current=t.matches;t.addEventListener("change",e),e()}else qw.current=!1}const uH=new WeakMap;function hH(t,e,s){for(const r in e){const a=e[r],i=s[r];if(xn(a))t.addValue(r,a);else if(xn(i))t.addValue(r,Tu(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(r);t.addValue(r,Tu(o!==void 0?o:a,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const $C=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fH{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Gn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ss.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Fb(s),this.isVariantNode=ZT(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const g in x){const p=x[g];d[g]!==void 0&&xn(p)&&p.set(d[g])}}mount(e){var s;this.current=e,uH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),fR.current||dH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qw.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Il(this.notifyUpdate),Il(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Hu.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ss.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ru){const s=Ru[e];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<$C.length;r++){const a=$C[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=hH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Tu(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(aT(r)||oT(r))?r=parseFloat(r):!j$(r)&&Ll.test(s)&&(r=$T(e,s)),this.setBaseTarget(e,xn(r)?r.get():r)),xn(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var i;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=T5(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new a5),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){y5.render(this.render)}}class mR extends fH{constructor(){super(...arguments),this.KeyframeResolver=u$}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function xR(t,{style:e,vars:s},r,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,r);for(o in s)i.setProperty(o,s[o])}function mH(t){return window.getComputedStyle(t)}class xH extends mR{constructor(){super(...arguments),this.type="html",this.renderInstance=xR}readValueFromInstance(e,s){var r;if(Hu.has(s))return(r=this.projection)!=null&&r.isProjecting?Ow(s):RU(e,s);{const a=mH(e),i=(l5(s)?a.getPropertyValue(s):a[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return hR(e,s)}build(e,s,r){A5(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return R5(e,s,r)}}const gR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gH(t,e,s,r){xR(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(gR.has(a)?a:M5(a),e.attrs[a])}class pH extends mR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vs}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Hu.has(s)){const r=UT(s);return r&&r.default||0}return s=gR.has(s)?s:M5(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return aR(e,s,r)}build(e,s,r){tR(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,a){gH(e,s,r,a)}mount(e){this.isSVGTag=nR(e.tagName),super.mount(e)}}const bH=(t,e)=>S5(t)?new pH(e):new xH(e,{allowProjection:t!==k.Fragment});function T0(t,e,s){const r=t.getProps();return T5(r,e,s!==void 0?s:r.custom,t)}const Ww=t=>Array.isArray(t);function vH(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Tu(s))}function yH(t){return Ww(t)?t[t.length-1]||0:t}function wH(t,e){const s=T0(t,e);let{transitionEnd:r={},transition:a={},...i}=s||{};i={...i,...r};for(const o in i){const c=yH(i[o]);vH(t,o,c)}}function NH(t){return!!(xn(t)&&t.add)}function Yw(t,e){const s=t.getValue("willChange");if(NH(s))return s.add(e);if(!s&&uo.WillChange){const r=new uo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pR(t){return t.props[iR]}const jH=t=>t!==null;function CH(t,{repeat:e,repeatType:s="loop"},r){const a=t.filter(jH),i=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[i]}const kH={type:"spring",stiffness:500,damping:25,restSpeed:10},AH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),EH={type:"keyframes",duration:.8},SH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TH=(t,{keyframes:e})=>e.length>2?EH:Hu.has(t)?t.startsWith("scale")?AH(e[1]):kH:SH;function RH({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const D5=(t,e,s,r={},a,i)=>o=>{const c=b5(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Za(d);const f={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:a};RH(c)||Object.assign(f,TH(t,f)),f.duration&&(f.duration=Za(f.duration)),f.repeatDelay&&(f.repeatDelay=Za(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let x=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&($w(f),f.delay===0&&(x=!0)),(uo.instantAnimations||uo.skipAnimations)&&(x=!0,$w(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,x&&!i&&e.get()!==void 0){const g=CH(f.keyframes,c);if(g!==void 0){ss.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new g5(f):new JU(f)};function MH({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function bR(t,e,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(i=r);const d=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const f in c){const x=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&MH(h,f))continue;const p={delay:s,...b5(i||{},f)},v=x.get();if(v!==void 0&&!x.isAnimating&&!Array.isArray(g)&&g===v&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const A=pR(t);if(A){const j=window.MotionHandoffAnimation(A,f,ss);j!==null&&(p.startTime=j,y=!0)}}Yw(t,f),x.start(D5(f,x,g,t.shouldReduceMotion&&PT.has(f)?{type:!1}:p,t,y));const w=x.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{ss.update(()=>{o&&wH(t,o)})}),d}function vR(t,e,s,r=0,a=1){const i=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),o=t.size,c=(o-1)*r;return typeof s=="function"?s(i,o):a===1?i*r:c-i*r}function Qw(t,e,s={}){var d;const r=T0(t,e,s.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const i=r?()=>Promise.all(bR(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:x,staggerDirection:g}=a;return DH(t,e,h,f,x,g,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[h,f]=c==="beforeChildren"?[i,o]:[o,i];return h().then(()=>f())}else return Promise.all([i(),o(s.delay)])}function DH(t,e,s=0,r=0,a=0,i=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(Qw(d,e,{...o,delay:s+(typeof r=="function"?0:r)+vR(t.variantChildren,d,r,a,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function BH(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(i=>Qw(t,i,s));r=Promise.all(a)}else if(typeof e=="string")r=Qw(t,e,s);else{const a=typeof e=="function"?T0(t,e,s.custom):e;r=Promise.all(bR(t,a,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function yR(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const _H=k5.length;function wR(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?wR(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<_H;s++){const r=k5[s],a=t.props[r];(qf(a)||a===!1)&&(e[r]=a)}return e}const IH=[...C5].reverse(),LH=C5.length;function OH(t){return e=>Promise.all(e.map(({animation:s,options:r})=>BH(t,s,r)))}function PH(t){let e=OH(t),s=HC(),r=!0;const a=d=>(h,f)=>{var g;const x=T0(t,f,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(x){const{transition:p,transitionEnd:v,...y}=x;h={...h,...y,...v}}return h};function i(d){e=d(t)}function o(d){const{props:h}=t,f=wR(t.parent)||{},x=[],g=new Set;let p={},v=1/0;for(let w=0;w<LH;w++){const A=IH[w],j=s[A],C=h[A]!==void 0?h[A]:f[A],S=qf(C),E=A===d?j.isActive:null;E===!1&&(v=w);let M=C===f[A]&&C!==h[A]&&S;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),j.protectedKeys={...p},!j.isActive&&E===null||!C&&!j.prevProp||Pb(C)||typeof C=="boolean")continue;const R=FH(j.prevProp,C);let _=R||A===d&&j.isActive&&!M&&S||w>v&&S,I=!1;const D=Array.isArray(C)?C:[C];let B=D.reduce(a(A),{});E===!1&&(B={});const{prevResolvedValues:O={}}=j,$={...O,...B},Y=V=>{_=!0,g.has(V)&&(I=!0,g.delete(V)),j.needsAnimating[V]=!0;const X=t.getValue(V);X&&(X.liveStyle=!1)};for(const V in $){const X=B[V],ee=O[V];if(p.hasOwnProperty(V))continue;let F=!1;Ww(X)&&Ww(ee)?F=!yR(X,ee):F=X!==ee,F?X!=null?Y(V):g.add(V):X!==void 0&&g.has(V)?Y(V):j.protectedKeys[V]=!0}j.prevProp=C,j.prevResolvedValues=B,j.isActive&&(p={...p,...B}),r&&t.blockInitialAnimation&&(_=!1);const H=M&&R;_&&(!H||I)&&x.push(...D.map(V=>{const X={type:A};if(typeof V=="string"&&r&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,F=T0(ee,V);if(ee.enteringChildren&&F){const{delayChildren:z}=F.transition||{};X.delay=vR(ee.enteringChildren,t,z)}}return{animation:V,options:X}}))}if(g.size){const w={};if(typeof h.initial!="boolean"){const A=T0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(w.transition=A.transition)}g.forEach(A=>{const j=t.getBaseTarget(A),C=t.getValue(A);C&&(C.liveStyle=!0),w[A]=j??null}),x.push({animation:w})}let y=!!x.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(x):Promise.resolve()}function c(d,h){var x;if(s[d].isActive===h)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(g=>{var p;return(p=g.animationState)==null?void 0:p.setActive(d,h)}),s[d].isActive=h;const f=o(d);for(const g in s)s[g].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>s,reset:()=>{s=HC(),r=!0}}}function FH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yR(e,t):!1}function fc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HC(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class $l{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zH extends $l{constructor(e){super(e),e.animationState||(e.animationState=PH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let UH=0;class $H extends $l{constructor(){super(...arguments),this.id=UH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HH={animation:{Feature:zH},exit:{Feature:$H}};function Yf(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Im(t){return{point:{x:t.pageX,y:t.pageY}}}const VH=t=>e=>w5(e)&&t(e,Im(e));function vf(t,e,s,r){return Yf(t,e,VH(s),r)}const NR=1e-4,GH=1-NR,qH=1+NR,jR=.01,WH=0-jR,YH=0+jR;function En(t){return t.max-t.min}function QH(t,e,s){return Math.abs(t-e)<=s}function VC(t,e,s,r=.5){t.origin=r,t.originPoint=ds(e.min,e.max,t.origin),t.scale=En(s)/En(e),t.translate=ds(s.min,s.max,t.origin)-t.originPoint,(t.scale>=GH&&t.scale<=qH||isNaN(t.scale))&&(t.scale=1),(t.translate>=WH&&t.translate<=YH||isNaN(t.translate))&&(t.translate=0)}function yf(t,e,s,r){VC(t.x,e.x,s.x,r?r.originX:void 0),VC(t.y,e.y,s.y,r?r.originY:void 0)}function GC(t,e,s){t.min=s.min+e.min,t.max=t.min+En(e)}function KH(t,e,s){GC(t.x,e.x,s.x),GC(t.y,e.y,s.y)}function qC(t,e,s){t.min=e.min-s.min,t.max=t.min+En(e)}function wf(t,e,s){qC(t.x,e.x,s.x),qC(t.y,e.y,s.y)}function Rr(t){return[t("x"),t("y")]}const CR=({current:t})=>t?t.ownerDocument.defaultView:null,WC=(t,e)=>Math.abs(t-e);function XH(t,e){const s=WC(t.x,e.x),r=WC(t.y,e.y);return Math.sqrt(s**2+r**2)}class kR{constructor(e,s,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=_y(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=XH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:y}=g,{timestamp:w}=Zs;this.history.push({...y,timestamp:w});const{onStart:A,onMove:j}=this.handlers;p||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,p)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=By(p,this.transformPagePoint),ss.update(this.updatePoint,!0)},this.handlePointerUp=(g,p)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=_y(g.type==="pointercancel"?this.lastMoveEventInfo:By(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,A),y&&y(g,A)},!w5(e))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const c=Im(e),d=By(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=Zs;this.history=[{...h,timestamp:f}];const{onSessionStart:x}=s;x&&x(e,_y(d,this.history)),this.removeListeners=Dm(vf(this.contextWindow,"pointermove",this.handlePointerMove),vf(this.contextWindow,"pointerup",this.handlePointerUp),vf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Il(this.updatePoint)}}function By(t,e){return e?{point:e(t.point)}:t}function YC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _y({point:t},e){return{point:t,delta:YC(t,AR(e)),offset:YC(t,ZH(e)),velocity:JH(e,.1)}}function ZH(t){return t[0]}function AR(t){return t[t.length-1]}function JH(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const a=AR(t);for(;s>=0&&(r=t[s],!(a.timestamp-r.timestamp>Za(e)));)s--;if(!r)return{x:0,y:0};const i=Ja(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eV(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?ds(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?ds(s,t,r.max):Math.min(t,s)),t}function QC(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function tV(t,{top:e,left:s,bottom:r,right:a}){return{x:QC(t.x,s,a),y:QC(t.y,e,r)}}function KC(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function sV(t,e){return{x:KC(t.x,e.x),y:KC(t.y,e.y)}}function nV(t,e){let s=.5;const r=En(t),a=En(e);return a>r?s=Hf(e.min,e.max-r,t.min):r>a&&(s=Hf(t.min,t.max-a,e.min)),co(0,1,s)}function rV(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Kw=.35;function aV(t=Kw){return t===!1?t=0:t===!0&&(t=Kw),{x:XC(t,"left","right"),y:XC(t,"top","bottom")}}function XC(t,e,s){return{min:ZC(t,e),max:ZC(t,s)}}function ZC(t,e){return typeof t=="number"?t:t[e]||0}const iV=new WeakMap;class oV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Im(x).point)},o=(x,g)=>{const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x$(p),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(A=>{let j=this.getAxisMotionValue(A).get()||0;if(ei.test(j)){const{projection:C}=this.visualElement;if(C&&C.layout){const S=C.layout.layoutBox[A];S&&(j=En(S)*(parseFloat(j)/100))}}this.originPoint[A]=j}),y&&ss.postRender(()=>y(x,g)),Yw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:A}=g;if(v&&this.currentDirection===null){this.currentDirection=lV(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),w&&w(x,g)},d=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g,this.stop(x,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Rr(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new kR(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:CR(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,a=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&ss.postRender(()=>c(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:a}=this.getProps();if(!r||!og(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=eV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&p0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=tV(r.layoutBox,e):this.constraints=!1,this.elastic=aV(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!p0(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=cH(r,a.root,this.visualElement.getTransformPagePoint());let o=sV(a.layout.layoutBox,i);if(s){const c=s(iH(o));this.hasMutatedConstraints=!!c,c&&(o=cR(c))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Rr(f=>{if(!og(f,s,this.currentDirection))return;let x=d&&d[f]||{};o&&(x={min:0,max:0});const g=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(f,v)});return Promise.all(h).then(c)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Yw(this.visualElement,e),r.start(D5(e,r,0,s,this.visualElement,!1))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rr(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rr(s=>{const{drag:r}=this.getProps();if(!og(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[s];i.set(e[s]-ds(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!p0(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();a[o]=nV({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rr(o=>{if(!og(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(ds(d,h,a[o]))})}addListeners(){if(!this.visualElement.current)return;iV.set(this.visualElement,this);const e=this.visualElement.current,s=vf(e,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();p0(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ss.read(r);const o=Yf(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Rr(f=>{const x=this.getAxisMotionValue(f);x&&(this.originPoint[f]+=d[f].translate,x.set(x.get()+d[f].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Kw,dragMomentum:c=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function og(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function lV(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class cV extends $l{constructor(e){super(e),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new oV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const JC=t=>(e,s)=>{t&&ss.postRender(()=>t(e,s))};class dV extends $l{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(e){this.session=new kR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:JC(e),onStart:JC(s),onMove:r,onEnd:(i,o)=>{delete this.session,a&&ss.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=vf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $g={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ek(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const s=ek(t,e.target.x),r=ek(t,e.target.y);return`${s}% ${r}%`}},uV={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,a=Ll.parse(t);if(a.length>5)return r;const i=Ll.createTransformer(t),o=typeof a[0]!="number"?1:0,c=s.x.scale*e.x,d=s.y.scale*e.y;a[0+o]/=c,a[1+o]/=d;const h=ds(c,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=h),typeof a[3+o]=="number"&&(a[3+o]/=h),i(a)}};let Iy=!1;class hV extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=e;_$(fV),i&&(s.group&&s.group.add(i),r&&r.register&&a&&r.register(i),Iy&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$g.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Iy=!0,a||e.layoutDependency!==s||s===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ss.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=e;Iy=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ER(t){const[e,s]=QT(),r=k.useContext(Z4);return n.jsx(hV,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(oR),isPresent:e,safeToRemove:s})}const fV={borderRadius:{...Qh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qh,borderTopRightRadius:Qh,borderBottomLeftRadius:Qh,borderBottomRightRadius:Qh,boxShadow:uV};function mV(t,e,s){const r=xn(t)?t:Tu(t);return r.start(D5("",r,e,s)),r.animation}const xV=(t,e)=>t.depth-e.depth;class gV{constructor(){this.children=[],this.isDirty=!1}add(e){t5(this.children,e),this.isDirty=!0}remove(e){s5(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xV),this.isDirty=!1,this.children.forEach(e)}}function pV(t,e){const s=Gn.now(),r=({timestamp:a})=>{const i=a-s;i>=e&&(Il(r),t(i-e))};return ss.setup(r,!0),()=>Il(r)}const SR=["TopLeft","TopRight","BottomLeft","BottomRight"],bV=SR.length,tk=t=>typeof t=="string"?parseFloat(t):t,sk=t=>typeof t=="number"||Ke.test(t);function vV(t,e,s,r,a,i){a?(t.opacity=ds(0,s.opacity??1,yV(r)),t.opacityExit=ds(e.opacity??1,0,wV(r))):i&&(t.opacity=ds(e.opacity??1,s.opacity??1,r));for(let o=0;o<bV;o++){const c=`border${SR[o]}Radius`;let d=nk(e,c),h=nk(s,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||sk(d)===sk(h)?(t[c]=Math.max(ds(tk(d),tk(h),r),0),(ei.test(h)||ei.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||s.rotate)&&(t.rotate=ds(e.rotate||0,s.rotate||0,r))}function nk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yV=TR(0,.5,xT),wV=TR(.5,.95,$r);function TR(t,e,s){return r=>r<t?0:r>e?1:s(Hf(t,e,r))}function rk(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){rk(t.x,e.x),rk(t.y,e.y)}function ak(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ik(t,e,s,r,a){return t-=e,t=Qp(t,1/s,r),a!==void 0&&(t=Qp(t,1/a,r)),t}function NV(t,e=0,s=1,r=.5,a,i=t,o=t){if(ei.test(e)&&(e=parseFloat(e),e=ds(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=ds(i.min,i.max,r);t===i&&(c-=e),t.min=ik(t.min,e,s,c,a),t.max=ik(t.max,e,s,c,a)}function ok(t,e,[s,r,a],i,o){NV(t,e[s],e[r],e[a],e.scale,i,o)}const jV=["x","scaleX","originX"],CV=["y","scaleY","originY"];function lk(t,e,s,r){ok(t.x,e,jV,s?s.x:void 0,r?r.x:void 0),ok(t.y,e,CV,s?s.y:void 0,r?r.y:void 0)}function ck(t){return t.translate===0&&t.scale===1}function RR(t){return ck(t.x)&&ck(t.y)}function dk(t,e){return t.min===e.min&&t.max===e.max}function kV(t,e){return dk(t.x,e.x)&&dk(t.y,e.y)}function uk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MR(t,e){return uk(t.x,e.x)&&uk(t.y,e.y)}function hk(t){return En(t.x)/En(t.y)}function fk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AV{constructor(){this.members=[]}add(e){t5(this.members,e),e.scheduleRender()}remove(e){if(s5(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EV(t,e,s){let r="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:h,rotate:f,rotateX:x,rotateY:g,skewX:p,skewY:v}=s;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),x&&(r+=`rotateX(${x}deg) `),g&&(r+=`rotateY(${g}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Ly=["","X","Y","Z"],SV=1e3;let TV=0;function Oy(t,e,s,r){const{latestValues:a}=e;a[t]&&(s[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=pR(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ss,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DR(r)}function BR({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},c=e==null?void 0:e()){this.id=TV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DV),this.nodes.forEach(LV),this.nodes.forEach(OV),this.nodes.forEach(BV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new gV)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new a5),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=YT(o)&&!w$(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let f,x=0;const g=()=>this.root.updateBlockedByResize=!1;ss.read(()=>{x=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==x&&(x=p,this.root.updateBlockedByResize=!0,f&&f(),f=pV(g,250),$g.hasAnimatedSinceResize&&($g.hasAnimatedSinceResize=!1,this.nodes.forEach(gk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:x,hasRelativeLayoutChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||$V,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=h.getProps(),A=!this.targetLayout||!MR(this.targetLayout,p),j=!x&&g;if(this.options.layoutRoot||this.resumeFrom||j||x&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...b5(v,"layout"),onPlay:y,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,j)}else x||gk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Il(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const x=this.path[f];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IV),this.nodes.forEach(RV),this.nodes.forEach(MV)):this.nodes.forEach(xk),this.clearAllSnapshots();const c=Gn.now();Zs.delta=co(0,1e3/60,c-Zs.timestamp),Zs.timestamp=c,Zs.isProcessing=!0,Ay.update.process(Zs),Ay.preRender.process(Zs),Ay.render.process(Zs),Zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_V),this.sharedNodes.forEach(FV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ss.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ss.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!RR(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||Nc(this.latestValues)||f)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),HV(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return vs();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(VV))){const{scroll:f}=this.root;f&&(b0(c.x,f.offset.x),b0(c.y,f.offset.y))}return c}removeElementScroll(o){var d;const c=vs();if(Sr(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:x,options:g}=f;f!==this.root&&x&&g.layoutScroll&&(x.wasRoot&&Sr(c,o),b0(c.x,x.offset.x),b0(c.y,x.offset.y))}return c}applyTransform(o,c=!1){const d=vs();Sr(d,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&v0(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Nc(f.latestValues)&&v0(d,f.latestValues)}return Nc(this.latestValues)&&v0(d,this.latestValues),d}removeTransform(o){const c=vs();Sr(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Nc(h.latestValues))continue;Vw(h.latestValues)&&h.updateSnapshot();const f=vs(),x=h.measurePageBox();Sr(f,x),lk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Nc(this.latestValues)&&lk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:x}=this.options;if(!(!this.layout||!(f||x))){if(this.resolvedRelativeTargetAt=Zs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vs(),this.relativeTargetOrigin=vs(),wf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vs(),this.targetWithTransforms=vs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),uR(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vs(),this.relativeTargetOrigin=vs(),wf(this.relativeTargetOrigin,this.target,p.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vw(this.parent.latestValues)||dR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Zs.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Sr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,g=this.treeScale.y;lH(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=vs());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ak(this.prevProjectionDelta.x,this.projectionDelta.x),ak(this.prevProjectionDelta.y,this.projectionDelta.y)),yf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==g||!fk(this.projectionDelta.x,this.prevProjectionDelta.x)||!fk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=y0(),this.projectionDelta=y0(),this.projectionDeltaWithTransform=y0()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},x=y0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=vs(),p=d?d.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,w=this.getStack(),A=!w||w.members.length<=1,j=!!(y&&!A&&this.options.crossfade===!0&&!this.path.some(UV));this.animationProgress=0;let C;this.mixTargetDelta=S=>{const E=S/1e3;pk(x.x,o.x,E),pk(x.y,o.y,E),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wf(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zV(this.relativeTarget,this.relativeTargetOrigin,g,E),C&&kV(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=vs()),Sr(C,this.relativeTarget)),y&&(this.animationValues=f,vV(f,h,this.latestValues,E,j,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Il(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ss.update(()=>{$g.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tu(0)),this.currentAnimation=mV(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:f}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&_R(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||vs();const x=En(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+x;const g=En(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Sr(c,d),v0(c,f),yf(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new AV),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Oy("z",o,h,this.animationValues);for(let f=0;f<Ly.length;f++)Oy(`rotate${Ly[f]}`,o,h,this.animationValues),Oy(`skew${Ly[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ug(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ug(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Nc(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let x=EV(this.projectionDeltaWithTransform,this.treeScale,f);d&&(x=d(f,x)),o.transform=x;const{x:g,y:p}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Wf){if(f[v]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:A}=Wf[v],j=x==="none"?f[v]:y(f[v],h);if(w){const C=w.length;for(let S=0;S<C;S++)o[w[S]]=j}else A?this.options.visualElement.renderState.vars[v]=j:o[v]=j}this.options.layoutId&&(o.pointerEvents=h===this?Ug(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(mk),this.root.sharedNodes.clear()}}}function RV(t){t.updateLayout()}function MV(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Rr(x=>{const g=o?e.measuredBox[x]:e.layoutBox[x],p=En(g);g.min=r[x].min,g.max=g.min+p}):_R(i,e.layoutBox,r)&&Rr(x=>{const g=o?e.measuredBox[x]:e.layoutBox[x],p=En(r[x]);g.max=g.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+p)});const c=y0();yf(c,r,e.layoutBox);const d=y0();o?yf(d,t.applyTransform(a,!0),e.measuredBox):yf(d,r,e.layoutBox);const h=!RR(c);let f=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:g,layout:p}=x;if(g&&p){const v=vs();wf(v,e.layoutBox,g.layoutBox);const y=vs();wf(y,r,p.layoutBox),MR(v,y)||(f=!0),x.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function DV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _V(t){t.clearSnapshot()}function mk(t){t.clearMeasurements()}function xk(t){t.isLayoutDirty=!1}function IV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LV(t){t.resolveTargetDelta()}function OV(t){t.calcProjection()}function PV(t){t.resetSkewAndRotation()}function FV(t){t.removeLeadSnapshot()}function pk(t,e,s){t.translate=ds(e.translate,0,s),t.scale=ds(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function bk(t,e,s,r){t.min=ds(e.min,s.min,r),t.max=ds(e.max,s.max,r)}function zV(t,e,s,r){bk(t.x,e.x,s.x,r),bk(t.y,e.y,s.y,r)}function UV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $V={duration:.45,ease:[.4,0,.1,1]},vk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yk=vk("applewebkit/")&&!vk("chrome/")?Math.round:$r;function wk(t){t.min=yk(t.min),t.max=yk(t.max)}function HV(t){wk(t.x),wk(t.y)}function _R(t,e,s){return t==="position"||t==="preserve-aspect"&&!QH(hk(e),hk(s),.2)}function VV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const GV=BR({attachResizeListener:(t,e)=>Yf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Py={current:void 0},IR=BR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Py.current){const t=new GV({});t.mount(window),t.setOptions({layoutScroll:!0}),Py.current=t}return Py.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qV={pan:{Feature:dV},drag:{Feature:cV,ProjectionNode:IR,MeasureLayout:ER}};function Nk(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,i=r[a];i&&ss.postRender(()=>i(e,Im(e)))}class WV extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=g$(e,(s,r)=>(Nk(this.node,r,"Start"),a=>Nk(this.node,a,"End"))))}unmount(){}}class YV extends $l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dm(Yf(this.node.current,"focus",()=>this.onFocus()),Yf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jk(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),i=r[a];i&&ss.postRender(()=>i(e,Im(e)))}class QV extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=y$(e,(s,r)=>(jk(this.node,r,"Start"),(a,{success:i})=>jk(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xw=new WeakMap,Fy=new WeakMap,KV=t=>{const e=Xw.get(t.target);e&&e(t)},XV=t=>{t.forEach(KV)};function ZV({root:t,...e}){const s=t||document;Fy.has(s)||Fy.set(s,{});const r=Fy.get(s),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(XV,{root:t,...e})),r[a]}function JV(t,e,s){const r=ZV(e);return Xw.set(t,s),r.observe(t),()=>{Xw.delete(t),r.unobserve(t)}}const eG={some:0,all:1};class tG extends $l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:i}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:eG[a]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:x}=this.node.getProps(),g=h?f:x;g&&g(d)};return JV(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(sG(e,s))&&this.startObserver()}unmount(){}}function sG({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const nG={inView:{Feature:tG},tap:{Feature:QV},focus:{Feature:YV},hover:{Feature:WV}},rG={layout:{ProjectionNode:IR,MeasureLayout:ER}},aG={...HH,...nG,...qV,...rG},Je=aH(aG,bH),iG=({isActive:t,onComplete:e,duration:s=1200})=>{const[r,a]=k.useState("idle");return k.useEffect(()=>{t&&r==="idle"&&(a("lifting"),setTimeout(()=>{a("sliding")},300),setTimeout(()=>{a("complete"),e==null||e()},s))},[t,r,s,e]),k.useEffect(()=>{t||a("idle")},[t]),!t&&r==="idle"?null:n.jsx(j5,{children:t&&n.jsxs(Je.div,{className:"fixed inset-0 z-[9999] overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsx(Je.div,{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}}),n.jsxs(Je.div,{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-900",initial:{x:0,rotateY:0},animate:{x:r==="sliding"?"-100%":0,rotateY:r==="lifting"?-5:r==="sliding"?-45:0,scale:r==="lifting"?1.02:1,z:r==="lifting"?50:0},transition:{type:"spring",stiffness:100,damping:20,duration:r==="sliding"?.8:.3},style:{transformOrigin:"right center",transformStyle:"preserve-3d"},children:[n.jsx("div",{className:"p-8 h-full flex flex-col justify-center items-center text-white",children:n.jsxs("div",{className:"max-w-4xl text-center space-y-6",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 text-transparent bg-clip-text",children:"How It Works"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Transform academic credentials into verifiable blockchain certificates"}),n.jsx("div",{className:"space-y-4 mt-12",children:[...Array(6)].map((i,o)=>n.jsx(Je.div,{className:"h-2 bg-gradient-to-r from-cyan-400/30 to-blue-400/30 rounded-full mx-auto",style:{width:`${60+Math.random()*40}%`},initial:{opacity:1,scaleX:1},animate:{opacity:r==="sliding"?0:1,scaleX:r==="sliding"?.8:1},transition:{delay:o*.1}},o))})]})}),n.jsx(Je.div,{className:"absolute top-0 right-0 w-32 h-32",initial:{opacity:0},animate:{opacity:r==="lifting"?.6:0},style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%)",clipPath:"polygon(100% 0%, 0% 100%, 100% 100%)"}}),n.jsx(Je.div,{className:"absolute inset-0 bg-black/20",initial:{opacity:0},animate:{opacity:r==="lifting"?.3:0},style:{background:"linear-gradient(to left, rgba(0,0,0,0.3) 0%, transparent 10%)"}})]}),n.jsxs(Je.div,{className:"absolute inset-0 bg-gradient-to-br from-black via-gray-900 to-black",initial:{x:"100%"},animate:{x:r==="sliding"?0:"100%"},transition:{type:"spring",stiffness:120,damping:25,delay:.2},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-cyan-500/5"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"})]}),n.jsx("div",{className:"relative p-8 h-full flex flex-col justify-center items-center z-10",children:n.jsxs(Je.div,{className:"max-w-4xl text-center space-y-8",initial:{opacity:0,y:30},animate:{opacity:r==="sliding"?1:0,y:r==="sliding"?0:30},transition:{delay:.5,duration:.6},children:[n.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[n.jsx(Je.div,{className:"text-6xl filter drop-shadow-lg",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,delay:1},children:"📚"}),n.jsx("h1",{className:"text-5xl md:text-7xl font-black bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 text-transparent bg-clip-text drop-shadow-lg",children:"Documentation"})]}),n.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed",children:["Complete guides, API references, and examples for",n.jsx("span",{className:"text-transparent bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text font-semibold",children:" blockchain certificate management"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[{icon:"🚀",title:"Getting Started",desc:"Quick setup guide",gradient:"from-cyan-400 to-blue-500"},{icon:"⚡",title:"API Reference",desc:"Complete API docs",gradient:"from-blue-400 to-purple-500"},{icon:"💡",title:"Examples",desc:"Code examples",gradient:"from-purple-400 to-pink-500"},{icon:"📖",title:"Guides",desc:"Step-by-step tutorials",gradient:"from-pink-400 to-cyan-500"}].map((i,o)=>n.jsx(Je.div,{className:"relative group",initial:{opacity:0,y:20,scale:.9},animate:{opacity:r==="sliding"?1:0,y:r==="sliding"?0:20,scale:r==="sliding"?1:.9},transition:{delay:.7+o*.1},whileHover:{scale:1.05,y:-5},children:n.jsxs("div",{className:"relative p-6 rounded-2xl backdrop-blur-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-2xl overflow-hidden",children:[n.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${i.gradient} rounded-2xl blur-xl opacity-0 group-hover:opacity-20 transition-opacity duration-500`}),n.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r ${i.gradient} rounded-2xl opacity-10 group-hover:opacity-30 transition-opacity duration-300`}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"text-3xl mb-3 filter drop-shadow-lg",children:i.icon}),n.jsx("h3",{className:`text-lg font-bold mb-2 bg-gradient-to-r ${i.gradient} text-transparent bg-clip-text`,children:i.title}),n.jsx("p",{className:"text-sm text-gray-400 group-hover:text-gray-300 transition-colors duration-300",children:i.desc})]}),n.jsx("div",{className:`absolute top-2 right-2 w-8 h-8 bg-gradient-to-r ${i.gradient} rounded-full opacity-20 blur-lg group-hover:opacity-40 transition-opacity duration-300`})]})},o))})]})}),n.jsx(Je.div,{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-transparent to-purple-400/10",initial:{opacity:0},animate:{opacity:r==="sliding"?1:0},transition:{duration:.3}}),n.jsx(Je.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent transform -skew-x-12",initial:{x:"-100%"},animate:{x:r==="sliding"?"100%":"-100%"},transition:{duration:1,delay:.3}})]}),n.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(15)].map((i,o)=>n.jsx(Je.div,{className:"absolute w-2 h-2 bg-cyan-400 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},initial:{opacity:0,scale:0},animate:{opacity:r==="sliding"?[0,1,0]:0,scale:r==="sliding"?[0,1,0]:0,y:r==="sliding"?[0,-100]:0},transition:{duration:1,delay:Math.random()*.5,ease:"easeOut"}},o))}),n.jsxs(Je.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex items-center space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[n.jsx(Je.div,{className:"relative w-3 h-3 bg-cyan-400 rounded-full shadow-lg",animate:{scale:r==="lifting"?[1,1.2,1]:1,opacity:r==="lifting"?[1,.7,1]:.5},transition:{duration:.5,repeat:r==="lifting"?1/0:0},children:n.jsx("div",{className:"absolute inset-0 bg-cyan-400 rounded-full blur-sm opacity-50"})}),n.jsx(Je.div,{className:"relative w-3 h-3 bg-blue-400 rounded-full shadow-lg",animate:{scale:r==="sliding"?[1,1.2,1]:1,opacity:r==="sliding"?[1,.7,1]:.5},transition:{duration:.5,repeat:r==="sliding"?1/0:0},children:n.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full blur-sm opacity-50"})}),n.jsx("span",{className:"text-transparent bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-sm font-medium tracking-wide",children:r==="lifting"?"Initializing...":r==="sliding"?"Loading Documentation...":"Ready"})]})]})})},LR=k.createContext(),oG=()=>{const t=k.useContext(LR);if(!t)throw new Error("usePageSwipe must be used within a PageSwipeProvider");return t},lG=({children:t})=>{const[e,s]=k.useState(!1),[r,a]=k.useState(null),i=yb(),o=k.useCallback(d=>{e||(a(d),s(!0),setTimeout(()=>{s(!1),a(null),d&&i(d)},1200))},[e,i]),c={isAnimating:e,triggerPageSwipe:o,setIsAnimating:s};return n.jsxs(LR.Provider,{value:c,children:[t,n.jsx(iG,{isActive:e,onComplete:()=>{},duration:1200})]})},cG=()=>{const[t,e]=k.useState(0),{isAnimating:s,triggerPageSwipe:r}=oG();k.useEffect(()=>{const i=setInterval(()=>{e(o=>(o+1)%3)},4e3);return()=>clearInterval(i)},[]);const a=[{number:"01",title:"Connect Academic Wallet",description:"Link your Ethereum wallet to access the academic certificate platform. Verify your institutional credentials to start issuing blockchain-verified certificates.",gradient:"from-blue-500 to-cyan-500",bgColor:"from-blue-900/20 to-cyan-900/10",borderColor:"border-blue-400/30",icon:"🔗",features:["Institutional Verification","Role-based Access","Secure Authentication"]},{number:"02",title:"Create Academic Certificate",description:"Design professional academic certificates with our intuitive editor. Add student details, course information, and institutional branding with customizable templates.",gradient:"from-violet-500 to-purple-500",bgColor:"from-violet-900/20 to-purple-900/10",borderColor:"border-violet-400/30",icon:"🎓",features:["Professional Templates","Student Details","Institutional Branding"]},{number:"03",title:"Mint & Verify Certificate",description:"Mint your certificate as a soulbound NFT on the blockchain. Students can instantly verify their credentials, and institutions can manage certificate lifecycle.",gradient:"from-emerald-500 to-cyan-500",bgColor:"from-emerald-900/20 to-cyan-900/10",borderColor:"border-emerald-400/30",icon:"⚡",features:["Soulbound NFT","Instant Verification","IPFS Storage"]}];return n.jsxs("section",{className:"py-12 sm:py-16 md:py-20 lg:py-24 xl:py-32 relative overflow-hidden bg-gradient-to-b from-black via-gray-900 to-black",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-cyan-500/5"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 relative z-10",children:[n.jsxs("div",{className:"text-center mb-12 sm:mb-16 md:mb-20 lg:mb-24",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-8 sm:w-12 h-px bg-gradient-to-r from-transparent via-blue-400 to-transparent"}),n.jsx("span",{className:"text-blue-400 text-sm sm:text-base font-mono tracking-wider",children:"ACADEMIC PLATFORM"}),n.jsx("div",{className:"w-8 sm:w-12 h-px bg-gradient-to-r from-transparent via-blue-400 to-transparent"})]}),n.jsx("h2",{className:"text-3xl xs:text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-7xl font-black leading-tight mb-6 sm:mb-8 max-w-4xl mx-auto",children:n.jsx("span",{className:"text-transparent bg-gradient-to-r from-blue-400 via-cyan-400 to-violet-400 bg-clip-text",children:"How It Works"})}),n.jsxs("p",{className:"max-w-xs sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-4xl mx-auto text-sm xs:text-base sm:text-lg md:text-xl lg:text-xl xl:text-xl leading-relaxed text-gray-300 px-2 sm:px-4",children:["Transform academic credentials into verifiable blockchain certificates in three simple steps.",n.jsx("br",{className:"block sm:hidden"}),n.jsx("span",{className:"text-transparent bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text font-semibold",children:"Secure, permanent, and instantly verifiable."})]})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-10 lg:gap-10 xl:gap-12 lg:items-stretch",children:a.map((i,o)=>n.jsxs("div",{className:"relative group flex",children:[o<a.length-1&&n.jsx("div",{className:"hidden lg:block absolute top-1/2 left-full w-full h-px bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-emerald-400/30 z-0"}),n.jsxs("div",{className:"relative group flex-1 flex flex-col",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white/5 via-white/2 to-transparent backdrop-blur-sm"}),n.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${i.gradient} rounded-3xl blur-xl opacity-0 group-hover:opacity-20 transition-all duration-700`}),n.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r ${i.gradient} rounded-3xl opacity-10 group-hover:opacity-30 transition-all duration-500`}),n.jsxs("div",{className:`
                                    relative p-6 xs:p-7 sm:p-8 md:p-9 lg:p-10 xl:p-11 rounded-3xl backdrop-blur-2xl border border-white/10
                                    transition-all duration-500 group-hover:border-white/20
                                    transform group-hover:-translate-y-2 group-hover:scale-[1.01]
                                    bg-gradient-to-br from-white/10 via-white/5 to-transparent
                                    shadow-2xl group-hover:shadow-4xl
                                    overflow-hidden flex flex-col h-full
                                    ${t===o?"border-white/30 shadow-3xl":""}
                                `,children:[n.jsx("div",{className:`absolute top-4 right-4 w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-28 lg:h-28 xl:w-28 xl:h-28 bg-gradient-to-r ${i.gradient} rounded-full opacity-5 blur-2xl transition-all duration-700 group-hover:scale-125 group-hover:opacity-10`}),n.jsx("div",{className:`absolute bottom-4 left-4 w-16 h-16 sm:w-18 sm:h-18 md:w-20 md:h-20 lg:w-20 lg:h-20 xl:w-20 xl:h-20 bg-gradient-to-r ${i.gradient} rounded-full opacity-5 blur-2xl transition-all duration-700 group-hover:scale-110 group-hover:opacity-10`}),n.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-6 sm:mb-7 lg:mb-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:`text-3xl xs:text-4xl sm:text-5xl md:text-5xl lg:text-6xl xl:text-6xl font-black tracking-tight leading-none bg-gradient-to-r ${i.gradient} text-transparent bg-clip-text drop-shadow-lg`,children:i.number}),n.jsx("span",{className:`absolute inset-0 bg-gradient-to-r ${i.gradient} opacity-20 blur-xl -z-10`})]}),n.jsxs("div",{className:`
                                            relative w-16 h-16 xs:w-18 xs:h-18 sm:w-20 sm:h-20 md:w-20 md:h-20 lg:w-22 lg:h-22 xl:w-24 xl:h-24 
                                            rounded-2xl bg-gradient-to-br ${i.bgColor} border border-white/20
                                            flex items-center justify-center text-xl sm:text-2xl md:text-2xl lg:text-3xl xl:text-4xl 
                                            shadow-xl backdrop-blur-sm overflow-hidden
                                            transform group-hover:rotate-12 group-hover:scale-110 
                                            transition-all duration-500
                                            ${t===o?"scale-110 rotate-6":""}
                                        `,children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${i.gradient} opacity-10`}),n.jsx("div",{className:"relative z-10",children:i.icon}),n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${i.gradient} opacity-0 group-hover:opacity-20 transition-opacity duration-300`})]})]}),n.jsxs("div",{className:"relative z-10 space-y-4 sm:space-y-5 lg:space-y-6 flex-1 flex flex-col",children:[n.jsxs("h3",{className:"relative",children:[n.jsx("span",{className:`
                                                block text-xl xs:text-2xl sm:text-2xl md:text-3xl lg:text-3xl xl:text-4xl font-black tracking-tight leading-tight mb-3
                                                ${t===o?`bg-gradient-to-r ${i.gradient} text-transparent bg-clip-text`:"text-white group-hover:text-gray-200"} transition-all duration-300
                                            `,children:i.title}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`h-1.5 bg-gradient-to-r ${i.gradient} rounded-full transform ${t===o?"scale-x-100":"scale-x-0 group-hover:scale-x-100"} origin-left transition-transform duration-500`}),n.jsx("div",{className:`absolute top-0 h-1.5 w-full bg-gradient-to-r ${i.gradient} rounded-full blur-sm opacity-0 ${t===o?"opacity-60":"group-hover:opacity-60"} transition-opacity duration-500`})]})]}),n.jsx("p",{className:"text-base xs:text-lg sm:text-lg md:text-xl lg:text-xl xl:text-xl text-gray-300/90 group-hover:text-white/95 transition-all duration-300 leading-relaxed font-light tracking-wide",children:i.description}),n.jsx("div",{className:"space-y-2 sm:space-y-3 pt-3 sm:pt-4 mt-auto",children:i.features.map((c,d)=>n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 group/feature",children:[n.jsx("div",{className:`
                                                        relative w-2 h-2 sm:w-3 sm:h-3 lg:w-3 lg:h-3 xl:w-3 xl:h-3 rounded-full 
                                                        bg-gradient-to-r ${i.gradient} 
                                                        transform group-hover/feature:scale-125 transition-transform duration-300
                                                        shadow-lg
                                                    `,children:n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${i.gradient} rounded-full blur-sm opacity-50`})}),n.jsx("span",{className:"text-sm sm:text-base lg:text-base xl:text-lg text-gray-400 group-hover/feature:text-gray-300 font-medium transition-colors duration-300",children:c})]},d))})]}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0",children:[n.jsx("div",{className:`h-1 bg-gradient-to-r ${i.gradient} transform ${t===o?"scale-x-100":"scale-x-0 group-hover:scale-x-100"} origin-left transition-transform duration-700`}),n.jsx("div",{className:`absolute bottom-0 left-0 w-8 h-8 bg-gradient-to-r ${i.gradient} opacity-0 ${t===o?"opacity-30":"group-hover:opacity-30"} transition-opacity duration-500 transform rotate-45 -translate-x-4 translate-y-4`}),n.jsx("div",{className:`absolute bottom-0 right-0 w-8 h-8 bg-gradient-to-r ${i.gradient} opacity-0 ${t===o?"opacity-30":"group-hover:opacity-30"} transition-opacity duration-500 transform rotate-45 translate-x-4 translate-y-4`})]}),n.jsx("div",{className:`absolute inset-0 opacity-0 ${t===o?"opacity-100":"group-hover:opacity-100"} transition-opacity duration-500`,children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})})]})]})]},o))}),n.jsxs("div",{className:"mt-12 sm:mt-16 lg:mt-20 flex flex-col items-center gap-6 sm:gap-8",children:[n.jsxs("div",{className:"relative group perspective-1000",children:[n.jsxs("div",{className:"absolute -inset-8 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-conic from-cyan-400 via-blue-500 via-purple-500 via-pink-500 to-cyan-400 rounded-full blur-2xl opacity-20 animate-spin-slow"}),n.jsx("div",{className:"absolute inset-4 bg-gradient-conic from-blue-400 via-purple-400 via-cyan-400 to-blue-400 rounded-full blur-xl opacity-30 animate-spin-slow-reverse"})]}),n.jsxs("div",{className:"absolute -inset-6 opacity-0 group-hover:opacity-60 transition-all duration-1500",children:[n.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-cyan-400 rounded-full animate-float",style:{animationDelay:"0s"}}),n.jsx("div",{className:"absolute top-4 right-2 w-1 h-1 bg-blue-400 rounded-full animate-float",style:{animationDelay:"0.5s"}}),n.jsx("div",{className:"absolute bottom-2 left-4 w-1.5 h-1.5 bg-purple-400 rounded-full animate-float",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-pink-400 rounded-full animate-float",style:{animationDelay:"1.5s"}}),n.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"neural-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#00f5ff",stopOpacity:"0.8"}),n.jsx("stop",{offset:"50%",stopColor:"#8b5cf6",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#f472b6",stopOpacity:"0.8"})]})}),n.jsx("path",{d:"M 10 10 Q 50 30 90 20",stroke:"url(#neural-gradient)",strokeWidth:"1",fill:"none",className:"animate-pulse"}),n.jsx("path",{d:"M 20 80 Q 60 60 100 90",stroke:"url(#neural-gradient)",strokeWidth:"1",fill:"none",className:"animate-pulse",style:{animationDelay:"0.5s"}})]})]}),n.jsx("div",{className:"absolute -inset-4 rounded-3xl bg-gradient-to-r from-cyan-500/10 via-transparent to-purple-500/10 opacity-0 group-hover:opacity-100 transition-all duration-700 backdrop-blur-sm"}),n.jsx("div",{className:"absolute -inset-2 rounded-3xl bg-gradient-to-r from-blue-400/20 via-purple-400/20 to-cyan-400/20 blur-xl opacity-0 group-hover:opacity-80 transition-all duration-1000"}),n.jsxs("div",{className:"relative transform-gpu group-hover:rotateX-2 group-hover:rotateY-2 transition-transform duration-700",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-cyan-400/30 via-blue-500/20 to-purple-500/30 blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),n.jsxs("button",{onClick:()=>r("/docs"),disabled:s,className:"relative inline-flex items-center justify-center gap-2 xs:gap-3 sm:gap-4 md:gap-5 px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 py-3 xs:py-4 sm:py-5 md:py-6 lg:py-7 rounded-2xl xs:rounded-3xl backdrop-blur-3xl border-2 border-cyan-400/30 text-white shadow-2xl hover:shadow-cyan-500/50 bg-gradient-to-br from-black/40 via-gray-900/30 to-black/40 transform hover:-translate-y-2 hover:scale-105 transition-all duration-700 overflow-hidden group relative disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{background:`
                                        linear-gradient(135deg, rgba(0,245,255,0.1) 0%, rgba(139,92,246,0.1) 50%, rgba(244,114,182,0.1) 100%),
                                        linear-gradient(45deg, rgba(0,0,0,0.8) 0%, rgba(17,24,39,0.6) 100%)
                                    `},children:[n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-scan-line"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-purple-400 to-transparent animate-scan-line",style:{animationDelay:"1s"}})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-500",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-2000"})}),n.jsx("div",{className:"w-6 h-6 xs:w-8 xs:h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 flex items-center justify-center",children:n.jsxs("div",{className:"relative w-5 h-5 xs:w-6 xs:h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-xl xs:rounded-2xl bg-gradient-to-br from-cyan-400/20 via-blue-500/20 to-purple-500/20 border border-cyan-400/40 flex items-center justify-center backdrop-blur-lg transform group-hover:rotate-45 group-hover:scale-125 transition-all duration-700 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-conic from-cyan-400/30 via-blue-500/30 to-purple-500/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 animate-spin-slow"}),n.jsx("svg",{className:"relative w-3 h-3 xs:w-4 xs:h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-cyan-400 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-glow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-cyan-400 rounded-full opacity-0 group-hover:opacity-100 animate-ping transition-opacity duration-300"})]})}),n.jsxs("div",{className:"relative flex flex-col flex-1 text-center",children:[n.jsx("span",{className:"font-black tracking-tight text-base xs:text-lg sm:text-xl md:text-2xl lg:text-2xl bg-gradient-to-r from-cyan-300 via-blue-300 to-purple-300 text-transparent bg-clip-text group-hover:from-cyan-200 group-hover:via-blue-200 group-hover:to-purple-200 transition-all duration-500 drop-shadow-lg",children:"Documentation"}),n.jsx("span",{className:"text-xs xs:text-xs sm:text-sm md:text-sm text-cyan-400/80 font-medium tracking-widest uppercase opacity-0 group-hover:opacity-100 transition-all duration-500 delay-200",children:"EXPLORE GUIDES"})]}),n.jsx("div",{className:"w-6 h-6 xs:w-8 xs:h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 flex items-center justify-center",children:n.jsxs("div",{className:"relative w-5 h-5 xs:w-6 xs:h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-cyan-400/20 to-purple-400/20 border border-cyan-400/40 flex items-center justify-center transform group-hover:rotate-90 transition-all duration-700",children:[n.jsx("svg",{className:"w-3 h-3 xs:w-3 xs:h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-cyan-400 transform group-hover:scale-125 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),n.jsx("div",{className:"absolute -right-2 w-12 h-0.5 bg-gradient-to-r from-cyan-400 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 delay-300"})]})}),n.jsx("div",{className:"absolute inset-0 rounded-3xl border border-cyan-400/20 group-hover:border-cyan-400/60 transition-all duration-500"}),n.jsx("div",{className:"absolute inset-0 rounded-3xl border border-purple-400/20 group-hover:border-purple-400/40 transition-all duration-700 delay-200"})]})]})]}),n.jsxs("div",{className:"inline-flex items-center flex-wrap justify-center gap-4 sm:gap-6 lg:gap-6 text-gray-400 text-sm sm:text-base lg:text-base",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"relative w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full shadow-lg",children:n.jsx("div",{className:"absolute inset-0 bg-green-400 rounded-full blur-sm opacity-50"})}),n.jsx("span",{children:"Academic Institutions"})]}),n.jsx("div",{className:"w-px h-4 sm:h-5 bg-gray-700 hidden sm:block"}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"relative w-2 h-2 sm:w-3 sm:h-3 bg-blue-400 rounded-full shadow-lg",children:n.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full blur-sm opacity-50"})}),n.jsx("span",{children:"Blockchain Verified"})]}),n.jsx("div",{className:"w-px h-4 sm:h-5 bg-gray-700 hidden sm:block"}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"relative w-2 h-2 sm:w-3 sm:h-3 bg-purple-400 rounded-full shadow-lg",children:n.jsx("div",{className:"absolute inset-0 bg-purple-400 rounded-full blur-sm opacity-50"})}),n.jsx("span",{children:"Instant Verification"})]})]})]})]})]})},dG="modulepreload",uG=function(t){return"/"+t},Ck={},Fr=function(e,s,r){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(s.map(d=>{if(d=uG(d),d in Ck)return;Ck[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":dG,h||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),h)return new Promise((g,p)=>{x.addEventListener("load",g),x.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},zb=()=>{const[t,e]=k.useState(""),[s,r]=k.useState({isAdmin:!1,isInstitution:!1,isConnected:!1,isLoading:!1}),[a,i]=k.useState(null),[o,c]=k.useState({INSTITUTION_ROLE:null,DEFAULT_ADMIN_ROLE:null}),d=k.useCallback(async p=>{if(!window.ethereum||!p){r(v=>({...v,isAdmin:!1,isInstitution:!1})),c({INSTITUTION_ROLE:null,DEFAULT_ADMIN_ROLE:null});return}try{r(S=>({...S,isLoading:!0}));const v=new Xe(window.ethereum),y=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,v);i(y);const w=await y.DEFAULT_ADMIN_ROLE(),A=await y.INSTITUTION_ROLE();c({DEFAULT_ADMIN_ROLE:w,INSTITUTION_ROLE:A});const[j,C]=await Promise.all([y.hasRole(w,p),y.hasRole(A,p)]);r({isAdmin:j,isInstitution:C,isConnected:!0,isLoading:!1})}catch(v){console.error("Error checking roles:",v),r(y=>({...y,isAdmin:!1,isInstitution:!1,isLoading:!1})),c({INSTITUTION_ROLE:null,DEFAULT_ADMIN_ROLE:null})}},[]),h=k.useCallback(async()=>{if(window.ethereum)try{const p=new Xe(window.ethereum),v=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,p);i(v);const y=await v.DEFAULT_ADMIN_ROLE(),w=await v.INSTITUTION_ROLE();c({DEFAULT_ADMIN_ROLE:y,INSTITUTION_ROLE:w}),console.log("Public contract initialized for landing page access")}catch(p){console.error("Error initializing public contract:",p)}},[]),f=k.useCallback(async()=>{if(!window.ethereum)return alert("Please install MetaMask to continue!"),!1;try{r(v=>({...v,isLoading:!0}));const p=await window.ethereum.request({method:"eth_requestAccounts"});return p.length>0?(e(p[0]),await d(p[0]),!0):!1}catch(p){return console.error("Error connecting wallet:",p),r(v=>({...v,isLoading:!1})),p.code===4001?alert("Please connect your wallet to access the platform."):p.code===-32002&&alert("Connection request pending. Please open MetaMask."),!1}},[d]),x=k.useCallback(()=>{e(""),r({isAdmin:!1,isInstitution:!1,isConnected:!1,isLoading:!1}),i(null),c({INSTITUTION_ROLE:null,DEFAULT_ADMIN_ROLE:null})},[]),g=k.useCallback(()=>s.isAdmin?{role:"admin",label:"Platform Administrator",color:"from-purple-500 to-indigo-600",icon:"👑",level:"SUPREME",description:"Full platform control & management"}:s.isInstitution?{role:"institution",label:"Educational Institution",color:"from-blue-500 to-cyan-600",icon:"🏛️",level:"AUTHORIZED",description:"Certificate issuance & management"}:{role:"student",label:"Student/Viewer",color:"from-emerald-500 to-teal-600",icon:"🎓",level:"VERIFIED",description:"Certificate viewing & verification"},[s]);return k.useEffect(()=>{const p=async y=>{y.length>0?(e(y[0]),await d(y[0])):x()},v=async()=>{if(window.ethereum)try{const y=await window.ethereum.request({method:"eth_accounts"});y.length>0&&(e(y[0]),await d(y[0]))}catch(y){console.error("Error checking wallet connection:",y)}};if(h(),v(),window.ethereum)return window.ethereum.on("accountsChanged",p),()=>{window.ethereum.removeListener("accountsChanged",p)}},[d,x,h]),{account:t,roles:s,contract:a,roleConstants:o,connectWallet:f,disconnectWallet:x,getRoleInfo:g,isLoading:s.isLoading,isConnected:s.isConnected&&!!t}},hG=()=>{const[t,e]=k.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768}),[s,r]=k.useState("desktop"),[a,i]=k.useState("landscape");k.useEffect(()=>{const x=()=>{const g=window.innerWidth,p=window.innerHeight;e({width:g,height:p}),i(g>p?"landscape":"portrait"),g<640?r("mobile"):g<1024?r("tablet"):r("desktop")};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const o=s==="mobile",c=s==="tablet",d=s==="desktop";return{screenSize:t,deviceType:s,orientation:a,isMobile:o,isTablet:c,isDesktop:d,isTouchDevice:o||c,responsiveClasses:{container:`
            ${o?"px-4 py-12":""}
            ${c?"px-6 py-16":""}
            ${d?"px-6 py-20":""}
        `,grid:`
            ${o?"grid-cols-1 gap-8":""}
            ${c?"grid-cols-1 gap-12":""}
            ${d?"lg:grid-cols-2 gap-16":""}
        `,title:`
            ${o?"text-4xl":""}
            ${c?"text-5xl":""}
            ${d?"text-6xl lg:text-7xl":""}
        `,statsGrid:`
            ${o?"grid-cols-2 gap-3":""}
            ${c?"grid-cols-2 gap-4":""}
            ${d?"grid-cols-2 lg:grid-cols-4 gap-4":""}
        `}}},fG=()=>{const[t,e]=k.useState([]);return k.useEffect(()=>{const s=Array.from({length:50},(r,a)=>({id:a,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*5,duration:3+Math.random()*4}));e(s)},[]),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black via-slate-950 to-gray-950"}),n.jsx("div",{className:"absolute inset-0 opacity-15 motion-safe:opacity-20",children:n.jsx("div",{className:"w-full h-full motion-safe:animate-gradient",style:{backgroundImage:`
                            linear-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px),
                            linear-gradient(90deg, rgba(59, 130, 246, 0.15) 1px, transparent 1px),
                            linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px),
                            linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px)
                        `,backgroundSize:"50px 50px, 50px 50px, 25px 25px, 25px 25px"}})}),n.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-radial from-blue-500/20 to-transparent rounded-full motion-safe:animate-float blur-sm"}),n.jsx("div",{className:"absolute bottom-32 right-32 w-40 h-40 bg-gradient-radial from-violet-500/15 to-transparent rounded-full motion-safe:animate-orbit blur-sm"}),n.jsx("div",{className:"absolute top-1/2 left-16 w-24 h-24 bg-gradient-radial from-cyan-500/25 to-transparent rounded-full motion-safe:animate-pulse-fast blur-sm"}),n.jsx("div",{className:"absolute inset-0 opacity-30"}),n.jsx("div",{className:"absolute inset-0",children:t.map(s=>n.jsx("div",{className:"absolute w-1 h-1 bg-blue-400 rounded-full motion-safe:animate-ping-slow",style:{left:`${s.x}%`,top:`${s.y}%`,animationDelay:`${s.delay}s`,animationDuration:`${s.duration}s`}},s.id))})]})},mG=({isMobile:t})=>{const[e,s]=k.useState(0),[r,a]=k.useState(!1);k.useEffect(()=>{const o=setInterval(()=>{s(d=>(d+1)%30)},200),c=setInterval(()=>{a(d=>!d)},6e3);return()=>{clearInterval(o),clearInterval(c)}},[]);const i=o=>e===o?"text-white drop-shadow-lg scale-110 z-10":"";return n.jsxs("div",{className:"relative w-full",children:[n.jsxs("div",{className:"font-black tracking-wide leading-tight text-center relative group",children:[n.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-50 transition-opacity duration-500",style:{background:"linear-gradient(105deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.18) 50%, rgba(255,255,255,0) 60%)",backgroundSize:"200% 100%"},"aria-hidden":!0}),n.jsxs("div",{className:`${t?"text-3xl sm:text-4xl":"text-5xl md:text-6xl lg:text-7xl"} relative mb-2 md:mb-3`,children:[n.jsx("div",{className:"absolute inset-0 text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text blur-sm opacity-60",children:"BLOCKCHAIN"}),n.jsx("div",{className:"relative text-transparent bg-gradient-to-r from-blue-400 via-cyan-300 to-blue-500 bg-clip-text",children:"BLOCKCHAIN".split("").map((o,c)=>n.jsx("span",{className:`inline-block transition-all duration-300 ease-out ${i(c)}`,style:{textShadow:e===c?"0 0 20px rgba(59, 130, 246, 0.8)":"none"},children:o},c))}),n.jsx("div",{className:"absolute -right-4 top-1/2 w-2 h-2 bg-blue-400 rounded-full motion-safe:animate-pulse"}),n.jsx("div",{className:"absolute -left-4 top-1/4 w-1.5 h-1.5 bg-cyan-400 rounded-full motion-safe:animate-ping opacity-75"})]}),n.jsxs("div",{className:`${t?"text-3xl sm:text-4xl":"text-5xl md:text-6xl lg:text-7xl"} relative mb-2 md:mb-3`,children:[n.jsx("div",{className:"absolute inset-0 text-transparent bg-gradient-to-r from-violet-600 via-purple-500 to-indigo-600 bg-clip-text blur-sm opacity-60",children:"ACADEMIC"}),n.jsx("div",{className:"relative text-transparent bg-gradient-to-r from-violet-400 via-purple-300 to-indigo-500 bg-clip-text",children:"ACADEMIC".split("").map((o,c)=>n.jsx("span",{className:`inline-block transition-all duration-300 ease-out ${i(c+10)}`,style:{textShadow:e===c+10?"0 0 20px rgba(139, 92, 246, 0.8)":"none"},children:o},c+10))}),n.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"w-6 h-3 border-b-2 border-l border-r border-purple-400 rounded-b-lg opacity-50 motion-safe:animate-pulse"})})]}),n.jsxs("div",{className:`${t?"text-2xl sm:text-3xl":"text-4xl md:text-5xl lg:text-6xl"} relative`,children:[n.jsx("div",{className:"absolute inset-0 text-transparent bg-gradient-to-r from-cyan-600 via-blue-500 to-violet-600 bg-clip-text blur-sm opacity-60",children:"CERTIFICATES"}),n.jsx("div",{className:"relative text-transparent bg-gradient-to-r from-cyan-400 via-blue-300 to-violet-500 bg-clip-text",children:"CERTIFICATES".split("").map((o,c)=>n.jsx("span",{className:`inline-block transition-all duration-300 ease-out ${i(c+18)}`,style:{textShadow:e===c+18?"0 0 20px rgba(34, 211, 238, 0.8)":"none"},children:o},c+18))}),n.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-violet-500 transition-all duration-1000 ease-out ${r?"w-full opacity-100":"w-0 opacity-0"}`}),n.jsx("div",{className:"absolute -right-6 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"w-4 h-4 border-2 border-cyan-400 rounded-full flex items-center justify-center motion-safe:animate-spin-slow",children:n.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full motion-safe:animate-pulse"})})})]})]}),n.jsxs("div",{className:`mt-6 md:mt-8 ${t?"text-base sm:text-lg px-4":"text-lg md:text-xl lg:text-2xl"} text-gray-300 font-light leading-relaxed max-w-4xl mx-auto text-center`,children:[n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"text-transparent bg-gradient-to-r from-blue-400 via-cyan-400 to-violet-400 bg-clip-text font-semibold",children:"Immutable academic credentials"}),n.jsx("span",{className:"mx-2 text-gray-500",children:"•"}),n.jsx("span",{className:"text-gray-300",children:"powered by blockchain and IPFS"}),n.jsx("span",{className:"inline-block w-0.5 h-5 bg-cyan-400 ml-1 motion-safe:animate-pulse"})]}),n.jsxs("div",{className:`mt-4 md:mt-6 ${t?"text-sm space-x-4":"text-base md:text-lg space-x-6"} text-gray-400 font-mono tracking-wider`,children:[n.jsx("span",{className:"inline-block px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 motion-safe:animate-pulse",children:"SOULBOUND"}),n.jsx("span",{className:"inline-block px-3 py-1 bg-violet-500/20 border border-violet-500/30 rounded-full text-violet-300 motion-safe:animate-pulse",style:{animationDelay:"0.5s"},children:"VERIFIABLE"}),n.jsx("span",{className:"inline-block px-3 py-1 bg-cyan-500/20 border border-cyan-500/30 rounded-full text-cyan-300 motion-safe:animate-pulse",style:{animationDelay:"1s"},children:"PERMANENT"})]})]}),n.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[n.jsx("div",{className:"absolute top-4 left-1 w-8 h-8 border-l-2 border-t-2 border-blue-400/40 motion-safe:animate-pulse"}),n.jsx("div",{className:"absolute top-4 right-1 w-8 h-8 border-r-2 border-t-2 border-violet-400/40 motion-safe:animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-l-2 border-b-2 border-cyan-400/40 motion-safe:animate-pulse",style:{animationDelay:"2s"}}),n.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-r-2 border-b-2 border-purple-400/40 motion-safe:animate-pulse",style:{animationDelay:"3s"}}),n.jsx("div",{className:"absolute top-1/4 left-1/4 w-1 h-1 bg-blue-400 rounded-full motion-safe:animate-ping opacity-60"}),n.jsx("div",{className:"absolute top-3/4 right-1/4 w-1 h-1 bg-violet-400 rounded-full motion-safe:animate-ping opacity-60",style:{animationDelay:"2s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/6 w-1 h-1 bg-cyan-400 rounded-full motion-safe:animate-ping opacity-60",style:{animationDelay:"4s"}})]})]})},OR=en.memo(({roleInfo:t,isConnected:e,connectWallet:s,isMobile:r,isLoading:a})=>{const[i,o]=k.useState(!1),[c,d]=k.useState(0);k.useEffect(()=>{const g=setInterval(()=>{d(p=>(p+1)%4)},1e3);return()=>clearInterval(g)},[]);const h=en.useCallback(()=>{const g=document.getElementById("certificates");if(g)g.scrollIntoView({behavior:"smooth",block:"start"});else{const p=document.querySelector(".certificate-display-section");p&&p.scrollIntoView({behavior:"smooth",block:"start"})}},[]),f=en.useMemo(()=>{if(!e)return{title:"Wallet Interface",subtitle:"Connect your wallet to access certificates",icon:"🔗",primary:{text:"Connect Wallet",action:s},secondary:{text:"Explore Demo",action:h},colors:{bg:"from-slate-900/90 via-gray-800/80 to-slate-900/90",accent:"from-blue-500 via-cyan-400 to-blue-600",border:"border-blue-400/50",glow:"shadow-blue-500/30",particle:"bg-blue-400"}};const g={admin:{title:"Platform Administrator",subtitle:"Full system management access",icon:"👑",primary:{text:"Management Dashboard",link:"/dashboard"},secondary:{text:"Analytics & Reports",link:"/dashboard/analytics"},colors:{bg:"from-purple-900/90 via-violet-800/80 to-indigo-900/90",accent:"from-purple-500 via-violet-400 to-indigo-500",border:"border-purple-400/50",glow:"shadow-purple-500/40",particle:"bg-purple-400"}},institution:{title:"Educational Institution",subtitle:"Certificate creation and management",icon:"🏛️",primary:{text:"Create Certificates",link:"/dashboard"},secondary:{text:"Manage Certificates",link:"/dashboard/certificates"},colors:{bg:"from-blue-900/90 via-cyan-800/80 to-teal-900/90",accent:"from-blue-500 via-cyan-400 to-teal-500",border:"border-cyan-400/50",glow:"shadow-cyan-500/40",particle:"bg-cyan-400"}},student:{title:"Certificate Holder",subtitle:"View and share your academic credentials",icon:"🎓",primary:{text:"View Certificates",link:"/dashboard"},secondary:{text:"Share & Verify",link:"/dashboard/certificates"},colors:{bg:"from-emerald-900/90 via-green-800/80 to-teal-900/90",accent:"from-emerald-500 via-green-400 to-cyan-500",border:"border-emerald-400/50",glow:"shadow-emerald-500/40",particle:"bg-emerald-400"}}};return g[t==null?void 0:t.role]||g.student},[e,t==null?void 0:t.role,s,h]),x=async g=>{g&&(o(!0),await g(),setTimeout(()=>o(!1),2e3))};return n.jsxs("div",{className:"relative group w-full",children:[n.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-blue-500/10 via-violet-500/5 to-cyan-500/10 rounded-[2rem] blur-2xl opacity-60 group-hover:opacity-100 transition-all duration-1000 ease-hologram animate-pulse-slow"}),n.jsxs("div",{className:`relative bg-gradient-to-br ${f.colors.bg} backdrop-blur-xl border-2 ${f.colors.border} rounded-3xl overflow-hidden ${f.colors.glow} shadow-2xl transition-all duration-700 ease-neural group-hover:scale-[1.02]`,children:[n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx("div",{className:"w-full h-full",style:{backgroundImage:`
                                radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),
                                radial-gradient(circle at 75% 75%, rgba(139, 92, 246, 0.3) 0%, transparent 50%),
                                linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%)
                            `}})}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400 to-transparent opacity-60 animate-scanline"}),n.jsxs("div",{className:"relative z-10 p-6 md:p-8",children:[n.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[n.jsx("div",{className:"relative inline-block mb-4",children:n.jsxs("div",{className:`relative w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br ${f.colors.accent} flex items-center justify-center text-2xl md:text-3xl ${f.colors.glow} shadow-2xl animate-float`,children:[f.icon,n.jsx("div",{className:`absolute -inset-2 rounded-2xl border-2 border-dashed ${f.colors.border} animate-spin-slow opacity-50`}),n.jsx("div",{className:`absolute -inset-4 rounded-2xl border ${f.colors.border} animate-ping opacity-20`}),n.jsx("div",{className:`absolute -inset-6 rounded-2xl border ${f.colors.border} animate-ping opacity-10`,style:{animationDelay:"1s"}})]})}),n.jsxs("div",{className:"flex items-center justify-center mb-3 md:mb-4",children:[n.jsx("div",{className:`w-3 h-3 md:w-4 md:h-4 rounded-full bg-gradient-to-r ${f.colors.accent} animate-pulse-fast mr-3 ${f.colors.glow} shadow-lg`}),n.jsx("div",{className:"text-cyan-300 text-xs md:text-sm font-mono tracking-wider uppercase",children:"Access Status"})]}),n.jsxs("div",{className:"relative mb-3 md:mb-4",children:[n.jsx("div",{className:`text-2xl md:text-3xl lg:text-4xl font-black text-transparent bg-gradient-to-r ${f.colors.accent} bg-clip-text tracking-wide animate-gradient`,children:f.title}),n.jsx("div",{className:`absolute bottom-0 left-1/2 transform -translate-x-1/2 w-20 h-0.5 bg-gradient-to-r ${f.colors.accent} opacity-60 animate-pulse`})]}),n.jsx("div",{className:"text-gray-300 text-sm md:text-base font-light tracking-wide opacity-90 max-w-md mx-auto",children:f.subtitle})]}),n.jsxs("div",{className:"space-y-4 md:space-y-0 md:flex md:space-x-4",children:[f.primary.action?n.jsxs("button",{onClick:()=>x(f.primary.action),disabled:a,className:`group relative w-full md:flex-1 py-4 px-6 md:px-8 bg-gradient-to-r ${f.colors.accent} text-black font-bold text-base md:text-lg tracking-wider overflow-hidden transform transition-all duration-500 ease-neural hover:scale-105 ${a||i?"animate-pulse-fast":""} rounded-2xl ${f.colors.glow} shadow-2xl`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-quantum"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-center space-x-2",children:[(a||i)&&n.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),n.jsx("span",{className:"font-mono",children:a?"CONNECTING...":i?"PROCESSING...":f.primary.text})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:Array.from({length:r?4:6}).map((g,p)=>n.jsx("div",{className:"absolute w-1 h-1 bg-white/60 rounded-full opacity-0 group-hover:opacity-100 animate-ping-slow",style:{left:`${20+p*15}%`,top:`${30+Math.random()*40}%`,animationDelay:`${p*.2}s`}},p))})]}):n.jsxs(io,{to:f.primary.link,className:`group relative w-full md:flex-1 py-4 px-6 md:px-8 bg-gradient-to-r ${f.colors.accent} text-white font-bold text-base md:text-lg tracking-wider overflow-hidden transform transition-all duration-500 ease-neural hover:scale-105 rounded-2xl ${f.colors.glow} shadow-2xl flex items-center justify-center`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-quantum"}),n.jsx("span",{className:"relative z-10 font-medium text-center",children:f.primary.text}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:Array.from({length:r?4:6}).map((g,p)=>n.jsx("div",{className:"absolute w-1 h-1 bg-white/60 rounded-full opacity-0 group-hover:opacity-100 animate-ping-slow",style:{left:`${20+p*15}%`,top:`${30+Math.random()*40}%`,animationDelay:`${p*.2}s`}},p))})]}),f.secondary.action?n.jsxs("button",{onClick:f.secondary.action,className:`group relative w-full md:flex-1 py-4 px-6 md:px-8 border-2 ${f.colors.border} bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 transition-all duration-300 font-semibold text-base md:text-lg tracking-wide rounded-xl hover:scale-105 overflow-hidden`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 transform -translate-x-full group-hover:translate-x-full transition-transform duration-500"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:f.secondary.text}),n.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full group-hover:bg-white group-hover:scale-110 transition-all duration-300"})]})]}):n.jsxs(io,{to:f.secondary.link,className:`group relative w-full md:flex-1 py-4 px-6 md:px-8 border-2 ${f.colors.border} bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 transition-all duration-300 font-semibold text-base md:text-lg tracking-wide rounded-xl text-center hover:scale-105 overflow-hidden`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 transform -translate-x-full group-hover:translate-x-full transition-transform duration-500"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:f.secondary.text}),n.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full group-hover:bg-white group-hover:scale-110 transition-all duration-300"})]})]})]})]}),n.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 md:w-8 md:h-8 border-l-2 md:border-l-3 border-t-2 md:border-t-3 border-cyan-400 opacity-60 animate-pulse",style:{animationDelay:`${c*.25}s`}}),n.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 md:w-8 md:h-8 border-r-2 md:border-r-3 border-t-2 md:border-t-3 border-violet-400 opacity-60 animate-pulse",style:{animationDelay:`${(c+1)*.25}s`}}),n.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 md:w-8 md:h-8 border-l-2 md:border-l-3 border-b-2 md:border-b-3 border-blue-400 opacity-60 animate-pulse",style:{animationDelay:`${(c+2)*.25}s`}}),n.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 md:w-8 md:h-8 border-r-2 md:border-r-3 border-b-2 md:border-b-3 border-purple-400 opacity-60 animate-pulse",style:{animationDelay:`${(c+3)*.25}s`}}),n.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:r?6:8}).map((g,p)=>n.jsx("div",{className:`absolute w-0.5 h-0.5 ${f.colors.particle} rounded-full animate-float opacity-40`,style:{left:`${10+Math.random()*80}%`,top:`${10+Math.random()*80}%`,animationDelay:`${p*.7}s`,animationDuration:`${4+Math.random()*2}s`}},p))})]})]})});OR.displayName="FuturisticActionPanel";const PR="blockchain_stats_cache",xG=5*60*1e3,gG=t=>JSON.parse(JSON.stringify(t,(e,s)=>typeof s=="bigint"?s.toString():s)),pG=()=>{try{const t=localStorage.getItem(PR);if(t){const{data:e,timestamp:s}=JSON.parse(t);if(Date.now()-s<xG)return e.recentCertificate&&e.recentCertificate.completionDate&&(e.recentCertificate.completionDate=new Date(e.recentCertificate.completionDate)),e}}catch{}return null},bG=t=>{try{const e=gG(t);localStorage.setItem(PR,JSON.stringify({data:e,timestamp:Date.now()}))}catch{}},vG=()=>{const[t,e]=k.useState(()=>{const w=pG();return w&&!w.loading?w:{totalCertificates:0,verifiedCertificates:0,pendingCertificates:0,revokedCertificates:0,authorizedInstitutions:0,recentCertificate:null,loading:!0,error:null}}),[s,r]=k.useState([]),[a,i]=k.useState(!1),[o,c]=k.useState({latency:0,stability:"unknown"}),[d,h]=k.useState(0),f=k.useRef(null),x=k.useRef(Date.now()),g=k.useCallback(async w=>{const A=Date.now();try{await w.getBlockNumber();const j=Date.now()-A;return c({latency:j,stability:j<1e3?"excellent":j<3e3?"good":"slow"}),!0}catch{return c({latency:0,stability:"failed"}),!1}},[]),p=k.useCallback(w=>{const A=Math.min(1e3*Math.pow(2,w),3e4);f.current=setTimeout(()=>{h(w+1)},A)},[]),v=k.useCallback(async(w=!1)=>{try{w||(x.current=Date.now());const A="https://eth-sepolia.g.alchemy.com/v2/kepUw7sPrkvIrU8AH0CJBX3jqBI4sgq_",j=new Ib(A);if(!await g(j)&&!w)throw new Error("Network connectivity test failed");const S=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,j),E=await S.totalSupply(),M=Number(E),R=await S.countCertificatesByStatus(!0,!1),_=Number(R),I=await S.countCertificatesByStatus(!1,!1),D=Number(I),B=await S.countCertificatesByStatus(!1,!0),O=Number(B);let $=null;if(M>0)try{const H=await S.getRecentCertificates(1);if(H.length>0){const L=await S.getCertificate(H[0]),V=await S.getCourseName(L.courseId);$={tokenId:H[0].toString(),student:L.student,courseName:V,completionDate:new Date(Number(L.completionDate)*1e3),grade:Number(L.grade),isVerified:L.isVerified,institution:L.institution}}}catch{}const Y={totalCertificates:M,verifiedCertificates:_,pendingCertificates:D,revokedCertificates:O,authorizedInstitutions:0,recentCertificate:$,loading:!1,error:null};bG(Y),e(Y),i(!0),h(0)}catch(A){if(i(!1),d<3){p(d);return}e(j=>({...j,loading:!1,error:`Failed to fetch blockchain data: ${A.message}`})),setTimeout(()=>{h(0),v(!0)},1e4)}},[g,p,d]),y=k.useCallback(()=>{h(0),e(w=>({...w,loading:!0,error:null})),v()},[v]);return k.useEffect(()=>{v();const w=setInterval(()=>v(),3e4);return()=>{clearInterval(w),f.current&&clearTimeout(f.current)}},[v]),{...t,realtimeActivity:s,connectionHealth:o,isConnectedToBlockchain:a,refreshData:y,pendingCertificates:t.pendingCertificates||0,revokedCertificates:t.revokedCertificates||0}},Ub=(t,e,s)=>{const[r,a]=k.useState({totalInstitutions:0,totalCertificates:0,verifiedCertificates:0,pendingCertificates:0,revokedCertificates:0,issuedByCurrentInstitution:0,activeInstitutionAddresses:[],lastUpdated:null}),[i,o]=k.useState(!1),[c,d]=k.useState(null),h=k.useCallback(async()=>{if(!t||!(e!=null&&e.INSTITUTION_ROLE))return[];try{const p=t.filters.RoleGranted(e.INSTITUTION_ROLE),v=await t.queryFilter(p,0,"latest"),y=t.filters.RoleRevoked(e.INSTITUTION_ROLE),w=await t.queryFilter(y,0,"latest"),A=new Set;v.forEach(S=>{var E;(E=S.args)!=null&&E.account&&A.add(S.args.account.toLowerCase())}),w.forEach(S=>{var E;(E=S.args)!=null&&E.account&&A.delete(S.args.account.toLowerCase())});const j=[],C=Array.from(A).map(async S=>{try{const E=await t.hasRole(e.INSTITUTION_ROLE,S),M=e.DEFAULT_ADMIN_ROLE||Dl,R=await t.hasRole(M,S);E&&!R&&j.push(S)}catch(E){console.warn(`Error verifying role for ${S}:`,E)}});return await Promise.all(C),j}catch(p){throw console.error("Error counting active institutions:",p),new Error("Failed to count active institutions")}},[t,e]),f=k.useCallback(async()=>{if(!t){d("Contract not available"),console.log("useInstitutionStats: Contract not available");return}if(!(e!=null&&e.INSTITUTION_ROLE)){d("Role constants not available"),console.log("useInstitutionStats: Role constants not available");return}o(!0),d(null);try{console.log("useInstitutionStats: Fetching institution statistics..."),console.log("useInstitutionStats: Contract available:",!!t),console.log("useInstitutionStats: Role constants available:",!!(e!=null&&e.INSTITUTION_ROLE)),console.log("useInstitutionStats: Current account:",s);const p=s&&await t.hasRole(e.INSTITUTION_ROLE,s).catch(()=>!1)&&!await t.hasRole(e.DEFAULT_ADMIN_ROLE||Dl,s).catch(()=>!1);console.log("useInstitutionStats: Current account is institution (not admin):",p);const[v,y,w,A,j,C,S]=await Promise.all([t.totalSupply(),t.getVerifiedCertificateIds(0,1e3),t.getPendingCertificateIds(0,1e3),t.getRevokedCertificateIds(0,1e3),h(),s?t.countCertificatesByInstitution(s).catch(()=>0):Promise.resolve(0),p&&s?t.getCertificatesByInstitution(s,0,1e3).catch(()=>[]):Promise.resolve([])]);let E=w.length;if(p&&w.length>0)try{E=0;for(const D of w)try{const B=await t.getCertificate(D);B[1]&&B[1].toLowerCase()===s.toLowerCase()&&E++}catch(B){console.warn(`Error checking certificate ${D}:`,B)}console.log("useInstitutionStats: Institution-specific pending count:",E,"out of",w.length,"global pending certificates")}catch(D){console.warn("useInstitutionStats: Error calculating institution-specific pending count, using global:",D)}const M=y.length,R=p?E:w.length,_=A.length;console.log("useInstitutionStats: Direct contract call results:",{totalSupply:v.toString(),verifiedCount:M,pendingCount:R,revokedCount:_,institutionCount:j.length,currentInstitutionCount:C.toString()});const I={totalInstitutions:j.length,totalCertificates:Number(v.toString()),verifiedCertificates:M,pendingCertificates:R,revokedCertificates:_,issuedByCurrentInstitution:Number(C.toString()),activeInstitutionAddresses:j,lastUpdated:Date.now()};a(I),console.log("useInstitutionStats: Institution statistics updated:",I)}catch(p){console.error("Error fetching institution statistics:",p),d(p.message||"Failed to fetch institution statistics")}finally{o(!1)}},[t,e,s,h]),x=k.useCallback(()=>{f()},[f]);return k.useEffect(()=>{if(t&&(e!=null&&e.INSTITUTION_ROLE))return f(),(async()=>{try{const{BrowserProvider:v}=await Fr(async()=>{const{BrowserProvider:w}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:w}},[]),y=new v(window.ethereum);y.on("block",async w=>{console.log("useInstitutionStats: New block detected:",w);const{Contract:A}=await Fr(async()=>{const{Contract:R}=await Promise.resolve().then(()=>Wa);return{Contract:R}},void 0),j=new A(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,y),[C,S,E]=await Promise.all([j.queryFilter(j.filters.CertificateIssued(),w,w),j.queryFilter(j.filters.CertificateVerified(),w,w),j.queryFilter(j.filters.CertificateRevoked(),w,w)]);C.length>0||S.length>0||E.length>0?(console.log("useInstitutionStats: New events detected! Auto-updating stats..."),f()):console.log("useInstitutionStats: New block but no relevant events, no update needed")}),console.log("useInstitutionStats: Event listener set up - will auto-update on blockchain events")}catch(v){console.warn("useInstitutionStats: Error setting up event listener:",v)}})(),()=>{window.ethereum&&(async()=>{try{const{BrowserProvider:y}=await Fr(async()=>{const{BrowserProvider:A}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:A}},void 0);new y(window.ethereum).removeAllListeners("block"),console.log("useInstitutionStats: Event listeners cleaned up")}catch(y){console.warn("useInstitutionStats: Error cleaning up listeners:",y)}})()}},[t,e,s,f]),{stats:{...r,pendingVerification:r.pendingCertificates||0,verificationRate:r.totalCertificates>0?Math.round(r.verifiedCertificates/r.totalCertificates*100):0,revocationRate:r.totalCertificates>0?Math.round(r.revokedCertificates/r.totalCertificates*100):0,institutionUtilization:r.totalInstitutions>0?Math.round(r.totalCertificates/r.totalInstitutions*100)/100:0},isLoading:i,error:c,refreshStats:x,clearError:()=>d(null)}},yG=({isMobile:t})=>{const[e,s]=k.useState(0),[r,a]=k.useState([100,95,98]),{totalCertificates:i,verifiedCertificates:o,isConnectedToBlockchain:c,loading:d}=vG(),{contract:h,roleConstants:f}=zb(),{stats:x}=Ub(h,f),g=i>0?Math.round(o/i*100):0,p={certificates:i||0,institutions:f!=null&&f.INSTITUTION_ROLE?x.totalInstitutions||0:1,verification:g||0};k.useEffect(()=>{c&&!d&&a([g,Math.min(100,g+Math.floor(Math.random()*10)),Math.min(100,g+Math.floor(Math.random()*5))])},[g,c,d]),k.useEffect(()=>{const y=setInterval(()=>{s(A=>(A+1)%3)},4e3),w=setInterval(()=>{c&&!d&&a(A=>A.map(()=>Math.max(g-5,Math.min(100,g+Math.floor(Math.random()*10)))))},3e3);return()=>{clearInterval(y),clearInterval(w)}},[c,d,g]);const v=[{value:d?"━━━":p.certificates.toLocaleString(),label:"ACADEMIC CERTIFICATES",sublabel:"BLOCKCHAIN SECURED",colors:{primary:"from-blue-500 to-cyan-500",secondary:"from-blue-400/20 to-cyan-400/20",glow:"shadow-blue-500/40",particle:"bg-blue-400"}},{value:d?"━━━":p.institutions,label:"VERIFIED INSTITUTIONS",sublabel:"TRUSTED ISSUERS",colors:{primary:"from-violet-500 to-purple-500",secondary:"from-violet-400/20 to-purple-400/20",glow:"shadow-violet-500/40",particle:"bg-violet-400"}},{value:d?"━━━":`${p.verification}%`,label:"VERIFICATION RATE",sublabel:"AUTHENTICITY CHECK",colors:{primary:"from-emerald-500 to-cyan-500",secondary:"from-emerald-400/20 to-cyan-400/20",glow:"shadow-emerald-500/40",particle:"bg-emerald-400"}}];return n.jsxs("div",{className:"relative min-h-[500px] flex items-center justify-center",children:[n.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[n.jsx("div",{className:`w-full h-full bg-gradient-radial from-blue-500/5 via-violet-500/10 to-cyan-500/5 rounded-full transition-all duration-3000 ease-in-out ${c?"animate-[breathe_4s_ease-in-out_infinite,glow_3s_ease-in-out_infinite]":"animate-[float_6s_ease-in-out_infinite]"}`,style:{animation:c?"breathe 4s ease-in-out infinite, shimmer 3s ease-in-out infinite alternate":"gentleFloat 6s ease-in-out infinite"}}),n.jsx("div",{className:`absolute w-80 h-80 border border-blue-400/20 rounded-full ${c?"animate-spin-slow":"animate-pulse-slow"}`}),n.jsx("div",{className:`absolute w-60 h-60 border border-violet-400/15 rounded-full ${c?"animate-spin-slow-reverse":"animate-pulse-slow"}`}),n.jsx("div",{className:`absolute w-40 h-40 border border-cyan-400/10 rounded-full ${c?"animate-orbit":"animate-pulse-slow"}`})]}),n.jsxs("div",{className:"relative",children:[v.map((y,w)=>{const A=w*120-90,j=t?140:180,C=Math.cos(A*Math.PI/180)*j,S=Math.sin(A*Math.PI/180)*j,E=e===w;return n.jsxs("div",{className:`absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-1000 ease-hologram ${E?"scale-125 z-20":"scale-100 z-10"}`,style:{left:`calc(50% + ${C}px)`,top:`calc(50% + ${S}px)`},children:[n.jsxs("div",{className:`relative w-36 h-36 rounded-full bg-gradient-to-br ${y.colors.primary} ${y.colors.glow} shadow-2xl ${E?"animate-glow":"animate-pulse"} backdrop-blur-xl`,children:[n.jsx("div",{className:`absolute inset-3 rounded-full bg-gradient-radial ${y.colors.secondary} animate-pulse-fast`}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-3",children:[n.jsx("div",{className:"text-white font-black text-xl font-mono mb-1 animate-gradient",children:y.value}),n.jsx("div",{className:"text-white/90 text-xs font-mono tracking-wider leading-tight",children:y.label}),n.jsx("div",{className:"text-white/70 text-xs font-mono tracking-wide mt-1",children:y.sublabel})]}),n.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"w-20 h-1 bg-black/30 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-white/60 to-white/90 transition-all duration-1000 ease-neural",style:{width:`${r[w]}%`}})})}),E&&n.jsx("div",{className:`absolute -inset-6 rounded-full border-2 border-dashed ${y.colors.primary} opacity-40 animate-spin-slow`}),E&&n.jsx("div",{className:"absolute inset-0",children:Array.from({length:6}).map((M,R)=>n.jsx("div",{className:`absolute w-1 h-1 ${y.colors.particle} rounded-full animate-ping-slow`,style:{left:`${-20+Math.random()*140}%`,top:`${-20+Math.random()*140}%`,animationDelay:`${R*.3}s`,animationDuration:`${2+Math.random()*2}s`}},R))})]}),n.jsx("div",{className:"absolute inset-0 pointer-events-none",children:n.jsx("div",{className:`absolute w-1 bg-gradient-to-b ${y.colors.primary} ${E?"opacity-60":"opacity-15"} blur-sm ${E?"animate-pulse-fast":"animate-pulse-slow"} transition-all duration-1000`,style:{height:`${j*.8}px`,left:"50%",top:"50%",transform:`translateX(-50%) rotate(${A+90}deg)`,transformOrigin:"top"}})})]},w)}),n.jsxs("div",{className:`relative w-24 h-24 rounded-full bg-gradient-to-br from-gray-900 via-slate-800 to-black border-2 ${c?"border-cyan-400/50 shadow-2xl shadow-cyan-500/30":"border-gray-500/30 shadow-lg"} flex items-center justify-center backdrop-blur-xl`,children:[n.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-blue-500 to-violet-500 rounded-full flex items-center justify-center ${c?"animate-glow":"animate-pulse-slow"}`,children:n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full animate-spin-slow flex items-center justify-center",children:n.jsx("div",{className:`w-3 h-3 ${c?"bg-green-400":"bg-yellow-400"} rounded-full animate-pulse-fast`})})}),c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-cyan-400/30 animate-ping-slow"}),n.jsx("div",{className:"absolute -inset-2 rounded-full border border-violet-400/20 animate-ping-slow",style:{animationDelay:"1s"}})]})]})]}),n.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:20}).map((y,w)=>n.jsx("div",{className:`absolute w-px h-20 bg-gradient-to-b from-blue-400/30 via-transparent to-violet-400/30 ${c?"animate-float":"animate-pulse-slow"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`}},w))})]})};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),kk=t=>{const e=NG(t);return e.charAt(0).toUpperCase()+e.slice(1)},FR=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...c},d)=>k.createElement("svg",{ref:d,...jG,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:FR("lucide",a),...c},[...o.map(([h,f])=>k.createElement(h,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=(t,e)=>{const s=k.forwardRef(({className:r,...a},i)=>k.createElement(CG,{ref:i,iconNode:e,className:FR(`lucide-${wG(kk(t))}`,`lucide-${t}`,r),...a}));return s.displayName=kk(t),s};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],Ak=va("chrome",kG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EG=va("circle-check-big",AG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],TG=va("download",SG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jc=va("globe",RG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DG=va("lock",MG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ek=va("monitor",BG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],IG=va("shield",_G);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sk=va("triangle-alert",LG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],PG=va("wallet",OG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zG=va("x",FG);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tl=va("zap",UG),mc=[{name:"Soulbound NFTs",status:"ACTIVE",description:"Non-transferable certificates",icon:"🔒",colors:{primary:"from-blue-500 to-cyan-500",bg:"from-blue-900/10 to-cyan-900/5",border:"border-blue-400/20"}},{name:"IPFS Storage",status:"SYNCHRONIZED",description:"Decentralized storage",icon:"🌐",colors:{primary:"from-orange-500 to-amber-500",bg:"from-orange-900/10 to-amber-900/5",border:"border-orange-400/20"}},{name:"Smart Contracts",status:"DEPLOYED",description:"Automated verification",icon:"⚡",colors:{primary:"from-violet-500 to-purple-500",bg:"from-violet-900/10 to-purple-900/5",border:"border-violet-400/20"}},{name:"MetaMask Wallet",status:"CONNECTED",description:"Secure authentication",icon:"🦊",colors:{primary:"from-emerald-500 to-cyan-500",bg:"from-emerald-900/10 to-cyan-900/5",border:"border-emerald-400/20"}}],$G=en.memo(({isMobile:t})=>{const[e,s]=k.useState(0),[r,a]=k.useState(!1),i=k.useRef(null),[o,c]=k.useState(""),d=k.useMemo(()=>{if(typeof window>"u"||!window.matchMedia)return!1;try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}},[]);k.useEffect(()=>{if(d||r)return;const f=setInterval(()=>{s(x=>(x+1)%mc.length)},4e3);return()=>clearInterval(f)},[d,r]),k.useEffect(()=>{const f=i.current;if(!f||typeof IntersectionObserver>"u")return;const x=new IntersectionObserver(([g])=>a(!g.isIntersecting),{threshold:.1});return x.observe(f),()=>x.disconnect()},[]),k.useEffect(()=>{const f=mc[e];f&&c(`Active: ${f.name}, status ${f.status}`)},[e]);const h=k.useCallback(f=>{f.key==="ArrowRight"?(f.preventDefault(),s(x=>(x+1)%mc.length)):f.key==="ArrowLeft"&&(f.preventDefault(),s(x=>(x-1+mc.length)%mc.length))},[]);return n.jsxs("div",{ref:i,className:"w-full space-y-6",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400 text-sm font-mono tracking-wider mb-3",children:"› BLOCKCHAIN TECHNOLOGY STACK ‹"}),n.jsx("div",{className:"w-20 h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent mx-auto"})]}),n.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] gap-3 sm:gap-4 auto-rows-fr",onKeyDown:h,children:mc.map((f,x)=>{const g=e===x,p=!d&&g?"animate-pulse":"",v=f.name==="Soulbound NFTs"?DG:f.name==="IPFS Storage"?jc:f.name==="Smart Contracts"?tl:PG,[y,w]=k.useState({x:0,y:0}),A=C=>{if(d)return;const S=C.currentTarget.getBoundingClientRect(),E=(C.clientX-S.left)/S.width,R=(.5-(C.clientY-S.top)/S.height)*6,_=(E-.5)*6;w({x:R,y:_})},j=()=>w({x:0,y:0});return n.jsx("div",{className:"relative w-full group focus:outline-none focus:ring-2 focus:ring-cyan-400/50 rounded-xl",tabIndex:0,onFocus:()=>s(x),onMouseMove:A,onMouseLeave:j,children:n.jsxs("div",{className:`
                  relative bg-gradient-to-br ${f.colors.bg}
                  backdrop-blur-sm border ${f.colors.border}
                  rounded-xl p-4 sm:p-5 transition-all duration-500
                  hover:scale-[1.02] hover:shadow-lg overflow-hidden
                  ${g?"ring-1 ring-cyan-400/20":""}
                  min-h-[150px] sm:min-h-[170px] lg:min-h-[190px] flex flex-col
                `,style:d?void 0:{transform:`perspective(800px) rotateX(${y.x}deg) rotateY(${y.y}deg)`},children:[n.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl opacity-20",style:{background:"conic-gradient(from 180deg at 50% 50%, rgba(59,130,246,0.25), rgba(168,85,247,0.25), rgba(34,197,94,0.25), rgba(59,130,246,0.25))",maskImage:"radial-gradient(circle at center, rgba(0,0,0,0) 60%, rgba(0,0,0,1) 100%)"},"aria-hidden":!0}),g&&n.jsxs("div",{className:"pointer-events-none absolute -inset-1 rounded-[1.1rem] border border-transparent",children:[n.jsx("div",{className:"absolute inset-0 rounded-[1.1rem] border-2 border-cyan-400/10"}),n.jsx("div",{className:"absolute inset-0 rounded-[1.1rem] opacity-30 motion-safe:animate-spin-slow",style:{background:"conic-gradient(from 0deg, rgba(34,211,238,0.4), rgba(139,92,246,0.0), rgba(34,211,238,0.0))",maskImage:"radial-gradient(circle at center, transparent 52%, black 53%)"},"aria-hidden":!0})]}),n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsx("div",{className:`
                      w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-gradient-to-br ${f.colors.primary}
                      flex items-center justify-center shadow-md ${p}
                      transition-all duration-300 text-white
                    `,"aria-hidden":!0,children:n.jsx(v,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),n.jsx("div",{"aria-hidden":!0,className:`w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-gradient-to-r ${f.colors.primary} ${p}`})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 flex flex-col items-stretch w-full h-full",children:[n.jsx("h4",{className:`
                      text-transparent bg-gradient-to-r ${f.colors.primary}
                      bg-clip-text font-extrabold text-base sm:text-lg lg:text-xl leading-tight tracking-tight
                      overflow-hidden min-h-[44px] sm:min-h-[48px] lg:min-h-[52px]
                      flex items-end
                    `,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:f.name}),n.jsxs("div",{className:"flex flex-nowrap justify-center gap-2 mt-2 sm:mt-3 w-full",children:[n.jsx("span",{className:"px-2 sm:px-3 md:px-3.5 lg:px-4 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-[11px] md:text-xs lg:text-sm font-mono text-cyan-300 bg-cyan-500/10 border border-cyan-400/20",children:"Secure"}),n.jsx("span",{className:"px-2 sm:px-3 md:px-3.5 lg:px-4 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-[11px] md:text-xs lg:text-sm font-mono text-violet-300 bg-violet-500/10 border border-violet-400/20",children:"On‑chain"}),f.name==="IPFS Storage"&&n.jsx("span",{className:"px-2 sm:px-3 md:px-3.5 lg:px-4 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-[11px] md:text-xs lg:text-sm font-mono text-amber-300 bg-amber-500/10 border border-amber-400/20",children:"CID"})]}),n.jsxs("div",{"aria-label":`Status: ${f.status}`,className:`
                      mt-auto inline-flex items-center justify-center self-center px-3 py-1.5 rounded-full
                      border ${f.colors.border} bg-black/10 backdrop-blur-sm
                    `,children:[n.jsx("div",{"aria-hidden":!0,className:`w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-gradient-to-r ${f.colors.primary} mr-2 ${p}`}),n.jsx("span",{className:`text-transparent bg-gradient-to-r ${f.colors.primary} bg-clip-text text-xs font-mono font-semibold`,children:f.status})]})]}),n.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl opacity-0 group-hover:opacity-70 transition-opacity duration-300 z-0",style:{background:"linear-gradient(120deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.12) 50%, rgba(255,255,255,0) 60%)",backgroundSize:"200% 100%"},"aria-hidden":!0}),n.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60 z-0",children:[n.jsx("div",{className:"absolute left-4 top-4 w-1 h-1 rounded-full bg-cyan-400 motion-safe:animate-orbit"}),n.jsx("div",{className:"absolute right-6 bottom-6 w-1 h-1 rounded-full bg-violet-400 motion-safe:animate-orbit-delayed-2"}),n.jsx("div",{className:"absolute left-1/2 top-2 w-1 h-1 rounded-full bg-emerald-400 motion-safe:animate-orbit-delayed-3"})]}),g&&n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"})]})},f.name)})}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"inline-flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-green-400/70 rounded-full"}),n.jsxs("span",{children:[mc.length," Technologies Active"]})]}),n.jsx("div",{className:"w-px h-4 bg-gray-700"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400/70 rounded-full"}),n.jsx("span",{children:"System Online"})]})]})})]})}),HG=k.lazy(()=>Fr(()=>import("./AcademicCertificateDisplay-BIeg_14Q.js"),[])),VG=()=>{const{connectWallet:t,getRoleInfo:e,isLoading:s,isConnected:r}=zb(),{isMobile:a}=hG(),i=k.useMemo(()=>e(),[e]),[o,c]=k.useState(!1);return k.useEffect(()=>{const d=setTimeout(()=>{c(!0)},100);return()=>clearTimeout(d)},[]),n.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[n.jsx(fG,{}),n.jsx("div",{className:"relative z-10 w-full",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:`grid ${a?"grid-cols-1 gap-8 py-12":"lg:grid-cols-2 gap-12 xl:gap-20 items-center py-16 lg:py-20"}`,children:[n.jsxs("div",{className:`${a?"text-center order-1":"order-1"} space-y-8 lg:space-y-12`,children:[n.jsx(mG,{isMobile:a}),n.jsx("div",{className:`w-full transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,children:n.jsx(OR,{roleInfo:i,isConnected:r,connectWallet:t,isMobile:a,isLoading:s})}),n.jsx($G,{isMobile:a})]}),n.jsx("div",{className:"order-2 flex justify-center lg:justify-end pr-0 lg:pr-2 xl:pr-4 2xl:pr-8",children:n.jsx("div",{className:"transform transition-transform duration-500 origin-center lg:scale-110 xl:scale-125 2xl:scale-[1.35] lg:-translate-y-16 xl:-translate-y-20 2xl:-translate-y-24",children:n.jsx(k.Suspense,{fallback:n.jsx("div",{className:"w-full max-w-md h-[300px] rounded-xl bg-gray-800/40 border border-gray-700/40 animate-pulse lg:max-w-xl lg:h-[420px] xl:max-w-2xl xl:h-[520px]"}),children:n.jsx(HG,{isMobile:a})})})})]}),n.jsx("div",{className:"pb-16 lg:pb-24",children:n.jsx(yG,{isMobile:a})})]})})]})},GG=()=>n.jsx(VG,{}),B5="/assets/hero-Co-0GwTQ.svg",qG=()=>{const t=[{title:"Immutable Certificates",description:"Every certificate is minted as an NFT on the Ethereum blockchain, ensuring it's tamper-proof, permanent, and publicly verifiable.",gradient:"from-cyan-400 via-blue-500 to-indigo-600",bgColor:"bg-cyan-500/15",textColor:"text-cyan-400",borderColor:"border-cyan-500/30",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})})},{title:"Authentic Ownership",description:"Certificates are linked to your Ethereum wallet, ensuring undeniable proof of ownership and authenticity.",gradient:"from-emerald-400 via-teal-500 to-cyan-600",bgColor:"bg-emerald-500/15",textColor:"text-emerald-400",borderColor:"border-emerald-500/30",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})},{title:"Fraud Protection",description:"Built-in blockchain security ensures that certificates cannot be forged, copied, or tampered with by unauthorized users.",gradient:"from-rose-400 via-pink-500 to-purple-600",bgColor:"bg-rose-500/15",textColor:"text-rose-400",borderColor:"border-rose-500/30",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})},{title:"Global Verifiability",description:"Anyone can verify a certificate instantly through its blockchain record, making it shareable with employers, schools, and institutions globally.",gradient:"from-violet-400 via-purple-500 to-fuchsia-600",bgColor:"bg-violet-500/15",textColor:"text-violet-400",borderColor:"border-violet-500/30",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3s-4.5 4.03-4.5 9 2.015 9 4.5 9Zm0 0V9m0 12c-2.485 0-4.5-4.03-4.5-9s2.015-9 4.5-9 4.5 4.03 4.5 9-2.015 9-4.5 9Zm-9.716-6.747C3.124 14.39 4.862 15 6.75 15s3.626-.61 4.566-1.747m-9.716 0a9.004 9.004 0 0 1-.05-3.747c.99-1.137 2.728-1.747 4.616-1.747s3.626.61 4.566 1.747m-9.716 6.494c.99 1.137 2.728 1.747 4.616 1.747s3.626-.61 4.566-1.747"})})}];return n.jsxs("section",{className:"py-12 sm:py-16 md:py-20 lg:py-24 xl:py-32 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("img",{src:B5,alt:"Hero background",className:"absolute top-0 left-0 w-full h-full object-cover opacity-20 sm:opacity-25 md:opacity-30"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950/98 via-blue-950/95 to-purple-950/98"}),n.jsx("div",{className:"absolute top-10 left-2 sm:top-20 sm:left-10 w-32 h-32 sm:w-48 sm:h-48 md:w-64 md:h-64 lg:w-80 lg:h-80 xl:w-80 xl:h-80 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-full blur-2xl sm:blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-10 right-2 sm:bottom-20 sm:right-10 w-28 h-28 sm:w-40 sm:h-40 md:w-56 md:h-56 lg:w-72 lg:h-72 xl:w-72 xl:h-72 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-full blur-2xl sm:blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 sm:w-96 sm:h-96 md:w-[400px] md:h-[400px] lg:w-[500px] lg:h-[500px] xl:w-[500px] xl:h-[500px] bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-full blur-2xl sm:blur-3xl animate-spin-slow"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-12 sm:mb-16 md:mb-20 lg:mb-24 xl:mb-28 relative z-10 px-3 sm:px-4 md:px-6 lg:px-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/15 via-blue-400/15 to-purple-400/15 sm:from-cyan-400/20 sm:via-blue-400/20 sm:to-purple-400/20 blur-2xl sm:blur-3xl rounded-full"}),n.jsxs("h2",{className:"relative text-3xl xs:text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-7xl 2xl:text-8xl font-black tracking-tighter leading-[0.85] pb-4 sm:pb-6 mb-6 sm:mb-8 max-w-6xl mx-auto",children:[n.jsx("span",{className:"block bg-gradient-to-r from-white via-cyan-200 to-blue-200 text-transparent bg-clip-text drop-shadow-2xl mb-1 sm:mb-2",children:"Revolutionary"}),n.jsx("span",{className:"block bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 text-transparent bg-clip-text",children:"Features"}),n.jsx("div",{className:"absolute -bottom-1 sm:-bottom-2 left-1/2 transform -translate-x-1/2 w-20 sm:w-24 md:w-28 lg:w-32 h-0.5 sm:h-1 bg-gradient-to-r from-cyan-400 to-purple-400 rounded-full"}),n.jsx("div",{className:"absolute -bottom-0.5 sm:-bottom-1 left-1/2 transform -translate-x-1/2 w-20 sm:w-24 md:w-28 lg:w-32 h-0.5 sm:h-1 bg-gradient-to-r from-cyan-400 to-purple-400 rounded-full blur-sm opacity-70"})]})]}),n.jsxs("div",{className:"relative max-w-xs sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-4xl mx-auto",children:[n.jsxs("p",{className:"text-sm xs:text-base sm:text-lg md:text-xl lg:text-xl xl:text-2xl 2xl:text-2xl font-light leading-relaxed text-gray-100/90 mt-4 sm:mt-6 md:mt-8 px-2 sm:px-4 tracking-wide max-w-4xl mx-auto",children:[n.jsx("span",{className:"font-medium bg-gradient-to-r from-gray-100 to-gray-300 text-transparent bg-clip-text",children:"Experience the future of"}),n.jsx("br",{className:"block sm:hidden"}),n.jsx("span",{className:"font-bold bg-gradient-to-r from-cyan-400 to-blue-400 text-transparent bg-clip-text mx-1 sm:mx-2",children:"digital certification"}),n.jsx("br",{className:"block sm:hidden"}),n.jsx("span",{className:"font-medium bg-gradient-to-r from-gray-100 to-gray-300 text-transparent bg-clip-text",children:"powered by blockchain technology"})]}),n.jsx("div",{className:"hidden sm:block absolute -top-2 sm:-top-4 -left-2 sm:-left-4 w-4 h-4 sm:w-6 sm:h-6 md:w-8 md:h-8 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full opacity-60 animate-float"}),n.jsx("div",{className:"hidden sm:block absolute -bottom-2 sm:-bottom-4 -right-2 sm:-right-4 w-3 h-3 sm:w-4 sm:h-4 md:w-6 md:h-6 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full opacity-60 animate-float-delay"})]})]}),n.jsx("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8 mx-auto max-w-6xl relative z-10",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8 lg:gap-8 xl:gap-10 md:items-stretch",children:t.map((e,s)=>n.jsxs("div",{className:"group relative h-full",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl sm:rounded-3xl bg-gradient-to-br from-white/5 via-white/2 to-transparent backdrop-blur-sm"}),n.jsx("div",{className:`absolute -inset-0.5 sm:-inset-1 bg-gradient-to-r ${e.gradient} rounded-2xl sm:rounded-3xl blur-lg sm:blur-xl opacity-8 sm:opacity-10 group-hover:opacity-25 sm:group-hover:opacity-30 transition-all duration-500`}),n.jsxs("div",{className:`
                                relative p-4 xs:p-5 sm:p-6 md:p-8 lg:p-9 xl:p-10 rounded-2xl sm:rounded-3xl backdrop-blur-2xl border border-white/10
                                transition-all duration-500 group-hover:border-white/20
                                transform group-hover:-translate-y-1 sm:group-hover:-translate-y-2 md:group-hover:-translate-y-3 group-hover:scale-[1.01] sm:group-hover:scale-[1.02]
                                bg-gradient-to-br from-white/10 via-white/5 to-transparent
                                shadow-lg sm:shadow-xl md:shadow-2xl group-hover:shadow-2xl sm:group-hover:shadow-3xl md:group-hover:shadow-4xl
                                overflow-hidden h-full flex flex-col
                            `,children:[n.jsx("div",{className:`absolute top-2 right-2 sm:top-4 sm:right-4 w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 lg:w-28 lg:h-28 xl:w-28 xl:h-28 bg-gradient-to-r ${e.gradient} rounded-full opacity-3 sm:opacity-5 blur-xl sm:blur-2xl transition-all duration-700 group-hover:scale-125 sm:group-hover:scale-140 group-hover:opacity-8 sm:group-hover:opacity-10`}),n.jsx("div",{className:`absolute bottom-2 left-2 sm:bottom-4 sm:left-4 w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 xl:w-20 xl:h-20 bg-gradient-to-r ${e.gradient} rounded-full opacity-3 sm:opacity-5 blur-xl sm:blur-2xl transition-all duration-700 group-hover:scale-110 sm:group-hover:scale-120 group-hover:opacity-8 sm:group-hover:opacity-10`}),n.jsxs("div",{className:"relative z-10 mb-4 sm:mb-6 md:mb-8",children:[n.jsxs("div",{className:`
                                        inline-flex items-center justify-center w-12 h-12 xs:w-14 xs:h-14 sm:w-16 sm:h-16 md:w-18 md:h-18 lg:w-20 lg:h-20 xl:w-20 xl:h-20 mb-3 sm:mb-4 md:mb-6
                                        rounded-xl sm:rounded-2xl bg-gradient-to-br ${e.bgColor} border border-white/20
                                        transform group-hover:rotate-6 sm:group-hover:rotate-12 group-hover:scale-105 sm:group-hover:scale-110 
                                        transition-all duration-500 shadow-lg sm:shadow-xl backdrop-blur-sm
                                        relative overflow-hidden
                                    `,children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${e.gradient} opacity-10`}),n.jsx("div",{className:`relative ${e.textColor} transform group-hover:scale-110 sm:group-hover:scale-125 transition-transform duration-300`,children:n.jsx("div",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-9 lg:h-9 xl:w-9 xl:h-9",children:e.icon})}),n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${e.gradient} opacity-0 group-hover:opacity-15 sm:group-hover:opacity-20 transition-opacity duration-300`})]}),n.jsxs("h3",{className:"relative",children:[n.jsx("span",{className:`
                                            block text-lg xs:text-xl sm:text-2xl md:text-3xl lg:text-3xl xl:text-4xl font-black tracking-tight leading-[1.1] mb-2 sm:mb-3 md:mb-4
                                            bg-gradient-to-r ${e.gradient} text-transparent bg-clip-text
                                            group-hover:scale-102 sm:group-hover:scale-105 transition-transform duration-300 origin-left
                                        `,children:e.title}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`h-0.5 sm:h-1 md:h-1.5 bg-gradient-to-r ${e.gradient} rounded-full transform scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-500`}),n.jsx("div",{className:`absolute top-0 h-0.5 sm:h-1 md:h-1.5 w-full bg-gradient-to-r ${e.gradient} rounded-full blur-sm opacity-0 group-hover:opacity-50 sm:group-hover:opacity-60 transition-opacity duration-500`})]})]})]}),n.jsx("div",{className:"relative z-10 flex-grow flex items-center",children:n.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-lg lg:text-xl xl:text-xl leading-relaxed font-light text-gray-200/85 sm:text-gray-200/90 group-hover:text-white/90 sm:group-hover:text-white/95 transition-all duration-300 tracking-wide",children:e.description})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0",children:[n.jsx("div",{className:`h-0.5 sm:h-1 bg-gradient-to-r ${e.gradient} transform scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-700`}),n.jsx("div",{className:`absolute bottom-0 left-0 w-4 h-4 sm:w-6 sm:h-6 md:w-8 md:h-8 bg-gradient-to-r ${e.gradient} opacity-0 group-hover:opacity-20 sm:group-hover:opacity-30 transition-opacity duration-500 transform rotate-45 -translate-x-2 sm:-translate-x-3 md:-translate-x-4 translate-y-2 sm:translate-y-3 md:translate-y-4`}),n.jsx("div",{className:`absolute bottom-0 right-0 w-4 h-4 sm:w-6 sm:h-6 md:w-8 md:h-8 bg-gradient-to-r ${e.gradient} opacity-0 group-hover:opacity-20 sm:group-hover:opacity-30 transition-opacity duration-500 transform rotate-45 translate-x-2 sm:translate-x-3 md:translate-x-4 translate-y-2 sm:translate-y-3 md:translate-y-4`})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/3 sm:via-white/5 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})})]})]},s))})})]})},WG="/assets/moaaz-CzngpjH0.jpg",YG="/assets/eslam-BnKD81qh.jpg",QG="/assets/hamdy-DkfWQPdj.jpg",KG="/assets/mario-BqnpKasw.png",XG="/assets/hussien-D_v64bcI.jpg",ZG="/assets/mohamed-DSUwlM9m.jpg",JG=[{name:"Hamdy Emad Hamdy",field:"Blockchain Developer",img:QG,title:"Genesis Block Creator",tokenId:"#GENESIS",rarity:"Legendary",skills:["Web3","Solidity","Architecture","Penetration Testing"],achievements:15,level:100,isGenesis:!0,linkedin:"https://www.linkedin.com/in/hamdy-emad-hamdy-mosa"},{name:"Hussein Mohsen El Gendy",field:"Back End Developer",img:XG,title:"Mangment Master",tokenId:"#0001",rarity:"Legendary",skills:["PHP","Solidity","Architecture"],achievements:11,level:100,linkedin:"https://www.linkedin.com/in/hussien-algendy-8b8886284"},{name:"Islam Ahmed Hassan",field:"Full Stack Developer",img:YG,title:"Code Master",tokenId:"#0002",rarity:"Epic",skills:["React.js","TypeScript",".NET","C#"],achievements:8,level:100,linkedin:"https://www.linkedin.com/in/rxrow"},{name:"Mario Atef Girgis",field:"Front End Developer",img:KG,title:"UI Designer",tokenId:"#0003",rarity:"Epic",skills:["React.js","Figma","UI/UX"],achievements:7,level:100,linkedin:"https://www.linkedin.com/in/mario-atef-9aa818342"},{name:"Moaaz Atef Fouad",field:"Front End Developer",img:WG,title:"UI Designer",tokenId:"#0004",rarity:"Legendary",skills:["React.js","UI/UX","Figma"],achievements:12,level:100,linkedin:"https://www.linkedin.com/in/moaaz-atef-9404472a2"},{name:"Mohamed Mahmoud Farag",field:"cybersecurity Engineer",img:ZG,title:"Security Expert",tokenId:"#0005",rarity:"Rare",skills:["web3 security","monitoring","analysis"],achievements:9,level:100,linkedin:"https://www.linkedin.com/in/mohammed-m-farag"}],zy={Legendary:"from-yellow-400 via-orange-500 to-red-500",Epic:"from-purple-400 via-pink-500 to-purple-600",Rare:"from-blue-400 via-cyan-500 to-blue-600",Common:"from-gray-400 via-gray-500 to-gray-600"};function eq({people:t=JG}){const e=k.useRef(null),[s,r]=k.useState(null),[a,i]=k.useState(null),[o,c]=k.useState(!1),[d,h]=k.useState(null),f=p=>{let v=0;const y=JSON.stringify(p);for(let w=0;w<y.length;w++){const A=y.charCodeAt(w);v=(v<<5)-v+A,v=v&v}return Math.abs(v).toString(16).padStart(8,"0").slice(0,8)},x=t.reduce((p,v,y)=>{const w={index:y,name:v.name,timestamp:Date.now()-(t.length-y)*864e5,data:v,nonce:v.isGenesis?0:Math.floor(Math.random()*1e6)},A=y===0?"00000000":p[y-1].hash,j=f({...w,prevHash:A}),C={...v,blockIndex:y,hash:v.isGenesis?"GENESIS"+j.slice(7):j,prevHash:A,nonce:w.nonce,timestamp:w.timestamp};return[...p,C]},[]),g=(p,v)=>{h(v),setTimeout(()=>{p.linkedin&&window.open(p.linkedin,"_blank"),setTimeout(()=>h(null),500)},1500)};return n.jsxs("section",{ref:e,className:"relative min-h-screen w-full overflow-hidden bg-gradient-to-br from-slate-950 via-blue-950 to-slate-950",children:[n.jsx("img",{src:B5,alt:"Hero background",className:"absolute top-0 left-0 w-full h-full object-cover opacity-10"}),n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
            linear-gradient(rgba(34,211,238,0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(34,211,238,0.1) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}})}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((p,v)=>n.jsx("div",{className:"absolute w-2 h-2 bg-cyan-400 rounded-full opacity-30",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`float ${3+Math.random()*4}s ease-in-out infinite`,animationDelay:`${Math.random()*2}s`}},v))}),n.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        @keyframes mint {
          0% { transform: scale(1) rotateY(0deg); opacity: 1; }
          25% { transform: scale(1.1) rotateY(90deg); opacity: 0.8; }
          50% { transform: scale(1.2) rotateY(180deg); opacity: 0.6; }
          75% { transform: scale(1.1) rotateY(270deg); opacity: 0.8; }
          100% { transform: scale(1) rotateY(360deg); opacity: 1; }
        }
        @keyframes glow {
          0%, 100% { box-shadow: 0 0 20px rgba(34,211,238,0.5); }
          50% { box-shadow: 0 0 40px rgba(168,85,247,0.8); }
        }
        @keyframes reveal {
          0% { transform: rotateY(-90deg); opacity: 0; }
          100% { transform: rotateY(0deg); opacity: 1; }
        }
        @keyframes slideUp {
          0% { transform: translateY(50px); opacity: 0; }
          100% { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        
        /* Add new animation for LinkedIn redirect */
        @keyframes linkedinRedirect {
          0% { transform: scale(1); }
          25% { transform: scale(1.05); }
          50% { transform: scale(1.1); }
          75% { transform: scale(1.05); }
          100% { transform: scale(1); }
        }
        
        .nft-card {
          transform-style: preserve-3d;
          perspective: 1000px;
        }
        .card-face {
          backface-visibility: hidden;
        }
        .card-back {
          transform: rotateY(180deg);
        }
      `}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 sm:py-12 lg:py-16 xl:py-20 2xl:py-24",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-12 lg:mb-16 xl:mb-20 2xl:mb-24",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl 3xl:text-9xl font-black mb-3 sm:mb-4 lg:mb-6 xl:mb-8 2xl:mb-10 bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 text-transparent bg-clip-text animate-pulse leading-tight",children:"NFT TEAM COLLECTION"}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3 lg:space-x-4 xl:space-x-5 2xl:space-x-6 mb-4 sm:mb-6 lg:mb-8 xl:mb-10 2xl:mb-12",children:[n.jsx("div",{className:"h-0.5 sm:h-1 lg:h-1.5 xl:h-2 w-12 sm:w-16 lg:w-20 xl:w-24 2xl:w-28 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-full"}),n.jsx("span",{className:"text-cyan-400 font-mono text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl",children:"◆ BLOCKCHAIN CERTIFIED ◆"}),n.jsx("div",{className:"h-0.5 sm:h-1 lg:h-1.5 xl:h-2 w-12 sm:w-16 lg:w-20 xl:w-24 2xl:w-28 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"})]}),n.jsx("p",{className:"text-sm sm:text-base lg:text-lg xl:text-xl 2xl:text-2xl 3xl:text-3xl text-gray-300 max-w-2xl lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl mx-auto leading-relaxed px-2",children:"Exclusive collection of blockchain developers • Minted on academic network • Verified expertise"})]}),n.jsx("div",{className:"relative max-w-7xl mx-auto",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-3 gap-4 sm:gap-6 md:gap-8 lg:gap-10 xl:gap-8 2xl:gap-10 relative z-10 max-w-6xl mx-auto",children:x.map((p,v)=>n.jsxs("div",{className:`blockchain-block group relative cursor-pointer transition-all duration-700 ${s===v?"scale-105 z-20":"hover:scale-105"}`,onClick:()=>r(s===v?null:v),onMouseEnter:()=>i(v),onMouseLeave:()=>i(null),style:{animation:`reveal 0.8s ease-out ${v*.2}s both`},children:[n.jsx("div",{className:`absolute -inset-2 ${p.isGenesis?"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500":`bg-gradient-to-r ${zy[p.rarity]}`} rounded-lg blur opacity-30 group-hover:opacity-80 transition-opacity duration-500`}),p.isGenesis&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 rounded-xl blur-2xl opacity-15 animate-pulse"}),n.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-yellow-400 to-orange-500 text-black text-xs font-bold px-3 py-1 rounded-full border-2 border-yellow-300 shadow-lg z-20",children:"⚡ GENESIS BLOCK ⚡"})]}),n.jsxs("div",{className:`relative transition-all duration-500 ${d===v?"animate-pulse":""}`,children:[n.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-t-lg p-2 sm:p-3 lg:p-4 xl:p-3 2xl:p-2 border-2 border-cyan-400/30 border-b-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2 lg:mb-2 xl:mb-2 2xl:mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-2 xl:space-x-2 2xl:space-x-2",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 lg:w-3 lg:h-3 xl:w-3 xl:h-3 2xl:w-3 2xl:h-3 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-green-400 font-mono text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"VERIFIED"})]}),n.jsxs("div",{className:"text-cyan-400 font-mono text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:["BLOCK #",v+1]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 sm:gap-2 lg:gap-3 xl:gap-3 2xl:gap-3 text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-mono",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Hash:"}),n.jsxs("div",{className:`truncate ${p.isGenesis?"text-yellow-300":"text-cyan-300"}`,children:["0x",p.hash,"..."]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Nonce:"}),n.jsx("div",{className:p.isGenesis?"text-yellow-300":"text-purple-300",children:p.nonce.toString().padStart(6,"0")})]})]}),n.jsxs("div",{className:"mt-1 sm:mt-2 lg:mt-2 xl:mt-2 2xl:mt-2 text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-mono",children:[n.jsx("div",{className:"text-gray-400",children:"Prev Hash:"}),n.jsx("div",{className:`truncate ${p.isGenesis?"text-yellow-300":"text-gray-500"}`,children:p.isGenesis?"0x00000000... (GENESIS)":`0x${p.prevHash}...`})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 rounded-b-lg p-3 sm:p-4 lg:p-4 xl:p-3 2xl:p-2 border-2 border-cyan-400/30 border-t-0 backdrop-blur-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3 lg:mb-3 xl:mb-3 2xl:mb-3 pb-1 sm:pb-2 lg:pb-2 xl:pb-2 2xl:pb-2 border-b border-cyan-400/20",children:[n.jsx("span",{className:"text-cyan-400 font-mono text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"TRANSACTION DATA"}),n.jsx("div",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 lg:px-2 lg:py-1 xl:px-2 xl:py-1 2xl:px-2 2xl:py-1 bg-gradient-to-r ${zy[p.rarity]} text-white text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-bold rounded`,children:p.rarity})]}),n.jsx("div",{className:"relative mb-3 sm:mb-4 lg:mb-4 xl:mb-3 2xl:mb-2",children:n.jsxs("div",{className:"relative w-full aspect-square rounded-lg overflow-hidden border border-cyan-400/30 group-hover:border-cyan-400/60 transition-all duration-500",children:[n.jsx("img",{src:p.img,alt:p.name,className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-cyan-400/20 via-transparent to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-60 transition-opacity duration-500",children:[...Array(8)].map((y,w)=>n.jsx("div",{className:"absolute w-full h-0.5 bg-cyan-400/40",style:{top:`${w*12.5}%`,animation:`slideUp 0.3s ease-out ${w*.1}s both`}},w))}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent"}),n.jsx("div",{className:"absolute top-2 left-2 w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 bg-emerald-500/80 backdrop-blur-sm rounded-full border border-emerald-300/70 shadow-md shadow-emerald-500/30 flex items-center justify-center hover:scale-110 transition-all duration-300",children:n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 lg:w-2.5 lg:h-2.5 xl:w-1.5 xl:h-1.5 2xl:w-2 2xl:h-2 bg-white rounded-full shadow-sm"})}),n.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm rounded px-1 py-0.5 sm:px-1.5 sm:py-0.5 lg:px-2 lg:py-1 xl:px-1 xl:py-0.5 2xl:px-1.5 2xl:py-0.5 border border-cyan-400/60 shadow-sm",children:n.jsx("span",{className:"text-cyan-300 font-mono text-xs sm:text-xs lg:text-sm xl:text-xs 2xl:text-sm font-semibold",children:p.tokenId})}),n.jsxs("div",{className:"absolute bottom-2 left-2 right-2 sm:bottom-2 sm:left-2 sm:right-2 lg:bottom-3 lg:left-3 lg:right-3 xl:bottom-2 xl:left-2 xl:right-2 2xl:bottom-3 2xl:left-3 2xl:right-3 bg-slate-800/80 backdrop-blur-sm rounded px-1.5 py-1 sm:px-2 sm:py-1 lg:px-2.5 lg:py-1.5 xl:px-1.5 xl:py-1 2xl:px-2 2xl:py-1 border border-cyan-400/30",children:[n.jsxs("div",{className:"flex items-center justify-between mb-0.5 sm:mb-0.5 lg:mb-1 xl:mb-0.5 2xl:mb-1",children:[n.jsx("span",{className:"text-cyan-400 font-mono text-xs sm:text-xs lg:text-sm xl:text-xs 2xl:text-sm",children:"Power"}),n.jsxs("span",{className:"text-cyan-400 font-mono text-xs sm:text-xs lg:text-sm xl:text-xs 2xl:text-sm",children:[p.level,"%"]})]}),n.jsx("div",{className:"w-full h-0.5 sm:h-0.5 lg:h-1 xl:h-0.5 2xl:h-1 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full bg-gradient-to-r ${zy[p.rarity]} rounded-full transition-all duration-1000`,style:{width:`${p.level}%`}})})]})]})}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 lg:space-y-3 xl:space-y-3 2xl:space-y-3",children:[n.jsxs("div",{className:"border border-cyan-400/30 rounded p-2 sm:p-3 lg:p-3 xl:p-3 2xl:p-3 bg-slate-800/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2 lg:mb-2 xl:mb-2 2xl:mb-2",children:[n.jsx("span",{className:"text-cyan-400 font-mono text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"DEVELOPER"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-2 xl:space-x-2 2xl:space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 lg:w-2 lg:h-2 xl:w-2 xl:h-2 2xl:w-2 2xl:h-2 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-green-400 font-mono text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm",children:"VALIDATED"})]})]}),n.jsx("h3",{className:"text-sm sm:text-base lg:text-base xl:text-base 2xl:text-base font-bold text-white mb-1 sm:mb-1 lg:mb-1 xl:mb-1 2xl:mb-1 group-hover:text-cyan-400 transition-colors font-mono leading-tight",children:p.name}),n.jsx("p",{className:"text-purple-400 font-semibold text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-mono mb-1",children:p.title}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-mono",children:p.field})]}),n.jsxs("div",{className:"border border-cyan-400/30 rounded p-2 sm:p-3 lg:p-3 xl:p-3 2xl:p-3 bg-slate-800/50",children:[n.jsx("div",{className:"text-cyan-400 font-mono text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm mb-1 sm:mb-2 lg:mb-2 xl:mb-2 2xl:mb-2",children:"SKILLS:"}),n.jsx("div",{className:"grid grid-cols-1 gap-0.5 sm:gap-1 lg:gap-1 xl:gap-1 2xl:gap-1",children:p.skills.map((y,w)=>n.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-mono",children:[n.jsxs("span",{className:"text-gray-300",children:["• ",y]}),n.jsx("span",{className:"text-green-400",children:"✓"})]},w))})]}),n.jsx("div",{className:"border border-cyan-400/30 rounded p-2 sm:p-3 lg:p-3 xl:p-3 2xl:p-3 bg-slate-800/50",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 lg:gap-3 xl:gap-3 2xl:gap-3 text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm font-mono",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"COMMITS:"}),n.jsxs("div",{className:"text-yellow-400 font-bold",children:[p.achievements*100,"+"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"UPTIME:"}),n.jsxs("div",{className:"text-green-400 font-bold",children:["99.",p.level,"%"]})]})]})}),n.jsx("button",{onClick:y=>{y.stopPropagation(),g(p,v)},className:`w-full py-2 sm:py-3 lg:py-3 xl:py-3 2xl:py-3 text-xs sm:text-sm lg:text-sm xl:text-sm 2xl:text-sm bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-bold font-mono rounded border border-cyan-400/50 hover:border-cyan-400 transform hover:scale-105 transition-all duration-300 ${d===v?"animate-pulse":""}`,children:d===v?"⛏️ MINING...":"🔗 VALIDATE"})]}),n.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5 rounded-lg overflow-hidden",children:n.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%2322d3ee' fill-opacity='0.4'%3E%3Cpath d='M30 5l25 14.5v21L30 55 5 40.5v-21z'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"30px 30px"}})})]})]})]},v))})}),n.jsxs("div",{className:"mt-8 sm:mt-12 lg:mt-16 xl:mt-20 2xl:mt-24 bg-slate-900/80 backdrop-blur-xl rounded-lg border-2 border-cyan-400/30 p-4 sm:p-6 lg:p-8 xl:p-10 2xl:p-12 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-4 sm:mb-6 lg:mb-8 xl:mb-10 2xl:mb-12",children:[n.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl 3xl:text-5xl font-bold text-cyan-400 font-mono mb-2 lg:mb-3 xl:mb-4",children:"NETWORK STATUS"}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 lg:space-x-3",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 lg:w-4 lg:h-4 xl:w-5 xl:h-5 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-green-400 font-mono text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl",children:"ONLINE • VALIDATED"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 xl:gap-8 2xl:gap-10",children:[n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 2xl:p-8 bg-slate-800/50 rounded border border-cyan-400/30",children:[n.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl 3xl:text-5xl font-bold text-cyan-400 mb-1 lg:mb-2 font-mono",children:x.length}),n.jsx("div",{className:"text-gray-400 text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl font-mono",children:"BLOCKS"})]}),n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 2xl:p-8 bg-slate-800/50 rounded border border-yellow-400/30",children:[n.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl 3xl:text-5xl font-bold text-yellow-400 mb-1 lg:mb-2 font-mono",children:x.filter(p=>p.rarity==="Legendary").length}),n.jsx("div",{className:"text-gray-400 text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl font-mono",children:"LEGENDARY"})]}),n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 2xl:p-8 bg-slate-800/50 rounded border border-purple-400/30",children:[n.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl 3xl:text-5xl font-bold text-purple-400 mb-1 lg:mb-2 font-mono",children:x.filter(p=>p.rarity==="Epic").length}),n.jsx("div",{className:"text-gray-400 text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl font-mono",children:"EPIC"})]}),n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 2xl:p-8 bg-slate-800/50 rounded border border-blue-400/30",children:[n.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl 3xl:text-5xl font-bold text-blue-400 mb-1 lg:mb-2 font-mono",children:x.filter(p=>p.rarity==="Rare").length}),n.jsx("div",{className:"text-gray-400 text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl font-mono",children:"RARE"})]})]}),n.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 xl:mt-10 2xl:mt-12 grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 xl:gap-8 text-xs sm:text-sm lg:text-base xl:text-lg 2xl:text-xl font-mono",children:[n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 bg-slate-800/30 rounded",children:[n.jsx("div",{className:"text-gray-400 mb-1 lg:mb-2",children:"HASH RATE"}),n.jsx("div",{className:"text-cyan-400 font-bold",children:"847 TH/s"})]}),n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 bg-slate-800/30 rounded",children:[n.jsx("div",{className:"text-gray-400 mb-1 lg:mb-2",children:"BLOCK TIME"}),n.jsx("div",{className:"text-green-400 font-bold",children:"2.1s"})]}),n.jsxs("div",{className:"text-center p-3 sm:p-4 lg:p-5 xl:p-6 bg-slate-800/30 rounded",children:[n.jsx("div",{className:"text-gray-400 mb-1 lg:mb-2",children:"UPTIME"}),n.jsx("div",{className:"text-yellow-400 font-bold",children:"99.98%"})]})]})]})]})]})}function tq(){return n.jsx(eq,{})}const no={jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjOGUyMjhkMS0xZDVkLTQ3NmUtOWI1Mi1jZGU1NTBjNTAwOTgiLCJlbWFpbCI6ImFzbGFtYWxtc3dkeWFAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBpbl9wb2xpY3kiOnsicmVnaW9ucyI6W3siZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjEsImlkIjoiRlJBMSJ9LHsiZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjEsImlkIjoiTllDMSJ9XSwidmVyc2lvbiI6MX0sIm1mYV9lbmFibGVkIjpmYWxzZSwic3RhdHVzIjoiQUNUSVZFIn0sImF1dGhlbnRpY2F0aW9uVHlwZSI6InNjb3BlZEtleSIsInNjb3BlZEtleUtleSI6Ijc5NzUxNWNiNTA0OTNjOWY5MmNjIiwic2NvcGVkS2V5U2VjcmV0IjoiZjI5YzM3MTg1ZDlhNWE1MDgwYWRjMDk2MzVlZDAzODM4MDIzMjJhZjY0MDA1MTI3MWFjNWFkNmRjZGJjNzdkMCIsImV4cCI6MTc3NjQ1NTg1NX0.0USci_YaO6yhA17g7jHVs9f8eejYj040PjrW_QxruFI",apiKey:"797515cb50493c9f92cc",apiSecret:"f29c37185d9a5a5080adc09635ed0383802322af640051271ac5ad6dcdbc77d0",gateway:"ivory-permanent-ocelot-326.mypinata.cloud"},Qf="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iIzJkM2Q0MCIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2YzcyN2QiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBOb3QgQXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg==",zR=20,UR=1e4,$R=100,ma=10,HR=24*60*60*1e3,ca="certificates_cache",Kf="images_cache",Mu="metadata_cache",Du=[no.gateway,"ipfs.io","dweb.link","cloudflare-ipfs.com"],VR=t=>JSON.stringify(t,(e,s)=>typeof s=="bigint"?s.toString():s),GR=t=>JSON.parse(t,(e,s)=>typeof s=="string"&&/^\d+$/.test(s)&&s.length>15?BigInt(s):s),ho=t=>{try{const e=localStorage.getItem(t);if(!e)return null;const{data:s,timestamp:r}=GR(e);return Date.now()-r>HR?(localStorage.removeItem(t),null):s}catch(e){return console.error("Cache read error:",e),null}},Hl=(t,e)=>{try{const s={data:e,timestamp:Date.now()};localStorage.setItem(t,VR(s))}catch(s){console.error("Cache write error:",s)}},Lm=async t=>{try{const e=ho(`${Mu}_${t}`);if(e)return console.log("Using cached metadata for:",t),e;for(const s of Du)try{const r=`https://${s}/ipfs/${t}`,a=await fetch(r,{signal:AbortSignal.timeout(5e3)});if(a.ok){const o={...await a.json(),gateway:s,url:r};return Hl(`${Mu}_${t}`,o),o}}catch{continue}throw new Error("Failed to fetch metadata from all gateways")}catch(e){return console.error("Error fetching metadata:",e),null}},Vu=(t,e)=>{if(!t||!e)return null;const s=ho(`${Kf}_${e}`);if(s)return console.log("Using cached image URL for CID:",e),s;const a=`https://${t.gateway||Du[0]}/ipfs/${e}`;Hl(`${Kf}_${e}`,a);try{const i=new Image;i.src=a}catch(i){console.error("Failed to preload image:",i)}return a},Ka=t=>{if(!t)return"";let e=t.trim();return e.match(/^0x[0-9a-fA-F]{40}$/)?e.toLowerCase():null},Xf=t=>{const e=[],s=new Set;for(const r of t)r&&r.id&&!s.has(r.id)&&(s.add(r.id),e.push(r));return e},sq=Object.freeze(Object.defineProperty({__proto__:null,BATCH_SIZE:zR,CACHE_TTL:HR,CERTIFICATES_CACHE_KEY:ca,DISPLAY_LIMIT:$R,IMAGE_CACHE_KEY:Kf,IPFS_GATEWAYS:Du,MAX_CERTIFICATES:UR,METADATA_CACHE_KEY:Mu,PAGE_SIZE:ma,deduplicateCertificates:Xf,deserializeBigInt:GR,fetchMetadataFromIPFS:Lm,getCachedData:ho,getImageUrlFromMetadata:Vu,normalizeAddress:Ka,placeholderImage:Qf,serializeBigInt:VR,setCachedData:Hl},Symbol.toStringTag,{value:"Module"})),os=(t,e,s,r)=>{const i=Xf(t).filter(o=>{var h,f,x,g;const c=!e||((h=o.courseName)==null?void 0:h.toLowerCase().includes(e.toLowerCase()))||((f=o.id)==null?void 0:f.includes(e))||((x=o.institution)==null?void 0:x.toLowerCase().includes(e.toLowerCase()))||((g=o.student)==null?void 0:g.toLowerCase().includes(e.toLowerCase())),d=s==="all"||s==="verified"&&o.isVerified&&!o.isRevoked||s==="pending"&&!o.isVerified&&!o.isRevoked||s==="revoked"&&o.isRevoked;return c&&d});r(i.slice(0,$R))},zt=async(t,e)=>{try{const s=e.map(async i=>{try{if(!await t.tokenExists(i).catch(()=>!1))return console.log(`Certificate ${i} does not exist, skipping...`),null;const c=await t.getCertificate(i).catch(R=>(console.log(`Error getting certificate ${i}:`,R.message),null));if(!c||c.length===0)return console.log(`No data found for certificate ${i}, skipping...`),null;const[d,h]=await Promise.all([t.tokenURI(i).catch(()=>""),t.academicCertificates(i).catch(()=>null)]);let f=!1,x=0,g=!1;try{if(typeof t.burnRequestTimestamps=="function"){const R=await t.burnRequestTimestamps(i).catch(()=>0);f=Number(R)>0,x=Number(R)*1e3}typeof t.burnApproved=="function"&&(g=await t.burnApproved(i).catch(()=>!1))}catch(R){console.log(`Error checking burn status for certificate ${i}:`,R.message)}const p=d||(h==null?void 0:h.certificateHash)||"";let v=null,y=null,w=null,A=`Course ${c[2]}`,j=`Certificate ${i}`;try{const R=await t.getCourseName(c[2]).catch(()=>null);R&&R.trim()!==""&&(A=R)}catch(R){console.log(`Could not fetch course name for course ID ${c[2]}:`,R.message)}if(p){const R=p.startsWith("ipfs://")?p.slice(7):p,_=ho(`${Mu}_${R}`);if(_)v=_,j=v.name||j,v.image&&(y=v.image.startsWith("ipfs://")?v.image.slice(7):v.image,w=Vu(v,y));else try{const I=`https://${Du[0]}/ipfs/${R}`,D=new AbortController,B=setTimeout(()=>D.abort(),2e3),O=await fetch(I,{signal:D.signal,headers:{Accept:"application/json"}});clearTimeout(B),O.ok&&(j=(await O.json()).name||j,v={name:j,_partialLoad:!0})}catch{console.log(`Quick metadata fetch failed for ${i}, will load later`)}}const C=Number(c[3]),S=new Date(C*1e3),E=S.toLocaleDateString(),M=S.toUTCString();return{id:i.toString(),tokenId:i.toString(),tokenURI:d,metadataCID:p?p.startsWith("ipfs://")?p.slice(7):p:null,imageCID:y,imageUrl:w,metadata:v,student:c[0],institution:c[1],courseId:c[2].toString(),courseName:A,certificateName:j,completionDate:E,completionTimestamp:C,completionDateUTC:M,grade:Number(c[4]),isVerified:c[5],isRevoked:c[6],revocationReason:c[7],version:c[8].toString(),lastUpdateDate:c[9],updateReason:c[10],metadataLoaded:v&&!v._partialLoad,burnRequested:f,burnRequestTime:x,burnApproved:g}}catch(o){return console.error(`Error processing certificate ${i}:`,o),null}}),a=(await Promise.all(s)).filter(i=>i!==null);return console.log(`Successfully processed ${a.length} of ${e.length} certificates in batch`),a}catch(s){return console.error("Error processing certificate batch:",s),[]}},kl=t=>t>=90?"A":t>=80?"B":t>=70?"C":t>=60?"D":"F",Zf=t=>t?t.isRevoked?"bg-red-500 text-white":t.isVerified?"bg-green-500 text-white":"bg-yellow-500 text-white":"bg-gray-500 text-white",$b=t=>t?t.isRevoked?"Revoked":t.isVerified?"Verified":"Pending":"Unknown",Sn=({size:t="md",color:e="violet",className:s=""})=>{const r={sm:"w-8 h-8",md:"w-16 h-16",lg:"w-24 h-24",xl:"w-32 h-32"},a={violet:"text-violet-500",blue:"text-blue-500",green:"text-green-500",red:"text-red-500",white:"text-white"},i=r[t]||r.md,o=a[e]||a.violet;return n.jsxs("div",{className:`${i} ${s} relative`,role:"status","aria-label":"Loading",children:[n.jsx("div",{className:`absolute inset-0 ${o} opacity-20 rounded-full border-4 border-current`}),n.jsx("div",{className:`absolute inset-0 ${o} rounded-full border-4 border-current border-t-transparent animate-spin`,style:{filter:"drop-shadow(0 0 2px currentColor)"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:n.jsx("div",{className:`${o} rounded-full animate-pulse-fast`,style:{width:"30%",height:"30%",filter:"drop-shadow(0 0 3px currentColor)"}})}),n.jsx("div",{className:"absolute inset-0 animate-orbit",children:n.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 ${o} rounded-full`,style:{width:"12%",height:"12%",filter:"drop-shadow(0 0 2px currentColor)"}})}),n.jsx("div",{className:"absolute inset-0 animate-orbit-delayed-1",children:n.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 ${o} rounded-full`,style:{width:"10%",height:"10%",filter:"drop-shadow(0 0 2px currentColor)"}})}),n.jsx("div",{className:"absolute inset-0 animate-orbit-delayed-2",children:n.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 ${o} rounded-full`,style:{width:"8%",height:"8%",filter:"drop-shadow(0 0 2px currentColor)"}})}),n.jsx("span",{className:"sr-only",children:"Loading..."})]})};function nq(){var j;const[t,e]=k.useState(null),[s,r]=k.useState([]),[a,i]=k.useState(!0),[o,c]=k.useState(0),[d,h]=k.useState(null),[f,x]=k.useState(!1),[g,p]=k.useState(!1),[v,y]=k.useState(!1);k.useEffect(()=>{(async()=>{try{if(i(!0),!window.ethereum){console.log("No MetaMask, using fallback"),i(!1);return}const S=new Xe(window.ethereum),E=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,S),M=await E.totalSupply(),R=Number(M);if(R===0){i(!1);return}const _=Math.min(5,R),I=[];for(let D=0;D<_;D++)try{const B=await E.tokenByIndex(R-1-D);I.push(Number(B))}catch(B){console.log(`Error getting token at index ${D}:`,B)}if(I.length>0){const D=await zt(E,I);r(D),e(D[0])}}catch(S){console.error("Error fetching certificates:",S)}finally{i(!1)}})()},[]),k.useEffect(()=>{if(s.length<=1||g)return;const C=setInterval(()=>{c(S=>{const E=(S+1)%s.length;return e(s[E]),E})},6e3);return()=>clearInterval(C)},[s,g]),k.useEffect(()=>{(async()=>{if(t){if(x(!0),h(null),t.imageUrl){h(t.imageUrl),x(!1);return}if(t.metadataCID)try{const S=await Lm(t.metadataCID);if(S&&S.image){const E=S.image.startsWith("ipfs://")?S.image.slice(7):S.image,M=Vu(S,E);h(M)}}catch(S){console.log("Error loading certificate image:",S)}x(!1)}})()},[t]);const w=()=>{p(!0),y(!0),setTimeout(()=>{y(!1)},800)},A=()=>{p(!1),y(!1)};return k.useEffect(()=>{const C=S=>{S.key==="Escape"&&g&&A()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[g]),n.jsxs("section",{className:"relative min-h-screen w-full overflow-hidden",children:[n.jsx("img",{src:B5,alt:"Hero background",className:"absolute top-0 left-0 w-full h-full object-cover opacity-60"}),n.jsxs("div",{className:"max-w-7xl mx-auto py-8 sm:py-12 md:py-16 lg:py-24 px-4 sm:px-6 lg:px-8 overflow-hidden text-center mb-8 sm:mb-12 md:mb-16 lg:mb-20 relative z-10",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight pb-4 bg-gradient-to-r from-blue-300 via-purple-300 to-indigo-300 text-transparent bg-clip-text",children:["Live Certificate Showcase",n.jsx("br",{}),n.jsx("span",{className:"block max-w-2xl mx-auto text-sm sm:text-base md:text-lg leading-relaxed text-gray-300 backdrop-blur-sm px-2 sm:px-4 mt-2",children:"Real certificates from our blockchain"})]}),a?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 lg:py-20",children:[n.jsx(Sn,{}),n.jsx("p",{className:"text-gray-300 mt-4 sm:mt-6 text-sm sm:text-base px-4",children:"Loading real certificates from blockchain..."})]}):t?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"max-w-4xl mx-auto mb-6 sm:mb-8",children:n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 via-slate-800/80 to-black/90 border-2 border-blue-400/60 rounded-2xl sm:rounded-3xl backdrop-blur-xl shadow-2xl p-4 sm:p-6 lg:p-8 transition-all duration-1000 hover:shadow-blue-500/40",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/10 via-violet-400/5 to-cyan-400/10 rounded-2xl sm:rounded-3xl animate-gradient opacity-60"}),n.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 items-center",children:[n.jsx("div",{className:"order-2 lg:order-1",children:n.jsxs("div",{className:"relative aspect-[4/3] bg-gray-800 rounded-xl sm:rounded-2xl overflow-hidden border border-blue-400/30 cursor-pointer transform transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:shadow-blue-500/20 hover:border-blue-400/50",onClick:w,children:[f?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Sn,{})}):d?n.jsx("img",{src:d,alt:`Certificate ${t.id}`,className:"w-full h-full object-cover transition-all duration-300",onError:()=>h(Qf)}):n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl sm:text-5xl lg:text-6xl mb-2 sm:mb-4",children:"🎓"}),n.jsxs("p",{className:"text-xs sm:text-sm",children:["Certificate #",t.id]})]})}),n.jsxs("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 bg-green-500/90 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm flex items-center gap-1 sm:gap-2",children:[n.jsx("div",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-white rounded-full animate-pulse"}),n.jsx("span",{className:"hidden sm:inline",children:"On-Chain"}),n.jsx("span",{className:"sm:hidden",children:"Chain"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-500/10 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]})}),n.jsxs("div",{className:"order-1 lg:order-2 text-left space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-blue-400 text-xs sm:text-sm font-bold tracking-wide mb-2",children:["CERTIFICATE #",t.id]}),n.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-2 break-words",children:t.courseName}),n.jsx("p",{className:"text-cyan-300 text-xs sm:text-sm font-mono",children:"Blockchain Verified"})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex items-start sm:items-center",children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full mr-2 sm:mr-3 animate-pulse mt-1 sm:mt-0 flex-shrink-0"}),n.jsxs("div",{className:"text-gray-300 text-xs sm:text-sm min-w-0",children:[n.jsx("span",{className:"block sm:inline",children:"Student:"}),n.jsxs("span",{className:"text-white font-semibold font-mono text-xs break-all block sm:inline sm:ml-1",children:[n.jsxs("span",{className:"sm:hidden",children:[t.student.slice(0,6),"...",t.student.slice(-4)]}),n.jsxs("span",{className:"hidden sm:inline",children:[t.student.slice(0,8),"...",t.student.slice(-6)]})]})]})]}),n.jsxs("div",{className:"flex items-start sm:items-center",children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-gradient-to-r from-violet-400 to-purple-500 rounded-full mr-2 sm:mr-3 animate-pulse mt-1 sm:mt-0 flex-shrink-0",style:{animationDelay:"0.3s"}}),n.jsxs("div",{className:"text-gray-300 text-xs sm:text-sm min-w-0",children:[n.jsx("span",{className:"block sm:inline",children:"Institution:"}),n.jsxs("span",{className:"text-white font-semibold font-mono text-xs break-all block sm:inline sm:ml-1",children:[n.jsxs("span",{className:"sm:hidden",children:[t.institution.slice(0,6),"...",t.institution.slice(-4)]}),n.jsxs("span",{className:"hidden sm:inline",children:[t.institution.slice(0,8),"...",t.institution.slice(-6)]})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full mr-2 sm:mr-3 animate-pulse flex-shrink-0",style:{animationDelay:"0.6s"}}),n.jsxs("div",{className:"text-gray-300 text-xs sm:text-sm",children:["Grade: ",n.jsxs("span",{className:"text-green-400 font-bold text-sm sm:text-lg",children:[t.grade,"%"]})]})]}),n.jsxs("div",{className:"flex items-start sm:items-center",children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full mr-2 sm:mr-3 animate-pulse mt-1 sm:mt-0 flex-shrink-0",style:{animationDelay:"0.9s"}}),n.jsxs("div",{className:"text-gray-300 text-xs sm:text-sm",children:[n.jsx("span",{className:"block sm:inline",children:"Completed:"}),n.jsx("span",{className:"text-white font-semibold block sm:inline sm:ml-1",children:t.completionDate})]})]})]}),n.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:t.isRevoked?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-red-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-red-400 font-semibold text-xs sm:text-sm",children:"REVOKED"})]}):t.isVerified?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-green-400 font-semibold text-xs sm:text-sm",children:"VERIFIED"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-yellow-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-yellow-400 font-semibold text-xs sm:text-sm",children:"PENDING"})]})})]})]}),n.jsx("div",{className:"relative z-10 mt-4 sm:mt-6 lg:mt-8 pt-4 sm:pt-6 border-t border-blue-400/30",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 text-xs",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-400 mb-2 text-xs sm:text-sm",children:"Transaction Hash:"}),(j=t.metadata)!=null&&j.transactionHash?n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-800/50 rounded-lg p-2 sm:p-3",children:[n.jsx("a",{href:`https://sepolia.etherscan.io/tx/${t.metadata.transactionHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors font-mono text-xs break-all flex-1 min-w-0",title:"View on Etherscan Sepolia",children:t.metadata.transactionHash}),n.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.metadata.transactionHash);const C=event.target,S=C.textContent;C.textContent="✓",setTimeout(()=>C.textContent=S,1e3)},className:"px-2 py-1 bg-violet-600 hover:bg-violet-700 rounded text-white transition-colors text-xs",title:"Copy transaction hash",children:"📋"}),n.jsx("a",{href:`https://sepolia.etherscan.io/tx/${t.metadata.transactionHash}`,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white transition-colors text-xs",title:"View on Etherscan",children:"🔗"})]})]}):n.jsx("div",{className:"text-gray-500 font-mono text-xs",children:"No transaction hash available"})]}),n.jsx("div",{className:"text-gray-400 text-xs sm:text-sm flex-shrink-0",children:s.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden sm:inline",children:["Certificate ",o+1," of ",s.length]}),n.jsxs("span",{className:"sm:hidden",children:[o+1,"/",s.length]})]})})]})})]}),s.length>1&&n.jsx("div",{className:"flex justify-center gap-1.5 sm:gap-2 mt-4 sm:mt-6",children:s.map((C,S)=>n.jsx("button",{onClick:()=>{c(S),e(s[S])},className:`w-2.5 sm:w-3 h-2.5 sm:h-3 rounded-full transition-all duration-300 ${S===o?"bg-blue-400 scale-125":"bg-gray-600 hover:bg-gray-500"}`},S))})]})}),s.length>0&&n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-800/50 rounded-full text-xs sm:text-sm text-gray-300 border border-gray-700/50",children:[n.jsx("div",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-green-400 rounded-full animate-pulse"}),n.jsxs("span",{className:"hidden sm:inline",children:["Showing ",s.length," latest certificate",s.length>1?"s":""]}),n.jsxs("span",{className:"sm:hidden",children:[s.length," certificate",s.length>1?"s":""]})]})})]}):n.jsx("div",{className:"py-12 sm:py-16 lg:py-20",children:n.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl p-6 sm:p-8 lg:p-12 border border-blue-500/20 max-w-2xl mx-auto",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"No Certificates Yet"}),n.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Be the first to mint a certificate on our blockchain!"}),n.jsx("div",{className:"mt-4 sm:mt-6",children:n.jsx("button",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-violet-600 hover:bg-violet-700 rounded-lg transition-colors text-sm sm:text-base",children:"Get Started"})})]})})]}),g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black/80 backdrop-blur-sm",onClick:A,children:n.jsxs("div",{className:"relative max-w-4xl max-h-[95vh] sm:max-h-[90vh] w-full bg-gradient-to-br from-gray-900/95 via-slate-800/90 to-black/95 rounded-2xl sm:rounded-3xl border-2 border-blue-400/50 overflow-hidden transform transition-all duration-500 scale-95 animate-modal-enter",onClick:C=>C.stopPropagation(),children:[n.jsx("button",{onClick:A,className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10 w-8 sm:w-10 h-8 sm:h-10 bg-red-500/80 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors backdrop-blur-sm",title:"Close",children:n.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{className:"p-4 sm:p-6 border-b border-blue-400/30",children:[n.jsxs("h3",{className:"text-lg sm:text-2xl font-bold text-white mb-2",children:["Certificate #",t==null?void 0:t.id]}),n.jsx("p",{className:"text-blue-300 text-sm sm:text-base break-words",children:t==null?void 0:t.courseName})]}),n.jsx("div",{className:"p-4 sm:p-6",children:v?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 sm:h-80 lg:h-96",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 sm:w-16 h-12 sm:h-16 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),n.jsx("div",{className:"absolute inset-0 w-12 sm:w-16 h-12 sm:h-16 border-4 border-transparent border-b-violet-500 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-cyan-400 rounded-full animate-ping"})})]}),n.jsxs("div",{className:"mt-4 sm:mt-6 text-center",children:[n.jsx("p",{className:"text-gray-300 text-base sm:text-lg animate-pulse",children:"Loading certificate image..."}),n.jsxs("div",{className:"flex justify-center mt-2 space-x-1",children:[n.jsx("div",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-violet-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl sm:rounded-3xl",children:n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent animate-scan"})})]}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-[4/3] max-h-[50vh] sm:max-h-[60vh] mx-auto bg-gray-800 rounded-xl sm:rounded-2xl overflow-hidden border border-blue-400/30",children:d?n.jsx("img",{src:d,alt:`Certificate ${t==null?void 0:t.id} - Full Size`,className:"w-full h-full object-contain transform transition-all duration-700 animate-image-reveal",onError:()=>h(Qf)}):n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl sm:text-6xl lg:text-8xl mb-2 sm:mb-4",children:"🎓"}),n.jsxs("p",{className:"text-sm sm:text-base lg:text-xl",children:["Certificate #",t==null?void 0:t.id]})]})})}),n.jsxs("div",{className:"mt-3 sm:mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2 sm:p-3",children:[n.jsx("div",{className:"text-gray-400 mb-1 text-xs sm:text-sm",children:"Student"}),n.jsx("div",{className:"text-white font-mono text-xs break-all",children:t==null?void 0:t.student})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2 sm:p-3",children:[n.jsx("div",{className:"text-gray-400 mb-1 text-xs sm:text-sm",children:"Grade"}),n.jsxs("div",{className:"text-green-400 font-bold text-base sm:text-lg",children:[t==null?void 0:t.grade,"%"]})]})]})]})})]})})]})}const rq=({isMobileMenuOpen:t,setIsMobileMenuOpen:e})=>{const[s,r]=k.useState("hero"),[a,i]=k.useState(!1),[o,c]=k.useState(null),[d,h]=k.useState(null),[f,x]=k.useState(!1),g=k.useRef(null),p=50,v=[{id:"hero",label:"Home",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"how-it-works",label:"How It Works",icon:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"features",label:"Features",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{id:"certificates",label:"Certificates",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"certificate-checker",label:"Certificate Checker",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{id:"team",label:"Team",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}];k.useEffect(()=>{let M=!1;const R=()=>{f||M||(requestAnimationFrame(()=>{const _=window.scrollY+150,I=window.innerHeight;for(let D=v.length-1;D>=0;D--){const B=document.getElementById(v[D].id);if(B){const O=B.offsetTop,$=O+B.offsetHeight;if(_>=O&&_<$){r(v[D].id);break}else if(_+I>=document.documentElement.scrollHeight-100){r(v[v.length-1].id);break}}}M=!1}),M=!0)};return window.addEventListener("scroll",R,{passive:!0}),()=>window.removeEventListener("scroll",R)},[v,f]),k.useEffect(()=>{const M=R=>{g.current&&!g.current.contains(R.target)&&(i(!1),e&&e(!1))};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[e]);const y=M=>{h(null),c(M.targetTouches[0].clientX)},w=M=>{h(M.targetTouches[0].clientX)},A=()=>{if(!o||!d)return;o-d>p&&(i(!1),e&&e(!1))},j=M=>{const R=document.getElementById(M);if(R){r(M),x(!0);const I=R.offsetTop-80;if(M==="team")window.scrollTo({top:I,behavior:"instant"}),x(!1);else{window.scrollTo({top:I,behavior:"smooth"});let D;const B=()=>{clearTimeout(D),D=setTimeout(()=>{x(!1),window.removeEventListener("scroll",B)},150)};window.addEventListener("scroll",B,{passive:!0})}window.innerWidth<1024&&(i(!1),e&&e(!1))}else console.warn(`Section with id "${M}" not found`)},C=()=>{i(!a),e&&e(!a)},S=()=>n.jsx("div",{className:"fixed top-1/2 left-6 z-50 transform -translate-y-1/2 hidden lg:block",children:n.jsxs("div",{className:"glass-nav-panel rounded-3xl p-4 backdrop-blur-xl",children:[n.jsxs("div",{className:"text-center mb-6 pb-4 border-b border-white/20",children:[n.jsx("div",{className:"w-10 h-10 mx-auto mb-3 bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("div",{className:"glass-dot w-1.5 h-1.5 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full mx-auto"})]}),n.jsx("nav",{className:"space-y-3",children:v.map(M=>n.jsxs("button",{onClick:()=>j(M.id),className:`glass-nav-button group relative w-14 h-14 rounded-2xl transition-all duration-300 flex items-center justify-center ${s===M.id?"active text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[n.jsx("div",{className:"group-hover:scale-110 transition-transform duration-200",children:M.icon}),s===M.id&&n.jsx("div",{className:"absolute -right-1 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-l-full shadow-lg"}),n.jsxs("div",{className:"tooltip absolute left-full ml-3 px-3 py-2 bg-black/80 text-white text-sm rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap pointer-events-none shadow-xl backdrop-blur-sm z-50",children:[M.label,n.jsx("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 w-0 h-0 border-r-4 border-r-black/80 border-t-2 border-t-transparent border-b-2 border-b-transparent"})]})]},M.id))}),n.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-gray-300 mb-3 font-medium",children:[Math.round((v.findIndex(M=>M.id===s)+1)/v.length*100),"%"]}),n.jsx("div",{className:"w-full bg-white/20 rounded-full h-1.5 progress-glow",children:n.jsx("div",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${(v.findIndex(M=>M.id===s)+1)/v.length*100}%`}})})]})})]})}),E=()=>n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:C,className:"lg:hidden fixed top-4 right-4 z-50 w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg backdrop-blur-sm border border-white/20 transition-all duration-300 hover:scale-110 mobile-toggle-button","aria-label":"Toggle navigation",children:n.jsx("div",{className:`transition-transform duration-300 ${a?"rotate-90":"rotate-0"}`,children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),a&&n.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-opacity duration-300 mobile-sidebar-overlay mobile-backdrop",children:n.jsxs("div",{ref:g,className:"fixed top-0 right-0 h-full w-80 bg-gradient-to-br from-slate-900/95 to-slate-800/95 backdrop-blur-xl border-l border-white/20 shadow-2xl transform transition-transform duration-300 ease-in-out mobile-sidebar-content",onTouchStart:y,onTouchMove:w,onTouchEnd:A,children:[n.jsx("div",{className:"p-6 border-b border-white/20 mobile-sidebar-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-bold text-lg",children:"Navigation"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Quick access to sections"})]})]}),n.jsx("button",{onClick:C,className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-colors duration-200 mobile-close-button",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsx("div",{className:"mobile-swipe-indicator"}),n.jsx("nav",{className:"p-6 space-y-2",children:v.map(M=>n.jsxs("button",{onClick:()=>j(M.id),className:`w-full flex items-center space-x-4 px-4 py-3 rounded-xl transition-all duration-200 text-left mobile-nav-item ${s===M.id?"active":"text-gray-300 hover:bg-white/10 hover:text-white"}`,children:[n.jsx("div",{className:`p-2 rounded-lg mobile-nav-icon ${s===M.id?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-white/10"}`,children:M.icon}),n.jsx("span",{className:`font-medium mobile-nav-text ${s===M.id?"text-white":""}`,children:M.label}),s===M.id&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-blue-400 rounded-full animate-pulse"})]},M.id))}),n.jsx("div",{className:"p-6 border-t border-white/20",children:n.jsxs("div",{className:"text-center mobile-progress-container",children:[n.jsxs("div",{className:"text-sm text-gray-300 mb-3 font-medium",children:["Progress: ",Math.round((v.findIndex(M=>M.id===s)+1)/v.length*100),"%"]}),n.jsx("div",{className:"mobile-progress-bar",children:n.jsx("div",{className:"mobile-progress-fill",style:{width:`${(v.findIndex(M=>M.id===s)+1)/v.length*100}%`}})})]})})]})})]});return n.jsxs(n.Fragment,{children:[n.jsx(S,{}),n.jsx(E,{})]})};var qR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tk=en.createContext&&en.createContext(qR),aq=["attr","size","title"];function iq(t,e){if(t==null)return{};var s=oq(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function oq(t,e){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;s[r]=t[r]}return s}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Kp.apply(this,arguments)}function Rk(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,r)}return s}function Xp(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(s),!0).forEach(function(r){lq(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Rk(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function lq(t,e,s){return e=cq(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function cq(t){var e=dq(t,"string");return typeof e=="symbol"?e:e+""}function dq(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WR(t){return t&&t.map((e,s)=>en.createElement(e.tag,Xp({key:s},e.attr),WR(e.child)))}function et(t){return e=>en.createElement(uq,Kp({attr:Xp({},t.attr)},e),WR(t.child))}function uq(t){var e=s=>{var{attr:r,size:a,title:i}=t,o=iq(t,aq),c=a||s.size||"1em",d;return s.className&&(d=s.className),t.className&&(d=(d?d+" ":"")+t.className),en.createElement("svg",Kp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:d,style:Xp(Xp({color:t.color||s.color},s.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&en.createElement("title",null,i),t.children)};return Tk!==void 0?en.createElement(Tk.Consumer,null,s=>e(s)):e(qR)}function hq(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function Zp(t){return et({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M311.9 260.8L160 353.6 8 260.8 160 0l151.9 260.8zM160 383.4L8 290.6 160 512l152-221.4-152 92.8z"},child:[]}]})(t)}function fq(t){return et({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function mq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Al(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function xq(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function gq(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function YR(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"},child:[]}]})(t)}function El(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function fo(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function pq(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function fd(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function bq(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function vq(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function Uy(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"},child:[]}]})(t)}function yq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function mo(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function f0(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function Jp(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function _5(t){return et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function wq(t){return et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function Nq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function ro(t){return et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function jq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"},child:[]}]})(t)}function Cq(t){return et({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function QR(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function kq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function Aq(t){return et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(t)}function Mk(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function Eq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Sq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function Tq(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Rq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function KR(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(t)}function Pr(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Dk(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function $y(t){return et({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(t)}function Hy(t){return et({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(t)}function Jf(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Mq(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function I5(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Hb(t){return et({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Zw(t){return et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function eb(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}const Dq=()=>{const[t,e]=k.useState(""),[s,r]=k.useState(!1),[a,i]=k.useState(null),[o,c]=k.useState(null),[d,h]=k.useState("");k.useEffect(()=>{(async()=>{if(window.ethereum)try{console.log("Initializing contract...");const C=new Xe(window.ethereum),S=new jt(Ze.sepolia.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,C);c(S),h(""),console.log("Contract initialized successfully.")}catch(C){console.error("Error initializing contract:",C),h("Failed to initialize blockchain connection: "+C.message)}else h("MetaMask not detected. Please install MetaMask to use this feature.")})()},[]);const f=j=>O4(j),x=async j=>{try{const C=await o.balanceOf(j);return{hasCertificates:C>0,count:Number(C)}}catch(C){throw console.error("Error in quick check:",C),new Error("Failed to check certificate balance")}},g=async j=>{try{const C=await o.getCertificatesByStudent(j,0,100);if(C.length===0)return{certificates:[],count:0};let S=[];try{const E=await o.getCertificatesBatch(C);if(E&&E.students&&E.institutions&&E.courseIds&&E.completionDates&&E.grades&&E.verificationStatuses&&E.revocationStatuses)for(let M=0;M<C.length;M++)try{const R=C[M],_=E.students[M],I=E.institutions[M],D=E.courseIds[M],B=E.completionDates[M],O=E.grades[M],$=E.verificationStatuses[M],Y=E.revocationStatuses[M],H={id:Number(R),student:_||"",institution:I||"",courseId:Number(D||0),completionDate:Number(B||0),grade:Number(O||0),isVerified:!!$,isRevoked:!!Y};try{const V=(await o.queryFilter(o.filters.CertificateIssued(null,null,null,null,null,null),void 0,void 0)).find(X=>X.args.tokenId.toString()===R.toString());V&&(H.transactionHash=V.transactionHash,H.blockNumber=V.blockNumber)}catch(L){console.log(`Could not get transaction hash for certificate ${R}:`,L)}S.push(H)}catch(R){console.error(`Error processing certificate ${M}:`,R)}else throw new Error("Invalid batch data structure")}catch(E){console.log("Batch method failed, falling back to individual calls:",E),S=await p(C)}return{certificates:S,count:S.length}}catch(C){throw console.error("Error in detailed check:",C),new Error("Failed to get detailed certificate information")}},p=async j=>{const C=[];for(const S of j)try{const E=await o.getCertificate(S),M={id:Number(S),student:E[0]||"",institution:E[1]||"",courseId:Number(E[2]||0),completionDate:Number(E[3]||0),grade:Number(E[4]||0),isVerified:!!E[5],isRevoked:!!E[6]};try{const _=(await o.queryFilter(o.filters.CertificateIssued(null,null,null,null,null,null),void 0,void 0)).find(I=>I.args.tokenId.toString()===S.toString());_&&(M.transactionHash=_.transactionHash,M.blockNumber=_.blockNumber)}catch(R){console.log(`Could not get transaction hash for certificate ${S}:`,R)}C.push(M)}catch(E){console.error(`Error getting individual certificate ${S}:`,E)}return C},v=async()=>{if(!t.trim()){h("Please enter a student address");return}if(!f(t)){h("Please enter a valid Ethereum address");return}if(!o){h("Smart contract not initialized. Please refresh the page.");return}r(!0),h(""),i(null);try{console.log("Starting certificate check for address:",t);const j=await x(t);if(console.log("Quick check result:",j),j.hasCertificates){console.log("Getting detailed certificate information...");const C=await g(t);console.log("Detailed check result:",C),i({...j,...C,address:t})}else i({...j,address:t,certificates:[]})}catch(j){console.error("Certificate check error:",j),h(j.message||"An unexpected error occurred while checking certificates")}finally{r(!1)}},y=j=>new Date(j*1e3).toLocaleDateString(),w=(j,C)=>C?"text-red-400":j?"text-green-400":"text-yellow-400",A=(j,C)=>C?"REVOKED":j?"VERIFIED":"PENDING";return n.jsxs("section",{className:"relative py-8 sm:py-12 md:py-16 lg:py-20 overflow-hidden min-h-screen",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black via-slate-950 to-gray-950"}),n.jsx("div",{className:"absolute inset-0 opacity-15 motion-safe:opacity-20",children:n.jsx("div",{className:"w-full h-full motion-safe:animate-gradient",style:{backgroundImage:`
                linear-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.15) 1px, transparent 1px),
                linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px)
              `,backgroundSize:"50px 50px, 50px 50px, 25px 25px, 25px 25px"}})}),n.jsx("div",{className:"absolute top-10 left-4 sm:top-20 sm:left-20 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-radial from-blue-500/20 to-transparent rounded-full motion-safe:animate-float blur-sm"}),n.jsx("div",{className:"absolute bottom-16 right-4 sm:bottom-32 sm:right-32 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-radial from-violet-500/15 to-transparent rounded-full motion-safe:animate-orbit blur-sm"}),n.jsx("div",{className:"absolute top-1/2 left-4 sm:left-16 w-12 h-12 sm:w-20 sm:h-20 bg-gradient-radial from-cyan-500/25 to-transparent rounded-full motion-safe:animate-pulse-fast blur-sm"}),n.jsx("div",{className:"absolute top-1/4 right-4 sm:top-1/3 sm:right-1/4 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-radial from-cyan-500/15 to-transparent rounded-full motion-safe:animate-float blur-sm"}),n.jsx("div",{className:"absolute bottom-1/4 left-4 sm:bottom-1/3 sm:left-1/3 w-20 h-20 sm:w-28 sm:h-28 bg-gradient-radial from-purple-500/10 to-transparent rounded-full motion-safe:animate-orbit blur-sm"})]}),n.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:[n.jsxs(Je.div,{className:"text-center mb-8 sm:mb-12 md:mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 bg-slate-800/50 backdrop-blur-sm rounded-full border border-slate-600/30 mb-3 sm:mb-4",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-cyan-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs sm:text-sm text-slate-300 font-medium",children:"Certificate Verification"})]}),n.jsx("h2",{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 mb-3 sm:mb-4 md:mb-6 leading-tight",children:"Certificate Checker"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-slate-300 max-w-2xl sm:max-w-3xl md:max-w-4xl mx-auto leading-relaxed px-2",children:"Verify student certificates on the blockchain with real-time verification and transparent transaction history."})]}),n.jsx(Je.div,{className:"max-w-sm sm:max-w-md md:max-w-2xl lg:max-w-3xl xl:max-w-4xl mx-auto",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20 rounded-xl sm:rounded-2xl blur-lg"}),n.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/90 via-slate-900/90 to-slate-800/90 backdrop-blur-xl rounded-xl sm:rounded-2xl border border-slate-600/30 shadow-2xl p-4 sm:p-5 md:p-6 lg:p-8",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-slate-300 text-xs sm:text-sm font-semibold mb-2 uppercase tracking-wider",children:"Student Wallet Address"}),n.jsxs("div",{className:"relative group",children:[n.jsx("input",{type:"text",placeholder:"0x1234...5678",value:t,onChange:j=>e(j.target.value),className:"w-full px-3 py-2.5 sm:px-4 sm:py-3 md:px-5 md:py-3.5 bg-slate-700/50 border border-slate-600/50 rounded-lg sm:rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-cyan-400/50 focus:ring-2 sm:focus:ring-3 focus:ring-cyan-400/20 transition-all duration-300 text-sm sm:text-base font-mono group-hover:border-slate-500/50",disabled:s}),n.jsx(Zp,{className:"absolute right-3 sm:right-4 md:right-5 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover:text-cyan-400 transition-colors duration-300 text-sm sm:text-base"})]})]}),n.jsx("button",{onClick:v,disabled:s||!t.trim(),className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 md:px-8 md:py-3.5 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed rounded-lg sm:rounded-xl text-white font-semibold text-sm sm:text-base transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 shadow-lg hover:shadow-xl hover:scale-105 disabled:hover:scale-100 disabled:shadow-lg",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Jf,{className:"animate-spin text-sm sm:text-base"}),n.jsx("span",{className:"hidden sm:inline",children:"Checking..."}),n.jsx("span",{className:"sm:hidden",children:"Checking"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pr,{className:"text-sm sm:text-base"}),n.jsx("span",{className:"hidden sm:inline",children:"Check Certificates"}),n.jsx("span",{className:"sm:hidden",children:"Check"})]})})]}),d&&n.jsx(Je.div,{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-red-500/20 border border-red-500/30 rounded-lg sm:rounded-xl text-red-400 text-xs sm:text-sm backdrop-blur-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-red-400 rounded-full"}),d]})})]}),a&&n.jsxs(Je.div,{className:"border-t border-slate-600/30 pt-4 sm:pt-6 md:pt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsx("div",{className:"text-center mb-4 sm:mb-6 md:mb-8",children:n.jsxs("div",{className:"inline-flex flex-col sm:flex-row items-center gap-3 sm:gap-4 p-3 sm:p-4 md:p-5 bg-gradient-to-r from-slate-700/50 to-slate-800/50 backdrop-blur-sm rounded-xl sm:rounded-2xl border border-slate-600/30 shadow-xl",children:[a.hasCertificates?n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-green-500/20 rounded-full flex items-center justify-center",children:n.jsx(El,{className:"text-green-400 text-lg sm:text-xl md:text-2xl"})}):n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-red-500/20 rounded-full flex items-center justify-center",children:n.jsx(I5,{className:"text-red-400 text-lg sm:text-xl md:text-2xl"})}),n.jsxs("div",{className:"text-center sm:text-left",children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white mb-1 sm:mb-2",children:a.hasCertificates?"Certificates Found!":"No Certificates Found"}),n.jsxs("p",{className:"text-xs sm:text-sm md:text-base text-slate-300",children:["Address: ",n.jsx("span",{className:"font-mono text-cyan-400 bg-slate-800/50 px-2 py-1 rounded-lg text-xs sm:text-sm",children:a.address})]}),a.hasCertificates&&n.jsxs("p",{className:"text-xs sm:text-sm md:text-base text-slate-300 mt-1",children:["Total Certificates: ",n.jsx("span",{className:"font-bold text-green-400 text-sm sm:text-base md:text-lg",children:a.count})]})]})]})}),a.hasCertificates&&a.certificates.length>0&&n.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-5",children:[n.jsx("h4",{className:"text-base sm:text-lg md:text-xl font-bold text-white text-center mb-4 sm:mb-6",children:"Certificate Details"}),n.jsx("div",{className:"grid gap-3 sm:gap-4 md:gap-5 max-h-[250px] sm:max-h-[300px] md:max-h-none overflow-y-auto md:overflow-visible pr-1 sm:pr-2",children:a.certificates.map((j,C)=>n.jsx(Je.div,{className:"bg-gradient-to-r from-slate-700/50 to-slate-800/50 border border-slate-600/30 rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-5 backdrop-blur-sm hover:border-slate-500/50 transition-all duration-300 group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:C*.1},children:n.jsx("div",{className:"flex flex-col gap-3 sm:gap-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-cyan-500/20 rounded-lg sm:rounded-xl flex items-center justify-center group-hover:bg-cyan-500/30 transition-colors duration-300",children:n.jsx(YR,{className:"text-cyan-400 text-sm sm:text-lg md:text-xl"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[n.jsxs("span",{className:"font-bold text-white text-sm sm:text-base md:text-lg",children:["Certificate #",j.id]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${w(j.isVerified,j.isRevoked)} bg-slate-600/50 backdrop-blur-sm w-fit`,children:A(j.isVerified,j.isRevoked)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 text-xs sm:text-sm md:text-base text-slate-300",children:[n.jsxs("div",{className:"bg-slate-800/30 p-2 sm:p-2.5 rounded-lg",children:[n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Course ID:"}),n.jsx("div",{className:"text-cyan-400 font-semibold text-xs sm:text-sm md:text-base",children:j.courseId})]}),n.jsxs("div",{className:"bg-slate-800/30 p-2 sm:p-2.5 rounded-lg",children:[n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Grade:"}),n.jsx("div",{className:"text-green-400 font-semibold text-xs sm:text-sm md:text-base",children:j.grade})]}),n.jsxs("div",{className:"bg-slate-800/30 p-2 sm:p-2.5 rounded-lg",children:[n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Completion:"}),n.jsx("div",{className:"text-blue-400 font-semibold text-xs sm:text-sm md:text-base",children:y(j.completionDate)})]}),n.jsxs("div",{className:"bg-slate-800/30 p-2 sm:p-2.5 rounded-lg",children:[n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"Institution:"}),n.jsxs("div",{className:"text-purple-400 font-mono text-xs sm:text-sm",children:[j.institution.slice(0,6),"...",j.institution.slice(-4)]})]})]}),j.transactionHash&&n.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-slate-600/30",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[n.jsxs("div",{className:"bg-slate-800/30 p-2 sm:p-2.5 rounded-lg",children:[n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm block mb-1 sm:mb-2",children:"Transaction Hash:"}),n.jsxs("a",{href:`https://sepolia.etherscan.io/tx/${j.transactionHash}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-cyan-400 hover:text-cyan-300 underline break-all cursor-pointer transition-colors duration-200 text-xs sm:text-sm bg-slate-900/50 p-1.5 sm:p-2 rounded-lg block hover:bg-slate-900/70",title:"View on Etherscan Sepolia",children:[j.transactionHash.slice(0,10),"...",j.transactionHash.slice(-8)]})]}),j.blockNumber&&n.jsxs("div",{className:"bg-slate-800/30 p-2 sm:p-2.5 rounded-lg",children:[n.jsx("span",{className:"text-slate-400 text-xs sm:text-sm block mb-1 sm:mb-2",children:"Block Number:"}),n.jsxs("a",{href:`https://sepolia.etherscan.io/block/${j.blockNumber}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-400 hover:text-blue-300 underline cursor-pointer transition-colors duration-200 text-xs sm:text-sm bg-slate-900/50 p-1.5 sm:p-2 rounded-lg block hover:bg-slate-900/70",title:"View Block on Etherscan Sepolia",children:["#",j.blockNumber]})]})]})})]})})},j.id))})]})]})]})]})}),n.jsx(Je.div,{className:"mt-12 sm:mt-16 md:mt-20 text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0},children:n.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-900/50 backdrop-blur-xl rounded-xl sm:rounded-2xl border border-slate-600/30 p-4 sm:p-5 md:p-6 max-w-2xl sm:max-w-3xl md:max-w-4xl mx-auto shadow-2xl",children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white mb-3 sm:mb-4 md:mb-5",children:"How It Works"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 md:gap-6 text-xs sm:text-sm md:text-base text-slate-300",children:[n.jsxs("div",{className:"flex flex-col items-center group",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 rounded-lg sm:rounded-xl flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx("span",{className:"text-cyan-400 font-bold text-sm sm:text-lg md:text-xl",children:"1"})}),n.jsx("p",{className:"text-center font-medium text-xs sm:text-sm",children:"Enter any Ethereum wallet address to verify certificate ownership"})]}),n.jsxs("div",{className:"flex flex-col items-center group",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-lg sm:rounded-xl flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx("span",{className:"text-blue-400 font-bold text-sm sm:text-lg md:text-xl",children:"2"})}),n.jsx("p",{className:"text-center font-medium text-xs sm:text-sm",children:"Smart contract verifies ownership and retrieves certificate data"})]}),n.jsxs("div",{className:"flex flex-col items-center group sm:col-span-2 md:col-span-1",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-lg sm:rounded-xl flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx("span",{className:"text-purple-400 font-bold text-sm sm:text-lg md:text-xl",children:"3"})}),n.jsx("p",{className:"text-center font-medium text-xs sm:text-sm",children:"View detailed certificate information with blockchain verification"})]})]})]})})]})]})},Bq=({userAccount:t,isInstitution:e,onConnectWallet:s})=>{const[r,a]=k.useState(!1),[i,o]=k.useState(""),[c,d]=k.useState(!1),[h,f]=k.useState(!1),[x,g]=k.useState(0),p=()=>{const D=window.scrollY,B=D>300;d(B),r&&D<x-5&&a(!1),r&&D<100&&a(!1);const O=window.innerHeight,$=document.documentElement.scrollHeight,Y=D+O,H=$*.8;f(Y>H),g(D)};k.useEffect(()=>{let D=!1;const B=()=>{D||(requestAnimationFrame(()=>{p(),D=!1}),D=!1)},O=$=>{r&&$.deltaY>0||r&&$.deltaY<0&&a(!1)};return window.addEventListener("scroll",B,{passive:!0}),window.addEventListener("wheel",O,{passive:!0}),()=>{window.removeEventListener("scroll",B),window.removeEventListener("wheel",O)}},[r]);const v=()=>{r&&a(!1),window.scrollTo({top:0,behavior:"smooth"})},[y,w]=k.useState(0),[A,j]=k.useState(0),C=5,S=6e4,E=()=>{const D=Date.now();if(D-A<S&&y>=C){alert("Rate limit exceeded. Please wait before trying again.");return}if(D-A>=S&&w(0),i.trim()){if(!R(i).isValid){alert("Invalid IPFS hash format. Please enter a valid hash.");return}const O=M(i);w(Y=>Y+1),j(D);const $=window.open(`https://ipfs.io/ipfs/${O}`,"_blank");$&&($.opener=null)}},M=D=>!D||typeof D!="string"?"":D.trim().replace(/[<>\"'&]/g,"").replace(/ipfs:\/\//g,"").replace(/https?:\/\/ipfs\.io\/ipfs\//g,"").replace(/[^0-9A-Za-z]/g,""),R=D=>{if(!D||typeof D!="string")return{isValid:!1,message:"Invalid input"};const B=M(D);return B.length<46?{isValid:!1,message:"Hash too short"}:B.length>59?{isValid:!1,message:"Hash too long"}:B.startsWith("Qm")&&B.length===46&&/^[1-9A-HJ-NP-Za-km-z]+$/.test(B)?{isValid:!0,message:"Valid IPFS v0 hash"}:B.startsWith("baf")&&B.length===59&&/^[a-z2-7]+$/.test(B)?{isValid:!0,message:"Valid IPFS v1 hash"}:{isValid:!1,message:"Invalid IPFS hash format"}},_=D=>{const B=D.target.value;if(B.length>100)return;const O=B.replace(/[^0-9A-Za-z]/g,"");o(O)},I=()=>{s?s():window.ethereum&&window.ethereum.request({method:"eth_requestAccounts"})};return n.jsxs(n.Fragment,{children:[h&&n.jsx(Je.div,{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 z-40 cursor-pointer",onClick:()=>a(!r),children:n.jsx("div",{className:"bg-slate-900/70 backdrop-blur-xl rounded-t-xl px-3 sm:px-5 py-2 sm:py-3 border border-slate-400/20 shadow-[0_8px_32px_rgba(0,0,0,0.3),inset_0_1px_0_rgba(255,255,255,0.1)] shadow-indigo-500/40 hover:shadow-indigo-500/60 transition-all duration-300",children:n.jsxs(Je.div,{animate:{y:r?0:[0,-2,0]},transition:{duration:2,repeat:1/0},className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(pq,{className:`text-cyan-300 text-base sm:text-lg transition-transform duration-300 ${r?"rotate-180":""}`}),n.jsx("span",{className:"text-white text-xs sm:text-sm font-medium tracking-wide",children:"TOOLS PANEL"})]})})}),n.jsx(j5,{children:r&&n.jsx(Je.footer,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-30 bg-slate-900/70 backdrop-blur-xl text-white border-t border-slate-400/20 max-h-[60vh] sm:max-h-[55vh]",style:{background:`
                radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(6, 182, 212, 0.1) 0%, transparent 50%)
              `},children:n.jsx("div",{className:"pt-6 sm:pt-4 pb-3 sm:pb-5 px-2 sm:px-3 md:px-5",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs(Je.div,{className:"text-center mb-3 sm:mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 mb-1 drop-shadow-[0_0_10px_currentColor]",children:"BLOCKCHAIN TOOLS"}),n.jsx("p",{className:"text-slate-300 text-xs tracking-wide px-2",children:"Professional blockchain utilities and verification tools"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 md:gap-4 mb-3 sm:mb-4 relative",children:[n.jsxs(Je.div,{className:"relative rounded-xl p-3 sm:p-4 text-center group min-h-[160px] sm:min-h-[180px] md:min-h-[200px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.05,rotateY:5,rotateX:2,transition:{duration:.15,ease:"easeOut"}},style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%)",border:"3px solid rgba(34, 197, 94, 0.9)",boxShadow:`
                        0 8px 32px rgba(0, 0, 0, 0.4),
                        0 0 30px rgba(34, 197, 94, 0.4),
                        0 0 50px rgba(34, 197, 94, 0.2),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1)
                      `},children:[n.jsxs("div",{className:"absolute -top-6 sm:-top-8 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2 rounded-2xl text-white text-xs font-black font-mono tracking-wider whitespace-nowrap",style:{background:"linear-gradient(135deg, #22c55e, #16a34a, #059669)",border:"2px solid rgba(34, 197, 94, 0.8)",boxShadow:`
                          0 4px 15px rgba(34, 197, 94, 0.6),
                          0 0 20px rgba(34, 197, 94, 0.4),
                          0 0 40px rgba(34, 197, 94, 0.3),
                          0 0 60px rgba(34, 197, 94, 0.2),
                          inset 0 1px 0 rgba(255, 255, 255, 0.3)
                        `,textShadow:"0 0 8px rgba(34, 197, 94, 0.8)",filter:"blur(0.5px)",backdropFilter:"blur(10px)"},children:[n.jsx(vq,{className:"text-yellow-300 text-xs drop-shadow-[0_0_10px_rgba(251,191,36,0.8)]"}),n.jsx("span",{className:"drop-shadow-[0_0_8px_rgba(34,197,94,0.6)]",children:"GENESIS"})]}),n.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-10 px-2 sm:px-2.5 py-1 sm:py-1.5 rounded-xl text-white text-xs sm:text-sm font-black font-mono tracking-widest",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7)",border:"2px solid rgba(99, 102, 246, 0.8)",boxShadow:`
                          0 4px 15px rgba(99, 102, 246, 0.6),
                          0 0 20px rgba(99, 102, 246, 0.4),
                          inset 0 1px 0 rgba(255, 255, 255, 0.3)
                        `,textShadow:"0 0 8px rgba(99, 102, 246, 0.8)",backdropFilter:"blur(10px)"},children:"#0"}),n.jsx("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Zp,{className:"text-green-400 text-lg sm:text-2xl drop-shadow-[0_0_8px_currentColor]"})}),n.jsx("h4",{className:"text-green-300 font-semibold text-xs sm:text-sm mb-1 sm:mb-2 tracking-wide",children:"Smart Contract"}),n.jsx("p",{className:"text-slate-300 text-xs mb-2 sm:mb-3",children:"Ethereum blockchain explorer"}),n.jsxs("button",{onClick:()=>{const B=`https://sepolia.etherscan.io/address/${Ze.sepolia.SoulboundCertificateNFT}`;window.open(B,"_blank")},className:"relative w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl text-white text-xs sm:text-sm font-bold transition-all duration-700 overflow-hidden group cursor-pointer bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 hover:from-green-500 hover:via-emerald-500 hover:to-green-600 shadow-lg hover:shadow-2xl hover:shadow-green-500/50 transform hover:scale-105",children:[n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-green-400 to-transparent animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-emerald-400 to-transparent animate-pulse delay-500"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-2 left-2 w-1 h-1 bg-cyan-300 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute top-2 right-2 w-1 h-1 bg-emerald-300 rounded-full animate-ping"}),n.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-green-300 rounded-full animate-bounce"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_49%,rgba(34,197,94,0.1)_50%,transparent_51%)] bg-[length:8px_8px]"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(0deg,transparent_49%,rgba(34,197,94,0.1)_50%,transparent_51%)] bg-[length:8px_8px]"})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-400/20 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/30 via-emerald-400/30 to-green-400/30 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[n.jsx(f0,{className:"mr-1.5 sm:mr-2 text-green-100 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500"}),n.jsx("span",{className:"tracking-wide group-hover:tracking-widest transition-all duration-500 font-mono text-xs sm:text-sm",children:"View on Etherscan"})]}),n.jsx("div",{className:"absolute inset-0 rounded-xl border border-transparent group-hover:border-green-400/40 transition-all duration-700"}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-green-400 rounded-full shadow-[0_0_10px_rgba(34,197,94,0.8)]"}),n.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.8)]"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-emerald-400 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.8)]"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-green-400 rounded-full shadow-[0_0_10px_rgba(34,197,94,0.8)]"})]})]})]}),n.jsxs(Je.div,{className:"relative rounded-xl p-3 sm:p-4 text-center group min-h-[160px] sm:min-h-[180px] md:min-h-[200px] overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.05,rotateY:-5,rotateX:-2,transition:{duration:.15,ease:"easeOut"}},style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%)",border:"3px solid rgba(251, 146, 60, 0.8)",boxShadow:`
                        0 8px 32px rgba(0, 0, 0, 0.4),
                        0 0 30px rgba(251, 146, 60, 0.4),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1)
                      `},children:[n.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-10 px-2 sm:px-2.5 py-1 sm:py-1.5 rounded-xl text-white text-xs sm:text-sm font-black font-mono tracking-widest",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7)",border:"2px solid rgba(99, 102, 246, 0.8)",boxShadow:`
                          0 4px 15px rgba(99, 102, 246, 0.6),
                          0 0 20px rgba(99, 102, 246, 0.4),
                          inset 0 1px 0 rgba(255, 255, 255, 0.3)
                        `,textShadow:"0 0 8px rgba(99, 102, 246, 0.8)",backdropFilter:"blur(10px)"},children:"#1"}),n.jsx("div",{className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Pr,{className:"text-orange-400 text-lg sm:text-2xl drop-shadow-[0_0_8px_currentColor]"})}),n.jsx("h4",{className:"text-orange-300 font-semibold text-xs sm:text-sm mb-1 sm:mb-2 tracking-wide",children:"IPFS Verifier"}),n.jsx("p",{className:"text-slate-300 text-xs mb-2 sm:mb-3",children:"Content verification tool"}),n.jsxs("div",{className:"relative w-full mb-2 sm:mb-3 group",children:[n.jsx("input",{type:"text",placeholder:"Enter IPFS hash to verify",value:i,onChange:_,maxLength:59,className:`relative z-20 w-full px-3 sm:px-4 py-2.5 sm:py-3 pl-6 sm:pl-8 pr-10 sm:pr-12 rounded-xl text-white placeholder-slate-400 text-xs sm:text-sm backdrop-blur-xl focus:outline-none transition-all duration-700 border shadow-lg focus:shadow-2xl ${i?R(i).isValid?"bg-gradient-to-r from-green-900/90 via-emerald-800/90 to-green-900/90 border-green-400/60 focus:border-green-400/80 focus:shadow-green-500/30":"bg-gradient-to-r from-red-900/90 via-red-800/90 to-red-900/90 border-red-400/60 focus:border-red-400/80 focus:shadow-red-500/30":"bg-gradient-to-r from-slate-900/90 via-slate-800/90 to-slate-900/90 border-transparent group-hover:border-yellow-400/40 focus:border-yellow-400/60 focus:shadow-yellow-500/30"}`}),i&&n.jsx("div",{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 rounded-full transition-all duration-300 ${R(i).isValid?"bg-green-300 shadow-[0_0_4px_rgba(34,197,94,0.6)]":"bg-red-300 shadow-[0_0_4px_rgba(239,68,68,0.6)]"}`}),n.jsx("div",{className:"absolute -top-8 left-0 text-xs text-slate-400 font-mono opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30 bg-slate-800/80 px-2 py-1 rounded-lg border border-slate-600/30 backdrop-blur-sm",children:"IPFS Hash Format"}),i&&n.jsx("div",{className:`absolute -bottom-6 left-0 text-xs font-mono transition-all duration-300 z-30 opacity-80 ${R(i).isValid?"text-green-300":"text-red-300"}`,children:R(i).isValid?"✓ Valid":"✗ Invalid"}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-700 pointer-events-none",children:[n.jsx("div",{className:"absolute left-2 top-0 w-0.5 h-full bg-gradient-to-b from-yellow-400 via-orange-400 to-red-400 animate-pulse"}),n.jsx("div",{className:"absolute right-2 top-0 w-0.5 h-full bg-gradient-to-b from-red-400 via-orange-400 to-yellow-400 animate-pulse delay-300"}),n.jsx("div",{className:"absolute left-2 top-0 w-0.5 h-full bg-gradient-to-b from-transparent via-yellow-400/30 to-transparent animate-pulse delay-150"}),n.jsx("div",{className:"absolute right-2 top-0 w-0.5 h-full bg-gradient-to-b from-transparent via-red-400/30 to-transparent animate-pulse delay-450"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-700 pointer-events-none overflow-hidden",children:[n.jsx("div",{className:"absolute top-1 left-2 text-yellow-400/60 text-xs font-mono animate-pulse",children:"01"}),n.jsx("div",{className:"absolute top-1 right-8 text-orange-400/60 text-xs font-mono animate-pulse delay-200",children:"10"}),n.jsx("div",{className:"absolute bottom-1 left-4 text-red-400/60 text-xs font-mono animate-pulse delay-400",children:"11"}),n.jsx("div",{className:"absolute bottom-1 right-2 text-yellow-400/60 text-xs font-mono animate-pulse delay-600",children:"00"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-700 pointer-events-none",children:[n.jsx("div",{className:"absolute top-2 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-yellow-400/40 to-transparent"}),n.jsx("div",{className:"absolute bottom-2 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-red-400/40 to-transparent"}),n.jsx("div",{className:"absolute top-0 left-2 w-0.5 h-full bg-gradient-to-b from-transparent via-orange-400/40 to-transparent"}),n.jsx("div",{className:"absolute top-0 right-2 w-0.5 h-full bg-gradient-to-b from-transparent via-yellow-400/40 to-transparent"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-700 pointer-events-none",children:[n.jsx("div",{className:"absolute top-3 left-3 w-1.5 h-1.5 bg-yellow-400 rounded-full shadow-[0_0_8px_rgba(251,191,36,0.8)] animate-ping"}),n.jsx("div",{className:"absolute top-3 right-3 w-1.5 h-1.5 bg-orange-400 rounded-full shadow-[0_0_8px_rgba(251,146,60,0.8)] animate-ping delay-200"}),n.jsx("div",{className:"absolute bottom-3 left-3 w-1.5 h-1.5 bg-red-400 rounded-full shadow-[0_0_8px_rgba(239,68,68,0.8)] animate-ping delay-400"}),n.jsx("div",{className:"absolute bottom-3 right-3 w-1.5 h-1.5 bg-yellow-400 rounded-full shadow-[0_0_8px_rgba(251,191,36,0.8)] animate-ping delay-600"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-700 pointer-events-none",children:[n.jsx("div",{className:"absolute top-1/2 left-0 w-1 h-1 bg-yellow-400 rounded-full animate-ping",style:{animationDuration:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-0 w-1 h-1 bg-orange-400 rounded-full animate-ping",style:{animationDuration:"1s",animationDelay:"0.3s"}}),n.jsx("div",{className:"absolute top-1/2 left-0 w-1 h-1 bg-red-400 rounded-full animate-ping",style:{animationDuration:"1s",animationDelay:"0.6s"}})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-700 pointer-events-none",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-yellow-400/10 via-orange-400/10 via-red-400/10 to-transparent transform -skew-x-6 translate-x-[-100%] group-hover:translate-x-[100%] focus-within:translate-x-[100%] transition-transform duration-2000"})}),n.jsx("div",{className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-yellow-400 group-hover:text-orange-400 transition-all duration-500 z-30",children:n.jsx(Pr,{className:"text-base sm:text-lg group-hover:scale-125 group-hover:rotate-90"})})]}),n.jsxs("button",{onClick:E,disabled:!i.trim()||!R(i).isValid,className:`relative w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl text-white text-xs sm:text-sm font-bold transition-all duration-700 overflow-hidden group cursor-pointer shadow-lg hover:shadow-2xl transform transition-all duration-300 ${!i.trim()||!R(i).isValid?"bg-gradient-to-r from-slate-600 via-slate-700 to-slate-600 opacity-50 cursor-not-allowed":"bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 hover:from-orange-500 hover:via-red-500 hover:to-orange-600 hover:shadow-orange-500/50 hover:scale-105"}`,children:[n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 border-2 border-orange-400/60 rounded-full animate-spin"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 border-2 border-red-400/60 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"3s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 border-2 border-yellow-400/60 rounded-full animate-spin",style:{animationDuration:"1.5s"}})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-yellow-400 via-orange-400 via-red-400 to-transparent animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-red-400 via-orange-400 via-yellow-400 to-transparent animate-pulse delay-300"}),n.jsx("div",{className:"absolute left-0 top-0 w-0.5 h-full bg-gradient-to-b from-transparent via-orange-400 to-transparent animate-pulse delay-150"}),n.jsx("div",{className:"absolute right-0 top-0 w-0.5 h-full bg-gradient-to-b from-transparent via-red-400 to-transparent animate-pulse delay-450"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx(Pr,{className:"absolute top-2 left-2 text-yellow-300 text-xs animate-bounce",style:{animationDelay:"0s"}}),n.jsx(Pr,{className:"absolute top-2 right-2 text-orange-300 text-xs animate-bounce",style:{animationDelay:"0.2s"}}),n.jsx(Pr,{className:"absolute bottom-2 left-2 text-red-300 text-xs animate-bounce",style:{animationDelay:"0.4s"}}),n.jsx(Pr,{className:"absolute bottom-2 right-2 text-yellow-300 text-xs animate-bounce",style:{animationDelay:"0.6s"}})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700 overflow-hidden",children:n.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(8)].map((D,B)=>n.jsx("div",{className:"absolute text-orange-400/40 text-xs font-mono animate-pulse",style:{left:`${B*12.5}%`,top:"-10px",animationDelay:`${B*.1}s`,animationDuration:"2s"},children:["0","1","F","E","A","B","C","D"][B]},B))})}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-yellow-400/30 via-orange-400/30 via-red-400/30 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1500"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 via-orange-400/30 via-red-400/30 to-yellow-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[n.jsx(Pr,{className:"mr-1.5 sm:mr-2 text-orange-100 group-hover:scale-125 group-hover:rotate-45 transition-all duration-500"}),n.jsx("span",{className:"tracking-wide group-hover:tracking-widest transition-all duration-500 font-mono group-hover:text-yellow-100 text-xs sm:text-sm",children:"Verify Hash"})]}),n.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-orange-400/60 transition-all duration-700 animate-pulse"}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 bg-yellow-400 rounded-full shadow-[0_0_15px_rgba(251,191,36,0.9)] animate-ping"}),n.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-orange-400 rounded-full shadow-[0_0_15px_rgba(251,146,60,0.9)] animate-ping",style:{animationDelay:"0.3s"}}),n.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 bg-red-400 rounded-full shadow-[0_0_15px_rgba(239,68,68,0.9)] animate-ping",style:{animationDelay:"0.6s"}}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-yellow-400 rounded-full shadow-[0_0_15px_rgba(251,191,36,0.9)] animate-ping",style:{animationDelay:"0.9s"}})]}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-700 animate-ping"})]})]}),n.jsxs(Je.div,{className:"relative rounded-xl p-3 sm:p-4 text-center group min-h-[160px] sm:min-h-[180px] md:min-h-[200px] overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},whileHover:{scale:1.05,rotateY:8,rotateX:3,transition:{duration:.15,ease:"easeOut"}},style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%)",border:"3px solid rgba(99, 102, 246, 0.8)",boxShadow:`
                        0 8px 32px rgba(0, 0, 0, 0.4),
                        0 0 30px rgba(99, 102, 246, 0.4),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1)
                      `},children:[n.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-10 px-2 sm:px-2.5 py-1 sm:py-1.5 rounded-xl text-white text-xs sm:text-sm font-black font-mono tracking-widest",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7)",border:"2px solid rgba(99, 102, 246, 0.8)",boxShadow:`
                          0 4px 15px rgba(99, 102, 246, 0.6),
                          0 0 20px rgba(99, 102, 246, 0.4),
                          inset 0 1px 0 rgba(255, 255, 255, 0.3)
                        `,textShadow:"0 0 8px rgba(99, 102, 246, 0.8)",backdropFilter:"blur(10px)"},children:"#2"}),n.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx(eb,{className:"text-blue-400 text-lg sm:text-2xl drop-shadow-[0_0_8px_currentColor]"})}),n.jsx("h4",{className:"text-blue-300 font-semibold text-xs sm:text-sm mb-1 tracking-wide",children:t?"Connected Wallet":"Connect Wallet"}),n.jsx("p",{className:"text-slate-300 text-xs mb-2 sm:mb-3",children:"Wallet connection tool"}),t?n.jsxs("div",{className:"px-2 sm:px-3 py-1.5 sm:py-2 bg-gradient-to-r from-blue-500/20 to-indigo-500/20 border border-blue-400/30 rounded-lg text-blue-400 text-xs sm:text-sm font-mono shadow-[0_0_20px_rgba(99,102,246,0.4)]",children:[t.slice(0,6),"...",t.slice(-4)]}):n.jsxs("button",{onClick:I,className:"relative w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl text-white text-xs sm:text-sm font-bold transition-all duration-700 overflow-hidden group cursor-pointer bg-gradient-to-r from-blue-600 via-indigo-600 to-blue-700 hover:from-blue-500 hover:via-indigo-500 hover:to-blue-600 shadow-lg hover:shadow-2xl hover:shadow-blue-500/50 transform hover:scale-105",children:[n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-blue-400 to-transparent animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-400 to-transparent animate-pulse delay-500"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-2 left-2 w-1 h-1 bg-cyan-300 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute top-2 right-2 w-1 h-1 bg-blue-300 rounded-full animate-ping"}),n.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-indigo-300 rounded-full animate-bounce"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_49%,rgba(99,102,246,0.1)_50%,transparent_51%)] bg-[length:8px_8px]"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(0deg,transparent_49%,rgba(99,102,246,0.1)_50%,transparent_51%)] bg-[length:8px_8px]"})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400/20 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/30 via-indigo-400/30 to-blue-400/30 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),n.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[n.jsx(eb,{className:"mr-1.5 sm:mr-2 text-blue-100 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500"}),n.jsx("span",{className:"tracking-wide group-hover:tracking-widest transition-all duration-500 font-mono text-xs sm:text-sm",children:"Connect Wallet"})]}),n.jsx("div",{className:"absolute inset-0 rounded-xl border border-transparent group-hover:border-blue-400/40 transition-all duration-700"}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700",children:[n.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),n.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-blue-400 rounded-full shadow-[0_0_10px_rgba(59,130,246,0.8)]"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-indigo-400 rounded-full shadow-[0_0_10px_rgba(99,102,246,0.8)]"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-blue-400 rounded-full shadow-[0_0_10px_rgba(59,130,246,0.8)]"})]})]})]})]}),n.jsxs(Je.div,{className:"text-center mb-2 px-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:[n.jsx("h3",{className:"text-slate-300 text-xs font-medium mb-2 tracking-wide font-mono",children:"POWERED BY BLOCKCHAIN TECHNOLOGY"}),n.jsxs("div",{className:"relative inline-flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-6 bg-gradient-to-r from-slate-900/80 via-slate-800/90 to-slate-900/80 backdrop-blur-xl rounded-xl px-3 sm:px-5 py-2 sm:py-3 border border-cyan-500/30 hover:border-cyan-400/60 transition-all duration-500 group overflow-hidden w-full sm:w-auto",children:[n.jsx("div",{className:"absolute inset-0 opacity-20 group-hover:opacity-40 transition-opacity duration-500",children:n.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(6)].map((D,B)=>n.jsx("div",{className:"absolute text-cyan-400/60 text-xs font-mono animate-pulse",style:{left:`${B*16.66}%`,top:"-10px",animationDelay:`${B*.2}s`,animationDuration:"3s"},children:["01","10","FF","AA","55","CC"][B]},B))})}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-cyan-400/60 to-transparent animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-cyan-400/60 to-transparent animate-pulse delay-300"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[n.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.8)] animate-ping"}),n.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.8)] animate-ping delay-200"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.8)] animate-ping delay-400"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.8)] animate-ping delay-600"})]}),n.jsxs("div",{className:"relative z-10 flex items-center space-x-2 sm:space-x-3 group/tech cursor-pointer hover:scale-110 transition-all duration-300",onClick:()=>window.open("https://ethereum.org/","_blank","noopener,noreferrer"),children:[n.jsxs("div",{className:"relative",children:[n.jsx(Zp,{className:"text-cyan-400 text-sm drop-shadow-[0_0_8px_currentColor] group-hover/tech:text-cyan-300 transition-all duration-300"}),n.jsx("div",{className:"absolute inset-0 w-full h-full rounded-full bg-cyan-400/20 blur-sm scale-0 group-hover/tech:scale-150 transition-all duration-500"})]}),n.jsx("span",{className:"text-slate-300 text-xs font-medium group-hover/tech:text-cyan-300 transition-colors duration-300 font-mono",children:"ETH"})]}),n.jsx("div",{className:"relative z-10 w-px h-4 bg-gradient-to-b from-transparent via-cyan-500/60 to-transparent group-hover:bg-gradient-to-b group-hover:from-cyan-400 group-hover:via-cyan-300 group-hover:to-cyan-400 transition-all duration-500 hidden sm:block",children:n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-cyan-400 rounded-full animate-pulse"})}),n.jsxs("div",{className:"relative z-10 flex items-center space-x-2 sm:space-x-3 group/tech cursor-pointer hover:scale-110 transition-all duration-300",onClick:()=>window.open("https://ipfs.tech/","_blank","noopener,noreferrer"),children:[n.jsxs("div",{className:"relative",children:[n.jsx(Pr,{className:"text-orange-400 text-sm drop-shadow-[0_0_8px_currentColor] group-hover/tech:text-orange-300 transition-all duration-300"}),n.jsx("div",{className:"absolute inset-0 w-full h-full rounded-full bg-orange-400/20 blur-sm scale-0 group-hover/tech:scale-150 transition-all duration-500"})]}),n.jsx("span",{className:"text-slate-300 text-xs font-medium group-hover/tech:text-orange-300 transition-colors duration-300 font-mono",children:"IPFS"})]}),n.jsx("div",{className:"relative z-10 w-px h-4 bg-gradient-to-b from-transparent via-orange-500/60 to-transparent group-hover:bg-gradient-to-b group-hover:from-orange-400 group-hover:via-orange-300 group-hover:to-orange-400 transition-all duration-500 hidden sm:block",children:n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-orange-400 rounded-full animate-pulse"})}),n.jsxs("div",{className:"relative z-10 flex items-center space-x-2 sm:space-x-3 group/tech cursor-pointer hover:scale-110 transition-all duration-300",onClick:()=>window.open("https://pinata.cloud/","_blank","noopener,noreferrer"),children:[n.jsxs("div",{className:"relative",children:[n.jsx(bq,{className:"text-green-400 text-sm drop-shadow-[0_0_8px_currentColor] group-hover/tech:text-green-300 transition-all duration-300"}),n.jsx("div",{className:"absolute inset-0 w-full h-full rounded-full bg-green-400/20 blur-sm scale-0 group-hover/tech:scale-150 transition-all duration-500"})]}),n.jsx("span",{className:"text-slate-300 text-xs font-medium group-hover/tech:text-green-300 transition-colors duration-300 font-mono",children:"PINATA"})]}),n.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/10 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-2000"})}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:[n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_49%,rgba(34,211,238,0.1)_50%,transparent_51%)] bg-[length:6px_6px]"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(0deg,transparent_49%,rgba(34,211,238,0.1)_50%,transparent_51%)] bg-[length:6px_6px]"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:[n.jsx("div",{className:"absolute top-1 left-2 w-1 h-1 bg-cyan-300 rounded-full animate-ping"}),n.jsx("div",{className:"absolute top-1 right-2 w-1 h-1 bg-cyan-300 rounded-full animate-ping delay-300"}),n.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-cyan-300 rounded-full animate-ping delay-600"})]})]})]}),n.jsxs(Je.div,{className:"border-t border-slate-600/30 pt-2 sm:pt-3 flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.5},children:[n.jsx("span",{className:"text-slate-400 text-xs text-center sm:text-left tracking-wide px-2 leading-relaxed",children:"© 2025 Soulbound NFT Certificates — Blockchain Powered"}),n.jsxs("div",{className:"flex space-x-3 px-2",children:[n.jsx("a",{href:"#",className:"text-slate-400 hover:text-cyan-400 transition-all duration-300 hover:scale-110 drop-shadow-[0_0_8px_currentColor] p-1",title:"Twitter",children:n.jsx(mq,{className:"text-sm"})}),n.jsx("a",{href:"#",className:"text-slate-400 hover:text-purple-400 transition-all duration-300 hover:scale-110 drop-shadow-[0_0_8px_currentColor] p-1",title:"Discord",children:n.jsx(hq,{className:"text-sm"})}),n.jsx("a",{href:"#",className:"text-slate-400 hover:text-slate-300 transition-all duration-300 hover:scale-110 drop-shadow-[0_0_8px_currentColor] p-1",title:"GitHub",children:n.jsx(fq,{className:"text-sm"})})]})]})]})})})}),c&&n.jsx(Je.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"fixed bottom-16 sm:bottom-6 right-2 sm:right-6 z-[60]",children:n.jsx(Je.button,{onClick:v,className:"bg-slate-900/70 backdrop-blur-xl rounded-full p-3 sm:p-4 text-white hover:scale-110 transition-all duration-300 border border-slate-400/20 shadow-[0_8px_32px_rgba(0,0,0,0.3),inset_0_1px_0_rgba(255,255,255,0.1)] shadow-indigo-500/40 hover:shadow-indigo-500/60",whileHover:{scale:1.1},whileTap:{scale:.95},children:n.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M12 19V5"}),n.jsx("polyline",{points:"5 12 12 5 19 12"})]})})})]})},_q=({isMobileMenuOpen:t,setIsMobileMenuOpen:e})=>{const[s,r]=k.useState(null),[a,i]=k.useState(!1);k.useEffect(()=>{const c=new IntersectionObserver(h=>{h.forEach(f=>{if(f.isIntersecting){if(f.target.id==="team"){f.target.classList.add("fade-in");return}requestAnimationFrame(()=>{f.target.classList.add("fade-in")})}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return document.querySelectorAll(".section").forEach(h=>c.observe(h)),()=>c.disconnect()},[]),k.useEffect(()=>((async()=>{if(window.ethereum)try{const d=await window.ethereum.request({method:"eth_accounts"});d&&d.length>0&&(r(d[0]),i(!0))}catch(d){console.error("Error checking wallet connection:",d)}})(),window.ethereum&&window.ethereum.on("accountsChanged",d=>{d.length>0?(r(d[0]),i(!0)):(r(null),i(!1))}),()=>{window.ethereum&&window.ethereum.removeListener("accountsChanged",()=>{})}),[]);const o=async()=>{if(window.ethereum)try{const c=await window.ethereum.request({method:"eth_requestAccounts"});c&&c.length>0&&(r(c[0]),i(!0))}catch(c){console.error("Error connecting wallet:",c)}};return n.jsxs("div",{className:"pt-20 text-white",children:[n.jsx(rq,{isMobileMenuOpen:t,setIsMobileMenuOpen:e}),n.jsx("div",{id:"hero",className:"section",children:n.jsx(GG,{})}),n.jsx("div",{id:"how-it-works",className:"section",children:n.jsx(cG,{})}),n.jsx("div",{id:"features",className:"section",children:n.jsx(qG,{})}),n.jsx("div",{id:"certificates",className:"section",children:n.jsx(nq,{})}),n.jsx("div",{id:"certificate-checker",className:"section",children:n.jsx(Dq,{})}),n.jsx("div",{id:"team",className:"section",children:n.jsx(tq,{})}),n.jsx("div",{id:"footer",children:n.jsx(Bq,{userAccount:s,isInstitution:a,onConnectWallet:o})})]})},Iq=()=>{const[t,e]=k.useState(window.innerWidth<=768),[s,r]=k.useState(window.innerWidth<=768),[a,i]=k.useState(!1),[o,c]=k.useState(!1),[d,h]=k.useState(""),f=ri(),x=async p=>{if(!(!window.ethereum||!p))try{const v=new Xe(window.ethereum),y=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,v),w=Dl,A=Qt(qn("INSTITUTION_ROLE")),[j,C]=await Promise.all([y.hasRole(w,p),y.hasRole(A,p)]);i(j),c(C)}catch(v){console.error("Error checking roles:",v)}};k.useEffect(()=>{const p=async y=>{y.length>0?(h(y[0]),await x(y[0])):(h(""),i(!1),c(!1))};if((async()=>{if(window.ethereum)try{const y=await window.ethereum.request({method:"eth_accounts"});y.length>0&&(h(y[0]),await x(y[0]))}catch(y){console.error("Error checking wallet connection:",y)}})(),window.ethereum)return window.ethereum.on("accountsChanged",p),()=>{window.ethereum.removeListener("accountsChanged",p)}},[]),k.useEffect(()=>{const p=()=>{const v=window.innerWidth<=768;e(v),v&&!s&&r(!0)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[s]),k.useEffect(()=>{t&&r(!0)},[f,t]);const g=()=>{r(!s)};return n.jsxs(n.Fragment,{children:[t&&n.jsx("button",{className:`fixed top-24 left-4 z-50 p-2 rounded-md bg-violet-700 text-white shadow-lg transition-all duration-300 ${s?"":"left-64"} hover:bg-violet-600 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-gray-900`,onClick:g,"aria-label":"Toggle sidebar",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t&&!s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-30 backdrop-blur-sm",onClick:g,"aria-hidden":"true"}),n.jsxs("aside",{className:` overflow-hidden fixed top-20 left-0 h-[calc(100vh-5rem)] z-40 bg-gray-950 text-white transition-all duration-300 ease-in-out 
                   ${t&&s?"-translate-x-full":"translate-x-0"}
                   ${t?"w-64":s?"w-20":"w-64"} shadow-2xl shadow-black/50`,children:[n.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-800/30 ",children:!t&&n.jsx("button",{onClick:g,className:"text-gray-400 hover:text-white focus:outline-none","aria-label":s?"Expand sidebar":"Collapse sidebar",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})}),n.jsx("nav",{className:" py-4 overflow-hidden",style:{scrollbarWidth:"thin",scrollbarColor:"#4f46e5 #1f2937"},children:n.jsxs("ul",{className:"space-y-1 px-2",children:[(a||o)&&n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/in",end:!0,className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                    transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Dashboard"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Dashboard"})]})}),n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/certificates",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-xl relative overflow-hidden ${p?"bg-gradient-to-r from-emerald-600 to-cyan-600 text-white shadow-lg shadow-emerald-500/30 border border-emerald-400/30":"text-gray-300 hover:bg-gradient-to-r hover:from-emerald-600/20 hover:to-cyan-600/20 hover:text-white hover:border-emerald-400/30 border border-transparent"} 
                  transition-all duration-300 group backdrop-blur-sm`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -translate-x-full group-hover:translate-x-full transition-transform duration-500"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium relative z-10",children:"My Certificates"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded-lg bg-gradient-to-r from-emerald-600 to-cyan-600 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50 border border-emerald-400/30",children:"My Certificates"})]})}),(a||o)&&n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/analytics",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                    transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Analytics"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Analytics"})]})}),o&&n.jsxs(n.Fragment,{children:[n.jsx("li",{className:"pt-4 pb-2",children:(!s||t)&&n.jsxs("div",{className:"px-4",children:[n.jsx("div",{className:"h-px bg-gradient-to-r from-gray-800 via-violet-800 to-gray-800"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 font-medium",children:"INSTITUTION ACTIONS"})]})}),n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/issue",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                      transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Issue Certificate"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Issue Certificate"})]})}),n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/update",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                      transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Update Certificate"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Update Certificate"})]})}),n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/courses",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                      transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Manage Courses"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Manage Courses"})]})})]}),a&&n.jsxs(n.Fragment,{children:[n.jsx("li",{className:"pt-4 pb-2",children:(!s||t)&&n.jsxs("div",{className:"px-4",children:[n.jsx("div",{className:"h-px bg-gradient-to-r from-gray-800 via-blue-500 to-gray-800"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 font-medium",children:"ADMIN CONTROLS"})]})}),n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/institutions",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                      transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Manage Institutions"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Manage Institutions"})]})}),n.jsx("li",{children:n.jsxs(Si,{to:"/dashboard/burn-approvals",className:({isActive:p})=>`flex items-center px-4 py-3 rounded-lg ${p?"bg-violet-700 text-white shadow-lg shadow-violet-700/50":"text-gray-300 hover:bg-gray-800 hover:text-white"} 
                      transition-all duration-200 group relative`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),!s||t?n.jsx("span",{className:"ml-3 font-medium",children:"Burn Approvals"}):n.jsx("span",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded bg-gray-900 text-white opacity-0 group-hover:opacity-100 whitespace-nowrap shadow-lg z-50",children:"Burn Approvals"})]})})]})]})}),d&&(!s||t)&&n.jsx("div",{className:"px-4 py-3 mt-2 mx-2 bg-gray-900 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-1.5 bg-green-500 rounded-full",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-violet-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{className:"ml-2 truncate",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Connected"}),n.jsx("p",{className:"text-xs font-medium text-gray-300 truncate",children:`${d.substring(0,6)}...${d.substring(d.length-4)}`})]})]})}),n.jsx("div",{className:`absolute bottom-0 w-full p-4 border-t border-gray-800 text-xs text-gray-400 
                        ${!s||t?"text-left":"text-center"} bg-gray-900/50`,children:!s||t?n.jsx("p",{children:"Certificate NFT v1.0.0"}):n.jsx("p",{children:"v1.0.0"})})]}),n.jsx("div",{className:`transition-all duration-300 ${t?"ml-0":s?"ml-20":"ml-64"}`})]})},Lq=()=>n.jsx("div",{className:"min-h-screen bg-gray-950 pt-20",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-none ",children:n.jsx(Iq,{})}),n.jsx("div",{className:"flex-grow p-6 transition-all duration-300",children:n.jsx("div",{className:"  rounded-lg shadow-md p-6",children:n.jsx(DI,{})})})]})});var Vy,Bk;function XR(){if(Bk)return Vy;Bk=1;function t(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}return Vy=t,Vy}var Gy,_k;function Oq(){if(_k)return Gy;_k=1;var t=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return Gy=t,Gy}var qy,Ik;function ZR(){if(Ik)return qy;Ik=1;var t=Oq(),e=typeof self=="object"&&self&&self.Object===Object&&self,s=t||e||Function("return this")();return qy=s,qy}var Wy,Lk;function Pq(){if(Lk)return Wy;Lk=1;var t=ZR(),e=function(){return t.Date.now()};return Wy=e,Wy}var Yy,Ok;function Fq(){if(Ok)return Yy;Ok=1;var t=/\s/;function e(s){for(var r=s.length;r--&&t.test(s.charAt(r)););return r}return Yy=e,Yy}var Qy,Pk;function zq(){if(Pk)return Qy;Pk=1;var t=Fq(),e=/^\s+/;function s(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Qy=s,Qy}var Ky,Fk;function JR(){if(Fk)return Ky;Fk=1;var t=ZR(),e=t.Symbol;return Ky=e,Ky}var Xy,zk;function Uq(){if(zk)return Xy;zk=1;var t=JR(),e=Object.prototype,s=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(o){var c=s.call(o,a),d=o[a];try{o[a]=void 0;var h=!0}catch{}var f=r.call(o);return h&&(c?o[a]=d:delete o[a]),f}return Xy=i,Xy}var Zy,Uk;function $q(){if(Uk)return Zy;Uk=1;var t=Object.prototype,e=t.toString;function s(r){return e.call(r)}return Zy=s,Zy}var Jy,$k;function Hq(){if($k)return Jy;$k=1;var t=JR(),e=Uq(),s=$q(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?a:r:i&&i in Object(c)?e(c):s(c)}return Jy=o,Jy}var e2,Hk;function Vq(){if(Hk)return e2;Hk=1;function t(e){return e!=null&&typeof e=="object"}return e2=t,e2}var t2,Vk;function Gq(){if(Vk)return t2;Vk=1;var t=Hq(),e=Vq(),s="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==s}return t2=r,t2}var s2,Gk;function qq(){if(Gk)return s2;Gk=1;var t=zq(),e=XR(),s=Gq(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(s(h))return r;if(e(h)){var f=typeof h.valueOf=="function"?h.valueOf():h;h=e(f)?f+"":f}if(typeof h!="string")return h===0?h:+h;h=t(h);var x=i.test(h);return x||o.test(h)?c(h.slice(2),x?2:8):a.test(h)?r:+h}return s2=d,s2}var n2,qk;function Wq(){if(qk)return n2;qk=1;var t=XR(),e=Pq(),s=qq(),r="Expected a function",a=Math.max,i=Math.min;function o(c,d,h){var f,x,g,p,v,y,w=0,A=!1,j=!1,C=!0;if(typeof c!="function")throw new TypeError(r);d=s(d)||0,t(h)&&(A=!!h.leading,j="maxWait"in h,g=j?a(s(h.maxWait)||0,d):g,C="trailing"in h?!!h.trailing:C);function S($){var Y=f,H=x;return f=x=void 0,w=$,p=c.apply(H,Y),p}function E($){return w=$,v=setTimeout(_,d),A?S($):p}function M($){var Y=$-y,H=$-w,L=d-Y;return j?i(L,g-H):L}function R($){var Y=$-y,H=$-w;return y===void 0||Y>=d||Y<0||j&&H>=g}function _(){var $=e();if(R($))return I($);v=setTimeout(_,M($))}function I($){return v=void 0,C&&f?S($):(f=x=void 0,p)}function D(){v!==void 0&&clearTimeout(v),w=0,f=y=x=v=void 0}function B(){return v===void 0?p:I(e())}function O(){var $=e(),Y=R($);if(f=arguments,x=this,y=$,Y){if(v===void 0)return E(y);if(j)return clearTimeout(v),v=setTimeout(_,d),S(y)}return v===void 0&&(v=setTimeout(_,d)),p}return O.cancel=D,O.flush=B,O}return n2=o,n2}var Yq=Wq();const Qq=ym(Yq),Kq=()=>{const[t,e]=k.useState([]),[s,r]=k.useState(!0),[a,i]=k.useState(!1),[o,c]=k.useState(""),[d,h]=k.useState(null),[f,x]=k.useState(!1),[g,p]=k.useState(!1),[v,y]=k.useState(!1),[w,A]=k.useState(null),[j,C]=k.useState(null),[S,E]=k.useState(!1),[M,R]=k.useState(!1),[_,I]=k.useState({}),[D,B]=k.useState({}),[O,$]=k.useState(!1),[Y,H]=k.useState(""),[L,V]=k.useState(""),[X,ee]=k.useState("all"),[F,z]=k.useState("grid"),[G,K]=k.useState(null),[W,Q]=k.useState(1),[Z,ne]=k.useState(!0),[re,ke]=k.useState(!1),[Me,de]=k.useState([]),[be,me]=k.useState(0),[ve,Ae]=k.useState(""),[Be,ue]=k.useState(""),[le,ye]=k.useState(!1),[je]=k.useState(50),[Se,Ne]=k.useState([]),[De,_e]=k.useState(!1),[st,Pe]=k.useState(null),[ot,nt]=k.useState(null),[$e,Mt]=k.useState(!1),[rs,Xt]=k.useState({type:null,address:null});return{certificates:t,setCertificates:e,loading:s,setLoading:r,searchLoading:a,setSearchLoading:i,error:o,setError:c,selectedCertificate:d,setSelectedCertificate:h,showMetadata:f,setShowMetadata:x,showImage:g,setShowImage:p,imageLoading:v,setImageLoading:y,contract:w,setContract:A,account:j,setAccount:C,isConnecting:S,setIsConnecting:E,isAdmin:M,setIsAdmin:R,verifyLoading:_,setVerifyLoading:I,revokeLoading:D,setRevokeLoading:B,showRevokeModal:O,setShowRevokeModal:$,revocationReason:Y,setRevocationReason:H,searchTerm:L,setSearchTerm:V,statusFilter:X,setStatusFilter:ee,viewMode:F,setViewMode:z,lastUpdated:G,setLastUpdated:K,currentPage:W,setCurrentPage:Q,hasMore:Z,setHasMore:ne,loadingMore:re,setLoadingMore:ke,visibleCertificates:Me,setVisibleCertificates:de,totalCertificates:be,setTotalCertificates:me,studentAddressFilter:ve,setStudentAddressFilter:Ae,institutionFilter:Be,setInstitutionFilter:ue,isSearching:le,setIsSearching:ye,maxResults:je,selectedCertificates:Se,setSelectedCertificates:Ne,bulkActionLoading:De,setBulkActionLoading:_e,startDate:st,setStartDate:Pe,endDate:ot,setEndDate:nt,showDateFilter:$e,setShowDateFilter:Mt,noResultsAddress:rs,setNoResultsAddress:Xt}},Xq=async(t,e,s,r=0,a=ma)=>{try{if(!t)return[];let i,o;if(e instanceof Date){const h=new Date(e);h.setUTCHours(0,0,0,0),i=Math.floor(h.getTime()/1e3)}else if(typeof e=="string"){const h=new Date(e);h.setUTCHours(0,0,0,0),i=Math.floor(h.getTime()/1e3)}else i=e;if(s instanceof Date){const h=new Date(s);h.setUTCHours(23,59,59,999),o=Math.floor(h.getTime()/1e3)}else if(typeof s=="string"){const h=new Date(s);h.setUTCHours(23,59,59,999),o=Math.floor(h.getTime()/1e3)}else o=s;if(i==null&&o==null)return[];i!=null&&o==null&&(o=i+86399),i==null&&o!=null&&(i=0);const c=await t.getCertificatesByDateRange(i,o,r,a).catch(h=>{if(h.message.includes("ERC721OutOfBoundsIndex"))return console.error("Index out of bounds when fetching by date range:",h),[];throw h});if(!c||c.length===0)return[];const d=c.map(h=>Number(h));return await zt(t,d)}catch(i){return console.error("Error fetching certificates by date range:",i),[]}},Zq=async(t,e,s=0,r=ma)=>{var a;try{if(!t)return console.error("Contract is not initialized in fetchCertificatesByInstitution"),[];console.log("Contract type in fetchCertificatesByInstitution:",typeof t),console.log("Contract methods available:",Object.keys(t).filter(o=>typeof t[o]=="function")),console.log("Has getCertificatesByInstitution?",typeof t.getCertificatesByInstitution=="function");const i=Ka(e);if(!i)return console.error("Invalid institution address format:",e),[];try{console.log(`Calling getCertificatesByInstitution(${i}, ${s}, ${r})`),t.interface&&typeof t.interface.hasFunction=="function"&&t.interface.hasFunction("getCertificatesByInstitution(address,uint256,uint256)")&&console.log("Found getCertificatesByInstitution in interface");let o;if(typeof t.getCertificatesByInstitution=="function")console.log("Calling contract.getCertificatesByInstitution..."),o=await t.getCertificatesByInstitution(i,s,r);else{console.warn("Method getCertificatesByInstitution not found, trying emergency fallback...");try{const d=((a=t.runner)==null?void 0:a.provider)||t.provider;if(!d)throw new Error("No provider available for fallback call");const h="getCertificatesByInstitution(address,uint256,uint256)",f=t.interface.encodeFunctionData(h,[i,s,r]),x=await d.call({to:t.target,data:f});o=t.interface.decodeFunctionResult(h,x)[0],console.log("Emergency fallback successful!")}catch(d){throw console.error("Emergency fallback failed:",d),new Error("All attempts to call getCertificatesByInstitution failed")}}if(console.log("Received certificate IDs:",o),!o||o.length===0)return console.log(`No certificates found for institution: ${i}`),[];const c=o.map(d=>Number(d));return await zt(t,c)}catch(o){if(console.error("Error details:",{message:o.message,code:o.code,error:o}),o.message.includes("ERC721OutOfBoundsIndex"))return console.error("Index out of bounds when fetching by institution:",o),[];throw console.error("Contract call error in getCertificatesByInstitution:",o),o}}catch(i){return console.error("Error fetching certificates by institution:",i),[]}},Jq=async(t,e,s=0,r=ma)=>{var a;try{if(!t)return console.error("Contract is not initialized in fetchCertificatesByStudent"),[];console.log("Contract type in fetchCertificatesByStudent:",typeof t),console.log("Contract methods available:",Object.keys(t).filter(o=>typeof t[o]=="function")),console.log("Has getCertificatesByStudent?",typeof t.getCertificatesByStudent=="function");const i=Ka(e);if(!i)return console.error("Invalid student address format:",e),[];try{console.log(`Calling getCertificatesByStudent(${i}, ${s}, ${r})`),t.interface&&typeof t.interface.hasFunction=="function"&&t.interface.hasFunction("getCertificatesByStudent(address,uint256,uint256)")&&console.log("Found getCertificatesByStudent in interface");let o;if(typeof t.getCertificatesByStudent=="function")console.log("Calling contract.getCertificatesByStudent..."),o=await t.getCertificatesByStudent(i,s,r);else{console.warn("Method getCertificatesByStudent not found, trying emergency fallback...");try{const d=((a=t.runner)==null?void 0:a.provider)||t.provider;if(!d)throw new Error("No provider available for fallback call");const h="getCertificatesByStudent(address,uint256,uint256)",f=t.interface.encodeFunctionData(h,[i,s,r]),x=await d.call({to:t.target,data:f});o=t.interface.decodeFunctionResult(h,x)[0],console.log("Emergency fallback successful!")}catch(d){throw console.error("Emergency fallback failed:",d),new Error("All attempts to call getCertificatesByStudent failed")}}if(console.log("Received certificate IDs:",o),!o||o.length===0)return console.log(`No certificates found for student: ${i}`),[];const c=o.map(d=>Number(d));return await zt(t,c)}catch(o){if(console.error("Error details:",{message:o.message,code:o.code,error:o}),o.message.includes("ERC721OutOfBoundsIndex"))return console.error("Index out of bounds when fetching by student:",o),[];throw console.error("Contract call error in getCertificatesByStudent:",o),o}}catch(i){return console.error("Error fetching certificates by student:",i),[]}},eW=async(t,e=0,s=ma)=>{try{if(!t)return[];const r=await t.getPendingCertificateIds(e,s).catch(i=>{if(i.message.includes("ERC721OutOfBoundsIndex"))return console.error("Index out of bounds when fetching pending certificates:",i),[];throw i});if(!r||r.length===0)return[];const a=r.map(i=>Number(i));return await zt(t,a)}catch(r){return console.error("Error fetching pending certificates:",r),[]}},tW=async(t,e=0,s=ma)=>{try{if(!t)return[];const r=await t.getRevokedCertificateIds(e,s).catch(i=>{if(i.message.includes("ERC721OutOfBoundsIndex"))return console.error("Index out of bounds when fetching revoked certificates:",i),[];throw i});if(!r||r.length===0)return[];const a=r.map(i=>Number(i));return await zt(t,a)}catch(r){return console.error("Error fetching revoked certificates:",r),[]}},sW=async(t,e=0,s=ma)=>{try{if(!t)return[];const r=await t.getVerifiedCertificateIds(e,s).catch(i=>{if(i.message.includes("ERC721OutOfBoundsIndex"))return console.error("Index out of bounds when fetching verified certificates:",i),[];throw i});if(!r||r.length===0)return[];const a=r.map(i=>Number(i));return await zt(t,a)}catch(r){return console.error("Error fetching verified certificates:",r),[]}},eM=async(t,e)=>{try{if(!t||!e||e.length===0)return null;const s=await t.getCertificatesBatchDetails(e).catch(d=>{if(d.message.includes("ERC721NonexistentToken"))return console.error("One or more certificates do not exist:",d),null;throw d});if(!s)return null;const[r,a,i,o]=s,c={};return e.forEach((d,h)=>{c[d.toString()]={revocationReason:r[h],version:a[h].toString(),lastUpdateDate:Number(i[h]),lastUpdateDateFormatted:new Date(Number(i[h])*1e3).toLocaleString(),updateReason:o[h]}}),c}catch(s){return console.error("Error fetching certificate batch details:",s),null}},Hg=async(t,e)=>{try{return t?await t.tokenExists(e).catch(()=>!1)?(console.log(`Fetching certificate with token ID: ${e}`),await zt(t,[Number(e)])):(console.log(`Token ID ${e} does not exist`),[]):null}catch(s){return console.error("Error fetching certificate by token ID:",s),[]}},nW=async(t,e)=>{try{if(!t||!e||e.length===0)return{};if(typeof t.getCourseNamesBatch!="function"){if(console.error("Contract method getCourseNamesBatch is not available"),typeof t.getCourseName=="function"){const a={};for(const i of e)try{const o=await t.getCourseName(i);a[i]=o}catch(o){console.error(`Error fetching course name for ID ${i}:`,o),a[i]=`Course ${i}`}return a}return{}}const s=await t.getCourseNamesBatch(e),r={};return e.forEach((a,i)=>{r[a]=s[i]}),r}catch(s){return console.error("Error fetching course names:",s),{}}},r2=async(t,e,s=ma)=>{try{if(!t||!e)return[];const r=await t.totalSupply().catch(()=>0);if(r===0)return[];const a=Math.min(Number(r),100),i=[];for(let x=0;x<a;x++)try{const g=await t.tokenByIndex(Number(r)-1-x);i.push(Number(g))}catch{continue}if(i.length===0)return[];const o=await zt(t,i),c=[...new Set(o.map(x=>x.courseId))],d=await nW(t,c),h=new RegExp(e.trim(),"i"),f=o.filter(x=>{const g=d[x.courseId]||`Course ${x.courseId}`;return h.test(g)});return f.sort((x,g)=>{const p=d[x.courseId]||"",v=d[g.courseId]||"",y=p.toLowerCase()===e.toLowerCase(),w=v.toLowerCase()===e.toLowerCase();if(y&&!w)return-1;if(!y&&w)return 1;const A=p.toLowerCase().startsWith(e.toLowerCase()),j=v.toLowerCase().startsWith(e.toLowerCase());return A&&!j?-1:!A&&j?1:Number(g.courseId)-Number(x.courseId)}),f.slice(0,s)}catch(r){return console.error("Error searching certificates by course name:",r),[]}},Ya=async(t,{reset:e=!1,isAdmin:s=!1,isInstitute:r=!1,maxResults:a=100,currentPage:i=1,certificates:o=[],loadingMore:c=!1,isSearching:d=!1,searchTerm:h="",statusFilter:f="all",studentAddressFilter:x="",institutionFilter:g="",startDate:p=null,endDate:v=null,setCurrentPage:y,setHasMore:w,setLoading:A,setSearchLoading:j,setCertificates:C,setVisibleCertificates:S,setLoadingMore:E,setIsSearching:M,setError:R,setTotalCertificates:_,setLastUpdated:I,setNoResultsAddress:D,updateVisibleCertificates:B})=>{if(t)try{if(e)y(1),w(!0),d?j(!0):A(!0),C([]),S([]),M(!0),D({type:null,address:null});else{if(c)return;E(!0)}R("");const O=await t.totalSupply().catch(Q=>(console.error("Error getting total supply:",Q),0));if(_(Number(O)),console.log("Total supply:",O.toString()),Number(O)===0){console.log("No certificates found - supply is zero"),A(!1),j(!1),E(!1),w(!1),M(!1);return}if(!s&&r&&g&&e){console.log("Using optimized institute loading path for:",g);try{if(typeof t.getCertificatesByInstitution=="function"){console.log(`Fetching certificates for institute ${g} using contract method`);const Z=await t.getCertificatesByInstitution(g,0,100);if(console.log(`Found ${Z.length} certificates for institute`),Z&&Z.length>0){const re=(await zt(t,Z.map(ke=>Number(ke)))).sort((ke,Me)=>Me.id-ke.id);C(re),B(re,h,f,S),w(Z.length>=100),I(Date.now()),A(!1),j(!1),E(!1),M(!1);return}}console.log("Optimized institute loading failed, using standard approach")}catch(Q){console.error("Error in optimized institute loading:",Q)}}if(!h&&!x&&!g&&f==="all"&&!p&&!v&&e){console.log("Showing all certificates after reset");let Q=0;const Z=Math.min(20,Number(O)),ne=[];console.log(`Fetching ${Z} out of ${O} total certificates`);for(let re=0;re<Z;re++)try{const ke=await t.tokenByIndex(Number(O)-1-re);ne.push(Number(ke))}catch(ke){console.error(`Error fetching token at index ${re}:`,ke)}if(ne.length>0){console.log(`Successfully fetched ${ne.length} certificate IDs: ${ne.join(", ")}`);const re=await zt(t,ne);console.log(`Processed ${re.length} certificates`),re.length===0&&(console.error("No certificates processed, even though IDs were found"),R("Failed to process certificate data. Please try again."),w(!1));const ke=Xf(re);C(ke),B(ke,h,f,S),w(ke.length===Z&&Number(O)>Z),I(Date.now())}else console.error("No certificate IDs found, even though supply is positive"),R("Failed to retrieve certificates. Please try again."),w(!1);A(!1),j(!1),E(!1),M(!1);return}const Y=(s||r)&&e,H=e?1:i,L=(H-1)*ma,V=e?[]:[...o],X=Math.min(Number(O)-L,Y?Math.min(a,ma):ma);if(X<=0){w(!1),A(!1),E(!1),M(!1),console.log("No more certificates to process, setting hasMore to false");return}if(console.log(`Fetching page ${H}, processing ${X} certificates from index ${L}`),Y&&(h||x||g||f!=="all")){if(h&&/^\d+$/.test(h.trim()))try{const re=Number(h.trim());if(await t.tokenExists(re).catch(()=>!1)){console.log(`Found certificate with ID ${re}`);const Me=await zt(t,[re]);if(Me&&Me.length>0){C(Me),B(Me,h,f,S),w(!1),I(Date.now()),A(!1),E(!1),M(!1);return}}}catch(re){console.error(`Error searching for specific certificate ID ${h}:`,re)}const Q=1e3,Z=[];let ne=0;for(let re=Number(O)-1;re>=Math.max(0,Number(O)-Q);re--)try{const ke=await t.tokenByIndex(re);if(Z.push(Number(ke)),Z.length>=20||re===0||re===Number(O)-Q){const de=(await zt(t,Z)).filter(ve=>{if(!ve)return!1;const Ae=!x||ve.student.toLowerCase().includes(x.toLowerCase()),Be=!g||ve.institution.toLowerCase().includes(g.toLowerCase()),ue=!h||ve.id.includes(h)||ve.courseName.toLowerCase().includes(h.toLowerCase()),le=f==="all"||f==="verified"&&ve.isVerified&&!ve.isRevoked||f==="pending"&&!ve.isVerified&&!ve.isRevoked||f==="revoked"&&ve.isRevoked;return Ae&&Be&&ue&&le}),be=[...V,...de],me=Xf(be);if(C(me),B(me,h,f,S),me.length>=a){w(!1),I(Date.now()),A(!1),E(!1),M(!1);return}Z.length=0}ne++}catch(ke){console.error(`Error scanning token at index ${re}:`,ke);continue}if(o.length>0){w(!1),I(Date.now()),A(!1),E(!1),M(!1);return}console.log("No matches found through quick scan, falling back to standard pagination")}const ee=[];let F=0,z=0;for(;ee.length<X&&z<X*3;)try{const Q=L+F,Z=await t.tokenByIndex(Q);if(await t.tokenExists(Z).catch(()=>!1)&&ee.push(Number(Z)),F++,z++,F>=X*3)break}catch{if(z++,z>=O||z>=X*3)break}if(ee.length===0){console.log("No valid token IDs found for this page, setting hasMore to false"),w(!1),A(!1),E(!1),M(!1);return}console.log(`Found ${ee.length} valid tokenIds for processing`);const G=[...ee],K=[];for(;G.length>0;){const Q=G.splice(0,zR),Z=await zt(t,Q),ne=Y?Z.filter(ke=>{if(!ke)return!1;const Me=!x||ke.student.toLowerCase().includes(x.toLowerCase()),de=!g||ke.institution.toLowerCase().includes(g.toLowerCase()),be=!h||ke.id.includes(h)||ke.courseName.toLowerCase().includes(h.toLowerCase()),me=f==="all"||f==="verified"&&ke.isVerified&&!ke.isRevoked||f==="pending"&&!ke.isVerified&&!ke.isRevoked||f==="revoked"&&ke.isRevoked;return Me&&de&&be&&me}):Z;K.push(...ne);const re=[...V,...K];C(re),B(re,h,f,S)}y(H+1);const W=K.length>=X;console.log(`Processed ${K.length} certificates, expected ${X}, hasMore=${W}`),w(W),I(Date.now()),console.log(`Completed loading page ${H}, loaded ${K.length} certificates`)}catch(O){console.error("Error fetching certificates:",O),R("Failed to fetch certificates: "+O.message),w(!1)}finally{A(!1),E(!1),j(!1),M(!1)}},rW=async(t,e,{setCertificates:s,setLoading:r,setLoadingMore:a,setVisibleCertificates:i,setLastUpdated:o,setHasMore:c,setError:d,updateVisibleCertificates:h,searchTerm:f="",statusFilter:x="all"})=>{if(!(!t||!e))try{typeof r=="function"&&r(!0),typeof d=="function"&&d(""),console.log("Fetching certificates for account:",e);const g=await t.balanceOf(e);if(console.log("Certificate balance:",g.toString()),Number(g)===0)return console.log("No certificates found for account"),typeof s=="function"&&s([]),typeof i=="function"&&i([]),typeof c=="function"&&c(!1),[];const p=[];for(let y=0;y<Number(g);y++)try{const w=await t.tokenOfOwnerByIndex(e,y);p.push(Number(w))}catch(w){console.error(`Error fetching token ID at index ${y}:`,w);continue}if(p.length===0)return console.log("No certificate IDs found"),typeof s=="function"&&s([]),typeof i=="function"&&i([]),[];console.log(`Found ${p.length} certificate IDs:`,p);const v=await zt(t,p);return console.log(`Processed ${v.length} certificates`),typeof s=="function"&&s(v),typeof h=="function"&&typeof i=="function"&&h(v,f,x,i),typeof o=="function"&&o(Date.now()),typeof c=="function"&&c(!1),v}catch(g){return console.error("Error fetching certificates:",g),typeof d=="function"&&d("Failed to fetch certificates: "+g.message),[]}finally{typeof r=="function"&&r(!1),typeof a=="function"&&a(!1)}},aW=(t,e,s,r,a,i,o,c,d,h,f=100,x=!1,g=!1,p=null)=>{const v=k.useCallback(async C=>{var S;if(t)try{const E=(S=C==null?void 0:C.args)==null?void 0:S.tokenId;if(console.log(`Certificate event detected for token ${E}, updating data...`),E){const M=await t.getCertificate(E).catch(()=>null);if(M){const R={id:E.toString(),tokenId:E.toString(),student:M[0],institution:M[1],courseId:M[2].toString(),completionDate:new Date(Number(M[3])*1e3).toLocaleDateString(),grade:Number(M[4]),isVerified:M[5],isRevoked:M[6],revocationReason:M[7],version:M[8].toString(),lastUpdateDate:M[9],updateReason:M[10]};r(_=>{const I=_.findIndex(D=>D.id===E.toString());if(I>=0){const D=[..._];return D[I]={...D[I],...R},D}else if(_.length<f)return(async()=>{const B=await zt(t,[Number(E)]);B&&B.length>0&&(x||g||p&&B[0].student.toLowerCase()===p.toLowerCase())&&r(O=>[...O,B[0]])})(),_;return _}),i(Date.now())}}else if(x||g){const M=await t.totalSupply().catch(()=>0);if(M>s&&(console.log("New certificates detected, updating count and fetching new data"),a(Number(M)),Number(M)-s>0)){const _=[];for(let I=s;I<M;I++)try{const D=await t.tokenByIndex(I);_.push(Number(D))}catch{continue}if(_.length>0){const I=await zt(t,_),D=Xf([...e,...I]);r(D)}}}else if(p)try{const M=await t.balanceOf(p),R=e.length;if(Number(M)>R){console.log(`User has new certificates: ${M} > ${R}`);const _=[];for(let B=0;B<M;B++)try{const O=await t.tokenOfOwnerByIndex(p,B);_.push(Number(O))}catch(O){console.error(`Error fetching user certificate at index ${B}:`,O)}const I=e.map(B=>Number(B.id)),D=_.filter(B=>!I.includes(B));if(D.length>0){console.log(`Found ${D.length} new certificates for user`);const B=await zt(t,D);r(O=>[...O,...B]),i(Date.now())}}}catch(M){console.error("Error checking for new user certificates:",M)}}catch(E){console.error("Error handling certificate event:",E)}},[t,s,e,r,a,i,f,x,g,p]),y=k.useCallback(async C=>{var S,E,M,R,_;if(t)try{const I=(S=C==null?void 0:C.args)==null?void 0:S.tokenId,D=(E=C==null?void 0:C.args)==null?void 0:E.isVerified,B=(M=C==null?void 0:C.args)==null?void 0:M.isRevoked,O=(R=C==null?void 0:C.args)==null?void 0:R.updatedBy,$=(_=C==null?void 0:C.args)==null?void 0:_.timestamp;console.log(`Certificate status changed for token ${I}:`,{isVerified:D,isRevoked:B,updatedBy:O,timestamp:new Date(Number($)*1e3)}),I&&(r(Y=>{const H=Y.findIndex(L=>L.id===I.toString());if(H>=0){const L=[...Y];return L[H]={...L[H],isVerified:D,isRevoked:B},L}return Y}),o(e,d,h,c),i(Date.now()))}catch(I){console.error("Error handling certificate status event:",I)}},[t,e,d,h,o,c,i]),w=k.useCallback((C,S,E,M)=>{console.log(`Certificate ${C} burn requested by ${S}`),r(R=>R.map(_=>_.id===C.toString()?{..._,burnRequested:!0,burnRequestTime:Number(M)*1e3,burnReason:E}:_)),o(e,d,h,c),i(Date.now())},[e,r,o,c,d,h,i]),A=k.useCallback((C,S)=>{console.log(`Certificate ${C} burn approved by ${S}`),r(E=>E.map(M=>M.id===C.toString()?{...M,burnApproved:!0}:M)),o(e,d,h,c),i(Date.now())},[e,r,o,c,d,h,i]),j=k.useCallback((C,S,E)=>{console.log(`Certificate ${C} burned by ${S}`),r(M=>M.filter(R=>R.id!==C.toString())),o(e,d,h,c),(x||g)&&a(M=>Math.max(0,M-1)),i(Date.now())},[e,r,o,c,d,h,a,i,x,g]);return{handleCertificateEvent:v,handleCertificateStatusEvent:y,handleCertificateBurnEvent:w,handleCertificateBurnApprovedEvent:A,handleCertificateBurnedEvent:j}},iW=(t,e,s,r,a,i,o,c,d,h,f=!1,x=null,g=!1)=>({fetchRecentCertificates:k.useCallback(async(v=10)=>{try{if(!t)return s("Contract not initialized. Please connect your wallet."),[];e(!0),s("");let y=[];if(g){console.log("Admin user fetching recent certificates");try{y=await t.getRecentCertificates(v),console.log(`Admin: Fetched ${y.length} recent certificates`)}catch(C){if(console.error("Error fetching recent certificates for admin:",C),C.message.includes("ERC721OutOfBoundsIndex"))console.log("Index out of bounds, likely no certificates yet"),y=[];else throw new Error(`Failed to fetch recent certificates: ${C.message}`)}}else if(f&&x){console.log(`Fetching recent certificates for institute: ${x}`);try{if(typeof t.getCertificatesByInstitution=="function")y=await t.getCertificatesByInstitution(x,0,v),console.log(`Institute: Fetched ${y.length} certificates`);else throw new Error("getCertificatesByInstitution method not available")}catch(C){console.error("Failed to fetch institute certificates directly:",C);try{const S=await t.getRecentCertificates(Math.min(100,v*5));if(console.log(`Fallback: Fetched ${S.length} certificates to filter for institute`),S&&S.length>0){const E=S.map(_=>Number(_)),R=(await zt(t,E)).filter(_=>_&&_.institution&&_.institution.toLowerCase()===x.toLowerCase());if(console.log(`Filtered to ${R.length} certificates from this institute`),R.splice(v),R.length>0)return r(R),a(R,d,h,i),o(!1),c(Date.now()),e(!1),R}y=[]}catch(S){throw console.error("Fallback approach also failed:",S),new Error("All attempts to fetch institute certificates failed")}}}else{console.log("Regular user: Fetching certificates owned by the user");try{const C=await window.ethereum.request({method:"eth_accounts"});if(!C||C.length===0)throw new Error("No connected wallet found");const S=C[0];console.log(`User address: ${S}`);const E=await t.balanceOf(S);if(console.log(`User has ${E.toString()} certificates`),E.toString()==="0")return console.log("User has no certificates"),r([]),a([],d,h,i),o(!1),c(Date.now()),e(!1),[];const M=Math.min(Number(E),v);for(let R=0;R<M;R++)try{const _=Math.max(0,Number(E)-1-R),I=await t.tokenOfOwnerByIndex(S,_);y.push(Number(I))}catch(_){console.error(`Error fetching certificate ${R}:`,_)}console.log(`Fetched ${y.length} certificates for user`)}catch(C){throw console.error("Error fetching user certificates:",C),new Error(`Failed to fetch your certificates: ${C.message}`)}}if(!y||y.length===0)return console.log("No certificates to process"),e(!1),r([]),a([],d,h,i),c(Date.now()),[];const w=y.map(C=>Number(C));console.log(`Processing ${w.length} certificates`);const A=await zt(t,w);let j=A;return f&&x&&(j=A.filter(C=>C&&C.institution&&C.institution.toLowerCase()===x.toLowerCase()),console.log(`Filtered to ${j.length} certificates from this institute`)),r(j),a(j,d,h,i),o(!1),c(Date.now()),j}catch(y){return console.error("Error fetching recent certificates:",y),s("Failed to fetch recent certificates: "+y.message),[]}finally{e(!1)}},[t,zt,d,h,e,s,r,a,i,o,c,f,x,g])}),tM=t=>({loadMetadataForCertificate:k.useCallback(async s=>{try{if(!s||!t)return s;const r={...s};if(r.imageUrl&&r.metadataLoaded)return console.log(`Certificate ${s.id} already has image URL and metadata loaded`),r;if(!r.metadataCID)return console.log(`Certificate ${s.id} has no metadata CID`),r;if(r.imageCID&&!r.imageUrl){const i=ho(`${Kf}_${r.imageCID}`);i&&(console.log(`Found cached image URL for certificate ${s.id}`),r.imageUrl=i)}if(r.metadataLoaded)return console.log(`Certificate ${s.id} metadata already loaded`),r;console.log(`Loading full metadata for certificate ${s.id}`);const a=await Lm(r.metadataCID);if(a){if(r.metadata=a,r.metadataLoaded=!0,a.name&&(r.courseName=a.name),a.image){const i=a.image.startsWith("ipfs://")?a.image.slice(7):a.image;r.imageCID=i,r.imageUrl=Vu(a,i)}Hl(`${Mu}_${r.metadataCID}`,a)}try{if(s.id){const i=await eM([s.id]);if(i&&i[s.id]){const o=i[s.id];r.revocationReason=o.revocationReason||r.revocationReason,r.version=o.version||r.version,r.lastUpdateDate=o.lastUpdateDate||r.lastUpdateDate,r.updateReason=o.updateReason||r.updateReason,console.log(`Loaded additional details for certificate ${s.id}:`,o)}}}catch(i){console.error(`Error loading additional details for certificate ${s.id}:`,i)}return r}catch(r){return console.error("Error loading metadata for certificate:",r),s}},[t])}),Vg=({show:t,onClose:e,error:s,action:r="transaction"})=>{var f,x,g,p,v,y;if(k.useEffect(()=>{if(t){const w=setTimeout(()=>{e()},1e4);return()=>clearTimeout(w)}},[t,e]),!t)return null;const a=((f=s==null?void 0:s.message)==null?void 0:f.includes("rejected"))||(s==null?void 0:s.code)==="ACTION_REJECTED"||(s==null?void 0:s.reason)==="rejected",i=((x=s==null?void 0:s.message)==null?void 0:x.includes("gas"))||((g=s==null?void 0:s.message)==null?void 0:g.includes("fee")),o=((p=s==null?void 0:s.message)==null?void 0:p.includes("execution reverted"))||((v=s==null?void 0:s.message)==null?void 0:v.includes("invalid opcode"));let c="Transaction Failed",d="An error occurred while processing your transaction.";if(a)c="Transaction Rejected",d="You declined to sign the transaction in your wallet.";else if(i)c="Gas Estimation Failed",d="The transaction could not be completed with the current gas settings.";else if(o){c="Contract Error",d="The smart contract could not execute this operation.";const w=(y=s==null?void 0:s.message)==null?void 0:y.match(/execution reverted: (.*?)(?:\(|$)/);w&&w[1]&&(d=w[1].trim())}const h=r.charAt(0).toUpperCase()+r.slice(1);return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"transaction-error-modal",children:[n.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm transition-opacity","aria-hidden":"true"}),n.jsx("div",{className:"inline-block align-bottom rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:n.jsxs("div",{className:"bg-gray-900 border border-red-800 p-0 rounded-xl overflow-hidden",children:[n.jsxs("div",{className:"relative bg-red-900/30 p-5 border-b border-red-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 bg-red-900 p-2 rounded-full",children:a?n.jsx(I5,{className:"h-6 w-6 text-red-400","aria-hidden":"true"}):n.jsx(mo,{className:"h-6 w-6 text-red-400","aria-hidden":"true"})}),n.jsx("h3",{className:"text-lg leading-6 font-semibold text-white",children:c})]}),n.jsx("button",{onClick:e,className:"bg-gray-800/50 rounded-full p-1.5 text-gray-400 hover:text-white",children:n.jsx(Hb,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"h-1 w-full bg-gray-800 mt-3 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-600 animate-pulse-slow rounded-full",style:{width:"30%"}})})]}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-white mb-2",children:n.jsxs("span",{className:"text-red-400 font-mono",children:["Failed to ",r," certificate:"]})}),n.jsx("div",{className:"text-gray-300 bg-gray-800/50 p-3 rounded-lg border border-gray-700 font-mono text-sm",children:d})]}),n.jsx("div",{className:"mb-5 text-xs text-gray-400",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zp,{className:"mr-1 text-blue-400"}),n.jsx("span",{children:"Network: Ethereum"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(jq,{className:"mr-1 text-yellow-400"}),n.jsxs("span",{children:["Status: ",a?"Rejected":"Failed"]})]})]})}),n.jsx("div",{className:"bg-gray-800/40 border border-gray-700 rounded-lg p-3 mb-4 text-sm text-gray-300",children:a?n.jsxs("p",{children:["You can try again by clicking the ",h," button once more and approving the transaction in your wallet."]}):i?n.jsx("p",{children:"Try again with higher gas settings in your wallet, or wait for network congestion to decrease."}):n.jsx("p",{children:"Please check if you have the necessary permissions for this operation or contact support if the issue persists."})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 bg-red-600 hover:bg-red-700 focus:ring-red-500 focus:ring-offset-red-200 text-white transition rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",children:"Dismiss"})})]})]})})]}),n.jsx("style",{jsx:!0,children:`
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.5; }
          50% { opacity: 1; }
        }
        .animate-pulse-slow {
          animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
      `})]})},oW=(t,e,s,r,a,i)=>{const[o,c]=k.useState(null),[d,h]=k.useState(!1),f=k.useCallback(async g=>{try{s(j=>({...j,[g.id]:!0}));const v=await new Xe(window.ethereum).getSigner();await(await t.connect(v).verifyCertificate(g.tokenId)).wait();const A={...g,isVerified:!0};Hl(`${i}_${g.id}`,A),r(j=>j.map(C=>C.id===g.id?A:C)),(e==null?void 0:e.id)===g.id&&a(A),console.log(`Certificate ${g.id} verified successfully`)}catch(p){console.error("Error verifying certificate:",p),c(p),h(!0)}finally{s(p=>({...p,[g.id]:!1}))}},[t,e,s,r,a,i]),x=k.useCallback(()=>{h(!1)},[]);return{handleVerifyCertificate:f,error:o,showErrorModal:d,closeErrorModal:x}},lW=(t,e,s,r,a,i,o,c)=>{const[d,h]=k.useState(null),[f,x]=k.useState(!1),g=k.useCallback(async(v,y)=>{try{s(E=>({...E,[v.id]:!0}));const A=await new Xe(window.ethereum).getSigner();await(await t.connect(A).revokeCertificate(v.tokenId,y)).wait();const S={...v,isRevoked:!0,revocationReason:y};Hl(`${c}_${v.id}`,S),r(E=>E.map(M=>M.id===v.id?S:M)),(e==null?void 0:e.id)===v.id&&a(S),i(!1),o(""),console.log(`Certificate ${v.id} revoked successfully`)}catch(w){console.error("Error revoking certificate:",w),h(w),x(!0)}finally{s(w=>({...w,[v.id]:!1}))}},[t,e,s,r,a,i,o,c]),p=k.useCallback(()=>{x(!1)},[]);return{handleRevokeCertificate:g,error:d,showErrorModal:f,closeErrorModal:p}},sM=(t,e,s)=>{const[r,a]=k.useState(!1),[i,o]=k.useState(!1),[c,d]=k.useState(""),[h,f]=k.useState(0),[x,g]=k.useState(null),[p,v]=k.useState(null),[y,w]=k.useState(!1),A=k.useCallback(async()=>{if(t)try{const B=await t.burnTimelock();f(Number(B))}catch(B){console.error("Error getting burn timelock:",B)}},[t]),j=k.useCallback(()=>{w(!1),v(null)},[]),C=k.useCallback(async()=>{if(!t||!x){console.error("Cannot request burn: contract or certificate is missing");return}try{a(!0);const O=await new Xe(window.ethereum).getSigner();await(await t.connect(O).requestBurnCertificate(x.id,c)).wait(),console.log(`Burn request submitted for certificate ${x.id}`),e(Y=>Y.map(H=>H.id===x.id?{...H,burnRequested:!0,burnRequestTime:Date.now(),burnReason:c}:H)),g(null),d(""),o(!1),localStorage.removeItem(ca)}catch(B){console.error("Error requesting certificate burn:",B),v(B),w(!0)}finally{a(!1)}},[t,x,c,e,g]),S=k.useCallback(async(B,O)=>{if(!t||!B||B.length===0){console.error("Cannot request burn: contract or certificates are missing");return}try{a(!0);const Y=await new Xe(window.ethereum).getSigner();await(await t.connect(Y).requestBurnMultipleCertificates(B,O)).wait(),console.log(`Burn requests submitted for ${B.length} certificates`),e(L=>L.map(V=>B.includes(V.id)?{...V,burnRequested:!0,burnRequestTime:Date.now(),burnReason:O}:V)),localStorage.removeItem(ca)}catch($){console.error("Error requesting certificate burn:",$),v($),w(!0)}finally{a(!1)}},[t,e]),E=k.useCallback(async B=>{if(t)try{a(!0);const $=await new Xe(window.ethereum).getSigner();await(await t.connect($).approveBurnCertificate(B.id)).wait(),console.log(`Burn approved for certificate ${B.id}`),e(H=>H.map(L=>L.id===B.id?{...L,burnApproved:!0}:L)),localStorage.removeItem(ca)}catch(O){console.error("Error approving certificate burn:",O),v(O),w(!0)}finally{a(!1)}},[t,e]),M=k.useCallback(async B=>{if(t)try{a(!0);const $=await new Xe(window.ethereum).getSigner();await(await t.connect($).cancelBurnRequest(B.id)).wait(),console.log(`Burn request canceled for certificate ${B.id}`),e(H=>H.map(L=>L.id===B.id?{...L,burnRequested:!1,burnRequestTime:null,burnReason:"",burnApproved:!1}:L)),localStorage.removeItem(ca)}catch(O){console.error("Error canceling certificate burn request:",O),v(O),w(!0)}finally{a(!1)}},[t,e]),R=k.useCallback(async B=>{if(!(!t||!B||B.length===0))try{a(!0);const $=await new Xe(window.ethereum).getSigner();await(await t.connect($).cancelBurnMultipleRequests(B)).wait(),console.log(`Burn requests canceled for ${B.length} certificates`),e(H=>H.map(L=>B.includes(L.id)?{...L,burnRequested:!1,burnRequestTime:null,burnReason:"",burnApproved:!1}:L)),localStorage.removeItem(ca)}catch(O){console.error("Error canceling certificate burn requests:",O),v(O),w(!0)}finally{a(!1)}},[t,e]),_=k.useCallback(async()=>{if(!t||!x){console.error("Cannot burn: contract or certificate is missing");return}try{a(!0),e(Y=>Y.map(H=>H.id===x.id?{...H,isBurning:!0}:H));const O=await new Xe(window.ethereum).getSigner();await(await t.connect(O).burnCertificate(x.id,c)).wait(),console.log(`Certificate ${x.id} burned`),setTimeout(()=>{e(Y=>Y.filter(H=>H.id!==x.id)),localStorage.removeItem(ca)},4e3),g(null),d(""),o(!1)}catch(B){console.error("Error burning certificate:",B),v(B),w(!0),e(O=>O.map($=>$.id===(x==null?void 0:x.id)?{...$,isBurning:!1}:$))}finally{a(!1)}},[t,x,c,e,g]),I=k.useCallback(B=>{g(B),s(B),d(""),o(!0),A()},[s,A]),D=k.useCallback(()=>{o(!1),d(""),g(null),s(null)},[s]);return{burnLoading:r,showBurnModal:i,burnReason:c,burnTimelock:h,setBurnReason:d,requestBurnCertificate:C,requestBurnMultipleCertificates:S,approveBurnCertificate:E,cancelBurnRequest:M,cancelBurnMultipleRequests:R,burnCertificate:_,openBurnModal:I,closeBurnModal:D,error:p,showErrorModal:y,closeErrorModal:j}},cW=(t,e,s,r)=>{const a=k.useCallback(()=>typeof window.ethereum>"u"?(t("Please install MetaMask to use this application"),e(!1),!1):!0,[t,e]),i=k.useCallback(async()=>{try{const d=await window.ethereum.request({method:"eth_accounts"});return d.length>0?d[0]:null}catch(d){return console.error("Error getting current account:",d),null}},[]),o=k.useCallback(async()=>{try{if(s(!0),t(""),!a())return s(!1),null;let d=await i();if(d)return console.log("Already connected to account:",d),r(d),s(!1),d;console.log("Requesting wallet connection...");const h=await window.ethereum.request({method:"eth_requestAccounts"});return h.length===0?(t("No accounts found. Please connect your wallet."),s(!1),null):(d=h[0],console.log("Connected to account:",d),r(d),s(!1),d)}catch(d){return console.error("Error connecting wallet:",d),t("Failed to connect wallet: "+d.message),s(!1),null}},[a,i,r,t,s]),c=k.useCallback(async()=>{try{return(await new Xe(window.ethereum).getNetwork()).chainId!==11155111n?(t("Please connect to Sepolia network"),!1):!0}catch(d){return console.error("Error checking network:",d),t("Failed to check network: "+d.message),!1}},[t]);return{checkMetaMask:a,getCurrentAccount:i,connectWallet:o,checkNetwork:c}},dW=(t,e,s)=>{const r=k.useCallback(async(i,o)=>{try{const c=ho(`${ca}_${o}`);if(c)return console.log(`Using cached certificate data for token ${o}`),c;const d=await i.getCertificate(o);if(!d||d.length===0)return null;let h=await i.tokenURI(o);if(!h){const E=await i.academicCertificates(o);h=(E==null?void 0:E.certificateHash)||""}let f=null,x=null,g=null;if(h){const E=h.startsWith("ipfs://")?h.slice(7):h;f=await Lm(E),f!=null&&f.image&&(x=f.image.startsWith("ipfs://")?f.image.slice(7):f.image,g=Vu(f,x))}const[p,v,y,w,A,j,C]=d,S={id:o,courseId:Number(p),courseName:(f==null?void 0:f.courseName)||(f==null?void 0:f.name)||`Course ${p}`,student:v,institution:y,grade:Number(w),completionTimestamp:Number(A),completionDate:new Date(Number(A)*1e3).toLocaleDateString(),isVerified:j,isRevoked:C,tokenURI:h,metadataCID,metadata:f,imageCID:x,imageUrl:g,metadataLoaded:!!f,status:C?"revoked":j?"verified":"pending",revocationReason:"",burnRequested:!1,burnApproved:!1,lastUpdateDate:"",updateReason:"",version:0};try{if(typeof i.burnRequestExists=="function"&&await i.burnRequestExists(o)){S.burnRequested=!0;try{const M=await i.burnRequestApproved(o);S.burnApproved=M}catch(M){console.error(`Could not check burn approval status for token ${o}:`,M)}}}catch(E){console.error(`Error checking burn status for token ${o}:`,E)}return Hl(`${ca}_${o}`,S),S}catch(c){return console.error(`Error fetching certificate ${o}:`,c),null}},[]);return{fetchCertificates:k.useCallback(async(i,o)=>{try{if(!o)throw new Error("No account connected");if(!i)throw new Error("Contract not initialized");console.log("Fetching certificates for account:",o),s(!0);let c;try{c=await i.balanceOf(o),console.log("Certificate balance:",c.toString())}catch(f){throw console.error("Error fetching certificate balance:",f),new Error(`Could not get your certificate balance: ${f.message}`)}if(c.toString()==="0")return console.log("User has no certificates"),t([]),[];const d=[],h=[];for(let f=0;f<c;f++)try{const x=await i.tokenOfOwnerByIndex(o,f);console.log(`Fetching certificate ${f+1}/${c}, TokenID: ${x}`);const g=await r(i,x);g&&d.push(g)}catch(x){console.error(`Error fetching certificate ${f}:`,x),h.push(`Certificate #${f+1}: ${x.message}`);continue}return console.log(`Fetched ${d.length} certificates for user`),t(d),h.length>0&&d.length>0?e(`Loaded ${d.length} certificates, but failed to load ${h.length} certificates.`):h.length>0&&d.length===0&&e(`Failed to load certificates: ${h.join("; ")}`),d}catch(c){return console.error("Error fetching certificates:",c),e(`Failed to fetch certificates: ${c.message}`),t([]),[]}finally{s(!1)}},[r,t,e,s]),fetchCertificateData:r}},uW=(t,e,s,r,a,i,o,c,d,h,f,x,g,p,v,y,w,A,j,C,S,E,M,R,_,I,D,B,O,$,Y)=>{const[H,L]=k.useState(!1),[V,X]=k.useState(null),ee=async()=>{var F,z;try{if(console.log("Starting initialization..."),w(!0),X(""),!window.ethereum){X("Please install MetaMask to use this application"),w(!1);return}console.log("Connecting wallet...");const G=await t();if(!G){console.log("Failed to connect wallet"),X("Please connect your wallet to view certificates"),w(!1);return}console.log("Checking network...");const K=new Xe(window.ethereum);if((await K.getNetwork()).chainId!==11155111n){X("Please connect to Sepolia network"),w(!1);return}console.log("Initializing contract..."),console.log("Contract address:",Ze.SoulboundCertificateNFT),console.log("ABI structure type:",typeof Ue);let Q;if(typeof Ue=="object"&&Ue.SoulboundCertificateNFT)console.log("Found SoulboundCertificateNFT key in ABI object"),Q=Ue.SoulboundCertificateNFT;else if(Array.isArray(Ue))console.log("ABI is array format"),Q=Ue;else{console.log("ABI in unknown format, searching for array content");const Z=Object.keys(Ue);for(const ne of Z)if(Array.isArray(Ue[ne])){console.log(`Found array in key: ${ne}`),Q=Ue[ne];break}!Q&&typeof Ue=="object"&&Object.keys(Ue).length>0&&(console.log("Using contractABI directly as interface"),Q=Ue)}if(!Q){console.error("Could not find valid ABI format:",Ue),X("Contract ABI is invalid or missing"),w(!1);return}console.log("Using ABI:",typeof Q,Array.isArray(Q)?Q.length:"non-array");try{const Z=Ze.SoulboundCertificateNFT||Ze.defaultNetwork&&((F=Ze[Ze.defaultNetwork])==null?void 0:F.SoulboundCertificateNFT);console.log("Creating contract with address:",Z);let ne=new jt(Z,Q,K);const re=Object.keys(((z=ne.interface)==null?void 0:z.functions)||{}).filter(me=>me.indexOf("(")!==-1).map(me=>me.substring(0,me.indexOf("(")));console.log("Contract interface methods:",re);const Me=["getCertificatesByStudent","getCertificatesByInstitution","getVerifiedCertificateIds"].filter(me=>!re.includes(me));if(Me.length>0){console.log("Adding custom implementations for methods not detected in interface:",Me);const me=(Ae,Be)=>async(...ue)=>{try{console.log(`Calling ${Ae} with args:`,ue);const le=`${Ae}(${Be})`;try{const ye=ne.interface.encodeFunctionData(Ae,ue),je=await K.call({to:Z,data:ye});return ne.interface.decodeFunctionResult(Ae,je)[0]}catch(ye){console.warn(`Error calling ${Ae} via interface:`,ye);const je=ne.interface.encodeFunctionData(le,ue),Se=await K.call({to:Z,data:je});return ne.interface.decodeFunctionResult(le,Se)[0]}}catch(le){throw console.error(`Error in ${Ae}:`,le),le}};if(Me.forEach(Ae=>{Ae==="getCertificatesByStudent"?ne.getCertificatesByStudent=me(Ae,"address,uint256,uint256"):Ae==="getCertificatesByInstitution"?ne.getCertificatesByInstitution=me(Ae,"address,uint256,uint256"):Ae==="getVerifiedCertificateIds"&&(ne.getVerifiedCertificateIds=me(Ae,"uint256,uint256"))}),console.log("Added direct method access for missing methods"),Me.every(Ae=>typeof ne[Ae]=="function")){if(console.log("✅ Successfully added all required contract methods. Search functionality should now work properly."),typeof ne.getVerifiedCertificateIds=="function")try{console.log("Testing getVerifiedCertificateIds method...");const Ae=await ne.getVerifiedCertificateIds(0,1);console.log("Test successful! Method returned:",Ae)}catch(Ae){console.warn("Test call to getVerifiedCertificateIds failed:",Ae.message),console.log("This may not be an error if there are no verified certificates yet.")}}else console.warn("❌ Failed to add some required contract methods. Search may not work correctly.")}else console.log("All important search methods available");try{console.log("Verifying contract with totalSupply call..."),await ne.totalSupply(),console.log("Contract verified successfully with totalSupply")}catch(me){console.error("Error verifying contract with totalSupply:",me),console.log("Attempting to reinitialize contract with full ABI...");const ve=Ue.SoulboundCertificateNFT;if(Array.isArray(ve)&&ve.length>0){const Ae=new jt(Z,ve,K);try{await Ae.totalSupply(),console.log("New contract initialized successfully"),ne=Ae}catch(Be){console.error("Failed to initialize with full ABI:",Be)}}}B(ne),console.log("Checking admin status...");const de=await e(ne,G);console.log("Checking institute status...");const be=await O(ne,G);if(console.log("Contract initialized, fetching certificates..."),de)await Ya(ne,{reset:!0,isAdmin:s,maxResults:r,currentPage:a,certificates:i,loadingMore:o,isSearching:c,searchTerm:d,statusFilter:h,studentAddressFilter:f,institutionFilter:x,startDate:g,endDate:p,setCurrentPage:v,setHasMore:y,setLoading:w,setSearchLoading:A,setCertificates:j,setVisibleCertificates:C,setLoadingMore:S,setIsSearching:E,setError:M,setTotalCertificates:R,setLastUpdated:_,setNoResultsAddress:I,updateVisibleCertificates:D});else if(be){console.log("Loading certificates for institute with optimized approach:",G);let me=0;try{typeof ne.countCertificatesByInstitution=="function"&&(me=await ne.countCertificatesByInstitution(G),console.log(`Total certificates for institute: ${Number(me)}`))}catch(Ae){console.warn("Could not get institute certificate count:",Ae)}try{const Ae=await ne.totalSupply();R(Number(Ae)),console.log(`Setting total certificates display to global count: ${Number(Ae)}`)}catch(Ae){console.warn("Could not get total supply:",Ae)}const ve=20;if(typeof ne.getCertificatesByInstitution=="function")try{const Ae=await ne.getCertificatesByInstitution(G,0,ve);if(console.log(`Found ${Ae.length} certificates for institute`),Ae&&Ae.length>0){const ue=(await zt(ne,Ae.map(ye=>Number(ye)))).sort((ye,je)=>je.id-ye.id);j(ue),D(ue,d,h,C),v(1);const le=me>0?Ae.length<Number(me):Ae.length>=ve;y(le),console.log(`Setting hasMore = ${le} for institute certificates`),_(Date.now()),w(!1),S(!1),E(!1);return}}catch(Ae){console.error("Error loading institute certificates:",Ae)}await Ya(ne,{reset:!0,isAdmin:!1,isInstitute:!0,maxResults:r,currentPage:a,certificates:i,loadingMore:o,isSearching:!1,searchTerm:"",statusFilter:"all",studentAddressFilter:"",institutionFilter:G,startDate:g,endDate:p,setCurrentPage:v,setHasMore:y,setLoading:w,setSearchLoading:A,setCertificates:j,setVisibleCertificates:C,setLoadingMore:S,setIsSearching:E,setError:M,setTotalCertificates:R,setLastUpdated:_,setNoResultsAddress:I,updateVisibleCertificates:D})}else await rW(ne,G,{setCertificates:j,setLoading:w,setLoadingMore:S,setVisibleCertificates:C,setLastUpdated:_,setHasMore:y,setError:M,updateVisibleCertificates:D,searchTerm:d,statusFilter:h});L(!0)}catch(Z){console.error("Contract initialization error:",Z),X("Failed to initialize: "+Z.message)}}catch(G){console.error("Initialization error:",G),X("Failed to initialize: "+G.message)}finally{w(!1)}};return k.useEffect(()=>{ee()},[]),{isInitialized:H,error:V,initialize:ee}},hW=t=>{const[e,s]=k.useState(!1),[r,a]=k.useState(!1),[i,o]=k.useState(null),[c,d]=k.useState(""),h=k.useCallback(async x=>{try{a(!0),d("");const g=await t(x);console.log("Certificate with metadata and details:",g),o(g),s(!0)}catch(g){console.error("Error viewing metadata:",g),d("Failed to load certificate details: "+g.message)}finally{a(!1)}},[t]),f=k.useCallback(()=>{s(!1),o(null),a(!1),d("")},[]);return{showMetadata:e,setShowMetadata:s,imageLoading:r,selectedCertificate:i,setSelectedCertificate:o,error:c,handleViewMetadata:h,closeModal:f}},fW=(t,e,s)=>{const[r,a]=k.useState(!1),[i,o]=k.useState(!1),[c,d]=k.useState(null),[h,f]=k.useState(""),x=k.useCallback(async y=>{try{if(f(""),s&&e(),y.imageUrl&&(console.log("Certificate already has image URL, loading immediately"),d(y),a(!0),!y.metadataLoaded&&y.imageCID&&ho(`${Kf}_${y.imageCID}`))){t(y).then(j=>{d(j)}).catch(j=>{console.error("Background metadata refresh error:",j)});return}o(!0);const w=await t(y);d(w),a(!0),w.imageUrl||console.warn("No image URL available after loading metadata")}catch(w){console.error("Error viewing image:",w),f("Failed to load certificate image: "+w.message),o(!1)}},[t,e,s]),g=k.useCallback(()=>{o(!1)},[]),p=k.useCallback(y=>{console.error("Image failed to load"),o(!1),y.target.onerror=null,y.target.src=Qf},[]),v=k.useCallback(()=>{a(!1),d(null),o(!1),f("")},[]);return{showImage:r,setShowImage:a,imageLoading:i,selectedCertificate:c,setSelectedCertificate:d,error:h,handleViewImage:x,handleImageLoad:g,handleImageError:p,closeImageModal:v}},mW=(t,e,s,r,a,i,o,c,d,h,f,x,g,p,v=50,y=()=>{},w=()=>{},A=!1,j=!1)=>{const[C,S]=k.useState(""),[E,M]=k.useState(!1),R=k.useCallback(async()=>{if(!C.trim()){i("Please enter a course name");return}i(""),o(!0),d(1);try{console.log(`Searching for certificates by course name: ${C}`);let L=await r2(t,C.trim(),v);if(!A&&j&&e){const V=e.toLowerCase();L=(L||[]).filter(X=>X&&X.institution&&X.institution.toLowerCase()===V)}!L||L.length===0?(console.log(`No certificates found for course name: ${C}`),r([]),a([]),i("")):(console.log(`Found ${L.length} certificates for course name: ${C}`),r(L),os(L,"",g,a),h(!1),f(Date.now()))}catch(L){console.error("Error searching by course name:",L),i(`Failed to search by course name: ${L.message}`)}finally{o(!1)}},[t,C,v,r,a,i,o,d,g,h,f]),_=k.useCallback(async L=>{if(!L){i("Please enter a student address");return}i(""),o(!0),d(1),p({type:null,address:null});try{console.log(`Searching for certificates by student: ${L}`);const V=Ka(L);if(!V){i("Invalid student address format. Please enter a valid Ethereum address."),o(!1);return}let X=await Jq(t,L,0,v);if(!A&&j&&e){const ee=e.toLowerCase();X=(X||[]).filter(F=>F&&F.institution&&F.institution.toLowerCase()===ee)}console.log("Student search results:",X),!X||X.length===0?(console.log(`No certificates found for student: ${L}`),r([]),a([]),p({type:"student",address:V})):(console.log(`Found ${X.length} certificates for student`),r(X),a(X),h(!1),f(Date.now()))}catch(V){console.error("Error during student search:",V),i(`Failed to search by student address: ${V.message}`)}finally{o(!1)}},[t,v,r,a,i,o,d,h,f,p]),I=k.useCallback(async L=>{if(!L){i("Please enter an institution address");return}i(""),o(!0),d(1),p({type:null,address:null});try{console.log(`Searching for certificates by institution: ${L}`);const V=Ka(L);if(!V){i("Invalid institution address format. Please enter a valid Ethereum address."),o(!1);return}if(j&&e&&Ka(L)!==Ka(e)){r([]),a([]),i("Institutions can only search their own address."),o(!1);return}const X=await Zq(t,L,0,v);console.log("Institution search results:",X),!X||X.length===0?(console.log(`No certificates found for institution: ${L}`),r([]),a([]),p({type:"institution",address:V})):(console.log(`Found ${X.length} certificates for institution`),r(X),a(X),h(!1),f(Date.now()))}catch(V){console.error("Error during institution search:",V),i(`Failed to search by institution address: ${V.message}`)}finally{o(!1)}},[t,v,r,a,i,o,d,h,f,p]),D=k.useCallback(async(L,V)=>{i(""),o(!0),d(1),p({type:null,address:null});try{console.log(`Searching for certificates from ${L} to ${V}`);let X=await Xq(t,L,V,0,v);if(!A&&j&&e){const ee=e.toLowerCase();X=(X||[]).filter(F=>F&&F.institution&&F.institution.toLowerCase()===ee)}!X||X.length===0?(console.log("No certificates found in date range"),r([]),a([]),i("")):(console.log(`Found ${X.length} certificates in date range`),r(X),os(X,"",g,a),h(!1),f(Date.now()))}catch(X){console.error("Error during date range search:",X),i(`Failed to search by date range: ${X.message}`)}finally{o(!1)}},[t,v,r,a,i,o,d,g,h,f,p]),B=k.useCallback(async L=>{if(!(!L||L==="all")){i(""),o(!0),d(1);try{console.log(`Searching for certificates with status: ${L}`);let V=[];if(L==="verified"?V=await sW(t,0,v):L==="pending"?V=await eW(t,0,v):L==="revoked"&&(V=await tW(t,0,v)),j&&e){const X=e.toLowerCase();V=(V||[]).filter(ee=>ee&&ee.institution&&ee.institution.toLowerCase()===X)}!V||V.length===0?(console.log(`No certificates found with status: ${L}`),r([]),a([]),i("")):(console.log(`Found ${V.length} certificates with status: ${L}`),r(V),os(V,"",g,a),h(!1),f(Date.now()))}catch(V){console.error("Error during status search:",V),i(`Failed to search by status: ${V.message}`)}finally{o(!1)}}},[t,v,r,a,i,o,d,g,h,f]),O=k.useCallback(async L=>{if(L){i(""),o(!0),d(1);try{console.log(`Searching for certificate with token ID: ${L}`);let V=await Hg(t,L);if(!A&&j&&e){const X=e.toLowerCase();V=(V||[]).filter(ee=>ee&&ee.institution&&ee.institution.toLowerCase()===X)}!V||V.length===0?(console.log(`Certificate with token ID ${L} not found`),r([]),a([]),i(`Certificate with ID ${L} not found`)):(console.log(`Found certificate with token ID: ${L}`),r(V),a(V),h(!1),f(Date.now()))}catch(V){console.error("Error fetching certificate by token ID:",V),i(`Failed to fetch certificate: ${V.message}`)}finally{o(!1)}}},[t,r,a,i,o,d,h,f]),$=k.useCallback(async()=>{i(""),S(""),p({type:null,address:null}),c(!0);try{if(!t){console.error("Contract not initialized"),i("Contract not initialized. Please connect your wallet."),c(!1);return}console.log("Clearing search and loading certificates with proper permissions..."),await Ya(t,{reset:!0,isAdmin:A||!1,isInstitute:j||!1,maxResults:v,currentPage:1,certificates:[],loadingMore:!1,isSearching:!1,searchTerm:"",statusFilter:"all",studentAddressFilter:"",institutionFilter:!A&&j&&e?e:"",startDate:null,endDate:null,setCurrentPage:d,setHasMore:h,setLoading:c,setSearchLoading:o,setCertificates:r,setVisibleCertificates:a,setLoadingMore:()=>{},setIsSearching:()=>{},setError:i,setTotalCertificates:()=>{},setLastUpdated:f,setNoResultsAddress:p,updateVisibleCertificates:os}),console.log("Successfully cleared search and loaded appropriate certificates")}catch(L){console.error("Error reloading certificates:",L),i("Failed to load certificates: "+L.message)}finally{c(!1),o(!1)}},[t,e,v,d,h,c,o,r,a,i,f,p,os,S,A,j]),Y=k.useCallback(async({studentAddress:L,institutionAddress:V,courseName:X,searchTerm:ee,statusFilter:F,startDate:z,endDate:G})=>{M(!0);try{if(i(""),d(1),ee&&/^\d+$/.test(ee.trim())){await O(Number(ee.trim()));return}if(F&&F!=="all"){await B(F);return}if(L){await _(L);return}if(V){await I(V);return}if(ee&&!/^\d+$/.test(ee.trim())){S(ee),i(""),o(!0),d(1);try{console.log(`Searching for certificates by course name: ${ee}`);let K=await r2(t,ee.trim(),v);if(!A&&j&&e){const W=e.toLowerCase();K=(K||[]).filter(Q=>Q&&Q.institution&&Q.institution.toLowerCase()===W)}!K||K.length===0?(console.log(`No certificates found for course name: ${ee}`),r([]),a([]),i("")):(console.log(`Found ${K.length} certificates for course name: ${ee}`),r(K),os(K,"",F,a),h(!1),f(Date.now()))}catch(K){console.error("Error searching by course name:",K),i(`Failed to search by course name: ${K.message}`)}finally{o(!1)}return}if(z||G){await D(z,G);return}console.log("No specific search criteria, fetching recent certificates"),await Ya(t,{reset:!0,isAdmin:A||!1,isInstitute:j||!1,maxResults:v,currentPage:1,certificates:[],loadingMore:!1,isSearching:!1,searchTerm:"",statusFilter:"all",studentAddressFilter:"",institutionFilter:!A&&j&&e?e:"",startDate:null,endDate:null,setCurrentPage:d,setHasMore:h,setLoading:c,setSearchLoading:o,setCertificates:r,setVisibleCertificates:a,setLoadingMore:y,setIsSearching,setError:i,setTotalCertificates:w,setLastUpdated:f,setNoResultsAddress:p,updateVisibleCertificates:os})}catch(K){console.error("Error during search:",K),i(`Search failed: ${K.message}`)}finally{M(!1)}},[t,e,D,_,I,B,O,i,o,d,p,M,A,v,h,c,r,a,y,f,w,os,S,g,r2]),H=k.useCallback(async()=>{try{i(""),S(""),p({type:null,address:null}),d(1),c(!0),console.log("Resetting search and loading all certificates..."),await Ya(t,{reset:!0,isAdmin:A||!1,isInstitute:j||!1,maxResults:v,currentPage:1,certificates:[],loadingMore:!1,isSearching:!1,searchTerm:"",statusFilter:"all",studentAddressFilter:"",institutionFilter:!A&&j&&e?e:"",startDate:null,endDate:null,setCurrentPage:d,setHasMore:h,setLoading:c,setSearchLoading:o,setCertificates:r,setVisibleCertificates:a,setLoadingMore:y,setIsSearching:M,setError:i,setTotalCertificates:w,setLastUpdated:f,setNoResultsAddress:p,updateVisibleCertificates:os}),console.log("Successfully reset search and loaded all certificates")}catch(L){console.error("Error resetting search:",L),i(`Failed to reset search: ${L.message}`)}finally{c(!1),o(!1)}},[t,A,j,e,v,d,h,c,o,r,a,y,M,i,w,f,p,os,S]);return{courseNameFilter:C,setCourseNameFilter:S,isSearching:E,setIsSearching:M,handleCourseNameSearch:R,handleStudentSearch:_,handleInstitutionSearch:I,handleDateRangeSearch:D,handleStatusSearch:B,handleTokenIdSearch:O,handleClearSearchAndShowAll:$,handleSearch:Y,handleResetSearch:H}},xW=({totalCertificates:t,certificatesCount:e,visibleCount:s,lastUpdated:r,isLoading:a,onFetchRecent:i,isAdmin:o=!1,isInstitute:c=!1})=>!o&&!c?n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"My Certificates"}),n.jsx("div",{className:"text-2xl font-bold text-violet-400",children:a?n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"opacity-0",children:"0"}),n.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:n.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(d=>n.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-pulse",style:{animationDelay:`${d*.15}s`,boxShadow:"0 0 10px 2px rgba(139, 92, 246, 0.5)"}},d))})})]}):n.jsxs("div",{className:"relative",children:[n.jsx("span",{children:e}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-violet-500/0 via-violet-500 to-violet-500/0"})]})}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-violet-500 opacity-50"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-violet-500 opacity-50"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-600/50 transition-colors relative overflow-hidden group",onClick:()=>i(10),children:[n.jsx("p",{className:"text-sm text-gray-400",children:"View Recent"}),n.jsx("div",{className:"text-lg font-bold text-green-400 relative z-10",children:"Show Latest 10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-700/0 via-green-500/5 to-gray-700/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-green-500/0 via-green-500 to-green-500/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})]})]})}):o?n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Global Total"}),n.jsx("div",{className:"text-2xl font-bold text-red-400",children:a?n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"opacity-0",children:"0"}),n.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:n.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(d=>n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse",style:{animationDelay:`${d*.15}s`,boxShadow:"0 0 10px 2px rgba(239, 68, 68, 0.5)"}},d))})})]}):n.jsxs("div",{className:"relative",children:[n.jsx("span",{children:t}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-red-500/0 via-red-500 to-red-500/0"})]})}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-red-500 opacity-50"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-red-500 opacity-50"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Admin View"}),n.jsx("div",{className:"text-2xl font-bold text-red-400",children:e}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-red-500 opacity-30"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-red-500 opacity-30"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Visible"}),n.jsx("div",{className:"text-2xl font-bold text-red-400",children:s}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-red-500 opacity-30"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-red-500 opacity-30"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-600/50 transition-colors relative overflow-hidden group",onClick:()=>i(10),children:[n.jsx("p",{className:"text-sm text-gray-400",children:"View Recent"}),n.jsx("div",{className:"text-lg font-bold text-green-400 relative z-10",children:"Show Latest 10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-700/0 via-green-500/5 to-gray-700/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-green-500/0 via-green-500 to-green-500/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})]})]})}):n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Institution Certificates"}),n.jsx("div",{className:"text-2xl font-bold text-violet-400",children:a?n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"opacity-0",children:"0"}),n.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:n.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(d=>n.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-pulse",style:{animationDelay:`${d*.15}s`,boxShadow:"0 0 10px 2px rgba(139, 92, 246, 0.5)"}},d))})})]}):n.jsxs("div",{className:"relative",children:[n.jsx("span",{children:e}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-violet-500/0 via-violet-500 to-violet-500/0"})]})}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-violet-500 opacity-50"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-violet-500 opacity-50"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Our Certificates"}),n.jsx("div",{className:"text-2xl font-bold text-violet-400",children:e}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-violet-500 opacity-30"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-violet-500 opacity-30"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg relative overflow-hidden",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Visible"}),n.jsx("div",{className:"text-2xl font-bold text-violet-400",children:s}),n.jsxs("div",{className:"absolute top-0 right-0 w-10 h-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-10 h-1 bg-violet-500 opacity-30"}),n.jsx("div",{className:"absolute top-0 right-0 w-1 h-10 bg-violet-500 opacity-30"})]})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-600/50 transition-colors relative overflow-hidden group",onClick:()=>i(10),children:[n.jsx("p",{className:"text-sm text-gray-400",children:"View Recent"}),n.jsx("div",{className:"text-lg font-bold text-green-400 relative z-10",children:"Show Latest 10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-700/0 via-green-500/5 to-gray-700/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-green-500/0 via-green-500 to-green-500/0 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})]})]})}),nM=({error:t})=>{if(!t)return null;const e=t.toLowerCase().includes("address");return n.jsx("div",{className:"mb-2 md:mb-4 p-2 md:p-4 bg-red-900/30 border border-red-800 rounded-lg text-white max-w-full w-full",children:n.jsxs("div",{className:"flex items-start flex-wrap",children:[n.jsx(mo,{className:"text-red-400 mt-1 mr-2 md:mr-3 flex-shrink-0 text-lg md:text-xl"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-bold text-red-400 mb-1 text-base md:text-lg",children:"Error"}),n.jsx("p",{className:"break-words text-sm md:text-base",children:t}),e&&n.jsxs("div",{className:"mt-2 text-xs md:text-sm bg-gray-800/50 p-2 rounded border border-gray-700 overflow-x-auto",children:[n.jsx("p",{className:"font-medium text-violet-400 mb-1",children:"Valid Address Format:"}),n.jsx("p",{className:"font-mono",children:"0x + 40 hexadecimal characters (0-9, a-f)"}),n.jsxs("p",{className:"mt-1 break-all",children:["Example:",n.jsx("br",{}),n.jsx("span",{className:"font-mono text-violet-300",children:"0x71C7656EC7ab88b098defB751B7401B5f6d8976F"})]})]})]})]})})},gW=({showDateFilter:t,setShowDateFilter:e,startDate:s,setStartDate:r,endDate:a,setEndDate:i})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsxs("button",{type:"button",onClick:()=>e(!t),className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[n.jsx("svg",{className:`w-4 h-4 mr-2 transform ${t?"rotate-180":""} transition-transform`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),t?"Hide Date Filter":"Show Date Filter"]})}),t&&n.jsxs("div",{className:"p-4 bg-gray-700/40 rounded-lg mb-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 mb-1 text-sm",children:"Start Date"}),n.jsx("input",{type:"date",value:s?new Date(s*1e3).toISOString().split("T")[0]:"",onChange:o=>r(o.target.value?new Date(o.target.value).getTime()/1e3:null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 mb-1 text-sm",children:"End Date"}),n.jsx("input",{type:"date",value:a?new Date(a*1e3).toISOString().split("T")[0]:"",onChange:o=>i(o.target.value?new Date(o.target.value).getTime()/1e3:null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>{r(null),i(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm",children:"Clear Dates"})})]})]}),pW=({searchTerm:t,setSearchTerm:e,studentAddressFilter:s,setStudentAddressFilter:r,institutionFilter:a,setInstitutionFilter:i,statusFilter:o,setStatusFilter:c,setNoResultsAddress:d,normalizeAddress:h,setError:f,setCurrentPage:x,contract:g,handleSearch:p,handleResetSearch:v,viewMode:y,setViewMode:w,startDate:A,setStartDate:j,endDate:C,setEndDate:S,showDateFilter:E,setShowDateFilter:M,courseNameFilter:R})=>{const[_,I]=k.useState(!1),[D,B]=k.useState(!1),[O,$]=k.useState(!1),Y=k.useRef(null);k.useEffect(()=>{const F=z=>{Y.current&&!Y.current.contains(z.target)&&$(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]);const H=[{value:"all",label:"All Statuses",color:"text-gray-400",bgColor:"bg-gray-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})},{value:"verified",label:"Verified",color:"text-emerald-400",bgColor:"bg-emerald-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"pending",label:"Pending",color:"text-amber-400",bgColor:"bg-amber-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"revoked",label:"Revoked",color:"text-red-400",bgColor:"bg-red-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}],L=H.find(F=>F.value===o)||H[0],V=k.useCallback(async F=>{if(!g||!g.target){console.error("Contract not properly initialized. Attempting to reinitialize..."),f("Connection to blockchain not established. Please check your wallet connection.");return}try{await p(F)}catch(z){console.error("Search error:",z),f(`Search failed: ${z.message}`)}},[g,p,f]);k.useEffect(()=>{const F=setTimeout(()=>{if(t.trim()!==""||s||a||o!=="all"||A||C){if(s&&!h(s)){f("Invalid student address format. Please enter a valid Ethereum address.");return}if(a&&!h(a)){f("Invalid institution address format. Please enter a valid Ethereum address.");return}f(""),d({type:null,address:null}),x(1),V({studentAddress:s,institutionAddress:a,courseName:R,searchTerm:t,statusFilter:o,startDate:A,endDate:C})}},500);return()=>clearTimeout(F)},[t,s,a,R,o,A,C,V,h,f,d,x]);const X=k.useCallback(async()=>{e(""),r(""),i(""),c("all"),j(""),S(""),M(!1),f(""),d({type:null,address:null}),x(1),v&&await v()},[e,r,i,c,j,S,M,f,d,x,v]),ee=async()=>{if(d({type:null,address:null}),s&&!h(s)){f("Invalid student address format. Please enter a valid Ethereum address.");return}if(a&&!h(a)){f("Invalid institution address format. Please enter a valid Ethereum address.");return}if(f(""),I(!0),x(1),!g||!g.target){console.error("Contract not properly initialized. Attempting to reinitialize..."),f("Connection to blockchain not established. Please check your wallet connection."),I(!1);return}await p({studentAddress:s,institutionAddress:a,courseName:R,searchTerm:t,statusFilter:o,startDate:A,endDate:C}),I(!1)};return n.jsxs("div",{className:"mb-6 relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-slate-800/80 to-slate-900/80 rounded-2xl backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/10 via-cyan-500/10 to-violet-500/10 rounded-2xl"}),n.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-violet-500 via-cyan-400 to-violet-500 opacity-20 blur-sm group-hover:opacity-30 transition-opacity duration-500"}),n.jsx("div",{className:"absolute inset-[1px] bg-gradient-to-br from-slate-800/95 via-slate-900/95 to-slate-800/95 backdrop-blur-xl rounded-2xl border border-violet-500/20"}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-cyan-400 rounded-2xl blur opacity-50"}),n.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-violet-600 to-cyan-500 rounded-2xl flex items-center justify-center transform hover:scale-105 transition-transform duration-200 shadow-lg shadow-violet-500/30",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white via-cyan-300 to-violet-300 bg-clip-text text-transparent",children:"Search Certificates"}),n.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Find and filter certificates by multiple criteria"})]})]}),n.jsxs("div",{className:"flex bg-slate-800/80 rounded-2xl p-1.5 border border-violet-500/20 backdrop-blur-sm",children:[n.jsxs("button",{onClick:()=>w("grid"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ${y==="grid"?"bg-gradient-to-r from-violet-600 to-cyan-500 text-white shadow-lg shadow-violet-500/25 transform scale-105":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),n.jsx("span",{children:"Grid"})]}),n.jsxs("button",{onClick:()=>w("list"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ${y==="list"?"bg-gradient-to-r from-violet-600 to-cyan-500 text-white shadow-lg shadow-violet-500/25 transform scale-105":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),n.jsx("span",{children:"List"})]})]})]}),n.jsxs("div",{className:"relative mb-6 group/search",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/20 via-cyan-500/20 to-violet-500/20 rounded-2xl blur group-hover/search:from-violet-500/30 group-hover/search:via-cyan-500/30 group-hover/search:to-violet-500/30 transition-all duration-300"}),n.jsxs("div",{className:"relative bg-slate-800/60 backdrop-blur-xl rounded-2xl border border-violet-500/30 shadow-xl hover:shadow-2xl transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover/search:text-cyan-400 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",placeholder:"Search by certificate ID or course name...",value:t,onChange:F=>e(F.target.value),className:"block w-full pl-12 pr-28 py-4 text-white placeholder-gray-400 bg-transparent border-0 rounded-2xl focus:ring-2 focus:ring-violet-500/40 focus:outline-none text-lg font-medium transition-all duration-200"}),n.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 space-x-2",children:[t&&n.jsx("button",{onClick:()=>e(""),className:"p-2 rounded-lg bg-slate-700/50 hover:bg-slate-600/50 border border-gray-600/30 hover:border-gray-500/50 transition-all duration-200 group/clear",title:"Clear search",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/clear:text-white transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("button",{onClick:ee,disabled:_,className:"p-3 bg-gradient-to-r from-violet-600 to-cyan-500 hover:from-violet-500 hover:to-cyan-400 rounded-xl transition-all duration-200 shadow-lg shadow-violet-500/30 hover:shadow-xl hover:scale-105 transform",title:"Search",children:_?n.jsx("div",{className:"h-5 w-5",children:n.jsx(Sn,{size:"sm",color:"white"})}):n.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),(t||s||a||o!=="all"||A||C)&&n.jsx("div",{className:"mb-6 flex justify-center",children:n.jsxs("button",{onClick:X,className:"inline-flex items-center space-x-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-600/50 border border-orange-500/30 hover:border-orange-400/50 rounded-xl text-orange-400 hover:text-orange-300 transition-all duration-200 group/reset",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{className:"font-medium",children:"Clear All & Show All Certificates"})]})}),n.jsxs("button",{onClick:()=>B(!D),className:"flex items-center space-x-3 text-sm font-semibold text-gray-400 hover:text-cyan-300 mb-6 transition-all duration-200 group/toggle",children:[n.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-lg bg-slate-700/50 border border-violet-500/20 group-hover/toggle:bg-slate-600/50 group-hover/toggle:border-cyan-400/30 transition-all duration-200",children:n.jsx("svg",{className:`w-3 h-3 transition-all duration-300 ${D?"rotate-180":""} group-hover/toggle:text-cyan-400`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})}),n.jsxs("span",{className:"group-hover/toggle:text-cyan-300 transition-colors duration-200",children:[D?"Hide":"Show"," advanced filters"]})]}),D&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/70 via-slate-900/70 to-slate-800/70 rounded-2xl blur-sm"}),n.jsx("div",{className:"relative bg-slate-800/40 backdrop-blur-xl rounded-2xl border border-violet-500/30 shadow-2xl",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold bg-gradient-to-r from-cyan-300 to-violet-300 bg-clip-text text-transparent",children:"Student Address"}),n.jsxs("div",{className:"relative group",children:[n.jsx("input",{type:"text",placeholder:"0x...",value:s,onChange:F=>r(F.target.value),className:`block w-full px-4 py-3 text-white placeholder-gray-500 bg-slate-700/60 backdrop-blur-sm border-2 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-violet-500/40 ${s&&!s.match(/^0x[0-9a-fA-F]{40}$/)?"border-red-400 focus:border-red-400 focus:ring-red-400/40":"border-violet-500/30 focus:border-violet-400 hover:border-violet-400/50"}`}),s&&!s.match(/^0x[0-9a-fA-F]{40}$/)&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-full p-1",children:n.jsx("svg",{className:"h-3 w-3 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})})]}),s&&!s.match(/^0x[0-9a-fA-F]{40}$/)&&n.jsx("p",{className:"text-xs text-red-400 font-medium bg-red-500/10 border border-red-400/20 px-3 py-1.5 rounded-lg",children:"Please enter a valid Ethereum address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold bg-gradient-to-r from-cyan-300 to-violet-300 bg-clip-text text-transparent",children:"Institution Address"}),n.jsxs("div",{className:"relative group",children:[n.jsx("input",{type:"text",placeholder:"0x...",value:a,onChange:F=>i(F.target.value),className:`block w-full px-4 py-3 text-white placeholder-gray-500 bg-slate-700/60 backdrop-blur-sm border-2 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-violet-500/40 ${a&&!a.match(/^0x[0-9a-fA-F]{40}$/)?"border-red-400 focus:border-red-400 focus:ring-red-400/40":"border-violet-500/30 focus:border-violet-400 hover:border-violet-400/50"}`}),a&&!a.match(/^0x[0-9a-fA-F]{40}$/)&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-full p-1",children:n.jsx("svg",{className:"h-3 w-3 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})})]}),a&&!a.match(/^0x[0-9a-fA-F]{40}$/)&&n.jsx("p",{className:"text-xs text-red-400 font-medium bg-red-500/10 border border-red-400/20 px-3 py-1.5 rounded-lg",children:"Please enter a valid Ethereum address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold bg-gradient-to-r from-cyan-300 to-violet-300 bg-clip-text text-transparent",children:"Certificate Status"}),n.jsxs("div",{className:"relative",ref:Y,children:[n.jsxs("button",{type:"button",onClick:()=>$(!O),className:"group relative w-full px-4 py-3 bg-gradient-to-r from-slate-800/80 to-slate-700/80 backdrop-blur-sm border border-violet-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500/40 hover:border-violet-400/60 transition-all duration-200 cursor-pointer text-left overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/10 to-cyan-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),n.jsxs("div",{className:"relative flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-1.5 rounded-lg ${L.bgColor} ${L.color}`,children:L.icon}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:L.label}),n.jsx("div",{className:"text-xs text-gray-400",children:"Select certificate status"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${L.color.replace("text-","bg-")} animate-pulse`}),n.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-all duration-300 ${O?"rotate-180 text-cyan-400":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]})]}),O&&n.jsxs("div",{className:"absolute z-50 w-full mt-2",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-xl rounded-xl border border-violet-500/30 shadow-2xl"}),n.jsxs("div",{className:"relative bg-gradient-to-b from-slate-800/90 to-slate-900/90 backdrop-blur-xl rounded-xl border border-violet-500/30 shadow-2xl overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-violet-500/20 to-cyan-500/20 border-b border-violet-500/20",children:n.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Select Status"})}),n.jsx("div",{className:"py-2",children:H.map((F,z)=>n.jsxs("button",{type:"button",onClick:()=>{c(F.value),$(!1)},className:`group relative w-full px-4 py-3 text-left transition-all duration-200 flex items-center space-x-3 ${o===F.value?"bg-gradient-to-r from-violet-500/30 to-cyan-500/20 text-white border-l-2 border-l-cyan-400":"text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-violet-500/20 hover:to-cyan-500/10"}`,children:[n.jsx("div",{className:`p-2 rounded-lg transition-all duration-200 ${o===F.value?F.bgColor:"bg-slate-700/50 group-hover:"+F.bgColor}`,children:n.jsx("div",{className:o===F.value?F.color:"text-gray-400 group-hover:"+F.color,children:F.icon})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:F.label}),n.jsxs("div",{className:"text-xs text-gray-500",children:[F.value==="all"&&"Show all certificates",F.value==="verified"&&"Validated certificates",F.value==="pending"&&"Awaiting verification",F.value==="revoked"&&"Invalid certificates"]})]}),o===F.value&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse"}),n.jsx("svg",{className:"w-4 h-4 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"})]},F.value))})]})]})]})]})]}),n.jsx("div",{className:"pt-6 border-t border-violet-500/20",children:n.jsx(gW,{showDateFilter:E,setShowDateFilter:M,startDate:A,setStartDate:j,endDate:C,setEndDate:S})}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-violet-500/20",children:[n.jsxs("button",{onClick:X,className:"inline-flex items-center space-x-2 text-sm font-semibold text-gray-400 hover:text-white transition-colors duration-200 group",children:[n.jsx("div",{className:"bg-slate-700/50 group-hover:bg-slate-600/50 border border-violet-500/20 group-hover:border-cyan-400/30 p-1.5 rounded-lg transition-all duration-200",children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),n.jsx("span",{children:"Clear all filters"})]}),n.jsx("button",{onClick:ee,disabled:_,className:"inline-flex items-center space-x-3 px-6 py-3 bg-gradient-to-r from-violet-600 to-cyan-500 hover:from-violet-500 hover:to-cyan-400 text-white font-semibold rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-violet-500/30 hover:shadow-xl hover:scale-105 transform",children:_?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4",children:n.jsx(Sn,{size:"sm",color:"white"})}),n.jsx("span",{children:"Searching..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("span",{children:"Apply Filters"})]})})]})]})})]})]})]})},bW=({searchTerm:t,setSearchTerm:e,statusFilter:s,setStatusFilter:r,viewMode:a,setViewMode:i,handleSearch:o})=>{const[c,d]=k.useState(!1),[h,f]=k.useState(!1),x=k.useRef(null);k.useEffect(()=>{const y=w=>{x.current&&!x.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const g=[{value:"all",label:"All Statuses",color:"text-gray-400",bgColor:"bg-gray-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})},{value:"verified",label:"Verified",color:"text-emerald-400",bgColor:"bg-emerald-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"pending",label:"Pending",color:"text-amber-400",bgColor:"bg-amber-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"revoked",label:"Revoked",color:"text-red-400",bgColor:"bg-red-500/20",icon:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}],p=g.find(y=>y.value===s)||g[0],v=async()=>{d(!0),o&&await o(),d(!1)};return n.jsxs("div",{className:"mb-6 relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 via-slate-800/80 to-slate-900/80 rounded-2xl backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/10 via-cyan-500/10 to-violet-500/10 rounded-2xl"}),n.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-violet-500 via-cyan-400 to-violet-500 opacity-20 blur-sm group-hover:opacity-30 transition-opacity duration-500"}),n.jsx("div",{className:"absolute inset-[1px] bg-gradient-to-br from-slate-800/95 via-slate-900/95 to-slate-800/95 backdrop-blur-xl rounded-2xl border border-violet-500/20"}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-cyan-400 rounded-2xl blur opacity-50"}),n.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-violet-600 to-cyan-500 rounded-2xl flex items-center justify-center transform hover:scale-105 transition-transform duration-200 shadow-lg shadow-violet-500/30",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white via-cyan-300 to-violet-300 bg-clip-text text-transparent",children:"Search Certificates"}),n.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Find certificates by course name, ID, student, or institution"})]})]}),n.jsxs("div",{className:"flex bg-slate-800/80 rounded-2xl p-1.5 border border-violet-500/20 backdrop-blur-sm",children:[n.jsxs("button",{onClick:()=>i("grid"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ${a==="grid"?"bg-gradient-to-r from-violet-600 to-cyan-500 text-white shadow-lg shadow-violet-500/25 transform scale-105":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),n.jsx("span",{children:"Grid"})]}),n.jsxs("button",{onClick:()=>i("list"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ${a==="list"?"bg-gradient-to-r from-violet-600 to-cyan-500 text-white shadow-lg shadow-violet-500/25 transform scale-105":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),n.jsx("span",{children:"List"})]})]})]}),n.jsxs("div",{className:"relative mb-6 group/search",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/20 via-cyan-500/20 to-violet-500/20 rounded-2xl blur group-hover/search:from-violet-500/30 group-hover/search:via-cyan-500/30 group-hover/search:to-violet-500/30 transition-all duration-300"}),n.jsxs("div",{className:"relative bg-slate-800/60 backdrop-blur-xl rounded-2xl border border-violet-500/30 shadow-xl hover:shadow-2xl transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover/search:text-cyan-400 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",placeholder:"Search by course name, ID, student, or institution...",value:t,onChange:y=>e(y.target.value),className:"block w-full pl-12 pr-28 py-4 text-white placeholder-gray-400 bg-transparent border-0 rounded-2xl focus:ring-2 focus:ring-violet-500/40 focus:outline-none text-lg font-medium transition-all duration-200"}),n.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 space-x-2",children:[t&&n.jsx("button",{onClick:()=>e(""),className:"p-2 rounded-lg bg-slate-700/50 hover:bg-slate-600/50 border border-gray-600/30 hover:border-gray-500/50 transition-all duration-200 group/clear",title:"Clear search",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/clear:text-white transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("button",{onClick:v,disabled:c,className:"p-3 bg-gradient-to-r from-violet-600 to-cyan-500 hover:from-violet-500 hover:to-cyan-400 rounded-xl transition-all duration-200 shadow-lg shadow-violet-500/30 hover:shadow-xl hover:scale-105 transform",title:"Search",children:c?n.jsx("div",{className:"h-5 w-5",children:n.jsx(Sn,{size:"sm",color:"white"})}):n.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold bg-gradient-to-r from-cyan-300 to-violet-300 bg-clip-text text-transparent text-center",children:"Certificate Status"}),n.jsxs("div",{className:"relative",ref:x,children:[n.jsxs("button",{type:"button",onClick:()=>f(!h),className:"group relative w-full px-4 py-3 bg-gradient-to-r from-slate-800/80 to-slate-700/80 backdrop-blur-sm border border-violet-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500/40 hover:border-violet-400/60 transition-all duration-200 cursor-pointer text-left overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/10 to-cyan-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),n.jsxs("div",{className:"relative flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-1.5 rounded-lg ${p.bgColor} ${p.color}`,children:p.icon}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:p.label}),n.jsx("div",{className:"text-xs text-gray-400",children:"Select certificate status"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${p.color.replace("text-","bg-")} animate-pulse`}),n.jsx("svg",{className:`h-4 w-4 text-gray-400 transition-all duration-300 ${h?"rotate-180 text-cyan-400":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]})]}),h&&n.jsxs("div",{className:"absolute z-50 w-full mt-2",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-xl rounded-xl border border-violet-500/30 shadow-2xl"}),n.jsxs("div",{className:"relative bg-gradient-to-b from-slate-800/90 to-slate-900/90 backdrop-blur-xl rounded-xl border border-violet-500/30 shadow-2xl overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-violet-500/20 to-cyan-500/20 border-b border-violet-500/20",children:n.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Select Status"})}),n.jsx("div",{className:"py-2",children:g.map((y,w)=>n.jsxs("button",{type:"button",onClick:()=>{r(y.value),f(!1)},className:`group relative w-full px-4 py-3 text-left transition-all duration-200 flex items-center space-x-3 ${s===y.value?"bg-gradient-to-r from-violet-500/30 to-cyan-500/20 text-white border-l-2 border-l-cyan-400":"text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-violet-500/20 hover:to-cyan-500/10"}`,children:[n.jsx("div",{className:`p-2 rounded-lg transition-all duration-200 ${s===y.value?y.bgColor:"bg-slate-700/50 group-hover:"+y.bgColor}`,children:n.jsx("div",{className:s===y.value?y.color:"text-gray-400 group-hover:"+y.color,children:y.icon})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:y.label}),n.jsxs("div",{className:"text-xs text-gray-500",children:[y.value==="all"&&"Show all certificates",y.value==="verified"&&"Validated certificates",y.value==="pending"&&"Awaiting verification",y.value==="revoked"&&"Invalid certificates"]})]}),s===y.value&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse"}),n.jsx("svg",{className:"w-4 h-4 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"})]},y.value))})]})]})]})]})})]})]})},vW=({error:t,noResultsAddress:e,studentAddressFilter:s,institutionFilter:r,certificates:a,handleClearSearchAndShowAll:i,isAdmin:o=!1,isInstitute:c=!1,searchTerm:d="",statusFilter:h="",courseNameFilter:f=""})=>(d||s||r||h&&h!=="all"||f||e.type,t?n.jsx("div",{className:"text-center py-16",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"mx-auto w-14 h-14 flex items-center justify-center bg-red-500/20 rounded-full mb-4",children:n.jsx(mo,{className:"text-3xl text-red-500"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-400",children:"Error"}),n.jsx("p",{className:"text-gray-300 mb-4",children:t})]})}):e.type?n.jsx("div",{className:"text-center py-16",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"mx-auto w-20 h-20 flex items-center justify-center bg-blue-500/10 rounded-full mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-2xl font-semibold mb-3 text-white",children:"No Certificates Found"}),n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700 mb-5",children:[n.jsx("p",{className:"text-lg text-gray-300 mb-2",children:e.type==="student"?"This student doesn't have any certificates issued yet.":"This institution hasn't issued any certificates yet."}),n.jsxs("div",{className:"flex items-center justify-center p-2 bg-gray-900/50 rounded mt-3 overflow-hidden",children:[n.jsx("span",{className:"text-gray-400 mr-2",children:"Address:"}),n.jsx("code",{className:"text-violet-400 text-sm font-mono truncate",children:e.address})]})]}),n.jsxs("p",{className:"text-sm text-gray-500 mb-5",children:["The address is valid but no ",e.type==="student"?"certificates have been issued to this student":"certificates have been issued by this institution","."]})]})}):s||r?n.jsx("div",{className:"text-center py-16",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"mx-auto w-14 h-14 flex items-center justify-center bg-blue-500/20 rounded-full mb-4",children:n.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Certificates Found"}),n.jsx("p",{className:"text-gray-400 mb-2",children:"No certificates match your search criteria."})]})}):n.jsx("div",{className:"text-center py-16",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx(_5,{className:"mx-auto text-4xl text-gray-500 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Certificates Found"}),n.jsx("p",{className:"text-gray-400 mb-2",children:a.length===0?"No certificates available.":"No certificates match your search criteria."})]})})),yW=()=>n.jsxs("div",{className:"flex flex-col justify-center items-center py-20",children:[n.jsx("div",{className:"relative mb-6",children:n.jsx(Sn,{size:"xl",color:"violet"})}),n.jsx("span",{className:"text-xl text-gray-300",children:"Loading certificates..."}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Please wait while we retrieve your certificates"})]}),md=({color:t="white",size:e="sm"})=>{const s={white:"text-white",green:"text-green-400",red:"text-red-400",blue:"text-blue-400",violet:"text-violet-400"},r={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},a=s[t]||s.white,i=r[e]||r.sm;return n.jsxs("div",{className:`${i} relative`,children:[n.jsx("div",{className:`absolute inset-0 rounded-full border border-current opacity-80 animate-spin-reverse ${a}`,style:{boxShadow:"0 0 5px currentColor",filter:"blur(0.3px)"}}),n.jsx("div",{className:`absolute inset-[2px] rounded-full border border-current border-t-transparent animate-spin ${a}`}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${a}`,style:{boxShadow:"0 0 4px currentColor"}})}),n.jsx("span",{className:"sr-only",children:"Loading..."}),n.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @keyframes spin-reverse {
          to { transform: rotate(-360deg); }
        }
        .animate-spin {
          animation: spin 0.8s linear infinite;
        }
        .animate-spin-reverse {
          animation: spin-reverse 1.6s linear infinite;
        }
        .animate-pulse {
          animation: pulse 1s ease-in-out infinite;
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.6; transform: scale(0.8); }
          50% { opacity: 1; transform: scale(1.2); }
        }
      `})]})};var a2={exports:{}},i2,Wk;function wW(){if(Wk)return i2;Wk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return i2=t,i2}var o2,Yk;function NW(){if(Yk)return o2;Yk=1;var t=wW();function e(){}function s(){}return s.resetWarningCache=e,o2=function(){function r(o,c,d,h,f,x){if(x!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:s,resetWarningCache:e};return i.PropTypes=i,i},o2}var Qk;function jW(){return Qk||(Qk=1,a2.exports=NW()()),a2.exports}var CW=jW();const ie=ym(CW),rM=({children:t,isActive:e=!1,onBurnComplete:s=()=>{},duration:r=3500,className:a=""})=>{const[i,o]=k.useState(!1),[c,d]=k.useState(1),[h,f]=k.useState(0),[x,g]=k.useState(!1),p=k.useRef(null);k.useEffect(()=>()=>{},[]);const v=S=>{p.current||(p.current=S);const E=S-p.current,M=x?Math.min(E/1e3,1):Math.min(E/1e4,.6);f(M),x&&M>.8&&c===1&&d(0),M<1?requestAnimationFrame(v):setTimeout(()=>{s()},500)};if(k.useEffect(()=>{if(e&&!i)return o(!0),requestAnimationFrame(v),()=>{p.current=null}},[e,i,r,s]),k.useEffect(()=>{},[i,x]),k.useEffect(()=>{let S;return i&&!x&&(S=setTimeout(()=>{g(!0),p.current=null},2e3+Math.random()*2e3)),()=>{S&&clearTimeout(S)}},[i,x]),!i)return n.jsx("div",{className:a,children:t});const y=h*1.2,w=h*1.1,A=h*1.15,j=h*.9,C=!x;return n.jsxs("div",{className:`relative transition-opacity duration-1000 ${a}`,style:{opacity:c,transform:`scale(${C?"1.02":"1"})`,transition:"transform 0.5s ease-out, opacity 1s ease-out"},children:[n.jsx("div",{style:{filter:`blur(${C?1:h*3}px)`,transition:"filter 0.5s ease-out"},children:t}),n.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[C&&n.jsx("div",{className:"absolute inset-0 animate-pulse",style:{boxShadow:"inset 0 0 30px rgba(255, 69, 0, 0.5)",animation:"pulse 1.5s ease-in-out infinite"}}),n.jsx("div",{className:"absolute top-0 left-0 right-0 overflow-hidden",style:{height:`${Math.min(y*100,100)}%`,transition:"height 500ms ease-out"},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-500/70 to-transparent",style:{filter:"blur(6px)"}})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 overflow-hidden",style:{height:`${Math.min(j*100,100)}%`,transition:"height 500ms ease-out"},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-600/70 to-transparent",style:{filter:"blur(6px)"}})}),n.jsx("div",{className:"absolute top-0 bottom-0 left-0 overflow-hidden",style:{width:`${Math.min(w*100,100)}%`,transition:"width 500ms ease-out"},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/70 to-transparent",style:{filter:"blur(6px)"}})}),n.jsx("div",{className:"absolute top-0 bottom-0 right-0 overflow-hidden",style:{width:`${Math.min(A*100,100)}%`,transition:"width 500ms ease-out"},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-orange-500/70 to-transparent",style:{filter:"blur(6px)"}})}),n.jsx("div",{className:"absolute -top-10 left-0 right-0 h-40 animate-burn-top",children:[...Array(25)].map((S,E)=>n.jsx("div",{className:"absolute bottom-0 rounded-full",style:{left:`${Math.random()*100}%`,width:`${10+Math.random()*30}px`,height:`${30+Math.random()*60}px`,background:"linear-gradient(to top, rgba(255,69,0,0.9), rgba(255,165,0,0.8) 60%, rgba(255,255,0,0.4) 90%, transparent)",opacity:.7+Math.random()*.3,filter:"blur(4px)",animation:`flicker ${.5+Math.random()*1}s infinite alternate`,animationDelay:`${Math.random()*.5}s`}},`flame-top-${E}`))}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-full animate-burn-bottom",children:[...Array(20)].map((S,E)=>n.jsx("div",{className:"absolute bottom-0 rounded-full",style:{left:`${Math.random()*100}%`,width:`${5+Math.random()*20}px`,height:`${20+Math.random()*40}px`,background:"linear-gradient(to top, rgba(255,0,0,0.8), rgba(255,165,0,0.8) 50%, rgba(255,255,0,0.4) 90%, transparent)",opacity:.6+Math.random()*.4,filter:"blur(3px)",animation:`flameRise ${1+Math.random()*2}s infinite`,animationDelay:`${Math.random()*1}s`}},`flame-bottom-${E}`))}),n.jsx("div",{className:"absolute inset-0",children:[...Array(40)].map((S,E)=>n.jsx("div",{className:"absolute rounded-full",style:{left:`${Math.random()*100}%`,bottom:`${Math.random()*20}%`,width:`${1+Math.random()*3}px`,height:`${1+Math.random()*3}px`,background:Math.random()>.7?"rgba(255,255,255,0.9)":"rgba(255,165,0,0.9)",opacity:.6+Math.random()*.4,animation:`float ${2+Math.random()*3}s infinite`,animationDelay:`${Math.random()*2}s`}},`ember-${E}`))}),C&&n.jsxs("div",{className:"absolute top-4 right-4 flex items-center bg-black/50 backdrop-blur-sm rounded-full px-3 py-1",children:[n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2 animate-pulse"}),n.jsx("span",{className:"text-white text-xs font-medium",children:"Processing..."})]}),n.jsx("div",{className:"absolute inset-0 bg-black/40 mix-blend-multiply",style:{opacity:h}}),n.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='noise' x='0%25' y='0%25' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.05' numOctaves='3' stitchTiles='stitch'/%3E%3CfeDisplacementMap in='SourceGraphic' scale='15'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' fill='none'/%3E%3C/svg%3E")`,transform:`scale(${1-h*.1})`,opacity:h*.8}})]})]})};rM.propTypes={children:ie.node.isRequired,isActive:ie.bool,onBurnComplete:ie.func,duration:ie.number,className:ie.string};const aM=({children:t,certificate:e,isBurning:s=!1,onBurnComplete:r=()=>{},onBurnCancel:a=()=>{},className:i=""})=>{const[o,c]=k.useState(s),d=k.useRef(!1);k.useEffect(()=>{s&&!o?(console.log(`Setting burn animation active for certificate #${e.id}`),c(!0),d.current=!1):!s&&o&&(console.log(`Cancelling burn animation for certificate #${e.id}`),c(!1),d.current=!1,a(e))},[s,o,e,a]);const h=()=>{d.current||(console.log(`Burn animation completing for certificate #${e.id}`),d.current=!0,r(e),setTimeout(()=>{c(!1)},500))};return o?n.jsx("div",{className:"transform-gpu",children:n.jsx(rM,{isActive:!0,onBurnComplete:h,duration:3500,className:i,children:t})}):n.jsx("div",{className:i,children:t})};aM.propTypes={children:ie.node.isRequired,certificate:ie.object.isRequired,isBurning:ie.bool,onBurnComplete:ie.func,onBurnCancel:ie.func,className:ie.string};const kW=({visibleCertificates:t,selectedCertificates:e,isAdmin:s,isInstitute:r,toggleCertificateSelection:a,openMetadataModal:i,handleViewImage:o,handleVerifyCertificate:c,verifyLoading:d,openRevokeModal:h,revokeLoading:f,openBurnModal:x,burnTimelock:g,onBurnAnimationStart:p,openQRModal:v})=>{const[y,w]=k.useState({}),[A,j]=k.useState({}),C=R=>{console.log(`Burn animation completed for certificate #${R.id}`),w(_=>{const I={..._};return delete I[R.id],I}),j(_=>({..._,[R.id]:!0}))},S=R=>{console.log(`Burn cancelled for certificate #${R.id}`),w(_=>{const I={..._};return delete I[R.id],I})},E=R=>{x(R)},M=t.filter(R=>!A[R.id]);return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:M.map(R=>{var _,I;return n.jsxs(aM,{certificate:R,isBurning:y[R.id]||R.isBurning,onBurnComplete:C,onBurnCancel:S,className:`bg-gray-800/80 border border-gray-700 rounded-lg overflow-hidden hover:border-violet-500 transition-all duration-300 shadow-lg ${e.some(D=>D.id===R.id)?"ring-2 ring-violet-500":""}`,children:[(s||r)&&n.jsx("div",{className:"p-2",children:n.jsx("input",{type:"checkbox",checked:e.some(D=>D.id===R.id),onChange:()=>a(R),className:"rounded bg-gray-800 border-gray-600 text-violet-500 focus:ring-violet-500"})}),n.jsx("div",{className:`h-2 ${Zf(R)}`}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-violet-400 truncate",children:R.certificateName||((_=R.metadata)==null?void 0:_.name)||`Certificate ${R.id}`}),n.jsx("span",{className:`${Zf(R)} px-3 py-1 rounded-full text-sm font-medium`,children:$b(R)})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("p",{className:"text-gray-400",children:[n.jsx("span",{className:"font-bold",children:"ID:"})," ",R.id]}),n.jsxs("p",{className:"text-gray-400",children:[n.jsx("span",{className:"font-bold",children:"Course:"})," ",R.courseName||`Course ${R.courseId}`]}),n.jsxs("p",{className:"text-gray-400",children:[n.jsx("span",{className:"font-bold",children:"Student:"}),n.jsxs("span",{className:"text-white truncate block",children:[R.student.substring(0,6),"...",R.student.substring(38)]})]}),n.jsxs("p",{className:"text-gray-400",children:[n.jsx("span",{className:"font-bold",children:"Institution:"}),n.jsxs("span",{className:"text-white truncate block",children:[R.institution.substring(0,6),"...",R.institution.substring(38)]})]}),n.jsxs("p",{className:"text-gray-400",children:[n.jsx("span",{className:"font-bold",children:"Date:"})," ",R.completionDate]}),n.jsxs("p",{className:"text-gray-400",children:[n.jsx("span",{className:"font-bold",children:"Grade:"})," ",R.grade,"% (",kl(R.grade),")"]})]}),(R.burnRequested||R.burnApproved)&&n.jsxs("div",{className:"mb-4 p-2 border border-amber-500/30 bg-amber-900/20 rounded-md",children:[n.jsx("div",{className:"flex items-center",children:R.burnApproved?n.jsxs("div",{className:"flex items-center text-green-400",children:[n.jsx(fo,{className:"mr-2 text-green-400"}),n.jsx("span",{className:"font-medium",children:"Burn Approved"})]}):n.jsxs("div",{className:"flex items-center text-amber-400",children:[n.jsx(fd,{className:"mr-2 text-amber-400"}),n.jsx("span",{className:"font-medium",children:"Burn Requested"})]})}),R.burnRequestTime&&!R.burnApproved&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1 ml-5",children:["Requested: ",new Date(R.burnRequestTime).toLocaleString()]}),R.burnReason&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1 ml-5",children:["Reason: ",R.burnReason]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>i(R),className:"flex items-center px-3 py-1.5 bg-violet-600 hover:bg-violet-700 rounded-lg transition-colors text-sm",children:[n.jsx(_5,{className:"mr-1"}),"Metadata"]}),n.jsxs("button",{onClick:()=>o(R),className:"flex items-center px-3 py-1.5 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors text-sm",children:[n.jsx(Jp,{className:"mr-1"}),"View"]}),n.jsxs("button",{onClick:()=>v(R),className:"flex items-center px-3 py-1.5 bg-teal-600 hover:bg-teal-700 rounded-lg transition-colors text-sm",title:"Share with QR Code",children:[n.jsx(KR,{className:"mr-1"}),"QR Code"]}),(s||r)&&!R.isVerified&&!R.isRevoked&&n.jsxs("button",{onClick:()=>c(R),disabled:d[R.id],className:"flex items-center px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-lg transition-colors text-sm",children:[d[R.id]?n.jsx("div",{className:"mr-1",children:n.jsx(md,{color:"green"})}):n.jsx(fo,{className:"mr-1"}),"Verify"]}),(s||r)&&!R.isRevoked&&n.jsxs("button",{onClick:()=>h(R),disabled:f[R.id],className:"flex items-center px-3 py-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm",children:[f[R.id]?n.jsx("div",{className:"mr-1",children:n.jsx(md,{color:"red"})}):n.jsx(Al,{className:"mr-1"}),"Revoke"]}),!R.isRevoked&&(s||r||R.student===((I=window.ethereum)==null?void 0:I.selectedAddress))&&n.jsxs("button",{onClick:()=>E(R),className:"flex items-center px-3 py-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm",disabled:y[R.id],children:[n.jsx(Zw,{className:"mr-1"}),"Burn"]})]})]})]},R.id)})})},AW=({certificate:t,isAdmin:e,isInstitute:s,selectedCertificates:r,toggleCertificateSelection:a,openMetadataModal:i,handleViewImage:o,handleVerifyCertificate:c,verifyLoading:d,openRevokeModal:h,revokeLoading:f,openQRModal:x})=>{var g,p;return n.jsxs("tr",{className:"border-t border-gray-700 hover:bg-gray-700/50",children:[(e||s)&&n.jsx("td",{className:"px-4 py-3",children:n.jsx("input",{type:"checkbox",checked:r.some(v=>v.id===t.id),onChange:()=>a(t),className:"rounded bg-gray-800 border-gray-600 text-violet-500 focus:ring-violet-500"})}),n.jsx("td",{className:"px-4 py-3",children:t.id}),n.jsx("td",{className:"px-4 py-3 max-w-xs truncate",children:t.certificateName||((g=t.metadata)==null?void 0:g.name)||`Certificate ${t.id}`}),n.jsxs("td",{className:"px-4 py-3",children:[t.student.substring(0,6),"...",t.student.substring(t.student.length-4)]}),n.jsxs("td",{className:"px-4 py-3",children:[t.institution.substring(0,6),"...",t.institution.substring(t.institution.length-4)]}),n.jsx("td",{className:"px-4 py-3",children:t.completionDate}),n.jsx("td",{className:"px-4 py-3 hidden md:table-cell",children:n.jsxs("div",{className:"text-xs text-gray-500",children:["UTC: ",(p=t.completionDateUTC)==null?void 0:p.split(" ").slice(0,4).join(" ")]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`font-semibold ${t.grade>=70?"text-green-400":t.grade>=60?"text-yellow-400":"text-red-400"}`,children:[kl(t.grade)," (",t.grade,"%)"]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`${Zf(t)} px-2 py-1 rounded-full text-xs font-medium`,children:$b(t)})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>i(t),className:"p-1 text-violet-400 hover:text-violet-300",title:"View Metadata",children:n.jsx(_5,{})}),n.jsx("button",{onClick:()=>o(t),className:"p-1 text-purple-400 hover:text-purple-300",title:"View Certificate",children:n.jsx(Jp,{})}),n.jsx("button",{onClick:()=>x(t),className:"p-1 text-teal-400 hover:text-teal-300",title:"Share with QR Code",children:n.jsx(KR,{})}),(e||s)&&!t.isVerified&&!t.isRevoked&&n.jsx("button",{onClick:()=>c(t),disabled:d[t.id],className:"p-1 text-green-400 hover:text-green-300",title:"Verify Certificate",children:d[t.id]?n.jsx("div",{className:"inline-block h-4 w-4",children:n.jsx(Sn,{size:"sm",color:"green"})}):n.jsx(fo,{})}),(e||s)&&!t.isRevoked&&n.jsx("button",{onClick:()=>h(t),disabled:f[t.id],className:"p-1 text-red-400 hover:text-red-300",title:"Revoke Certificate",children:f[t.id]?n.jsx("div",{className:"inline-block h-4 w-4",children:n.jsx(Sn,{size:"sm",color:"red"})}):n.jsx(Al,{})})]})})]})},EW=({visibleCertificates:t,selectedCertificates:e,isAdmin:s,isInstitute:r,toggleCertificateSelection:a,selectAllVisible:i,clearSelection:o,openMetadataModal:c,handleViewImage:d,handleVerifyCertificate:h,verifyLoading:f,openRevokeModal:x,revokeLoading:g,openBurnModal:p,burnTimelock:v,openQRModal:y})=>n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"sticky top-0 bg-gray-700",children:n.jsxs("tr",{children:[(s||r)&&n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx("input",{type:"checkbox",checked:t.length>0&&e.length===t.length,onChange:()=>{e.length===t.length?o():i()},className:"rounded bg-gray-800 border-gray-600 text-violet-500 focus:ring-violet-500"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Certificate Name"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Student"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Institution"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Completion Date"}),n.jsx("th",{className:"px-4 py-3 text-left hidden md:table-cell",children:"UTC Time"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Grade"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(w=>n.jsx(AW,{certificate:w,isAdmin:s,isInstitute:r,selectedCertificates:e,toggleCertificateSelection:a,openMetadataModal:c,handleViewImage:d,handleVerifyCertificate:h,verifyLoading:f,openRevokeModal:x,revokeLoading:g,openQRModal:y},w.id))})]}),SW=({loadingMore:t,hasMore:e,loadMoreCertificates:s,certificates:r})=>n.jsxs(n.Fragment,{children:[t&&n.jsxs("div",{className:"flex justify-center items-center py-4",children:[n.jsx("div",{className:"mr-2",children:n.jsx(Sn,{size:"sm",color:"violet"})}),n.jsx("span",{children:"Loading more certificates..."})]}),e&&!t&&n.jsx("div",{className:"flex justify-center p-4",children:n.jsx("button",{onClick:s,className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 rounded-lg transition-colors",disabled:t,children:t?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-2 h-4 w-4",children:n.jsx(Sn,{size:"sm",color:"white"})}),n.jsx("span",{children:"Loading..."})]}):"Load More Certificates"})}),!e&&r.length>0&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"End of certificates list"})]}),i0=({isCopied:t})=>t?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-violet-400 hover:text-violet-300",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),TW=()=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),n.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}),RW=({showMetadata:t,metadataCertificate:e,metadataImageLoading:s,closeMetadataModal:r})=>{var d;const[a,i]=k.useState("");if(!t||!e)return null;const o=(h,f)=>{navigator.clipboard.writeText(h),i(f),setTimeout(()=>i(""),2e3)},c=h=>{h.target===h.currentTarget&&r()};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:c,children:n.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl p-0 w-[900px] h-[600px] border border-gray-700/50 shadow-2xl relative flex flex-col",children:[s&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/90 rounded-2xl backdrop-blur-sm z-10",children:n.jsx(Sn,{size:"lg",color:"violet"})}),n.jsx("div",{className:"bg-gradient-to-r from-violet-600/20 to-purple-600/20 border-b border-gray-700/50 px-6 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-violet-400 rounded-full animate-pulse"}),n.jsx("h3",{className:"text-xl font-bold text-white",children:"Certificate Metadata"})]}),n.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full bg-gray-700/50 hover:bg-gray-600/50 flex items-center justify-center text-gray-300 hover:text-white transition-all duration-200 group",children:n.jsx("svg",{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-800/60 to-gray-700/40 backdrop-blur-sm p-5 rounded-xl border border-gray-600/30 hover:border-violet-500/30 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-violet-400 to-purple-500 rounded-full mr-3"}),n.jsx("h4",{className:"font-semibold text-white text-lg",children:"Certificate Details"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Token ID"}),n.jsx("span",{className:"text-white font-mono text-sm",children:e.id})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Course Name"}),n.jsx("span",{className:"text-white text-sm",children:e.courseName})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Course ID"}),n.jsx("span",{className:"text-white font-mono text-sm",children:e.courseId})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Completion Date"}),n.jsx("span",{className:"text-white text-sm",children:e.completionDate})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Grade"}),n.jsxs("span",{className:"text-white text-sm",children:[kl(e.grade)," (",e.grade,"%)"]})]}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Status"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.isRevoked?"bg-red-500/20 text-red-400":e.isVerified?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.isRevoked?"Revoked":e.isVerified?"Verified":"Pending"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-800/60 to-gray-700/40 backdrop-blur-sm p-5 rounded-xl border border-gray-600/30 hover:border-violet-500/30 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-cyan-500 rounded-full mr-3"}),n.jsx("h4",{className:"font-semibold text-white text-lg",children:"Blockchain Data"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm block mb-1",children:"Student"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"break-all text-xs text-white font-mono flex-1 mr-2",children:e.student}),n.jsx("button",{onClick:()=>o(e.student,"Student Address"),className:"p-1.5 hover:bg-gray-600/50 rounded-lg transition-all duration-200 hover:scale-110",title:"Copy student address",children:n.jsx(i0,{isCopied:a==="Student Address"})})]})]}),n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm block mb-1",children:"Institution"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"break-all text-xs text-white font-mono flex-1 mr-2",children:e.institution}),n.jsx("button",{onClick:()=>o(e.institution,"Institution Address"),className:"p-1.5 hover:bg-gray-600/50 rounded-lg transition-all duration-200 hover:scale-110",title:"Copy institution address",children:n.jsx(i0,{isCopied:a==="Institution Address"})})]})]}),e.revocationReason&&n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Revocation"}),n.jsx("span",{className:"text-red-400 text-sm block mt-1",children:e.revocationReason})]}),e.version&&parseInt(e.version)>1&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Version"}),n.jsx("span",{className:"text-white text-sm",children:e.version})]}),e.lastUpdateDateFormatted&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Last Update"}),n.jsx("span",{className:"text-white text-sm",children:e.lastUpdateDateFormatted})]}),e.updateReason&&e.updateReason!=="Initial issuance"&&n.jsxs("div",{className:"py-2",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Update Reason"}),n.jsx("span",{className:"text-white text-sm block mt-1",children:e.updateReason})]})]})]})]})]}),e.imageCID&&n.jsxs("div",{className:"bg-gradient-to-br from-gray-800/60 to-gray-700/40 backdrop-blur-sm p-5 rounded-xl border border-gray-600/30 hover:border-violet-500/30 transition-all duration-300 mb-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-400 to-teal-500 rounded-full mr-3"}),n.jsx("h4",{className:"font-semibold text-white text-lg",children:"IPFS Data"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm block mb-1",children:"Image CID"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"break-all text-xs text-white font-mono flex-1 mr-2",children:e.imageCID}),n.jsx("button",{onClick:()=>o(e.imageCID,"Image CID"),className:"p-1.5 hover:bg-gray-600/50 rounded-lg transition-all duration-200 hover:scale-110",title:"Copy Image CID",children:n.jsx(i0,{isCopied:a==="Image CID"})})]})]}),n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm block mb-1",children:"Metadata CID"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"break-all text-xs text-white font-mono flex-1 mr-2",children:e.metadataCID}),n.jsx("button",{onClick:()=>o(e.metadataCID,"Metadata CID"),className:"p-1.5 hover:bg-gray-600/50 rounded-lg transition-all duration-200 hover:scale-110",title:"Copy Metadata CID",children:n.jsx(i0,{isCopied:a==="Metadata CID"})})]})]}),((d=e.metadata)==null?void 0:d.transactionHash)&&n.jsxs("div",{className:"py-2",children:[n.jsx("span",{className:"text-gray-300 text-sm block mb-1",children:"Transaction Hash"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("a",{href:`https://sepolia.etherscan.io/tx/${e.metadata.transactionHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:text-violet-300 break-all text-xs font-mono flex-1 mr-2 flex items-center hover:underline",title:"View on Etherscan",children:[e.metadata.transactionHash,n.jsx(TW,{})]}),n.jsx("button",{onClick:()=>o(e.metadata.transactionHash,"Transaction Hash"),className:"p-1.5 hover:bg-gray-600/50 rounded-lg transition-all duration-200 hover:scale-110",title:"Copy Transaction Hash",children:n.jsx(i0,{isCopied:a==="Transaction Hash"})})]})]})]})]}),e.metadata&&n.jsxs("div",{className:"bg-gradient-to-br from-gray-800/60 to-gray-700/40 backdrop-blur-sm p-5 rounded-xl border border-gray-600/30 hover:border-violet-500/30 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-400 to-red-500 rounded-full mr-3"}),n.jsx("h4",{className:"font-semibold text-white text-lg",children:"Metadata Content"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Name"}),n.jsx("span",{className:"text-white text-sm block mt-1",children:e.metadata.name})]}),n.jsxs("div",{className:"py-2 border-b border-gray-600/20",children:[n.jsx("span",{className:"text-gray-300 text-sm",children:"Description"}),n.jsx("span",{className:"text-white text-sm block mt-1",children:e.metadata.description})]}),e.metadata.attributes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-300 text-sm block mb-3",children:"Attributes"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:e.metadata.attributes.map((h,f)=>n.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-600/30 hover:border-violet-500/30 transition-all duration-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-violet-300 text-sm font-medium",children:h.trait_type}),(h.trait_type==="Student Address"||h.trait_type==="Transaction Hash")&&n.jsx("button",{onClick:()=>o(h.value,h.trait_type),className:"p-1 hover:bg-gray-700/50 rounded-lg transition-all duration-200 hover:scale-110",title:`Copy ${h.trait_type}`,children:n.jsx(i0,{isCopied:a===h.trait_type})})]}),n.jsx("span",{className:"text-xs break-all block text-gray-200 font-mono",children:h.value})]},f))})]})]})]})]}),a&&n.jsx("div",{className:"fixed bottom-6 right-6 bg-gradient-to-r from-violet-600 to-purple-600 text-white px-4 py-3 rounded-xl shadow-2xl animate-pulse border border-violet-400/30",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsxs("span",{className:"font-medium",children:[a," copied to clipboard!"]})]})})]})})},MW=({showImage:t,imageCertificate:e,imageLoading:s,closeImageModal:r,handleImageLoad:a,handleImageError:i,placeholderImage:o,isAdmin:c,isInstitute:d,handleVerifyCertificate:h,verifyLoading:f,openRevokeModal:x,revokeLoading:g})=>!t||!e?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-4xl w-full border border-gray-700 shadow-xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-2xl font-bold text-violet-400",children:"Certificate Image"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white text-xl",children:"×"})]}),n.jsxs("div",{className:"relative flex justify-center bg-gray-900/50 p-4 rounded-lg mb-4",children:[s&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg backdrop-blur-sm",children:n.jsx(Sn,{size:"lg",color:"violet"})}),n.jsx("img",{src:e.imageUrl||o,alt:`Certificate ${e.id}`,className:"max-w-full h-auto rounded-lg shadow-xl",onLoad:a,onError:i,style:{maxHeight:"70vh"}})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Certificate ID: ",e.id]}),e.imageCID&&n.jsxs("p",{className:"truncate",children:["CID: ",e.imageCID]})]}),n.jsxs("div",{className:"flex space-x-3",children:[(c||d)&&!e.isVerified&&!e.isRevoked&&n.jsxs("button",{onClick:()=>h(e),disabled:f[e.id],className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[f[e.id]?n.jsx("div",{className:"mr-2",children:n.jsx(md,{color:"green",size:"md"})}):n.jsx(fo,{className:"mr-2"}),"Verify Certificate"]}),(c||d)&&!e.isRevoked&&n.jsxs("button",{onClick:()=>x(e),disabled:g[e.id],className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:[g[e.id]?n.jsx("div",{className:"mr-2",children:n.jsx(md,{color:"red",size:"md"})}):n.jsx(Al,{className:"mr-2"}),"Revoke Certificate"]}),n.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:"Close"})]})]})]})}),DW=({showRevokeModal:t,selectedCertificate:e,revocationReason:s,setRevocationReason:r,closeRevokeModal:a,handleRevokeSubmit:i,revokeLoading:o})=>{const[c,d]=k.useState(""),h=200,f=h-((s==null?void 0:s.length)||0),x=()=>f<=0?"text-red-500 font-bold":f<20?"text-yellow-400":"text-gray-400";k.useEffect(()=>{!s||s.trim()===""?d("Please provide a reason for revocation"):s.length>h?d(`Reason exceeds maximum of ${h} characters`):d("")},[s]);const g=v=>{if(v.preventDefault(),!s||s.trim()===""){d("Please provide a reason for revocation");return}if(s.length>h){d(`Reason exceeds maximum of ${h} characters`);return}i(v)};if(!t||!e)return null;const p=o&&o[e.id];return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-red-900/30 shadow-xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-2xl font-bold text-red-400",children:"Revoke Certificate"}),n.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white text-xl",children:"×"})]}),n.jsxs("p",{className:"mb-4 text-gray-300",children:["You are about to revoke certificate ",n.jsxs("span",{className:"font-semibold",children:["#",e.id]})," for course ",n.jsx("span",{className:"font-semibold",children:e.courseName}),"."]}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("label",{htmlFor:"revocationReason",className:"block text-gray-400",children:"Reason for Revocation"}),n.jsxs("span",{className:`text-xs ${x()}`,children:[f," characters remaining"]})]}),n.jsx("textarea",{id:"revocationReason",value:s,onChange:v=>r(v.target.value),className:`w-full px-4 py-2 bg-gray-700 border ${c?"border-red-500":"border-gray-600"} rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-white`,rows:3,placeholder:"Enter reason for revocation...",required:!0,maxLength:h+5}),c&&n.jsxs("div",{className:"mt-1 text-red-400 text-sm flex items-start",children:[n.jsx(mo,{className:"mr-1 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:c})]}),n.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[n.jsx("span",{className:"text-yellow-400",children:"Note:"})," This reason will be permanently stored on the blockchain. Keep it concise to minimize transaction costs."]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:!!c||p,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50",children:[p?n.jsx("div",{className:"mr-2",children:n.jsx(md,{color:"red",size:"md"})}):n.jsx(Al,{className:"mr-2"}),"Confirm Revocation"]})]})]})]})})},iM=({selectedCount:t=0,selectedCertificates:e=[],onApprove:s,onCancel:r,onBurn:a,onClear:i,onRequestBurnClick:o,clearSelection:c,bulkVerifyCertificates:d,bulkActionLoading:h,hasEligibleForBurn:f=!1,hasPendingRequests:x=!1,isInstitute:g=!1})=>{if(e.length===0&&t===0)return null;const p=e.length||t;return n.jsxs("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-20 bg-gray-900 rounded-lg shadow-lg border border-violet-500/20 py-3 px-5 flex items-center",children:[n.jsxs("div",{className:"flex items-center mr-4",children:[n.jsx("div",{className:"bg-violet-600 h-6 w-6 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-white text-xs font-bold",children:p})}),n.jsx("span",{className:"text-white font-medium",children:"certificates selected"})]}),n.jsxs("div",{className:"flex space-x-3",children:[d&&n.jsx("button",{onClick:d,disabled:h,className:"bg-green-600 hover:bg-green-700 text-white py-1.5 px-4 rounded-md flex items-center transition-colors disabled:opacity-50",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Sn,{size:"sm",className:"mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fo,{className:"mr-2"}),"Verify Selected"]})}),x&&s&&n.jsxs("button",{onClick:s,className:"bg-green-600 hover:bg-green-700 text-white py-1.5 px-4 rounded-md flex items-center transition-colors",children:[n.jsx(fo,{className:"mr-2"}),"Approve Selected"]}),x&&r&&n.jsxs("button",{onClick:r,className:"bg-gray-600 hover:bg-gray-700 text-white py-1.5 px-4 rounded-md flex items-center transition-colors",children:[n.jsx(Al,{className:"mr-2"}),"Cancel Requests"]}),f&&a&&n.jsxs("button",{onClick:a,className:"bg-red-600 hover:bg-red-700 text-white py-1.5 px-4 rounded-md flex items-center transition-colors",children:[n.jsx(ro,{className:"mr-2"}),"Burn Eligible"]}),o&&(g||!0)&&n.jsxs("button",{onClick:o,className:"bg-orange-600 hover:bg-orange-700 text-white py-1.5 px-4 rounded-md flex items-center transition-colors",children:[n.jsx(ro,{className:"mr-2"}),"Request Burn"]}),n.jsxs("button",{onClick:c||i,className:"bg-gray-700 hover:bg-gray-600 text-white py-1.5 px-4 rounded-md flex items-center transition-colors",children:[n.jsx(Hb,{className:"mr-2"}),"Clear Selection"]})]})]})},BW=({showBurnModal:t,selectedCertificate:e,burnReason:s,setBurnReason:r,burnTimelock:a,closeBurnModal:i,handleBurnRequest:o,handleCancelRequest:c,burnLoading:d,canDirectBurn:h,handleDirectBurn:f,isInstitute:x,onBurnAnimationStart:g})=>{var L;const[p,v]=k.useState(!1),[y,w]=k.useState(!1),[A,j]=k.useState(!1),[C,S]=k.useState(!1),[E,M]=k.useState(""),R=200,_=R-((s==null?void 0:s.length)||0),I=()=>_<=0?"text-red-500 font-bold":_<20?"text-yellow-400":"text-gray-400";k.useEffect(()=>{!s||s.trim()===""?M("Please provide a reason for burn"):s.length>R?M(`Reason exceeds maximum of ${R} characters`):M("")},[s]);const D=V=>{if(V===0)return"Immediate";const X=Math.floor(V/86400),ee=Math.floor(V%86400/3600),F=Math.floor(V%3600/60);let z="";return X>0&&(z+=`${X} day${X>1?"s":""} `),ee>0&&(z+=`${ee} hour${ee>1?"s":""} `),F>0&&(z+=`${F} minute${F>1?"s":""}`),z.trim()},B=h||x&&(e==null?void 0:e.institution)===((L=window.ethereum)==null?void 0:L.selectedAddress),O=async()=>{if(!s||s.trim()===""){M("Please provide a reason for burn");return}if(s.length>R){M(`Reason exceeds maximum of ${R} characters`);return}try{S(!0),await o(),v(!0)}catch(V){console.error("Error in burn request:",V)}finally{S(!1)}},$=async()=>{if(!s||s.trim()===""){M("Please provide a reason for burn");return}if(s.length>R){M(`Reason exceeds maximum of ${R} characters`);return}try{w(!1),S(!0),B&&g&&!A&&(g(e),j(!0),i()),await f(),w(!0)}catch(V){console.error("Error in direct burn:",V),j(!1)}finally{S(!1)}},Y=async()=>{try{S(!0),await c(),v(!1)}catch(V){console.error("Error in cancel request:",V)}finally{S(!1)}};k.useEffect(()=>{t||setTimeout(()=>{v(!1),w(!1),j(!1),S(!1),M("")},300)},[t]);const H=d||C;return t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-gray-800 w-full max-w-md rounded-lg p-6 shadow-xl border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-red-500 flex items-center",children:[n.jsx(Zw,{className:"mr-2"}),B?"Burn Certificate":"Request Certificate Burn"]}),n.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-200",disabled:H,children:"✕"})]}),p||y?n.jsxs("div",{className:"mb-6 bg-green-900/30 border border-green-600/30 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center text-green-400 mb-2",children:[n.jsx(fo,{className:"mr-2"}),n.jsx("span",{className:"font-semibold",children:y?"Certificate burned successfully!":"Burn request submitted successfully!"})]}),p&&!y&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center text-amber-400 mb-2",children:[n.jsx(Aq,{className:"mr-2"}),n.jsx("span",{className:"font-medium",children:"Timelock period has started"})]}),n.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["The request will be pending for ",D(a)," before it can be executed."]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(io,{to:"/dashboard/burn-approvals",className:"inline-flex items-center px-4 py-2 bg-violet-600 hover:bg-violet-700 rounded-lg transition-colors text-white text-sm",onClick:i,children:[n.jsx(ro,{className:"mr-2"}),"View Burn Requests"]}),c&&n.jsxs("button",{onClick:Y,disabled:H,className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg transition-colors text-white text-sm",children:[H?n.jsx("div",{className:"mr-2",children:n.jsx(md,{color:"red",size:"sm"})}):n.jsx(Hb,{className:"mr-2"}),"Cancel Request"]})]})]}),y&&n.jsx("div",{className:"mt-3 flex justify-center",children:n.jsxs("div",{className:"relative w-24 h-24",children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(ro,{className:"text-orange-500 text-5xl animate-pulse"})}),n.jsx("svg",{className:"animate-spin-slow",viewBox:"0 0 100 100",children:n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round",className:"text-red-500/30",strokeDasharray:"280",strokeDashoffset:"100"})})]})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-gray-300 mb-4",children:B?`You are about to permanently burn certificate #${e==null?void 0:e.id}.`:`You are requesting to burn certificate #${e==null?void 0:e.id}.`}),!B&&a>0&&n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 flex items-start",children:[n.jsx(fd,{className:"text-amber-400 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-400 font-medium",children:"Timelock Period"}),n.jsxs("p",{className:"text-gray-300 text-sm",children:["This request will have a waiting period of ",D(a)," before it can be executed."]})]})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsxs("label",{className:"block text-gray-400",children:["Reason for burn ",B?"":"request"]}),n.jsxs("span",{className:`text-xs ${I()}`,children:[_," characters remaining"]})]}),n.jsx("textarea",{className:`w-full bg-gray-700 text-white rounded p-3 border ${E?"border-red-500":"border-gray-600"} focus:border-violet-500 focus:outline-none`,value:s,onChange:V=>r(V.target.value),rows:3,placeholder:"Please provide a reason for burning this certificate...",maxLength:R+5}),E&&n.jsxs("div",{className:"mt-1 text-red-400 text-sm flex items-start",children:[n.jsx(mo,{className:"mr-1 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:E})]}),n.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[n.jsx("span",{className:"text-yellow-400",children:"Note:"})," This reason will be permanently stored on the blockchain. Keep it concise to minimize transaction costs."]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{className:"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600 transition-colors",onClick:i,disabled:H,children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 bg-red-600 rounded hover:bg-red-500 flex items-center transition-colors disabled:opacity-50",onClick:B?$:O,disabled:!!E||!s.trim()||H,children:H?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mr-2",children:n.jsx(md,{color:"red",size:"sm"})}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Zw,{className:"mr-2"}),B?"Burn Certificate":"Request Burn"]})})]})]})]})}):null};var o0={},l2,Kk;function _W(){return Kk||(Kk=1,l2=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),l2}var c2={},Xo={},Xk;function vd(){if(Xk)return Xo;Xk=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Xo.getSymbolTotalCodewords=function(r){return e[r]},Xo.getBCHDigit=function(s){let r=0;for(;s!==0;)r++,s>>>=1;return r},Xo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Xo.isKanjiModeEnabled=function(){return typeof t<"u"},Xo.toSJIS=function(r){return t(r)},Xo}var d2={},Zk;function L5(){return Zk||(Zk=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+s)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}}(d2)),d2}var u2,Jk;function IW(){if(Jk)return u2;Jk=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const s=Math.floor(e/8);return(this.buffer[s]>>>7-e%8&1)===1},put:function(e,s){for(let r=0;r<s;r++)this.putBit((e>>>s-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),e&&(this.buffer[s]|=128>>>this.length%8),this.length++}},u2=t,u2}var h2,eA;function LW(){if(eA)return h2;eA=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,s,r,a){const i=e*this.size+s;this.data[i]=r,a&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,s){return this.data[e*this.size+s]},t.prototype.xor=function(e,s,r){this.data[e*this.size+s]^=r},t.prototype.isReserved=function(e,s){return this.reservedBit[e*this.size+s]},h2=t,h2}var f2={},tA;function OW(){return tA||(tA=1,function(t){const e=vd().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,c=[i-7];for(let d=1;d<a-1;d++)c[d]=c[d-1]-o;return c.push(6),c.reverse()},t.getPositions=function(r){const a=[],i=t.getRowColCoords(r),o=i.length;for(let c=0;c<o;c++)for(let d=0;d<o;d++)c===0&&d===0||c===0&&d===o-1||c===o-1&&d===0||a.push([i[c],i[d]]);return a}}(f2)),f2}var m2={},sA;function PW(){if(sA)return m2;sA=1;const t=vd().getSymbolSize,e=7;return m2.getPositions=function(r){const a=t(r);return[[0,0],[a-e,0],[0,a-e]]},m2}var x2={},nA;function FW(){return nA||(nA=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const i=a.size;let o=0,c=0,d=0,h=null,f=null;for(let x=0;x<i;x++){c=d=0,h=f=null;for(let g=0;g<i;g++){let p=a.get(x,g);p===h?c++:(c>=5&&(o+=e.N1+(c-5)),h=p,c=1),p=a.get(g,x),p===f?d++:(d>=5&&(o+=e.N1+(d-5)),f=p,d=1)}c>=5&&(o+=e.N1+(c-5)),d>=5&&(o+=e.N1+(d-5))}return o},t.getPenaltyN2=function(a){const i=a.size;let o=0;for(let c=0;c<i-1;c++)for(let d=0;d<i-1;d++){const h=a.get(c,d)+a.get(c,d+1)+a.get(c+1,d)+a.get(c+1,d+1);(h===4||h===0)&&o++}return o*e.N2},t.getPenaltyN3=function(a){const i=a.size;let o=0,c=0,d=0;for(let h=0;h<i;h++){c=d=0;for(let f=0;f<i;f++)c=c<<1&2047|a.get(h,f),f>=10&&(c===1488||c===93)&&o++,d=d<<1&2047|a.get(f,h),f>=10&&(d===1488||d===93)&&o++}return o*e.N3},t.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let d=0;d<o;d++)i+=a.data[d];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function s(r,a,i){switch(r){case t.Patterns.PATTERN000:return(a+i)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(a+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return a*i%2+a*i%3===0;case t.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case t.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,i){const o=i.size;for(let c=0;c<o;c++)for(let d=0;d<o;d++)i.isReserved(d,c)||i.xor(d,c,s(a,d,c))},t.getBestMask=function(a,i){const o=Object.keys(t.Patterns).length;let c=0,d=1/0;for(let h=0;h<o;h++){i(h),t.applyMask(h,a);const f=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(h,a),f<d&&(d=f,c=h)}return c}}(x2)),x2}var lg={},rA;function oM(){if(rA)return lg;rA=1;const t=L5(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return lg.getBlocksCount=function(a,i){switch(i){case t.L:return e[(a-1)*4+0];case t.M:return e[(a-1)*4+1];case t.Q:return e[(a-1)*4+2];case t.H:return e[(a-1)*4+3];default:return}},lg.getTotalCodewordsCount=function(a,i){switch(i){case t.L:return s[(a-1)*4+0];case t.M:return s[(a-1)*4+1];case t.Q:return s[(a-1)*4+2];case t.H:return s[(a-1)*4+3];default:return}},lg}var g2={},Kh={},aA;function zW(){if(aA)return Kh;aA=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let a=0;a<255;a++)t[a]=r,e[r]=a,r<<=1,r&256&&(r^=285);for(let a=255;a<512;a++)t[a]=t[a-255]}(),Kh.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Kh.exp=function(r){return t[r]},Kh.mul=function(r,a){return r===0||a===0?0:t[e[r]+e[a]]},Kh}var iA;function UW(){return iA||(iA=1,function(t){const e=zW();t.mul=function(r,a){const i=new Uint8Array(r.length+a.length-1);for(let o=0;o<r.length;o++)for(let c=0;c<a.length;c++)i[o+c]^=e.mul(r[o],a[c]);return i},t.mod=function(r,a){let i=new Uint8Array(r);for(;i.length-a.length>=0;){const o=i[0];for(let d=0;d<a.length;d++)i[d]^=e.mul(a[d],o);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},t.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let i=0;i<r;i++)a=t.mul(a,new Uint8Array([1,e.exp(i)]));return a}}(g2)),g2}var p2,oA;function $W(){if(oA)return p2;oA=1;const t=UW();function e(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(r.length+this.degree);a.set(r);const i=t.mod(a,this.genPoly),o=this.degree-i.length;if(o>0){const c=new Uint8Array(this.degree);return c.set(i,o),c}return i},p2=e,p2}var b2={},v2={},y2={},lA;function lM(){return lA||(lA=1,y2.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),y2}var _a={},cA;function cM(){if(cA)return _a;cA=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+`)(?:.|[\r
]))+`;_a.KANJI=new RegExp(s,"g"),_a.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),_a.BYTE=new RegExp(r,"g"),_a.NUMERIC=new RegExp(t,"g"),_a.ALPHANUMERIC=new RegExp(e,"g");const a=new RegExp("^"+s+"$"),i=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return _a.testKanji=function(d){return a.test(d)},_a.testNumeric=function(d){return i.test(d)},_a.testAlphanumeric=function(d){return o.test(d)},_a}var dA;function yd(){return dA||(dA=1,function(t){const e=lM(),s=cM();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return s.testNumeric(i)?t.NUMERIC:s.testAlphanumeric(i)?t.ALPHANUMERIC:s.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}}(v2)),v2}var uA;function HW(){return uA||(uA=1,function(t){const e=vd(),s=oM(),r=L5(),a=yd(),i=lM(),o=7973,c=e.getBCHDigit(o);function d(g,p,v){for(let y=1;y<=40;y++)if(p<=t.getCapacity(y,v,g))return y}function h(g,p){return a.getCharCountIndicator(g,p)+4}function f(g,p){let v=0;return g.forEach(function(y){const w=h(y.mode,p);v+=w+y.getBitsLength()}),v}function x(g,p){for(let v=1;v<=40;v++)if(f(g,v)<=t.getCapacity(v,p,a.MIXED))return v}t.from=function(p,v){return i.isValid(p)?parseInt(p,10):v},t.getCapacity=function(p,v,y){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=a.BYTE);const w=e.getSymbolTotalCodewords(p),A=s.getTotalCodewordsCount(p,v),j=(w-A)*8;if(y===a.MIXED)return j;const C=j-h(y,p);switch(y){case a.NUMERIC:return Math.floor(C/10*3);case a.ALPHANUMERIC:return Math.floor(C/11*2);case a.KANJI:return Math.floor(C/13);case a.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(p,v){let y;const w=r.from(v,r.M);if(Array.isArray(p)){if(p.length>1)return x(p,w);if(p.length===0)return 1;y=p[0]}else y=p;return d(y.mode,y.getLength(),w)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let v=p<<12;for(;e.getBCHDigit(v)-c>=0;)v^=o<<e.getBCHDigit(v)-c;return p<<12|v}}(b2)),b2}var w2={},hA;function VW(){if(hA)return w2;hA=1;const t=vd(),e=1335,s=21522,r=t.getBCHDigit(e);return w2.getEncodedBits=function(i,o){const c=i.bit<<3|o;let d=c<<10;for(;t.getBCHDigit(d)-r>=0;)d^=e<<t.getBCHDigit(d)-r;return(c<<10|d)^s},w2}var N2={},j2,fA;function GW(){if(fA)return j2;fA=1;const t=yd();function e(s){this.mode=t.NUMERIC,this.data=s.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let a,i,o;for(a=0;a+3<=this.data.length;a+=3)i=this.data.substr(a,3),o=parseInt(i,10),r.put(o,10);const c=this.data.length-a;c>0&&(i=this.data.substr(a),o=parseInt(i,10),r.put(o,c*3+1))},j2=e,j2}var C2,mA;function qW(){if(mA)return C2;mA=1;const t=yd(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(r){this.mode=t.ALPHANUMERIC,this.data=r}return s.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(a){let i;for(i=0;i+2<=this.data.length;i+=2){let o=e.indexOf(this.data[i])*45;o+=e.indexOf(this.data[i+1]),a.put(o,11)}this.data.length%2&&a.put(e.indexOf(this.data[i]),6)},C2=s,C2}var k2,xA;function WW(){if(xA)return k2;xA=1;const t=yd();function e(s){this.mode=t.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(s){for(let r=0,a=this.data.length;r<a;r++)s.put(this.data[r],8)},k2=e,k2}var A2,gA;function YW(){if(gA)return A2;gA=1;const t=yd(),e=vd();function s(r){this.mode=t.KANJI,this.data=r}return s.getBitsLength=function(a){return a*13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){let a;for(a=0;a<this.data.length;a++){let i=e.toSJIS(this.data[a]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},A2=s,A2}var E2={exports:{}},pA;function QW(){return pA||(pA=1,function(t){var e={single_source_shortest_paths:function(s,r,a){var i={},o={};o[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var d,h,f,x,g,p,v,y,w;!c.empty();){d=c.pop(),h=d.value,x=d.cost,g=s[h]||{};for(f in g)g.hasOwnProperty(f)&&(p=g[f],v=x+p,y=o[f],w=typeof o[f]>"u",(w||y>v)&&(o[f]=v,c.push(f,v),i[f]=h))}if(typeof a<"u"&&typeof o[a]>"u"){var A=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(A)}return i},extract_shortest_path_from_predecessor_list:function(s,r){for(var a=[],i=r;i;)a.push(i),s[i],i=s[i];return a.reverse(),a},find_path:function(s,r,a){var i=e.single_source_shortest_paths(s,r,a);return e.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(s){var r=e.PriorityQueue,a={},i;s=s||{};for(i in r)r.hasOwnProperty(i)&&(a[i]=r[i]);return a.queue=[],a.sorter=s.sorter||r.default_sorter,a},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){var a={value:s,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(E2)),E2.exports}var bA;function KW(){return bA||(bA=1,function(t){const e=yd(),s=GW(),r=qW(),a=WW(),i=YW(),o=cM(),c=vd(),d=QW();function h(A){return unescape(encodeURIComponent(A)).length}function f(A,j,C){const S=[];let E;for(;(E=A.exec(C))!==null;)S.push({data:E[0],index:E.index,mode:j,length:E[0].length});return S}function x(A){const j=f(o.NUMERIC,e.NUMERIC,A),C=f(o.ALPHANUMERIC,e.ALPHANUMERIC,A);let S,E;return c.isKanjiModeEnabled()?(S=f(o.BYTE,e.BYTE,A),E=f(o.KANJI,e.KANJI,A)):(S=f(o.BYTE_KANJI,e.BYTE,A),E=[]),j.concat(C,S,E).sort(function(R,_){return R.index-_.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function g(A,j){switch(j){case e.NUMERIC:return s.getBitsLength(A);case e.ALPHANUMERIC:return r.getBitsLength(A);case e.KANJI:return i.getBitsLength(A);case e.BYTE:return a.getBitsLength(A)}}function p(A){return A.reduce(function(j,C){const S=j.length-1>=0?j[j.length-1]:null;return S&&S.mode===C.mode?(j[j.length-1].data+=C.data,j):(j.push(C),j)},[])}function v(A){const j=[];for(let C=0;C<A.length;C++){const S=A[C];switch(S.mode){case e.NUMERIC:j.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:j.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:j.push([S,{data:S.data,mode:e.BYTE,length:h(S.data)}]);break;case e.BYTE:j.push([{data:S.data,mode:e.BYTE,length:h(S.data)}])}}return j}function y(A,j){const C={},S={start:{}};let E=["start"];for(let M=0;M<A.length;M++){const R=A[M],_=[];for(let I=0;I<R.length;I++){const D=R[I],B=""+M+I;_.push(B),C[B]={node:D,lastCount:0},S[B]={};for(let O=0;O<E.length;O++){const $=E[O];C[$]&&C[$].node.mode===D.mode?(S[$][B]=g(C[$].lastCount+D.length,D.mode)-g(C[$].lastCount,D.mode),C[$].lastCount+=D.length):(C[$]&&(C[$].lastCount=D.length),S[$][B]=g(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,j))}}E=_}for(let M=0;M<E.length;M++)S[E[M]].end=0;return{map:S,table:C}}function w(A,j){let C;const S=e.getBestModeForData(A);if(C=e.from(j,S),C!==e.BYTE&&C.bit<S.bit)throw new Error('"'+A+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(S));switch(C===e.KANJI&&!c.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new s(A);case e.ALPHANUMERIC:return new r(A);case e.KANJI:return new i(A);case e.BYTE:return new a(A)}}t.fromArray=function(j){return j.reduce(function(C,S){return typeof S=="string"?C.push(w(S,null)):S.data&&C.push(w(S.data,S.mode)),C},[])},t.fromString=function(j,C){const S=x(j,c.isKanjiModeEnabled()),E=v(S),M=y(E,C),R=d.find_path(M.map,"start","end"),_=[];for(let I=1;I<R.length-1;I++)_.push(M.table[R[I]].node);return t.fromArray(p(_))},t.rawSplit=function(j){return t.fromArray(x(j,c.isKanjiModeEnabled()))}}(N2)),N2}var vA;function XW(){if(vA)return c2;vA=1;const t=vd(),e=L5(),s=IW(),r=LW(),a=OW(),i=PW(),o=FW(),c=oM(),d=$W(),h=HW(),f=VW(),x=yd(),g=KW();function p(M,R){const _=M.size,I=i.getPositions(R);for(let D=0;D<I.length;D++){const B=I[D][0],O=I[D][1];for(let $=-1;$<=7;$++)if(!(B+$<=-1||_<=B+$))for(let Y=-1;Y<=7;Y++)O+Y<=-1||_<=O+Y||($>=0&&$<=6&&(Y===0||Y===6)||Y>=0&&Y<=6&&($===0||$===6)||$>=2&&$<=4&&Y>=2&&Y<=4?M.set(B+$,O+Y,!0,!0):M.set(B+$,O+Y,!1,!0))}}function v(M){const R=M.size;for(let _=8;_<R-8;_++){const I=_%2===0;M.set(_,6,I,!0),M.set(6,_,I,!0)}}function y(M,R){const _=a.getPositions(R);for(let I=0;I<_.length;I++){const D=_[I][0],B=_[I][1];for(let O=-2;O<=2;O++)for(let $=-2;$<=2;$++)O===-2||O===2||$===-2||$===2||O===0&&$===0?M.set(D+O,B+$,!0,!0):M.set(D+O,B+$,!1,!0)}}function w(M,R){const _=M.size,I=h.getEncodedBits(R);let D,B,O;for(let $=0;$<18;$++)D=Math.floor($/3),B=$%3+_-8-3,O=(I>>$&1)===1,M.set(D,B,O,!0),M.set(B,D,O,!0)}function A(M,R,_){const I=M.size,D=f.getEncodedBits(R,_);let B,O;for(B=0;B<15;B++)O=(D>>B&1)===1,B<6?M.set(B,8,O,!0):B<8?M.set(B+1,8,O,!0):M.set(I-15+B,8,O,!0),B<8?M.set(8,I-B-1,O,!0):B<9?M.set(8,15-B-1+1,O,!0):M.set(8,15-B-1,O,!0);M.set(I-8,8,1,!0)}function j(M,R){const _=M.size;let I=-1,D=_-1,B=7,O=0;for(let $=_-1;$>0;$-=2)for($===6&&$--;;){for(let Y=0;Y<2;Y++)if(!M.isReserved(D,$-Y)){let H=!1;O<R.length&&(H=(R[O]>>>B&1)===1),M.set(D,$-Y,H),B--,B===-1&&(O++,B=7)}if(D+=I,D<0||_<=D){D-=I,I=-I;break}}}function C(M,R,_){const I=new s;_.forEach(function(Y){I.put(Y.mode.bit,4),I.put(Y.getLength(),x.getCharCountIndicator(Y.mode,M)),Y.write(I)});const D=t.getSymbolTotalCodewords(M),B=c.getTotalCodewordsCount(M,R),O=(D-B)*8;for(I.getLengthInBits()+4<=O&&I.put(0,4);I.getLengthInBits()%8!==0;)I.putBit(0);const $=(O-I.getLengthInBits())/8;for(let Y=0;Y<$;Y++)I.put(Y%2?17:236,8);return S(I,M,R)}function S(M,R,_){const I=t.getSymbolTotalCodewords(R),D=c.getTotalCodewordsCount(R,_),B=I-D,O=c.getBlocksCount(R,_),$=I%O,Y=O-$,H=Math.floor(I/O),L=Math.floor(B/O),V=L+1,X=H-L,ee=new d(X);let F=0;const z=new Array(O),G=new Array(O);let K=0;const W=new Uint8Array(M.buffer);for(let ke=0;ke<O;ke++){const Me=ke<Y?L:V;z[ke]=W.slice(F,F+Me),G[ke]=ee.encode(z[ke]),F+=Me,K=Math.max(K,Me)}const Q=new Uint8Array(I);let Z=0,ne,re;for(ne=0;ne<K;ne++)for(re=0;re<O;re++)ne<z[re].length&&(Q[Z++]=z[re][ne]);for(ne=0;ne<X;ne++)for(re=0;re<O;re++)Q[Z++]=G[re][ne];return Q}function E(M,R,_,I){let D;if(Array.isArray(M))D=g.fromArray(M);else if(typeof M=="string"){let H=R;if(!H){const L=g.rawSplit(M);H=h.getBestVersionForData(L,_)}D=g.fromString(M,H||40)}else throw new Error("Invalid data");const B=h.getBestVersionForData(D,_);if(!B)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=B;else if(R<B)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+B+`.
`);const O=C(R,_,D),$=t.getSymbolSize(R),Y=new r($);return p(Y,R),v(Y),y(Y,R),A(Y,_,0),R>=7&&w(Y,R),j(Y,O),isNaN(I)&&(I=o.getBestMask(Y,A.bind(null,Y,_))),o.applyMask(I,Y),A(Y,_,I),{modules:Y,version:R,errorCorrectionLevel:_,maskPattern:I,segments:D}}return c2.create=function(R,_){if(typeof R>"u"||R==="")throw new Error("No input text");let I=e.M,D,B;return typeof _<"u"&&(I=e.from(_.errorCorrectionLevel,e.M),D=h.from(_.version),B=o.from(_.maskPattern),_.toSJISFunc&&t.setToSJISFunction(_.toSJISFunc)),E(R,D,I,B)},c2}var S2={},T2={},yA;function dM(){return yA||(yA=1,function(t){function e(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let r=s.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+s);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){const i=t.getScale(r,a);return Math.floor((r+a.margin*2)*i)},t.qrToImageData=function(r,a,i){const o=a.modules.size,c=a.modules.data,d=t.getScale(o,i),h=Math.floor((o+i.margin*2)*d),f=i.margin*d,x=[i.color.light,i.color.dark];for(let g=0;g<h;g++)for(let p=0;p<h;p++){let v=(g*h+p)*4,y=i.color.light;if(g>=f&&p>=f&&g<h-f&&p<h-f){const w=Math.floor((g-f)/d),A=Math.floor((p-f)/d);y=x[c[w*o+A]?1:0]}r[v++]=y.r,r[v++]=y.g,r[v++]=y.b,r[v]=y.a}}}(T2)),T2}var wA;function ZW(){return wA||(wA=1,function(t){const e=dM();function s(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,c){let d=c,h=o;typeof d>"u"&&(!o||!o.getContext)&&(d=o,o=void 0),o||(h=r()),d=e.getOptions(d);const f=e.getImageWidth(i.modules.size,d),x=h.getContext("2d"),g=x.createImageData(f,f);return e.qrToImageData(g.data,i,d),s(x,h,f),x.putImageData(g,0,0),h},t.renderToDataURL=function(i,o,c){let d=c;typeof d>"u"&&(!o||!o.getContext)&&(d=o,o=void 0),d||(d={});const h=t.render(i,o,d),f=d.type||"image/png",x=d.rendererOpts||{};return h.toDataURL(f,x.quality)}}(S2)),S2}var R2={},NA;function JW(){if(NA)return R2;NA=1;const t=dM();function e(a,i){const o=a.a/255,c=i+'="'+a.hex+'"';return o<1?c+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':c}function s(a,i,o){let c=a+i;return typeof o<"u"&&(c+=" "+o),c}function r(a,i,o){let c="",d=0,h=!1,f=0;for(let x=0;x<a.length;x++){const g=Math.floor(x%i),p=Math.floor(x/i);!g&&!h&&(h=!0),a[x]?(f++,x>0&&g>0&&a[x-1]||(c+=h?s("M",g+o,.5+p+o):s("m",d,0),d=0,h=!1),g+1<i&&a[x+1]||(c+=s("h",f),f=0)):d++}return c}return R2.render=function(i,o,c){const d=t.getOptions(o),h=i.modules.size,f=i.modules.data,x=h+d.margin*2,g=d.color.light.a?"<path "+e(d.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",p="<path "+e(d.color.dark,"stroke")+' d="'+r(f,h,d.margin)+'"/>',v='viewBox="0 0 '+x+" "+x+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+v+' shape-rendering="crispEdges">'+g+p+`</svg>
`;return typeof c=="function"&&c(null,w),w},R2}var jA;function eY(){if(jA)return o0;jA=1;const t=_W(),e=XW(),s=ZW(),r=JW();function a(i,o,c,d,h){const f=[].slice.call(arguments,1),x=f.length,g=typeof f[x-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(x<2)throw new Error("Too few arguments provided");x===2?(h=c,c=o,o=d=void 0):x===3&&(o.getContext&&typeof h>"u"?(h=d,d=void 0):(h=d,d=c,c=o,o=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(c=o,o=d=void 0):x===2&&!o.getContext&&(d=c,c=o,o=void 0),new Promise(function(p,v){try{const y=e.create(c,d);p(i(y,o,d))}catch(y){v(y)}})}try{const p=e.create(c,d);h(null,i(p,o,d))}catch(p){h(p)}}return o0.create=e.create,o0.toCanvas=a.bind(null,s.render),o0.toDataURL=a.bind(null,s.renderToDataURL),o0.toString=a.bind(null,function(i,o,c){return r.render(i,c)}),o0}var tY=eY();const sY=ym(tY);var Gg={exports:{}};function nY(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qg={exports:{}};const rY={},aY=Object.freeze(Object.defineProperty({__proto__:null,default:rY},Symbol.toStringTag,{value:"Module"})),iY=M_(aY);var oY=qg.exports,CA;function bt(){return CA||(CA=1,function(t,e){(function(s,r){t.exports=r()})(oY,function(){var s=s||function(r,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof nY=="function")try{i=iY}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function j(){}return function(C){var S;return j.prototype=C,S=new j,j.prototype=null,S}}(),d={},h=d.lib={},f=h.Base=function(){return{extend:function(j){var C=c(this);return j&&C.mixIn(j),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var j=this.extend();return j.init.apply(j,arguments),j},init:function(){},mixIn:function(j){for(var C in j)j.hasOwnProperty(C)&&(this[C]=j[C]);j.hasOwnProperty("toString")&&(this.toString=j.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),x=h.WordArray=f.extend({init:function(j,C){j=this.words=j||[],C!=a?this.sigBytes=C:this.sigBytes=j.length*4},toString:function(j){return(j||p).stringify(this)},concat:function(j){var C=this.words,S=j.words,E=this.sigBytes,M=j.sigBytes;if(this.clamp(),E%4)for(var R=0;R<M;R++){var _=S[R>>>2]>>>24-R%4*8&255;C[E+R>>>2]|=_<<24-(E+R)%4*8}else for(var I=0;I<M;I+=4)C[E+I>>>2]=S[I>>>2];return this.sigBytes+=M,this},clamp:function(){var j=this.words,C=this.sigBytes;j[C>>>2]&=4294967295<<32-C%4*8,j.length=r.ceil(C/4)},clone:function(){var j=f.clone.call(this);return j.words=this.words.slice(0),j},random:function(j){for(var C=[],S=0;S<j;S+=4)C.push(o());return new x.init(C,j)}}),g=d.enc={},p=g.Hex={stringify:function(j){for(var C=j.words,S=j.sigBytes,E=[],M=0;M<S;M++){var R=C[M>>>2]>>>24-M%4*8&255;E.push((R>>>4).toString(16)),E.push((R&15).toString(16))}return E.join("")},parse:function(j){for(var C=j.length,S=[],E=0;E<C;E+=2)S[E>>>3]|=parseInt(j.substr(E,2),16)<<24-E%8*4;return new x.init(S,C/2)}},v=g.Latin1={stringify:function(j){for(var C=j.words,S=j.sigBytes,E=[],M=0;M<S;M++){var R=C[M>>>2]>>>24-M%4*8&255;E.push(String.fromCharCode(R))}return E.join("")},parse:function(j){for(var C=j.length,S=[],E=0;E<C;E++)S[E>>>2]|=(j.charCodeAt(E)&255)<<24-E%4*8;return new x.init(S,C)}},y=g.Utf8={stringify:function(j){try{return decodeURIComponent(escape(v.stringify(j)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(j){return v.parse(unescape(encodeURIComponent(j)))}},w=h.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(j){typeof j=="string"&&(j=y.parse(j)),this._data.concat(j),this._nDataBytes+=j.sigBytes},_process:function(j){var C,S=this._data,E=S.words,M=S.sigBytes,R=this.blockSize,_=R*4,I=M/_;j?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var D=I*R,B=r.min(D*4,M);if(D){for(var O=0;O<D;O+=R)this._doProcessBlock(E,O);C=E.splice(0,D),S.sigBytes-=B}return new x.init(C,B)},clone:function(){var j=f.clone.call(this);return j._data=this._data.clone(),j},_minBufferSize:0});h.Hasher=w.extend({cfg:f.extend(),init:function(j){this.cfg=this.cfg.extend(j),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(j){return this._append(j),this._process(),this},finalize:function(j){j&&this._append(j);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(j){return function(C,S){return new j.init(S).finalize(C)}},_createHmacHelper:function(j){return function(C,S){return new A.HMAC.init(j,S).finalize(C)}}});var A=d.algo={};return d}(Math);return s})}(qg)),qg.exports}var Wg={exports:{}},lY=Wg.exports,kA;function Vb(){return kA||(kA=1,function(t,e){(function(s,r){t.exports=r(bt())})(lY,function(s){return function(r){var a=s,i=a.lib,o=i.Base,c=i.WordArray,d=a.x64={};d.Word=o.extend({init:function(h,f){this.high=h,this.low=f}}),d.WordArray=o.extend({init:function(h,f){h=this.words=h||[],f!=r?this.sigBytes=f:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,f=h.length,x=[],g=0;g<f;g++){var p=h[g];x.push(p.high),x.push(p.low)}return c.create(x,this.sigBytes)},clone:function(){for(var h=o.clone.call(this),f=h.words=this.words.slice(0),x=f.length,g=0;g<x;g++)f[g]=f[g].clone();return h}})}(),s})}(Wg)),Wg.exports}var Yg={exports:{}},cY=Yg.exports,AA;function dY(){return AA||(AA=1,function(t,e){(function(s,r){t.exports=r(bt())})(cY,function(s){return function(){if(typeof ArrayBuffer=="function"){var r=s,a=r.lib,i=a.WordArray,o=i.init,c=i.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var h=d.byteLength,f=[],x=0;x<h;x++)f[x>>>2]|=d[x]<<24-x%4*8;o.call(this,f,h)}else o.apply(this,arguments)};c.prototype=i}}(),s.lib.WordArray})}(Yg)),Yg.exports}var Qg={exports:{}},uY=Qg.exports,EA;function hY(){return EA||(EA=1,function(t,e){(function(s,r){t.exports=r(bt())})(uY,function(s){return function(){var r=s,a=r.lib,i=a.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(d){for(var h=d.words,f=d.sigBytes,x=[],g=0;g<f;g+=2){var p=h[g>>>2]>>>16-g%4*8&65535;x.push(String.fromCharCode(p))}return x.join("")},parse:function(d){for(var h=d.length,f=[],x=0;x<h;x++)f[x>>>1]|=d.charCodeAt(x)<<16-x%2*16;return i.create(f,h*2)}},o.Utf16LE={stringify:function(d){for(var h=d.words,f=d.sigBytes,x=[],g=0;g<f;g+=2){var p=c(h[g>>>2]>>>16-g%4*8&65535);x.push(String.fromCharCode(p))}return x.join("")},parse:function(d){for(var h=d.length,f=[],x=0;x<h;x++)f[x>>>1]|=c(d.charCodeAt(x)<<16-x%2*16);return i.create(f,h*2)}};function c(d){return d<<8&4278255360|d>>>8&16711935}}(),s.enc.Utf16})}(Qg)),Qg.exports}var Kg={exports:{}},fY=Kg.exports,SA;function wd(){return SA||(SA=1,function(t,e){(function(s,r){t.exports=r(bt())})(fY,function(s){return function(){var r=s,a=r.lib,i=a.WordArray,o=r.enc;o.Base64={stringify:function(d){var h=d.words,f=d.sigBytes,x=this._map;d.clamp();for(var g=[],p=0;p<f;p+=3)for(var v=h[p>>>2]>>>24-p%4*8&255,y=h[p+1>>>2]>>>24-(p+1)%4*8&255,w=h[p+2>>>2]>>>24-(p+2)%4*8&255,A=v<<16|y<<8|w,j=0;j<4&&p+j*.75<f;j++)g.push(x.charAt(A>>>6*(3-j)&63));var C=x.charAt(64);if(C)for(;g.length%4;)g.push(C);return g.join("")},parse:function(d){var h=d.length,f=this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var g=0;g<f.length;g++)x[f.charCodeAt(g)]=g}var p=f.charAt(64);if(p){var v=d.indexOf(p);v!==-1&&(h=v)}return c(d,h,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(d,h,f){for(var x=[],g=0,p=0;p<h;p++)if(p%4){var v=f[d.charCodeAt(p-1)]<<p%4*2,y=f[d.charCodeAt(p)]>>>6-p%4*2,w=v|y;x[g>>>2]|=w<<24-g%4*8,g++}return i.create(x,g)}}(),s.enc.Base64})}(Kg)),Kg.exports}var Xg={exports:{}},mY=Xg.exports,TA;function xY(){return TA||(TA=1,function(t,e){(function(s,r){t.exports=r(bt())})(mY,function(s){return function(){var r=s,a=r.lib,i=a.WordArray,o=r.enc;o.Base64url={stringify:function(d,h){h===void 0&&(h=!0);var f=d.words,x=d.sigBytes,g=h?this._safe_map:this._map;d.clamp();for(var p=[],v=0;v<x;v+=3)for(var y=f[v>>>2]>>>24-v%4*8&255,w=f[v+1>>>2]>>>24-(v+1)%4*8&255,A=f[v+2>>>2]>>>24-(v+2)%4*8&255,j=y<<16|w<<8|A,C=0;C<4&&v+C*.75<x;C++)p.push(g.charAt(j>>>6*(3-C)&63));var S=g.charAt(64);if(S)for(;p.length%4;)p.push(S);return p.join("")},parse:function(d,h){h===void 0&&(h=!0);var f=d.length,x=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var p=0;p<x.length;p++)g[x.charCodeAt(p)]=p}var v=x.charAt(64);if(v){var y=d.indexOf(v);y!==-1&&(f=y)}return c(d,f,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(d,h,f){for(var x=[],g=0,p=0;p<h;p++)if(p%4){var v=f[d.charCodeAt(p-1)]<<p%4*2,y=f[d.charCodeAt(p)]>>>6-p%4*2,w=v|y;x[g>>>2]|=w<<24-g%4*8,g++}return i.create(x,g)}}(),s.enc.Base64url})}(Xg)),Xg.exports}var Zg={exports:{}},gY=Zg.exports,RA;function Nd(){return RA||(RA=1,function(t,e){(function(s,r){t.exports=r(bt())})(gY,function(s){return function(r){var a=s,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.algo,h=[];(function(){for(var y=0;y<64;y++)h[y]=r.abs(r.sin(y+1))*4294967296|0})();var f=d.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,w){for(var A=0;A<16;A++){var j=w+A,C=y[j];y[j]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var S=this._hash.words,E=y[w+0],M=y[w+1],R=y[w+2],_=y[w+3],I=y[w+4],D=y[w+5],B=y[w+6],O=y[w+7],$=y[w+8],Y=y[w+9],H=y[w+10],L=y[w+11],V=y[w+12],X=y[w+13],ee=y[w+14],F=y[w+15],z=S[0],G=S[1],K=S[2],W=S[3];z=x(z,G,K,W,E,7,h[0]),W=x(W,z,G,K,M,12,h[1]),K=x(K,W,z,G,R,17,h[2]),G=x(G,K,W,z,_,22,h[3]),z=x(z,G,K,W,I,7,h[4]),W=x(W,z,G,K,D,12,h[5]),K=x(K,W,z,G,B,17,h[6]),G=x(G,K,W,z,O,22,h[7]),z=x(z,G,K,W,$,7,h[8]),W=x(W,z,G,K,Y,12,h[9]),K=x(K,W,z,G,H,17,h[10]),G=x(G,K,W,z,L,22,h[11]),z=x(z,G,K,W,V,7,h[12]),W=x(W,z,G,K,X,12,h[13]),K=x(K,W,z,G,ee,17,h[14]),G=x(G,K,W,z,F,22,h[15]),z=g(z,G,K,W,M,5,h[16]),W=g(W,z,G,K,B,9,h[17]),K=g(K,W,z,G,L,14,h[18]),G=g(G,K,W,z,E,20,h[19]),z=g(z,G,K,W,D,5,h[20]),W=g(W,z,G,K,H,9,h[21]),K=g(K,W,z,G,F,14,h[22]),G=g(G,K,W,z,I,20,h[23]),z=g(z,G,K,W,Y,5,h[24]),W=g(W,z,G,K,ee,9,h[25]),K=g(K,W,z,G,_,14,h[26]),G=g(G,K,W,z,$,20,h[27]),z=g(z,G,K,W,X,5,h[28]),W=g(W,z,G,K,R,9,h[29]),K=g(K,W,z,G,O,14,h[30]),G=g(G,K,W,z,V,20,h[31]),z=p(z,G,K,W,D,4,h[32]),W=p(W,z,G,K,$,11,h[33]),K=p(K,W,z,G,L,16,h[34]),G=p(G,K,W,z,ee,23,h[35]),z=p(z,G,K,W,M,4,h[36]),W=p(W,z,G,K,I,11,h[37]),K=p(K,W,z,G,O,16,h[38]),G=p(G,K,W,z,H,23,h[39]),z=p(z,G,K,W,X,4,h[40]),W=p(W,z,G,K,E,11,h[41]),K=p(K,W,z,G,_,16,h[42]),G=p(G,K,W,z,B,23,h[43]),z=p(z,G,K,W,Y,4,h[44]),W=p(W,z,G,K,V,11,h[45]),K=p(K,W,z,G,F,16,h[46]),G=p(G,K,W,z,R,23,h[47]),z=v(z,G,K,W,E,6,h[48]),W=v(W,z,G,K,O,10,h[49]),K=v(K,W,z,G,ee,15,h[50]),G=v(G,K,W,z,D,21,h[51]),z=v(z,G,K,W,V,6,h[52]),W=v(W,z,G,K,_,10,h[53]),K=v(K,W,z,G,H,15,h[54]),G=v(G,K,W,z,M,21,h[55]),z=v(z,G,K,W,$,6,h[56]),W=v(W,z,G,K,F,10,h[57]),K=v(K,W,z,G,B,15,h[58]),G=v(G,K,W,z,X,21,h[59]),z=v(z,G,K,W,I,6,h[60]),W=v(W,z,G,K,L,10,h[61]),K=v(K,W,z,G,R,15,h[62]),G=v(G,K,W,z,Y,21,h[63]),S[0]=S[0]+z|0,S[1]=S[1]+G|0,S[2]=S[2]+K|0,S[3]=S[3]+W|0},_doFinalize:function(){var y=this._data,w=y.words,A=this._nDataBytes*8,j=y.sigBytes*8;w[j>>>5]|=128<<24-j%32;var C=r.floor(A/4294967296),S=A;w[(j+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w[(j+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,y.sigBytes=(w.length+1)*4,this._process();for(var E=this._hash,M=E.words,R=0;R<4;R++){var _=M[R];M[R]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return E},clone:function(){var y=c.clone.call(this);return y._hash=this._hash.clone(),y}});function x(y,w,A,j,C,S,E){var M=y+(w&A|~w&j)+C+E;return(M<<S|M>>>32-S)+w}function g(y,w,A,j,C,S,E){var M=y+(w&j|A&~j)+C+E;return(M<<S|M>>>32-S)+w}function p(y,w,A,j,C,S,E){var M=y+(w^A^j)+C+E;return(M<<S|M>>>32-S)+w}function v(y,w,A,j,C,S,E){var M=y+(A^(w|~j))+C+E;return(M<<S|M>>>32-S)+w}a.MD5=c._createHelper(f),a.HmacMD5=c._createHmacHelper(f)}(Math),s.MD5})}(Zg)),Zg.exports}var Jg={exports:{}},pY=Jg.exports,MA;function uM(){return MA||(MA=1,function(t,e){(function(s,r){t.exports=r(bt())})(pY,function(s){return function(){var r=s,a=r.lib,i=a.WordArray,o=a.Hasher,c=r.algo,d=[],h=c.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,x){for(var g=this._hash.words,p=g[0],v=g[1],y=g[2],w=g[3],A=g[4],j=0;j<80;j++){if(j<16)d[j]=f[x+j]|0;else{var C=d[j-3]^d[j-8]^d[j-14]^d[j-16];d[j]=C<<1|C>>>31}var S=(p<<5|p>>>27)+A+d[j];j<20?S+=(v&y|~v&w)+1518500249:j<40?S+=(v^y^w)+1859775393:j<60?S+=(v&y|v&w|y&w)-1894007588:S+=(v^y^w)-899497514,A=w,w=y,y=v<<30|v>>>2,v=p,p=S}g[0]=g[0]+p|0,g[1]=g[1]+v|0,g[2]=g[2]+y|0,g[3]=g[3]+w|0,g[4]=g[4]+A|0},_doFinalize:function(){var f=this._data,x=f.words,g=this._nDataBytes*8,p=f.sigBytes*8;return x[p>>>5]|=128<<24-p%32,x[(p+64>>>9<<4)+14]=Math.floor(g/4294967296),x[(p+64>>>9<<4)+15]=g,f.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var f=o.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA1=o._createHelper(h),r.HmacSHA1=o._createHmacHelper(h)}(),s.SHA1})}(Jg)),Jg.exports}var ep={exports:{}},bY=ep.exports,DA;function O5(){return DA||(DA=1,function(t,e){(function(s,r){t.exports=r(bt())})(bY,function(s){return function(r){var a=s,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.algo,h=[],f=[];(function(){function p(A){for(var j=r.sqrt(A),C=2;C<=j;C++)if(!(A%C))return!1;return!0}function v(A){return(A-(A|0))*4294967296|0}for(var y=2,w=0;w<64;)p(y)&&(w<8&&(h[w]=v(r.pow(y,1/2))),f[w]=v(r.pow(y,1/3)),w++),y++})();var x=[],g=d.SHA256=c.extend({_doReset:function(){this._hash=new o.init(h.slice(0))},_doProcessBlock:function(p,v){for(var y=this._hash.words,w=y[0],A=y[1],j=y[2],C=y[3],S=y[4],E=y[5],M=y[6],R=y[7],_=0;_<64;_++){if(_<16)x[_]=p[v+_]|0;else{var I=x[_-15],D=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,B=x[_-2],O=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;x[_]=D+x[_-7]+O+x[_-16]}var $=S&E^~S&M,Y=w&A^w&j^A&j,H=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),L=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),V=R+L+$+f[_]+x[_],X=H+Y;R=M,M=E,E=S,S=C+V|0,C=j,j=A,A=w,w=V+X|0}y[0]=y[0]+w|0,y[1]=y[1]+A|0,y[2]=y[2]+j|0,y[3]=y[3]+C|0,y[4]=y[4]+S|0,y[5]=y[5]+E|0,y[6]=y[6]+M|0,y[7]=y[7]+R|0},_doFinalize:function(){var p=this._data,v=p.words,y=this._nDataBytes*8,w=p.sigBytes*8;return v[w>>>5]|=128<<24-w%32,v[(w+64>>>9<<4)+14]=r.floor(y/4294967296),v[(w+64>>>9<<4)+15]=y,p.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var p=c.clone.call(this);return p._hash=this._hash.clone(),p}});a.SHA256=c._createHelper(g),a.HmacSHA256=c._createHmacHelper(g)}(Math),s.SHA256})}(ep)),ep.exports}var tp={exports:{}},vY=tp.exports,BA;function yY(){return BA||(BA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),O5())})(vY,function(s){return function(){var r=s,a=r.lib,i=a.WordArray,o=r.algo,c=o.SHA256,d=o.SHA224=c.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=c._createHelper(d),r.HmacSHA224=c._createHmacHelper(d)}(),s.SHA224})}(tp)),tp.exports}var sp={exports:{}},wY=sp.exports,_A;function hM(){return _A||(_A=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Vb())})(wY,function(s){return function(){var r=s,a=r.lib,i=a.Hasher,o=r.x64,c=o.Word,d=o.WordArray,h=r.algo;function f(){return c.create.apply(c,arguments)}var x=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],g=[];(function(){for(var v=0;v<80;v++)g[v]=f()})();var p=h.SHA512=i.extend({_doReset:function(){this._hash=new d.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(v,y){for(var w=this._hash.words,A=w[0],j=w[1],C=w[2],S=w[3],E=w[4],M=w[5],R=w[6],_=w[7],I=A.high,D=A.low,B=j.high,O=j.low,$=C.high,Y=C.low,H=S.high,L=S.low,V=E.high,X=E.low,ee=M.high,F=M.low,z=R.high,G=R.low,K=_.high,W=_.low,Q=I,Z=D,ne=B,re=O,ke=$,Me=Y,de=H,be=L,me=V,ve=X,Ae=ee,Be=F,ue=z,le=G,ye=K,je=W,Se=0;Se<80;Se++){var Ne,De,_e=g[Se];if(Se<16)De=_e.high=v[y+Se*2]|0,Ne=_e.low=v[y+Se*2+1]|0;else{var st=g[Se-15],Pe=st.high,ot=st.low,nt=(Pe>>>1|ot<<31)^(Pe>>>8|ot<<24)^Pe>>>7,$e=(ot>>>1|Pe<<31)^(ot>>>8|Pe<<24)^(ot>>>7|Pe<<25),Mt=g[Se-2],rs=Mt.high,Xt=Mt.low,sn=(rs>>>19|Xt<<13)^(rs<<3|Xt>>>29)^rs>>>6,xt=(Xt>>>19|rs<<13)^(Xt<<3|rs>>>29)^(Xt>>>6|rs<<26),Rs=g[Se-7],Tn=Rs.high,xr=Rs.low,Gr=g[Se-16],ai=Gr.high,Rn=Gr.low;Ne=$e+xr,De=nt+Tn+(Ne>>>0<$e>>>0?1:0),Ne=Ne+xt,De=De+sn+(Ne>>>0<xt>>>0?1:0),Ne=Ne+Rn,De=De+ai+(Ne>>>0<Rn>>>0?1:0),_e.high=De,_e.low=Ne}var gr=me&Ae^~me&ue,bn=ve&Be^~ve&le,Mn=Q&ne^Q&ke^ne&ke,pr=Z&re^Z&Me^re&Me,ya=(Q>>>28|Z<<4)^(Q<<30|Z>>>2)^(Q<<25|Z>>>7),Dn=(Z>>>28|Q<<4)^(Z<<30|Q>>>2)^(Z<<25|Q>>>7),qr=(me>>>14|ve<<18)^(me>>>18|ve<<14)^(me<<23|ve>>>9),Wr=(ve>>>14|me<<18)^(ve>>>18|me<<14)^(ve<<23|me>>>9),wa=x[Se],Ms=wa.high,Zt=wa.low,gt=je+Wr,As=ye+qr+(gt>>>0<je>>>0?1:0),gt=gt+bn,As=As+gr+(gt>>>0<bn>>>0?1:0),gt=gt+Zt,As=As+Ms+(gt>>>0<Zt>>>0?1:0),gt=gt+Ne,As=As+De+(gt>>>0<Ne>>>0?1:0),Yn=Dn+pr,vo=ya+Mn+(Yn>>>0<Dn>>>0?1:0);ye=ue,je=le,ue=Ae,le=Be,Ae=me,Be=ve,ve=be+gt|0,me=de+As+(ve>>>0<be>>>0?1:0)|0,de=ke,be=Me,ke=ne,Me=re,ne=Q,re=Z,Z=gt+Yn|0,Q=As+vo+(Z>>>0<gt>>>0?1:0)|0}D=A.low=D+Z,A.high=I+Q+(D>>>0<Z>>>0?1:0),O=j.low=O+re,j.high=B+ne+(O>>>0<re>>>0?1:0),Y=C.low=Y+Me,C.high=$+ke+(Y>>>0<Me>>>0?1:0),L=S.low=L+be,S.high=H+de+(L>>>0<be>>>0?1:0),X=E.low=X+ve,E.high=V+me+(X>>>0<ve>>>0?1:0),F=M.low=F+Be,M.high=ee+Ae+(F>>>0<Be>>>0?1:0),G=R.low=G+le,R.high=z+ue+(G>>>0<le>>>0?1:0),W=_.low=W+je,_.high=K+ye+(W>>>0<je>>>0?1:0)},_doFinalize:function(){var v=this._data,y=v.words,w=this._nDataBytes*8,A=v.sigBytes*8;y[A>>>5]|=128<<24-A%32,y[(A+128>>>10<<5)+30]=Math.floor(w/4294967296),y[(A+128>>>10<<5)+31]=w,v.sigBytes=y.length*4,this._process();var j=this._hash.toX32();return j},clone:function(){var v=i.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});r.SHA512=i._createHelper(p),r.HmacSHA512=i._createHmacHelper(p)}(),s.SHA512})}(sp)),sp.exports}var np={exports:{}},NY=np.exports,IA;function jY(){return IA||(IA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Vb(),hM())})(NY,function(s){return function(){var r=s,a=r.x64,i=a.Word,o=a.WordArray,c=r.algo,d=c.SHA512,h=c.SHA384=d.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var f=d._doFinalize.call(this);return f.sigBytes-=16,f}});r.SHA384=d._createHelper(h),r.HmacSHA384=d._createHmacHelper(h)}(),s.SHA384})}(np)),np.exports}var rp={exports:{}},CY=rp.exports,LA;function kY(){return LA||(LA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Vb())})(CY,function(s){return function(r){var a=s,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.x64,h=d.Word,f=a.algo,x=[],g=[],p=[];(function(){for(var w=1,A=0,j=0;j<24;j++){x[w+5*A]=(j+1)*(j+2)/2%64;var C=A%5,S=(2*w+3*A)%5;w=C,A=S}for(var w=0;w<5;w++)for(var A=0;A<5;A++)g[w+5*A]=A+(2*w+3*A)%5*5;for(var E=1,M=0;M<24;M++){for(var R=0,_=0,I=0;I<7;I++){if(E&1){var D=(1<<I)-1;D<32?_^=1<<D:R^=1<<D-32}E&128?E=E<<1^113:E<<=1}p[M]=h.create(R,_)}})();var v=[];(function(){for(var w=0;w<25;w++)v[w]=h.create()})();var y=f.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],A=0;A<25;A++)w[A]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,A){for(var j=this._state,C=this.blockSize/2,S=0;S<C;S++){var E=w[A+2*S],M=w[A+2*S+1];E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360;var R=j[S];R.high^=M,R.low^=E}for(var _=0;_<24;_++){for(var I=0;I<5;I++){for(var D=0,B=0,O=0;O<5;O++){var R=j[I+5*O];D^=R.high,B^=R.low}var $=v[I];$.high=D,$.low=B}for(var I=0;I<5;I++)for(var Y=v[(I+4)%5],H=v[(I+1)%5],L=H.high,V=H.low,D=Y.high^(L<<1|V>>>31),B=Y.low^(V<<1|L>>>31),O=0;O<5;O++){var R=j[I+5*O];R.high^=D,R.low^=B}for(var X=1;X<25;X++){var D,B,R=j[X],ee=R.high,F=R.low,z=x[X];z<32?(D=ee<<z|F>>>32-z,B=F<<z|ee>>>32-z):(D=F<<z-32|ee>>>64-z,B=ee<<z-32|F>>>64-z);var G=v[g[X]];G.high=D,G.low=B}var K=v[0],W=j[0];K.high=W.high,K.low=W.low;for(var I=0;I<5;I++)for(var O=0;O<5;O++){var X=I+5*O,R=j[X],Q=v[X],Z=v[(I+1)%5+5*O],ne=v[(I+2)%5+5*O];R.high=Q.high^~Z.high&ne.high,R.low=Q.low^~Z.low&ne.low}var R=j[0],re=p[_];R.high^=re.high,R.low^=re.low}},_doFinalize:function(){var w=this._data,A=w.words;this._nDataBytes*8;var j=w.sigBytes*8,C=this.blockSize*32;A[j>>>5]|=1<<24-j%32,A[(r.ceil((j+1)/C)*C>>>5)-1]|=128,w.sigBytes=A.length*4,this._process();for(var S=this._state,E=this.cfg.outputLength/8,M=E/8,R=[],_=0;_<M;_++){var I=S[_],D=I.high,B=I.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,R.push(B),R.push(D)}return new o.init(R,E)},clone:function(){for(var w=c.clone.call(this),A=w._state=this._state.slice(0),j=0;j<25;j++)A[j]=A[j].clone();return w}});a.SHA3=c._createHelper(y),a.HmacSHA3=c._createHmacHelper(y)}(Math),s.SHA3})}(rp)),rp.exports}var ap={exports:{}},AY=ap.exports,OA;function EY(){return OA||(OA=1,function(t,e){(function(s,r){t.exports=r(bt())})(AY,function(s){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var a=s,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.algo,h=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),x=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),v=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=d.RIPEMD160=c.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,R){for(var _=0;_<16;_++){var I=R+_,D=M[I];M[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var B=this._hash.words,O=p.words,$=v.words,Y=h.words,H=f.words,L=x.words,V=g.words,X,ee,F,z,G,K,W,Q,Z,ne;K=X=B[0],W=ee=B[1],Q=F=B[2],Z=z=B[3],ne=G=B[4];for(var re,_=0;_<80;_+=1)re=X+M[R+Y[_]]|0,_<16?re+=w(ee,F,z)+O[0]:_<32?re+=A(ee,F,z)+O[1]:_<48?re+=j(ee,F,z)+O[2]:_<64?re+=C(ee,F,z)+O[3]:re+=S(ee,F,z)+O[4],re=re|0,re=E(re,L[_]),re=re+G|0,X=G,G=z,z=E(F,10),F=ee,ee=re,re=K+M[R+H[_]]|0,_<16?re+=S(W,Q,Z)+$[0]:_<32?re+=C(W,Q,Z)+$[1]:_<48?re+=j(W,Q,Z)+$[2]:_<64?re+=A(W,Q,Z)+$[3]:re+=w(W,Q,Z)+$[4],re=re|0,re=E(re,V[_]),re=re+ne|0,K=ne,ne=Z,Z=E(Q,10),Q=W,W=re;re=B[1]+F+Z|0,B[1]=B[2]+z+ne|0,B[2]=B[3]+G+K|0,B[3]=B[4]+X+W|0,B[4]=B[0]+ee+Q|0,B[0]=re},_doFinalize:function(){var M=this._data,R=M.words,_=this._nDataBytes*8,I=M.sigBytes*8;R[I>>>5]|=128<<24-I%32,R[(I+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,M.sigBytes=(R.length+1)*4,this._process();for(var D=this._hash,B=D.words,O=0;O<5;O++){var $=B[O];B[O]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return D},clone:function(){var M=c.clone.call(this);return M._hash=this._hash.clone(),M}});function w(M,R,_){return M^R^_}function A(M,R,_){return M&R|~M&_}function j(M,R,_){return(M|~R)^_}function C(M,R,_){return M&_|R&~_}function S(M,R,_){return M^(R|~_)}function E(M,R){return M<<R|M>>>32-R}a.RIPEMD160=c._createHelper(y),a.HmacRIPEMD160=c._createHmacHelper(y)}(),s.RIPEMD160})}(ap)),ap.exports}var ip={exports:{}},SY=ip.exports,PA;function P5(){return PA||(PA=1,function(t,e){(function(s,r){t.exports=r(bt())})(SY,function(s){(function(){var r=s,a=r.lib,i=a.Base,o=r.enc,c=o.Utf8,d=r.algo;d.HMAC=i.extend({init:function(h,f){h=this._hasher=new h.init,typeof f=="string"&&(f=c.parse(f));var x=h.blockSize,g=x*4;f.sigBytes>g&&(f=h.finalize(f)),f.clamp();for(var p=this._oKey=f.clone(),v=this._iKey=f.clone(),y=p.words,w=v.words,A=0;A<x;A++)y[A]^=1549556828,w[A]^=909522486;p.sigBytes=v.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var f=this._hasher,x=f.finalize(h);f.reset();var g=f.finalize(this._oKey.clone().concat(x));return g}})})()})}(ip)),ip.exports}var op={exports:{}},TY=op.exports,FA;function RY(){return FA||(FA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),O5(),P5())})(TY,function(s){return function(){var r=s,a=r.lib,i=a.Base,o=a.WordArray,c=r.algo,d=c.SHA256,h=c.HMAC,f=c.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,g){for(var p=this.cfg,v=h.create(p.hasher,x),y=o.create(),w=o.create([1]),A=y.words,j=w.words,C=p.keySize,S=p.iterations;A.length<C;){var E=v.update(g).finalize(w);v.reset();for(var M=E.words,R=M.length,_=E,I=1;I<S;I++){_=v.finalize(_),v.reset();for(var D=_.words,B=0;B<R;B++)M[B]^=D[B]}y.concat(E),j[0]++}return y.sigBytes=C*4,y}});r.PBKDF2=function(x,g,p){return f.create(p).compute(x,g)}}(),s.PBKDF2})}(op)),op.exports}var lp={exports:{}},MY=lp.exports,zA;function Vl(){return zA||(zA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),uM(),P5())})(MY,function(s){return function(){var r=s,a=r.lib,i=a.Base,o=a.WordArray,c=r.algo,d=c.MD5,h=c.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:d,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,x){for(var g,p=this.cfg,v=p.hasher.create(),y=o.create(),w=y.words,A=p.keySize,j=p.iterations;w.length<A;){g&&v.update(g),g=v.update(f).finalize(x),v.reset();for(var C=1;C<j;C++)g=v.finalize(g),v.reset();y.concat(g)}return y.sigBytes=A*4,y}});r.EvpKDF=function(f,x,g){return h.create(g).compute(f,x)}}(),s.EvpKDF})}(lp)),lp.exports}var cp={exports:{}},DY=cp.exports,UA;function Gs(){return UA||(UA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Vl())})(DY,function(s){s.lib.Cipher||function(r){var a=s,i=a.lib,o=i.Base,c=i.WordArray,d=i.BufferedBlockAlgorithm,h=a.enc;h.Utf8;var f=h.Base64,x=a.algo,g=x.EvpKDF,p=i.Cipher=d.extend({cfg:o.extend(),createEncryptor:function(D,B){return this.create(this._ENC_XFORM_MODE,D,B)},createDecryptor:function(D,B){return this.create(this._DEC_XFORM_MODE,D,B)},init:function(D,B,O){this.cfg=this.cfg.extend(O),this._xformMode=D,this._key=B,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(B){return typeof B=="string"?I:M}return function(B){return{encrypt:function(O,$,Y){return D($).encrypt(B,O,$,Y)},decrypt:function(O,$,Y){return D($).decrypt(B,O,$,Y)}}}}()});i.StreamCipher=p.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var v=a.mode={},y=i.BlockCipherMode=o.extend({createEncryptor:function(D,B){return this.Encryptor.create(D,B)},createDecryptor:function(D,B){return this.Decryptor.create(D,B)},init:function(D,B){this._cipher=D,this._iv=B}}),w=v.CBC=function(){var D=y.extend();D.Encryptor=D.extend({processBlock:function(O,$){var Y=this._cipher,H=Y.blockSize;B.call(this,O,$,H),Y.encryptBlock(O,$),this._prevBlock=O.slice($,$+H)}}),D.Decryptor=D.extend({processBlock:function(O,$){var Y=this._cipher,H=Y.blockSize,L=O.slice($,$+H);Y.decryptBlock(O,$),B.call(this,O,$,H),this._prevBlock=L}});function B(O,$,Y){var H,L=this._iv;L?(H=L,this._iv=r):H=this._prevBlock;for(var V=0;V<Y;V++)O[$+V]^=H[V]}return D}(),A=a.pad={},j=A.Pkcs7={pad:function(D,B){for(var O=B*4,$=O-D.sigBytes%O,Y=$<<24|$<<16|$<<8|$,H=[],L=0;L<$;L+=4)H.push(Y);var V=c.create(H,$);D.concat(V)},unpad:function(D){var B=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=B}};i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:w,padding:j}),reset:function(){var D;p.reset.call(this);var B=this.cfg,O=B.iv,$=B.mode;this._xformMode==this._ENC_XFORM_MODE?D=$.createEncryptor:(D=$.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,O&&O.words):(this._mode=D.call($,this,O&&O.words),this._mode.__creator=D)},_doProcessBlock:function(D,B){this._mode.processBlock(D,B)},_doFinalize:function(){var D,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),B.unpad(D)),D},blockSize:128/32});var C=i.CipherParams=o.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),S=a.format={},E=S.OpenSSL={stringify:function(D){var B,O=D.ciphertext,$=D.salt;return $?B=c.create([1398893684,1701076831]).concat($).concat(O):B=O,B.toString(f)},parse:function(D){var B,O=f.parse(D),$=O.words;return $[0]==1398893684&&$[1]==1701076831&&(B=c.create($.slice(2,4)),$.splice(0,4),O.sigBytes-=16),C.create({ciphertext:O,salt:B})}},M=i.SerializableCipher=o.extend({cfg:o.extend({format:E}),encrypt:function(D,B,O,$){$=this.cfg.extend($);var Y=D.createEncryptor(O,$),H=Y.finalize(B),L=Y.cfg;return C.create({ciphertext:H,key:O,iv:L.iv,algorithm:D,mode:L.mode,padding:L.padding,blockSize:D.blockSize,formatter:$.format})},decrypt:function(D,B,O,$){$=this.cfg.extend($),B=this._parse(B,$.format);var Y=D.createDecryptor(O,$).finalize(B.ciphertext);return Y},_parse:function(D,B){return typeof D=="string"?B.parse(D,this):D}}),R=a.kdf={},_=R.OpenSSL={execute:function(D,B,O,$,Y){if($||($=c.random(64/8)),Y)var H=g.create({keySize:B+O,hasher:Y}).compute(D,$);else var H=g.create({keySize:B+O}).compute(D,$);var L=c.create(H.words.slice(B),O*4);return H.sigBytes=B*4,C.create({key:H,iv:L,salt:$})}},I=i.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:_}),encrypt:function(D,B,O,$){$=this.cfg.extend($);var Y=$.kdf.execute(O,D.keySize,D.ivSize,$.salt,$.hasher);$.iv=Y.iv;var H=M.encrypt.call(this,D,B,Y.key,$);return H.mixIn(Y),H},decrypt:function(D,B,O,$){$=this.cfg.extend($),B=this._parse(B,$.format);var Y=$.kdf.execute(O,D.keySize,D.ivSize,B.salt,$.hasher);$.iv=Y.iv;var H=M.decrypt.call(this,D,B,Y.key,$);return H}})}()})}(cp)),cp.exports}var dp={exports:{}},BY=dp.exports,$A;function _Y(){return $A||($A=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(BY,function(s){return s.mode.CFB=function(){var r=s.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize;a.call(this,i,o,d,c),this._prevBlock=i.slice(o,o+d)}}),r.Decryptor=r.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,h=i.slice(o,o+d);a.call(this,i,o,d,c),this._prevBlock=h}});function a(i,o,c,d){var h,f=this._iv;f?(h=f.slice(0),this._iv=void 0):h=this._prevBlock,d.encryptBlock(h,0);for(var x=0;x<c;x++)i[o+x]^=h[x]}return r}(),s.mode.CFB})}(dp)),dp.exports}var up={exports:{}},IY=up.exports,HA;function LY(){return HA||(HA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(IY,function(s){return s.mode.CTR=function(){var r=s.lib.BlockCipherMode.extend(),a=r.Encryptor=r.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0);var x=f.slice(0);c.encryptBlock(x,0),f[d-1]=f[d-1]+1|0;for(var g=0;g<d;g++)i[o+g]^=x[g]}});return r.Decryptor=a,r}(),s.mode.CTR})}(up)),up.exports}var hp={exports:{}},OY=hp.exports,VA;function PY(){return VA||(VA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(OY,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var r=s.lib.BlockCipherMode.extend();function a(c){if((c>>24&255)===255){var d=c>>16&255,h=c>>8&255,f=c&255;d===255?(d=0,h===255?(h=0,f===255?f=0:++f):++h):++d,c=0,c+=d<<16,c+=h<<8,c+=f}else c+=1<<24;return c}function i(c){return(c[0]=a(c[0]))===0&&(c[1]=a(c[1])),c}var o=r.Encryptor=r.extend({processBlock:function(c,d){var h=this._cipher,f=h.blockSize,x=this._iv,g=this._counter;x&&(g=this._counter=x.slice(0),this._iv=void 0),i(g);var p=g.slice(0);h.encryptBlock(p,0);for(var v=0;v<f;v++)c[d+v]^=p[v]}});return r.Decryptor=o,r}(),s.mode.CTRGladman})}(hp)),hp.exports}var fp={exports:{}},FY=fp.exports,GA;function zY(){return GA||(GA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(FY,function(s){return s.mode.OFB=function(){var r=s.lib.BlockCipherMode.extend(),a=r.Encryptor=r.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,h=this._iv,f=this._keystream;h&&(f=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(f,0);for(var x=0;x<d;x++)i[o+x]^=f[x]}});return r.Decryptor=a,r}(),s.mode.OFB})}(fp)),fp.exports}var mp={exports:{}},UY=mp.exports,qA;function $Y(){return qA||(qA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(UY,function(s){return s.mode.ECB=function(){var r=s.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),r.Decryptor=r.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),r}(),s.mode.ECB})}(mp)),mp.exports}var xp={exports:{}},HY=xp.exports,WA;function VY(){return WA||(WA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(HY,function(s){return s.pad.AnsiX923={pad:function(r,a){var i=r.sigBytes,o=a*4,c=o-i%o,d=i+c-1;r.clamp(),r.words[d>>>2]|=c<<24-d%4*8,r.sigBytes+=c},unpad:function(r){var a=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=a}},s.pad.Ansix923})}(xp)),xp.exports}var gp={exports:{}},GY=gp.exports,YA;function qY(){return YA||(YA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(GY,function(s){return s.pad.Iso10126={pad:function(r,a){var i=a*4,o=i-r.sigBytes%i;r.concat(s.lib.WordArray.random(o-1)).concat(s.lib.WordArray.create([o<<24],1))},unpad:function(r){var a=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=a}},s.pad.Iso10126})}(gp)),gp.exports}var pp={exports:{}},WY=pp.exports,QA;function YY(){return QA||(QA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(WY,function(s){return s.pad.Iso97971={pad:function(r,a){r.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(r,a)},unpad:function(r){s.pad.ZeroPadding.unpad(r),r.sigBytes--}},s.pad.Iso97971})}(pp)),pp.exports}var bp={exports:{}},QY=bp.exports,KA;function KY(){return KA||(KA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(QY,function(s){return s.pad.ZeroPadding={pad:function(r,a){var i=a*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var a=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},s.pad.ZeroPadding})}(bp)),bp.exports}var vp={exports:{}},XY=vp.exports,XA;function ZY(){return XA||(XA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(XY,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(vp)),vp.exports}var yp={exports:{}},JY=yp.exports,ZA;function eQ(){return ZA||(ZA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Gs())})(JY,function(s){return function(r){var a=s,i=a.lib,o=i.CipherParams,c=a.enc,d=c.Hex,h=a.format;h.Hex={stringify:function(f){return f.ciphertext.toString(d)},parse:function(f){var x=d.parse(f);return o.create({ciphertext:x})}}}(),s.format.Hex})}(yp)),yp.exports}var wp={exports:{}},tQ=wp.exports,JA;function sQ(){return JA||(JA=1,function(t,e){(function(s,r,a){t.exports=r(bt(),wd(),Nd(),Vl(),Gs())})(tQ,function(s){return function(){var r=s,a=r.lib,i=a.BlockCipher,o=r.algo,c=[],d=[],h=[],f=[],x=[],g=[],p=[],v=[],y=[],w=[];(function(){for(var C=[],S=0;S<256;S++)S<128?C[S]=S<<1:C[S]=S<<1^283;for(var E=0,M=0,S=0;S<256;S++){var R=M^M<<1^M<<2^M<<3^M<<4;R=R>>>8^R&255^99,c[E]=R,d[R]=E;var _=C[E],I=C[_],D=C[I],B=C[R]*257^R*16843008;h[E]=B<<24|B>>>8,f[E]=B<<16|B>>>16,x[E]=B<<8|B>>>24,g[E]=B;var B=D*16843009^I*65537^_*257^E*16843008;p[R]=B<<24|B>>>8,v[R]=B<<16|B>>>16,y[R]=B<<8|B>>>24,w[R]=B,E?(E=_^C[C[C[D^_]]],M^=C[C[M]]):E=M=1}})();var A=[0,1,2,4,8,16,32,64,128,27,54],j=o.AES=i.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,E=S.words,M=S.sigBytes/4,R=this._nRounds=M+6,_=(R+1)*4,I=this._keySchedule=[],D=0;D<_;D++)D<M?I[D]=E[D]:(C=I[D-1],D%M?M>6&&D%M==4&&(C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255]):(C=C<<8|C>>>24,C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255],C^=A[D/M|0]<<24),I[D]=I[D-M]^C);for(var B=this._invKeySchedule=[],O=0;O<_;O++){var D=_-O;if(O%4)var C=I[D];else var C=I[D-4];O<4||D<=4?B[O]=C:B[O]=p[c[C>>>24]]^v[c[C>>>16&255]]^y[c[C>>>8&255]]^w[c[C&255]]}}},encryptBlock:function(C,S){this._doCryptBlock(C,S,this._keySchedule,h,f,x,g,c)},decryptBlock:function(C,S){var E=C[S+1];C[S+1]=C[S+3],C[S+3]=E,this._doCryptBlock(C,S,this._invKeySchedule,p,v,y,w,d);var E=C[S+1];C[S+1]=C[S+3],C[S+3]=E},_doCryptBlock:function(C,S,E,M,R,_,I,D){for(var B=this._nRounds,O=C[S]^E[0],$=C[S+1]^E[1],Y=C[S+2]^E[2],H=C[S+3]^E[3],L=4,V=1;V<B;V++){var X=M[O>>>24]^R[$>>>16&255]^_[Y>>>8&255]^I[H&255]^E[L++],ee=M[$>>>24]^R[Y>>>16&255]^_[H>>>8&255]^I[O&255]^E[L++],F=M[Y>>>24]^R[H>>>16&255]^_[O>>>8&255]^I[$&255]^E[L++],z=M[H>>>24]^R[O>>>16&255]^_[$>>>8&255]^I[Y&255]^E[L++];O=X,$=ee,Y=F,H=z}var X=(D[O>>>24]<<24|D[$>>>16&255]<<16|D[Y>>>8&255]<<8|D[H&255])^E[L++],ee=(D[$>>>24]<<24|D[Y>>>16&255]<<16|D[H>>>8&255]<<8|D[O&255])^E[L++],F=(D[Y>>>24]<<24|D[H>>>16&255]<<16|D[O>>>8&255]<<8|D[$&255])^E[L++],z=(D[H>>>24]<<24|D[O>>>16&255]<<16|D[$>>>8&255]<<8|D[Y&255])^E[L++];C[S]=X,C[S+1]=ee,C[S+2]=F,C[S+3]=z},keySize:256/32});r.AES=i._createHelper(j)}(),s.AES})}(wp)),wp.exports}var Np={exports:{}},nQ=Np.exports,eE;function rQ(){return eE||(eE=1,function(t,e){(function(s,r,a){t.exports=r(bt(),wd(),Nd(),Vl(),Gs())})(nQ,function(s){return function(){var r=s,a=r.lib,i=a.WordArray,o=a.BlockCipher,c=r.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],x=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=c.DES=o.extend({_doReset:function(){for(var A=this._key,j=A.words,C=[],S=0;S<56;S++){var E=d[S]-1;C[S]=j[E>>>5]>>>31-E%32&1}for(var M=this._subKeys=[],R=0;R<16;R++){for(var _=M[R]=[],I=f[R],S=0;S<24;S++)_[S/6|0]|=C[(h[S]-1+I)%28]<<31-S%6,_[4+(S/6|0)]|=C[28+(h[S+24]-1+I)%28]<<31-S%6;_[0]=_[0]<<1|_[0]>>>31;for(var S=1;S<7;S++)_[S]=_[S]>>>(S-1)*4+3;_[7]=_[7]<<5|_[7]>>>27}for(var D=this._invSubKeys=[],S=0;S<16;S++)D[S]=M[15-S]},encryptBlock:function(A,j){this._doCryptBlock(A,j,this._subKeys)},decryptBlock:function(A,j){this._doCryptBlock(A,j,this._invSubKeys)},_doCryptBlock:function(A,j,C){this._lBlock=A[j],this._rBlock=A[j+1],v.call(this,4,252645135),v.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),v.call(this,1,1431655765);for(var S=0;S<16;S++){for(var E=C[S],M=this._lBlock,R=this._rBlock,_=0,I=0;I<8;I++)_|=x[I][((R^E[I])&g[I])>>>0];this._lBlock=R,this._rBlock=M^_}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,v.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),A[j]=this._lBlock,A[j+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(A,j){var C=(this._lBlock>>>A^this._rBlock)&j;this._rBlock^=C,this._lBlock^=C<<A}function y(A,j){var C=(this._rBlock>>>A^this._lBlock)&j;this._lBlock^=C,this._rBlock^=C<<A}r.DES=o._createHelper(p);var w=c.TripleDES=o.extend({_doReset:function(){var A=this._key,j=A.words;if(j.length!==2&&j.length!==4&&j.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=j.slice(0,2),S=j.length<4?j.slice(0,2):j.slice(2,4),E=j.length<6?j.slice(0,2):j.slice(4,6);this._des1=p.createEncryptor(i.create(C)),this._des2=p.createEncryptor(i.create(S)),this._des3=p.createEncryptor(i.create(E))},encryptBlock:function(A,j){this._des1.encryptBlock(A,j),this._des2.decryptBlock(A,j),this._des3.encryptBlock(A,j)},decryptBlock:function(A,j){this._des3.decryptBlock(A,j),this._des2.encryptBlock(A,j),this._des1.decryptBlock(A,j)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(w)}(),s.TripleDES})}(Np)),Np.exports}var jp={exports:{}},aQ=jp.exports,tE;function iQ(){return tE||(tE=1,function(t,e){(function(s,r,a){t.exports=r(bt(),wd(),Nd(),Vl(),Gs())})(aQ,function(s){return function(){var r=s,a=r.lib,i=a.StreamCipher,o=r.algo,c=o.RC4=i.extend({_doReset:function(){for(var f=this._key,x=f.words,g=f.sigBytes,p=this._S=[],v=0;v<256;v++)p[v]=v;for(var v=0,y=0;v<256;v++){var w=v%g,A=x[w>>>2]>>>24-w%4*8&255;y=(y+p[v]+A)%256;var j=p[v];p[v]=p[y],p[y]=j}this._i=this._j=0},_doProcessBlock:function(f,x){f[x]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var f=this._S,x=this._i,g=this._j,p=0,v=0;v<4;v++){x=(x+1)%256,g=(g+f[x])%256;var y=f[x];f[x]=f[g],f[g]=y,p|=f[(f[x]+f[g])%256]<<24-v*8}return this._i=x,this._j=g,p}r.RC4=i._createHelper(c);var h=o.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)d.call(this)}});r.RC4Drop=i._createHelper(h)}(),s.RC4})}(jp)),jp.exports}var Cp={exports:{}},oQ=Cp.exports,sE;function lQ(){return sE||(sE=1,function(t,e){(function(s,r,a){t.exports=r(bt(),wd(),Nd(),Vl(),Gs())})(oQ,function(s){return function(){var r=s,a=r.lib,i=a.StreamCipher,o=r.algo,c=[],d=[],h=[],f=o.Rabbit=i.extend({_doReset:function(){for(var g=this._key.words,p=this.cfg.iv,v=0;v<4;v++)g[v]=(g[v]<<8|g[v]>>>24)&16711935|(g[v]<<24|g[v]>>>8)&4278255360;var y=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],w=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var v=0;v<4;v++)x.call(this);for(var v=0;v<8;v++)w[v]^=y[v+4&7];if(p){var A=p.words,j=A[0],C=A[1],S=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,E=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,M=S>>>16|E&4294901760,R=E<<16|S&65535;w[0]^=S,w[1]^=M,w[2]^=E,w[3]^=R,w[4]^=S,w[5]^=M,w[6]^=E,w[7]^=R;for(var v=0;v<4;v++)x.call(this)}},_doProcessBlock:function(g,p){var v=this._X;x.call(this),c[0]=v[0]^v[5]>>>16^v[3]<<16,c[1]=v[2]^v[7]>>>16^v[5]<<16,c[2]=v[4]^v[1]>>>16^v[7]<<16,c[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)c[y]=(c[y]<<8|c[y]>>>24)&16711935|(c[y]<<24|c[y]>>>8)&4278255360,g[p+y]^=c[y]},blockSize:128/32,ivSize:64/32});function x(){for(var g=this._X,p=this._C,v=0;v<8;v++)d[v]=p[v];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<d[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<d[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<d[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<d[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<d[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<d[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<d[6]>>>0?1:0)|0,this._b=p[7]>>>0<d[7]>>>0?1:0;for(var v=0;v<8;v++){var y=g[v]+p[v],w=y&65535,A=y>>>16,j=((w*w>>>17)+w*A>>>15)+A*A,C=((y&4294901760)*y|0)+((y&65535)*y|0);h[v]=j^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=i._createHelper(f)}(),s.Rabbit})}(Cp)),Cp.exports}var kp={exports:{}},cQ=kp.exports,nE;function dQ(){return nE||(nE=1,function(t,e){(function(s,r,a){t.exports=r(bt(),wd(),Nd(),Vl(),Gs())})(cQ,function(s){return function(){var r=s,a=r.lib,i=a.StreamCipher,o=r.algo,c=[],d=[],h=[],f=o.RabbitLegacy=i.extend({_doReset:function(){var g=this._key.words,p=this.cfg.iv,v=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],y=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var w=0;w<4;w++)x.call(this);for(var w=0;w<8;w++)y[w]^=v[w+4&7];if(p){var A=p.words,j=A[0],C=A[1],S=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,E=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,M=S>>>16|E&4294901760,R=E<<16|S&65535;y[0]^=S,y[1]^=M,y[2]^=E,y[3]^=R,y[4]^=S,y[5]^=M,y[6]^=E,y[7]^=R;for(var w=0;w<4;w++)x.call(this)}},_doProcessBlock:function(g,p){var v=this._X;x.call(this),c[0]=v[0]^v[5]>>>16^v[3]<<16,c[1]=v[2]^v[7]>>>16^v[5]<<16,c[2]=v[4]^v[1]>>>16^v[7]<<16,c[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)c[y]=(c[y]<<8|c[y]>>>24)&16711935|(c[y]<<24|c[y]>>>8)&4278255360,g[p+y]^=c[y]},blockSize:128/32,ivSize:64/32});function x(){for(var g=this._X,p=this._C,v=0;v<8;v++)d[v]=p[v];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<d[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<d[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<d[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<d[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<d[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<d[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<d[6]>>>0?1:0)|0,this._b=p[7]>>>0<d[7]>>>0?1:0;for(var v=0;v<8;v++){var y=g[v]+p[v],w=y&65535,A=y>>>16,j=((w*w>>>17)+w*A>>>15)+A*A,C=((y&4294901760)*y|0)+((y&65535)*y|0);h[v]=j^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=i._createHelper(f)}(),s.RabbitLegacy})}(kp)),kp.exports}var Ap={exports:{}},uQ=Ap.exports,rE;function hQ(){return rE||(rE=1,function(t,e){(function(s,r,a){t.exports=r(bt(),wd(),Nd(),Vl(),Gs())})(uQ,function(s){return function(){var r=s,a=r.lib,i=a.BlockCipher,o=r.algo;const c=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function x(w,A){let j=A>>24&255,C=A>>16&255,S=A>>8&255,E=A&255,M=w.sbox[0][j]+w.sbox[1][C];return M=M^w.sbox[2][S],M=M+w.sbox[3][E],M}function g(w,A,j){let C=A,S=j,E;for(let M=0;M<c;++M)C=C^w.pbox[M],S=x(w,C)^S,E=C,C=S,S=E;return E=C,C=S,S=E,S=S^w.pbox[c],C=C^w.pbox[c+1],{left:C,right:S}}function p(w,A,j){let C=A,S=j,E;for(let M=c+1;M>1;--M)C=C^w.pbox[M],S=x(w,C)^S,E=C,C=S,S=E;return E=C,C=S,S=E,S=S^w.pbox[1],C=C^w.pbox[0],{left:C,right:S}}function v(w,A,j){for(let R=0;R<4;R++){w.sbox[R]=[];for(let _=0;_<256;_++)w.sbox[R][_]=h[R][_]}let C=0;for(let R=0;R<c+2;R++)w.pbox[R]=d[R]^A[C],C++,C>=j&&(C=0);let S=0,E=0,M=0;for(let R=0;R<c+2;R+=2)M=g(w,S,E),S=M.left,E=M.right,w.pbox[R]=S,w.pbox[R+1]=E;for(let R=0;R<4;R++)for(let _=0;_<256;_+=2)M=g(w,S,E),S=M.left,E=M.right,w.sbox[R][_]=S,w.sbox[R][_+1]=E;return!0}var y=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,A=w.words,j=w.sigBytes/4;v(f,A,j)}},encryptBlock:function(w,A){var j=g(f,w[A],w[A+1]);w[A]=j.left,w[A+1]=j.right},decryptBlock:function(w,A){var j=p(f,w[A],w[A+1]);w[A]=j.left,w[A+1]=j.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(y)}(),s.Blowfish})}(Ap)),Ap.exports}var fQ=Gg.exports,aE;function mQ(){return aE||(aE=1,function(t,e){(function(s,r,a){t.exports=r(bt(),Vb(),dY(),hY(),wd(),xY(),Nd(),uM(),O5(),yY(),hM(),jY(),kY(),EY(),P5(),RY(),Vl(),Gs(),_Y(),LY(),PY(),zY(),$Y(),VY(),qY(),YY(),KY(),ZY(),eQ(),sQ(),rQ(),iQ(),lQ(),dQ(),hQ())})(fQ,function(s){return s})}(Gg)),Gg.exports}var xQ=mQ();const Jw=ym(xQ),gQ=()=>{var t;return typeof import.meta<"u"?"blockchain-cert-access-2024-super-secure-secret-key":typeof window<"u"&&((t=window.env)!=null&&t.REACT_APP_ACCESS_SECRET)?window.env.REACT_APP_ACCESS_SECRET:"blockchain-cert-access-2024-secure-key-"+window.location.origin.replace(/[^a-zA-Z0-9]/g,"")},fM=gQ(),pQ={PUBLIC:"public",PRIVATE:"private",INSTITUTION_ONLY:"institution_only",QR_ONLY:"qr_only"},Ki={QR_CODE:"qr_code",WALLET_OWNER:"wallet_owner",INSTITUTION_OWNER:"institution_owner",PUBLIC_ACCESS:"public_access"},bQ=(t,e,s=24)=>{try{const r=Date.now(),a=r+s*60*60*1e3,i={certificateId:t.toString(),studentAddress:e.toLowerCase(),issuedAt:r,expiresAt:a,accessMethod:Ki.QR_CODE},o=Jw.AES.encrypt(JSON.stringify(i),fM).toString();return encodeURIComponent(o)}catch(r){return console.error("Error generating access token:",r),null}},vQ=t=>{try{if(!t)return null;const e=decodeURIComponent(t),s=Jw.AES.decrypt(e,fM),r=JSON.parse(s.toString(Jw.enc.Utf8));return Date.now()>r.expiresAt?(console.warn("Access token has expired"),null):r}catch(e){return console.error("Error validating access token:",e),null}},yQ=async(t,e,s,r=null)=>{try{if(r){const a=vQ(r);if(a&&a.certificateId===t.toString()&&a.studentAddress.toLowerCase()===e.student.toLowerCase())return{allowed:!0,method:Ki.QR_CODE,reason:"Valid QR code access token",data:a}}if(s&&e.student){const a=s.toLowerCase(),i=e.student.toLowerCase();if(a===i)return{allowed:!0,method:Ki.WALLET_OWNER,reason:"Certificate owner accessing via connected wallet",data:{userWallet:s,studentAddress:i}}}if(s&&e.institution){const a=s.toLowerCase(),i=e.institution.toLowerCase();if(a===i)return{allowed:!0,method:Ki.INSTITUTION_OWNER,reason:"Issuing institution accessing certificate",data:{userWallet:s,institutionAddress:i}}}return e.accessLevel===pQ.PUBLIC?{allowed:!0,method:Ki.PUBLIC_ACCESS,reason:"Certificate is marked as public",data:null}:{allowed:!1,method:null,reason:"Access denied. This certificate is private and requires either a valid QR code, owner wallet connection, or institution access.",data:null}}catch(a){return console.error("Error validating certificate access:",a),{allowed:!1,method:null,reason:"Failed to validate access permissions",data:null}}},wQ=(t,e,s=window.location.origin,r=24)=>{try{const a=bQ(t,e,r);if(!a)throw new Error("Failed to generate access token");return`${s}/certificate/${t}?access_token=${a}`}catch(a){return console.error("Error generating QR code URL:",a),null}},NQ=t=>{try{if(!t)return null;let e;return t.startsWith("?")?e=new URLSearchParams(t):e=new URL(t).searchParams,e.get("access_token")}catch(e){return console.error("Error parsing URL for access token:",e),null}},iE=[{value:1,label:"1 Hour",description:"Quick sharing"},{value:24,label:"24 Hours",description:"Standard sharing"},{value:168,label:"1 Week",description:"Job applications"},{value:720,label:"1 Month",description:"CVs & portfolios"},{value:2160,label:"3 Months",description:"Academic submissions"},{value:8760,label:"1 Year",description:"Long-term verification"},{value:87600,label:"10 Years",description:"Permanent records"}],jQ=({showQRModal:t,certificate:e,closeQRModal:s,userWallet:r})=>{var A;k.useRef(null);const[a,i]=k.useState(null),[o,c]=k.useState(null),[d,h]=k.useState(!1),[f,x]=k.useState(24),[g,p]=k.useState(null);k.useEffect(()=>{t&&e&&r&&v()},[t,e,r,f]),k.useEffect(()=>{const j=C=>{C.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[t,s]);const v=async()=>{try{h(!0);const j=wQ(e.id,e.student,window.location.origin,f);if(!j)throw new Error("Failed to generate secure access URL");c(j),p(new Date);const C=await sY.toDataURL(j,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"});i(C)}catch(j){console.error("Error generating QR code:",j),alert("Failed to generate QR code. Please try again.")}finally{h(!1)}},y=()=>{if(!a)return;const j=document.createElement("a");j.download=`certificate-${e.id}-qr.png`,j.href=a,j.click()},w=async()=>{if(o)try{await navigator.clipboard.writeText(o),alert("Secure certificate URL copied to clipboard!")}catch(j){console.error("Failed to copy URL:",j),alert("Failed to copy URL. Please try again.")}};return!t||!e?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",onClick:s,children:n.jsxs("div",{className:"bg-gray-800 rounded-lg w-full max-w-sm sm:max-w-md lg:max-w-lg xl:max-w-xl p-4 sm:p-6 border border-gray-700 shadow-xl max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-violet-400",children:"Secure Certificate QR Code"}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white text-xl sm:text-2xl",children:"×"})]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select QR Code Duration"}),n.jsx("select",{value:f,onChange:j=>x(Number(j.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-violet-500 text-sm",children:iE.map(j=>n.jsxs("option",{value:j.value,children:[j.label," - ",j.description]},j.value))}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose duration based on your use case"})]}),d?n.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg inline-block mb-4 flex items-center justify-center w-40 h-40 sm:w-48 sm:h-48 lg:w-52 lg:h-52",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})}):a?n.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg inline-block mb-4",children:n.jsx("img",{src:a,alt:"Certificate QR Code",className:"mx-auto w-40 h-40 sm:w-48 sm:h-48 lg:w-52 lg:h-52"})}):n.jsx("div",{className:"bg-gray-600 p-3 sm:p-4 rounded-lg inline-block mb-4 flex items-center justify-center w-40 h-40 sm:w-48 sm:h-48 lg:w-52 lg:h-52",children:n.jsx("span",{className:"text-white text-sm",children:"Failed to generate QR"})}),g&&n.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-3 py-2 rounded mb-4",children:[n.jsx("p",{className:"text-sm font-medium",children:"⏰ Expiry Information"}),n.jsxs("p",{className:"text-xs",children:["Generated: ",g.toLocaleString()]}),n.jsxs("p",{className:"text-xs",children:["Expires: ",new Date(g.getTime()+f*60*60*1e3).toLocaleString()]}),n.jsxs("p",{className:"text-xs font-medium",children:["Valid for: ",(A=iE.find(j=>j.value===f))==null?void 0:A.label]})]}),n.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-3 py-2 rounded mb-4",children:[n.jsx("p",{className:"text-sm font-medium",children:"🔒 Secure Access"}),n.jsx("p",{className:"text-xs",children:"This QR code contains an encrypted access token with selected duration"})]}),n.jsx("p",{className:"text-gray-300 mb-3",children:"Scan this QR code to securely view and verify this certificate"}),o&&n.jsxs("div",{className:"text-xs text-gray-400 mb-4 break-all p-2 bg-gray-900 rounded max-h-20 overflow-y-auto",children:[n.jsx("span",{className:"font-medium",children:"Secure URL:"})," ",o]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-2 sm:gap-3",children:[n.jsx("button",{onClick:y,disabled:!a,className:"px-3 sm:px-4 py-2 bg-violet-600 hover:bg-violet-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors text-sm",children:"Download QR"}),n.jsx("button",{onClick:w,disabled:!o,className:"px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors text-sm",children:"Copy Link"}),n.jsx("button",{onClick:v,disabled:d,className:"px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg transition-colors text-sm",children:d?"Generating...":"Refresh"})]})]}),n.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[n.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[n.jsx("span",{className:"font-semibold",children:"Certificate ID:"})," ",e.id]}),n.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[n.jsx("span",{className:"font-semibold",children:"Course:"})," ",e.courseName]}),n.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:[n.jsx("span",{className:"font-semibold",children:"Recipient:"}),n.jsx("span",{className:"ml-1 break-all text-xs sm:text-sm",children:e.studentName||e.student.substring(0,6)+"..."+e.student.substring(e.student.length-4)})]}),n.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-3 py-2 rounded text-xs sm:text-sm",children:[n.jsx("p",{className:"font-medium",children:"🛡️ Security Notice"}),n.jsx("p",{children:"• QR codes expire after the selected duration for security"}),n.jsx("p",{children:"• Only certificate owners and issuing institutions can generate QR codes"}),n.jsx("p",{children:"• Longer durations recommended for CVs and permanent verification"}),n.jsx("p",{children:"• Tokens can be regenerated anytime if needed"})]}),n.jsxs("details",{className:"mt-4 text-left",children:[n.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-300 hover:text-white",children:"📋 Duration Selection Guide"}),n.jsxs("div",{className:"mt-2 text-xs text-gray-400 space-y-1 pl-4",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"1 Hour:"})," Quick verification, immediate sharing"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"24 Hours:"})," Interview presentations, short-term sharing"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"1 Week:"})," Job applications, recruitment processes"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"1 Month:"})," CV attachments, portfolio websites"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"3 Months:"})," Academic applications, semester submissions"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"1 Year:"})," Professional profiles, long-term verification"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"10 Years:"})," Permanent records, institutional archives"]})]})]})]}),n.jsx("div",{className:"mt-4 sm:mt-6 flex justify-end",children:n.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm",children:"Close"})})]})})},CQ=()=>{const[t,e]=k.useState(!1),[s,r]=k.useState(null),a=k.useCallback(o=>{r(o),e(!0)},[]),i=k.useCallback(()=>{e(!1),setTimeout(()=>{r(null)},300)},[]);return{showQRModal:t,selectedCertificate:s,openQRModal:a,closeQRModal:i}},mM=k.createContext(),Gu=()=>{const t=k.useContext(mM);if(!t)throw new Error("useDNASoul must be used within a DNASoulProvider");return t},kQ=({children:t,userWallet:e,certificates:s=[]})=>{const[r,a]=k.useState(ws.PORTAL_OPENING),[i,o]=k.useState(null),[c,d]=k.useState(0),[h,f]=k.useState(!1),[x,g]=k.useState({knowledgeDensity:0,achievementFrequency:0,soulLevel:0,verifiedSouls:0,totalSouls:0});k.useEffect(()=>{if(s.length>0){const j=s.filter(M=>M.isVerified).length,C=s.length,S=C>0?j/C*100:0,E=Math.floor(S/20)+1;g({knowledgeDensity:S,achievementFrequency:C,soulLevel:E,verifiedSouls:j,totalSouls:C})}},[s]),k.useEffect(()=>{if(r===ws.PORTAL_OPENING){const j=setTimeout(()=>{a(ws.DNA_SCANNING)},2e3);return()=>clearTimeout(j)}},[r]),k.useEffect(()=>{if(r===ws.DNA_SCANNING){const j=setTimeout(()=>{a(ws.SOUL_REVEAL)},3e3);return()=>clearTimeout(j)}},[r]),k.useEffect(()=>{if(r===ws.SOUL_REVEAL){const j=setTimeout(()=>{a(ws.REPOSITORY_ACTIVE)},2e3);return()=>clearTimeout(j)}},[r]);const p=k.useCallback(j=>j.isRevoked?ys.REVOKED:j.isVerified?ys.VERIFIED:ys.PENDING,[]),v=k.useCallback(j=>{o(j),f(!0),a(ws.SOUL_READING)},[]),y=k.useCallback(()=>{f(!1),o(null),a(ws.REPOSITORY_ACTIVE)},[]),w=k.useCallback(()=>{a(ws.PORTAL_CLOSING),setTimeout(()=>{console.log("Soul portal closed")},2e3)},[]),A=k.useMemo(()=>({soulStage:r,setSoulStage:a,selectedSoul:i,setSelectedSoul:o,soulEnergy:c,setSoulEnergy:d,isSoulReading:h,setIsSoulReading:f,soulMetrics:x,userWallet:e,certificates:s,getSoulStatus:p,startSoulReading:v,endSoulReading:y,closeSoulPortal:w}),[r,i,c,h,x,e,s,p,v,y,w]);return n.jsx(mM.Provider,{value:A,children:t})},AQ=({certificate:t,isActive:e=!1})=>{const s=k.useRef(null);k.useRef(null);const{getSoulStatus:r}=Gu(),[a,i]=k.useState(0),o=r(t),d=(h=>{switch(h){case ys.VERIFIED:return{primary:"#FCD34D",secondary:"#F59E0B",glow:"#FEF3C7"};case ys.PENDING:return{primary:"#60A5FA",secondary:"#3B82F6",glow:"#DBEAFE"};case ys.REVOKED:return{primary:"#F87171",secondary:"#EF4444",glow:"#FEE2E2"};default:return{primary:"#A78BFA",secondary:"#8B5CF6",glow:"#EDE9FE"}}})(o);return k.useEffect(()=>{const h=s.current;if(!h)return;const f=h.getContext("2d");let x,g=!0;const p=()=>{const E=h.getBoundingClientRect();h.width=E.width*window.devicePixelRatio,h.height=E.height*window.devicePixelRatio,f.scale(window.devicePixelRatio,window.devicePixelRatio)};p();const v=h.width/(2*window.devicePixelRatio),y=h.height/(2*window.devicePixelRatio),w=Math.min(v,y)*.3,A=Math.min(v,y)*.8,j=20,C=()=>{if(g){f.clearRect(0,0,h.width/window.devicePixelRatio,h.height/window.devicePixelRatio),i(E=>E+.02);for(let E=0;E<j;E++){const M=E/j,R=y+(M-.5)*A,_=a+M*Math.PI*4,I=v+Math.cos(_)*w,D=R,B=v+Math.cos(_+Math.PI)*w,O=R;if(E>0){const L=(E-1)/j,V=y+(L-.5)*A,X=a+L*Math.PI*4,ee=v+Math.cos(X)*w,F=v+Math.cos(X+Math.PI)*w;f.strokeStyle=d.secondary,f.lineWidth=2,f.globalAlpha=.6,f.beginPath(),f.moveTo(ee,V),f.lineTo(B,O),f.stroke(),f.beginPath(),f.moveTo(F,V),f.lineTo(I,D),f.stroke(),f.globalAlpha=1}const $=4+Math.sin(a*2+E)*2,Y=f.createRadialGradient(I,D,0,I,D,$);Y.addColorStop(0,d.primary),Y.addColorStop(1,d.secondary),f.fillStyle=Y,f.beginPath(),f.arc(I,D,$,0,Math.PI*2),f.fill();const H=f.createRadialGradient(B,O,0,B,O,$);H.addColorStop(0,d.primary),H.addColorStop(1,d.secondary),f.fillStyle=H,f.beginPath(),f.arc(B,O,$,0,Math.PI*2),f.fill()}if(e){f.shadowColor=d.glow,f.shadowBlur=20,f.globalAlpha=.3;for(let E=0;E<j;E++){const M=E/j,R=y+(M-.5)*A,_=a+M*Math.PI*4,I=v+Math.cos(_)*w,D=v+Math.cos(_+Math.PI)*w;f.fillStyle=d.primary,f.beginPath(),f.arc(I,R,6,0,Math.PI*2),f.fill(),f.beginPath(),f.arc(D,R,6,0,Math.PI*2),f.fill()}f.shadowBlur=0,f.globalAlpha=1}x=requestAnimationFrame(C)}};C();const S=()=>{p()};return window.addEventListener("resize",S),()=>{g=!1,cancelAnimationFrame(x),window.removeEventListener("resize",S)}},[a,d,e]),n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("canvas",{ref:s,className:"w-full h-full",style:{background:"transparent",filter:e?"brightness(1.2)":"brightness(1)"}}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${o===ys.VERIFIED?"bg-yellow-400":o===ys.PENDING?"bg-blue-400":o===ys.REVOKED?"bg-red-400":"bg-purple-400"}`})})]})},EQ=({certificate:t})=>{const{getSoulStatus:e}=Gu(),s=e(t),a=(i=>{switch(i){case ys.VERIFIED:return{text:"Soul Verified",icon:"✨",color:"text-yellow-400",bgColor:"bg-yellow-400/20",borderColor:"border-yellow-400/50",glowColor:"shadow-yellow-400/50",description:"Your educational achievement has been verified and secured"};case ys.PENDING:return{text:"Soul Awakening",icon:"🌊",color:"text-blue-400",bgColor:"bg-blue-400/20",borderColor:"border-blue-400/50",glowColor:"shadow-blue-400/50",description:"Your educational DNA is being processed"};case ys.REVOKED:return{text:"Soul Fragment Lost",icon:"💔",color:"text-red-400",bgColor:"bg-red-400/20",borderColor:"border-red-400/50",glowColor:"shadow-red-400/50",description:"This educational fragment has been revoked"};default:return{text:"Unknown Soul State",icon:"❓",color:"text-gray-400",bgColor:"bg-gray-400/20",borderColor:"border-gray-400/50",glowColor:"shadow-gray-400/50",description:"Soul state cannot be determined"}}})(s);return n.jsxs("div",{className:`relative p-4 rounded-lg border-2 ${a.borderColor} ${a.bgColor} backdrop-blur-sm`,children:[n.jsx("div",{className:`absolute inset-0 rounded-lg ${a.glowColor} shadow-lg blur-sm opacity-50`}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-2xl",children:a.icon}),n.jsx("span",{className:`font-bold text-lg ${a.color}`,children:a.text})]}),n.jsx("div",{className:"flex space-x-1",children:Array.from({length:5},(i,o)=>n.jsx("div",{className:`w-2 h-2 rounded-full ${o<(s===ys.VERIFIED?5:s===ys.PENDING?3:s===ys.REVOKED?1:0)?a.color.replace("text-","bg-"):"bg-gray-600"} animate-pulse`,style:{animationDelay:`${o*.1}s`}},o))})]}),n.jsx("p",{className:"text-gray-300 text-sm mb-4",children:a.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{className:"bg-black/20 p-2 rounded border border-gray-600/30",children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Soul Density"}),n.jsx("div",{className:`font-mono ${a.color}`,children:s===ys.VERIFIED?"98.7%":s===ys.PENDING?"Processing...":s===ys.REVOKED?"0%":"Unknown"})]}),n.jsxs("div",{className:"bg-black/20 p-2 rounded border border-gray-600/30",children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"DNA Integrity"}),n.jsx("div",{className:`font-mono ${a.color}`,children:s===ys.VERIFIED?"Verified":s===ys.PENDING?"Scanning":s===ys.REVOKED?"Corrupted":"Unknown"})]})]}),n.jsx("div",{className:"absolute inset-0 rounded-lg overflow-hidden pointer-events-none",children:n.jsx("div",{className:`absolute inset-0 border-2 ${a.borderColor} rounded-lg animate-pulse opacity-30`})})]})]})},SQ=({certificate:t})=>{var x;const{startSoulReading:e,getSoulStatus:s}=Gu(),[r,a]=k.useState(!1),[i,o]=k.useState(!1),c=s(t),d=()=>{o(!0),setTimeout(()=>{e(t),o(!1)},1e3)},h=g=>{if(!g)return"Unknown";try{return new Date(g).toLocaleDateString()}catch{return g}},f=g=>g?`${g.slice(0,6)}...${g.slice(-4)}`:"0x0000...0000";return n.jsxs("div",{className:`relative group cursor-pointer transition-all duration-500 ${r?"transform scale-105":"transform scale-100"}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:d,children:[n.jsxs("div",{className:"relative w-full h-48 mb-4 rounded-lg overflow-hidden bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-gray-700/50",children:[n.jsx(AQ,{certificate:t,isActive:r||i}),r&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-blue-500/20 backdrop-blur-sm flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl mb-2",children:"🧬"}),n.jsx("div",{className:"text-white font-bold text-sm",children:"Click to Read Soul"})]})}),i&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/30 to-purple-500/30 backdrop-blur-sm flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl mb-2 animate-spin",children:"🌀"}),n.jsx("div",{className:"text-white font-bold text-sm",children:"Unwinding DNA..."})]})}),n.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm px-2 py-1 rounded text-xs text-white font-mono",children:["#",t.id]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-lg font-bold text-white truncate",children:t.certificateName||((x=t.metadata)==null?void 0:x.name)||`Soul Fragment #${t.id}`}),n.jsxs("div",{className:"text-sm text-gray-300",children:[n.jsx("div",{className:"font-semibold text-purple-400 mb-1",children:t.courseName||`Course ${t.courseId}`}),n.jsxs("div",{className:"text-gray-400",children:["Completed: ",h(t.completionDate)]})]}),n.jsx(EQ,{certificate:t}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{className:"bg-slate-800/40 p-2 rounded border border-gray-600/30",children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Knowledge Level"}),n.jsx("div",{className:"text-green-400 font-bold",children:t.grade?`${t.grade}%`:"N/A"})]}),n.jsxs("div",{className:"bg-slate-800/40 p-2 rounded border border-gray-600/30",children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Soul Owner"}),n.jsx("div",{className:"text-blue-400 font-mono text-xs",children:f(t.student)})]})]}),n.jsx("div",{className:"text-center pt-2",children:n.jsx("div",{className:"text-xs text-gray-500 group-hover:text-gray-400 transition-colors",children:r?"Click to read your soul":"Hover to interact"})})]}),n.jsx("div",{className:`absolute inset-0 rounded-lg pointer-events-none transition-opacity duration-500 ${r?"opacity-100":"opacity-0"}`,children:n.jsx("div",{className:`absolute inset-0 rounded-lg ${c==="verified"?"shadow-yellow-400/20":c==="pending"?"shadow-blue-400/20":c==="revoked"?"shadow-red-400/20":"shadow-purple-400/20"} shadow-2xl blur-xl`})})]})},oE=({intensity:t="normal"})=>{const e=k.useRef(null);return k.useRef(null),k.useEffect(()=>{const s=e.current;if(!s)return;const r=s.getContext("2d");let a,i=!0;const o=()=>{s.width=window.innerWidth,s.height=window.innerHeight};o();const c=[],d=t==="high"?50:t==="normal"?30:15;for(let p=0;p<d;p++)c.push({x:Math.random()*s.width,y:Math.random()*s.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*3+1,opacity:Math.random()*.6+.2,pulse:Math.random()*Math.PI*2,color:Math.random()>.5?"#60A5FA":"#A78BFA"});const h=[],f=8;for(let p=0;p<f;p++)h.push({x:Math.random()*s.width,y:-50,speed:Math.random()*1+.5,length:Math.random()*80+40,opacity:Math.random()*.4+.1,angle:Math.random()*Math.PI*2});const x=()=>{i&&(r.clearRect(0,0,s.width,s.height),c.forEach(p=>{p.x+=p.vx,p.y+=p.vy,p.pulse+=.02,p.x<0&&(p.x=s.width),p.x>s.width&&(p.x=0),p.y<0&&(p.y=s.height),p.y>s.height&&(p.y=0);const v=p.size+Math.sin(p.pulse)*1,y=r.createRadialGradient(p.x,p.y,0,p.x,p.y,v*3);y.addColorStop(0,`${p.color}${Math.floor(p.opacity*255).toString(16).padStart(2,"0")}`),y.addColorStop(1,"transparent"),r.fillStyle=y,r.beginPath(),r.arc(p.x,p.y,v*3,0,Math.PI*2),r.fill(),r.fillStyle=p.color,r.globalAlpha=p.opacity,r.beginPath(),r.arc(p.x,p.y,v,0,Math.PI*2),r.fill(),r.globalAlpha=1}),h.forEach(p=>{p.y+=p.speed,p.y>s.height+p.length&&(p.y=-p.length,p.x=Math.random()*s.width);const v=r.createLinearGradient(p.x,p.y-p.length,p.x,p.y);v.addColorStop(0,"transparent"),v.addColorStop(.5,`rgba(96, 165, 250, ${p.opacity})`),v.addColorStop(1,"transparent"),r.strokeStyle=v,r.lineWidth=2,r.beginPath(),r.moveTo(p.x,p.y-p.length),r.lineTo(p.x,p.y),r.stroke()}),a=requestAnimationFrame(x))};x();const g=()=>{o()};return window.addEventListener("resize",g),()=>{i=!1,cancelAnimationFrame(a),window.removeEventListener("resize",g)}},[t]),n.jsx("canvas",{ref:e,className:"fixed inset-0 w-full h-full pointer-events-none select-none z-0",style:{background:"radial-gradient(ellipse at center, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.95) 100%)"}})},TQ=()=>{const{soulStage:t,userWallet:e}=Gu(),[s,r]=k.useState(0),[a,i]=k.useState(0);k.useEffect(()=>{let c;return t===ws.PORTAL_OPENING?c=setInterval(()=>{r(d=>d>=100?(clearInterval(c),100):d+2)},50):t===ws.DNA_SCANNING&&(c=setInterval(()=>{i(d=>d>=100?(clearInterval(c),100):d+1.5)},30)),()=>{c&&clearInterval(c)}},[t]);const o=c=>c?`${c.slice(0,6)}...${c.slice(-4)}`:"0x0000...0000";return t===ws.PORTAL_CLOSING?n.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"w-32 h-32 mx-auto mb-8 relative",children:[n.jsx("div",{className:"absolute inset-0 border-4 border-purple-500 rounded-full animate-spin"}),n.jsx("div",{className:"absolute inset-4 border-4 border-blue-500 rounded-full animate-spin",style:{animationDirection:"reverse"}}),n.jsx("div",{className:"absolute inset-8 border-4 border-cyan-500 rounded-full animate-spin"})]}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sealing Soul Repository"}),n.jsx("p",{className:"text-gray-400",children:"Your digital soul is safely stored"})]})}):t===ws.PORTAL_OPENING?n.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center max-w-md mx-auto",children:[n.jsx("div",{className:"relative mb-8",children:n.jsxs("div",{className:"w-64 h-96 mx-auto bg-gradient-to-b from-slate-800 to-slate-900 rounded-lg border-2 border-purple-500 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/80 to-blue-900/80 transition-all duration-1000",style:{transform:`translateY(${100-s}%)`,transition:"transform 0.1s linear"}}),n.jsx("div",{className:"absolute inset-0",children:n.jsx("div",{className:"absolute left-0 right-0 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent opacity-60",style:{top:`${s}%`,transition:"top 0.1s linear"}})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-16 h-16 border-2 border-purple-400 rounded-full animate-pulse",children:n.jsx("div",{className:"w-full h-full border-2 border-blue-400 rounded-full animate-spin"})})})]})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Accessing Digital Soul Repository"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Connecting to your educational DNA..."}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4",children:n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-100",style:{width:`${s}%`}})}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Portal Status: ",s,"% Complete"]})]})}):t===ws.DNA_SCANNING?n.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center max-w-lg mx-auto",children:[n.jsx("div",{className:"relative mb-8",children:n.jsxs("div",{className:"w-80 h-80 mx-auto relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"relative w-32 h-64",children:[n.jsx("div",{className:"absolute left-0 top-0 w-2 h-full bg-gradient-to-b from-purple-400 to-blue-400 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute right-0 top-0 w-2 h-full bg-gradient-to-b from-blue-400 to-purple-400 rounded-full animate-pulse"}),Array.from({length:8},(c,d)=>n.jsx("div",{className:"absolute left-1 top-0 w-28 h-0.5 bg-gradient-to-r from-purple-400 to-blue-400 opacity-60",style:{top:`${d*12.5}%`,transform:`rotate(${Math.sin(d)*5}deg)`}},d))]})}),n.jsx("div",{className:"absolute inset-0 border-2 border-cyan-400 rounded-full animate-spin",style:{animationDuration:"3s",borderImage:"linear-gradient(45deg, transparent, cyan, transparent) 1"}})]})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Scanning Educational DNA"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Analyzing your digital soul signature..."}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4",children:n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-2 rounded-full transition-all duration-100",style:{width:`${a}%`}})}),n.jsxs("p",{className:"text-sm text-gray-500",children:["DNA Analysis: ",a,"% Complete"]})]})}):t===ws.SOUL_REVEAL?n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center max-w-md mx-auto",children:[n.jsx("div",{className:"relative mb-8",children:n.jsxs("div",{className:"w-48 h-48 mx-auto relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full animate-pulse scale-110 blur-xl"}),n.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute inset-8 bg-gradient-to-br from-cyan-300 to-purple-300 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-white font-mono text-sm text-center",children:[n.jsx("div",{className:"font-bold",children:o(e)}),n.jsx("div",{className:"text-xs opacity-70",children:"Digital Soul"})]})})]})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Soul Repository Unlocked"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Welcome to your educational DNA collection"}),n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"w-8 h-8 mx-auto bg-gradient-to-r from-purple-500 to-blue-500 rounded-full"})})]})}):null},RQ=()=>{var d;const{soulStage:t,certificates:e,soulMetrics:s,userWallet:r,isSoulReading:a,selectedSoul:i,endSoulReading:o}=Gu(),c=h=>h?`${h.slice(0,6)}...${h.slice(-4)}`:"0x0000...0000";return t!==ws.REPOSITORY_ACTIVE&&!a?n.jsxs(n.Fragment,{children:[n.jsx(oE,{intensity:"normal"}),n.jsx(TQ,{})]}):a&&i?n.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:n.jsx("div",{className:"max-w-4xl w-full mx-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/90 rounded-2xl border-2 border-purple-500/50 backdrop-blur-xl p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Soul Reading Complete"}),n.jsx("p",{className:"text-gray-400",children:"Detailed analysis of your educational DNA"})]}),n.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:"✕"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-slate-700/50 p-6 rounded-xl border border-gray-600/30",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Soul Fragment Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Certificate Name"}),n.jsx("div",{className:"text-white font-semibold",children:i.certificateName||((d=i.metadata)==null?void 0:d.name)||`Soul Fragment #${i.id}`})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Course"}),n.jsx("div",{className:"text-purple-400 font-semibold",children:i.courseName||`Course ${i.courseId}`})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Completion Date"}),n.jsx("div",{className:"text-white",children:i.completionDate?new Date(i.completionDate).toLocaleDateString():"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Knowledge Level"}),n.jsx("div",{className:"text-green-400 font-bold text-lg",children:i.grade?`${i.grade}%`:"N/A"})]})]})]}),n.jsxs("div",{className:"bg-slate-700/50 p-6 rounded-xl border border-gray-600/30",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Soul Owner"}),n.jsx("div",{className:"font-mono text-blue-400 text-lg",children:c(i.student)}),n.jsx("div",{className:"text-gray-400 text-sm mt-2",children:"Your digital soul signature"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-slate-700/50 p-6 rounded-xl border border-gray-600/30",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Soul Analysis"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Verification Status"}),n.jsx("span",{className:`font-bold ${i.isVerified?"text-green-400":i.isRevoked?"text-red-400":"text-yellow-400"}`,children:i.isVerified?"Verified":i.isRevoked?"Revoked":"Pending"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"DNA Integrity"}),n.jsx("span",{className:"text-green-400 font-bold",children:i.isVerified?"98.7%":"Scanning..."})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Soul Density"}),n.jsx("span",{className:"text-purple-400 font-bold",children:i.grade?`${i.grade}%`:"Unknown"})]})]})]}),n.jsxs("div",{className:"bg-slate-700/50 p-6 rounded-xl border border-gray-600/30",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Soul Metrics"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-400",children:"Knowledge Density"}),n.jsxs("span",{className:"text-white",children:[s.knowledgeDensity.toFixed(1),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${s.knowledgeDensity}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-400",children:"Soul Level"}),n.jsx("span",{className:"text-white",children:s.soulLevel})]}),n.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 h-2 rounded-full transition-all duration-1000",style:{width:`${s.soulLevel/5*100}%`}})})]})]})]})]})]}),n.jsx("div",{className:"mt-8 flex justify-center space-x-4",children:n.jsx("button",{onClick:o,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-300 font-semibold",children:"Return to Repository"})})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-violet-950 text-white",children:[n.jsx(oE,{intensity:"normal"}),n.jsx("div",{className:"relative z-10 pt-16 pb-20",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-blue-400 text-transparent bg-clip-text",children:"Digital Soul Repository"}),n.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"Your educational DNA collection"}),n.jsx("div",{className:"inline-block bg-slate-800/50 backdrop-blur-sm border border-purple-500/30 rounded-lg px-6 py-3",children:n.jsxs("div",{className:"text-purple-400 font-mono text-sm",children:["Soul Signature: ",c(r)]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-purple-500/30 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:s.soulLevel}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Soul Level"})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-blue-500/30 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:s.totalSouls}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Total Souls"})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-green-500/30 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:s.verifiedSouls}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Verified Souls"})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-yellow-500/30 rounded-lg p-6 text-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:[s.knowledgeDensity.toFixed(1),"%"]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Knowledge Density"})]})]}),e.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(h=>n.jsx(SQ,{certificate:h},h.id))}):n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"text-6xl mb-6",children:"🧬"}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"No Soul Fragments Found"}),n.jsx("p",{className:"text-gray-400 mb-8",children:"Your educational DNA repository is empty. Complete courses to begin building your digital soul."}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Soul Signature: ",c(r)]})]})]})})]})},MQ=()=>{const{soulStage:t,isSoulReading:e}=Gu(),s=k.useRef(null),r=k.useRef({});return k.useEffect(()=>{s.current||(s.current=new(window.AudioContext||window.webkitAudioContext));const a=s.current,i=(d,h,f="sine",x=.1)=>{const g=a.createOscillator(),p=a.createGain();g.connect(p),p.connect(a.destination),g.frequency.setValueAtTime(d,a.currentTime),g.type=f,p.gain.setValueAtTime(0,a.currentTime),p.gain.linearRampToValueAtTime(x,a.currentTime+.01),p.gain.exponentialRampToValueAtTime(.001,a.currentTime+h),g.start(a.currentTime),g.stop(a.currentTime+h)},o=(d,h,f=.05)=>{d.forEach(x=>{i(x,h,"sine",f)})},c={portalOpen:()=>{i(80,2,"sawtooth",.15),setTimeout(()=>i(120,1.5,"sine",.1),500),setTimeout(()=>i(200,1,"triangle",.08),1e3)},dnaScan:()=>{o([220,330,440],.5,.08),setTimeout(()=>o([330,440,550],.5,.08),200),setTimeout(()=>o([440,550,660],.5,.08),400)},soulReveal:()=>{o([440,554,659],1,.1),setTimeout(()=>o([554,659,784],1,.08),300),setTimeout(()=>o([659,784,880],1,.06),600)},soulReading:()=>{i(440,.3,"sine",.06),setTimeout(()=>i(554,.3,"sine",.06),100),setTimeout(()=>i(659,.3,"sine",.06),200),setTimeout(()=>i(784,.5,"sine",.08),300)},soulHover:()=>{i(660,.2,"sine",.03)},soulClick:()=>{i(220,.1,"sawtooth",.05),setTimeout(()=>i(330,.1,"sawtooth",.05),50),setTimeout(()=>i(440,.1,"sawtooth",.05),100)},portalClose:()=>{i(200,1,"sawtooth",.12),setTimeout(()=>i(150,1,"sawtooth",.1),300),setTimeout(()=>i(100,1,"sawtooth",.08),600)}};return r.current=c,()=>{s.current&&s.current.state!=="closed"&&s.current.close()}},[]),k.useEffect(()=>{const a=r.current;if(a)switch(t){case ws.PORTAL_OPENING:a.portalOpen();break;case ws.DNA_SCANNING:a.dnaScan();break;case ws.SOUL_REVEAL:a.soulReveal();break;case ws.PORTAL_CLOSING:a.portalClose();break}},[t]),k.useEffect(()=>{const a=r.current;e&&a&&a.soulReading()},[e]),null},DQ=({certificates:t,userWallet:e})=>n.jsxs(kQ,{certificates:t,userWallet:e,children:[n.jsx(MQ,{}),n.jsx(RQ,{})]}),ws={PORTAL_OPENING:"portal_opening",DNA_SCANNING:"dna_scanning",SOUL_REVEAL:"soul_reveal",REPOSITORY_ACTIVE:"repository_active",SOUL_READING:"soul_reading",PORTAL_CLOSING:"portal_closing"},ys={VERIFIED:"verified",PENDING:"pending",REVOKED:"revoked"},BQ=()=>{const{certificates:t,setCertificates:e,loading:s,setLoading:r,searchLoading:a,setSearchLoading:i,error:o,setError:c,contract:d,setContract:h,account:f,setAccount:x,setIsConnecting:g,isAdmin:p,setIsAdmin:v,verifyLoading:y,setVerifyLoading:w,revokeLoading:A,setRevokeLoading:j,showRevokeModal:C,setShowRevokeModal:S,revocationReason:E,setRevocationReason:M,searchTerm:R,setSearchTerm:_,statusFilter:I,setStatusFilter:D,viewMode:B,setViewMode:O,lastUpdated:$,setLastUpdated:Y,currentPage:H,setCurrentPage:L,hasMore:V,setHasMore:X,loadingMore:ee,setLoadingMore:F,visibleCertificates:z,setVisibleCertificates:G,totalCertificates:K,setTotalCertificates:W,studentAddressFilter:Q,setStudentAddressFilter:Z,institutionFilter:ne,setInstitutionFilter:re,isSearching:ke,setIsSearching:Me,maxResults:de,selectedCertificates:be,setSelectedCertificates:me,bulkActionLoading:ve,setBulkActionLoading:Ae,startDate:Be,setStartDate:ue,endDate:le,setEndDate:ye,showDateFilter:je,setShowDateFilter:Se,noResultsAddress:Ne,setNoResultsAddress:De}=Kq(),[_e,st]=k.useState(null),[Pe,ot]=k.useState(!1),[nt,$e]=k.useState(""),[Mt,rs]=k.useState({}),[Xt,sn]=k.useState(!1),[xt,Rs]=k.useState(!1),{courseNameFilter:Tn,handleClearSearchAndShowAll:xr,handleSearch:Gr,handleResetSearch:ai}=mW(d,f,t,e,G,c,i,r,L,X,Y,R,I,De,de,F,W,p,xt),Rn=async(Ye,vt)=>{try{if(!Ye||!vt)return!1;const It=await Ye.DEFAULT_ADMIN_ROLE(),Ut=await Ye.hasRole(It,vt);return console.log("Admin status:",Ut),v(Ut),Ut}catch(It){return console.error("Error checking admin status:",It),!1}};k.useEffect(()=>{os(t,R,I,G)},[t,R,I]);const gr=async(Ye,vt)=>{try{if(!Ye||!vt)return!1;let It=await Ye.authorizedInstitutions(vt);if(console.log("Is institute account (via authorizedInstitutions):",It),!It)try{const Ut=await Ye.INSTITUTION_ROLE();It=await Ye.hasRole(Ut,vt),console.log("Is institute account (via hasRole):",It)}catch(Ut){console.warn("Error checking INSTITUTION_ROLE:",Ut)}return Rs(It),It}catch(It){return console.error("Error checking institute status:",It),!1}};k.useEffect(()=>{if(!window.ethereum)return;const Ye=async It=>{if(console.log("Accounts changed:",It),It.length===0)x(null),e([]),c("Please connect your wallet");else{const Ut=It[0];x(Ut),d&&(await Rn(d,Ut),await gr(d,Ut))}},vt=()=>{window.location.reload()};return window.ethereum.on("accountsChanged",Ye),window.ethereum.on("chainChanged",vt),()=>{window.ethereum.removeListener("accountsChanged",Ye),window.ethereum.removeListener("chainChanged",vt)}},[d,Rn,gr]);const{connectWallet:bn}=cW(c,r,g,x);uW(bn,Rn,p,de,H,t,ee,ke,R,I,Q,ne,Be,le,L,X,r,i,e,G,F,Me,c,W,Y,De,os,h,gr);const{handleCertificateEvent:Mn,handleCertificateStatusEvent:pr,handleCertificateBurnEvent:ya,handleCertificateBurnApprovedEvent:Dn,handleCertificateBurnedEvent:qr}=aW(d,t,K,e,W,Y,os,G,R,I,UR,p,xt,f);k.useEffect(()=>d?((async()=>{d.on("CertificateIssued",Mn),d.on("CertificateVerified",Mn),d.on("CertificateRevoked",Mn),d.on("CertificateUpdated",Mn),d.on("CertificateStatusChanged",pr),d.on("CertificateBurnRequested",ya),d.on("CertificateBurnApproved",Dn),d.on("CertificateBurned",qr);let vt=0;window.ethereum&&new Xe(window.ethereum).on("block",async Ut=>{if(Ut-vt>=10){if(vt=Ut,p){const Is=await d.totalSupply().catch(()=>0);Is>K&&(console.log(`Block ${Ut}: New certificates detected (${Is} > ${K})`),W(Number(Is)),Number(Is)-K>5&&Ya(d,{reset:!0,isAdmin:!0,maxResults:de,currentPage:H,certificates:t,loadingMore:ee,isSearching:ke,searchTerm:R,statusFilter:I,studentAddressFilter:Q,institutionFilter:ne,startDate:Be,endDate:le,setCurrentPage:L,setHasMore:X,setLoading:r,setSearchLoading:i,setCertificates:e,setVisibleCertificates:G,setLoadingMore:F,setIsSearching:Me,setError:c,setTotalCertificates:W,setLastUpdated:Y,setNoResultsAddress:De,updateVisibleCertificates:os}))}else if(xt){const Is=await d.totalSupply().catch(()=>0);Is>K&&(console.log(`Block ${Ut}: New certificates detected (${Is} > ${K})`),W(Number(Is)),Number(Is)-K>5&&Ya(d,{reset:!0,isAdmin:!1,isInstitute:!0,maxResults:de,currentPage:H,certificates:t,loadingMore:ee,isSearching:ke,searchTerm:R,statusFilter:I,studentAddressFilter:Q,institutionFilter:ne,startDate:Be,endDate:le,setCurrentPage:L,setHasMore:X,setLoading:r,setSearchLoading:i,setCertificates:e,setVisibleCertificates:G,setLoadingMore:F,setIsSearching:Me,setError:c,setTotalCertificates:W,setLastUpdated:Y,setNoResultsAddress:De,updateVisibleCertificates:os}))}else if(f)try{const Is=await d.balanceOf(f).catch(()=>0);if(Number(Is)>0){const tr=[],Co=t.filter(yn=>!yn.isVerified&&!yn.isRevoked).map(yn=>Number(yn.id));if(Co.length>0&&tr.push(...Co.slice(0,5)),tr.length<3&&t.length>3){const yn=t.filter(us=>!tr.includes(Number(us.id))).sort(()=>.5-Math.random()).slice(0,3).map(us=>Number(us.id));tr.push(...yn)}if(tr.length>0){console.log(`Checking status of ${tr.length} certificates for user`);const yn=await zt(d,tr);let us=!1;e(br=>{const Aa=[...br];return yn.forEach(vr=>{const Ql=Aa.findIndex(Ea=>Ea.id===vr.id);if(Ql>=0){const Ea=Aa[Ql];(Ea.isVerified!==vr.isVerified||Ea.isRevoked!==vr.isRevoked)&&(console.log(`Certificate ${vr.id} status changed: verified=${vr.isVerified}, revoked=${vr.isRevoked}`),Aa[Ql]={...Aa[Ql],isVerified:vr.isVerified,isRevoked:vr.isRevoked},us=!0)}}),us?Aa:br}),us&&(os(t,R,I,G),Y(Date.now()))}}}catch(Is){console.error("Error checking certificate status updates:",Is)}}})})(),()=>{d&&(d.removeAllListeners("CertificateIssued"),d.removeAllListeners("CertificateVerified"),d.removeAllListeners("CertificateRevoked"),d.removeAllListeners("CertificateUpdated"),d.removeAllListeners("CertificateStatusChanged"),d.removeAllListeners("CertificateBurnRequested"),d.removeAllListeners("CertificateBurnApproved"),d.removeAllListeners("CertificateBurned")),window.ethereum&&new Xe(window.ethereum).removeAllListeners("block")}):void 0,[d,K,Mn,pr,ya,Dn,qr,p,xt,f,t,R,I,os,G,Y,zt,Ya,de,H,ee,ke,Q,ne,Be,le,L,X,r,i,e,F,Me,c,W,De]);const{fetchRecentCertificates:Wr}=iW(d,r,c,e,os,G,X,Y,R,I,xt&&!p,f,p),{loadMetadataForCertificate:wa}=tM(d);k.useEffect(()=>{const Ye=setInterval(async()=>{d&&f&&(console.log("Periodic refresh triggered..."),await Mn())},12e4);return()=>clearInterval(Ye)},[d,f,Mn]);const{handleVerifyCertificate:Ms,error:Zt,showErrorModal:gt,closeErrorModal:As}=oW(d,_e,w,e,st,ca),{handleRevokeCertificate:Yn,error:vo,showErrorModal:yo,closeErrorModal:Wl}=lW(d,_e,j,e,st,S,M,ca),Qn=k.useMemo(()=>Qq(Ye=>_(Ye),300),[]);k.useEffect(()=>()=>{Qn.cancel()},[Qn]),dW(e,c,r);const{showMetadata:ii,imageLoading:Kn,selectedCertificate:Yr,handleViewMetadata:Xn,closeModal:Bn}=hW(wa),{showImage:qt,imageLoading:Yl,selectedCertificate:oi,handleViewImage:Zn,handleImageLoad:Jn,handleImageError:Cd,closeImageModal:Qr}=fW(wa,Bn,ii),li=Ye=>{st(Ye),S(!0)},wo=Ye=>{if(Ye.preventDefault(),!E.trim()){alert("Please provide a reason for revocation");return}Yn(_e,E)},Na=k.useCallback(Ye=>{me(vt=>vt.some(Ut=>Ut.id===Ye.id)?vt.filter(Ut=>Ut.id!==Ye.id):[...vt,Ye])},[]),Kr=k.useCallback(()=>{me(z)},[z]),_n=k.useCallback(()=>{me([])},[]),ja=k.useCallback(async()=>{try{if(!d||be.length===0)return;Ae(!0);const Ye=be.map(us=>us.id);console.log(`Bulk verifying ${Ye.length} certificates:`,Ye);const vt=await eM(Ye);console.log("Retrieved batch details:",vt);const It=Ye.filter(us=>{const br=be.find(Aa=>Aa.id===us);return br&&!br.isVerified});if(It.length===0){console.log("No unverified certificates to process"),Ae(!1);return}const Ut=new Xe(window.ethereum),Co=await(await d.connect(await Ut.getSigner()).verifyMultipleCertificates(It)).wait();console.log("Bulk verification completed:",Co);const yn=t.map(us=>It.includes(us.id)?{...us,isVerified:!0}:us);e(yn),os(yn,R,I,G),me([]),Y(Date.now())}catch(Ye){console.error("Error during bulk verification:",Ye),c(`Bulk verification failed: ${Ye.message}`)}finally{Ae(!1)}},[d,be,t,R,I,os]),ci=k.useCallback(()=>{S(!1),M("")},[]),{burnLoading:vn,showBurnModal:No,burnReason:Ca,burnTimelock:jo,setBurnReason:di,requestBurnCertificate:qs,requestBurnMultipleCertificates:Ie,burnCertificate:tt,openBurnModal:er,closeBurnModal:kd,cancelBurnRequest:Ad,error:t1,showErrorModal:In,closeErrorModal:Yu}=sM(d,e,st),zm=k.useCallback(async()=>{if(!(!d||be.length===0||!nt.trim()))try{const Ye=be.map(vt=>vt.id);await Ie(Ye,nt),me([]),ot(!1),$e(""),console.log(`Burn requests submitted for ${Ye.length} certificates`)}catch(Ye){console.error("Error during batch burn request:",Ye),c(`Batch burn request failed: ${Ye.message}`)}},[d,be,nt,Ie,c]);k.useCallback(()=>{Bn(),Qr(),ci(),kd()},[Bn,Qr,ci,kd]);const Qu=k.useCallback(()=>{if(!s&&!ee&&V&&d)if(xt&&!p){F(!0),console.log(`Loading more institute certificates from page ${H}`);const Ye=H*20;typeof d.getCertificatesByInstitution=="function"?(async()=>{try{const vt=await d.getCertificatesByInstitution(f,Ye,20);if(console.log(`Loaded ${vt.length} more institute certificates`),vt&&vt.length>0){const It=await zt(d,vt.map(Is=>Number(Is))),Ut=[...t,...It];e(Ut),os(Ut,R,I,G),L(H+1),X(vt.length>=20),Y(Date.now())}else X(!1)}catch(vt){console.error("Error loading more institute certificates:",vt),c("Failed to load more certificates")}finally{F(!1)}})():Ya(d,{reset:!1,isAdmin:!1,isInstitute:!0,maxResults:de,currentPage:H,certificates:t,loadingMore:ee,isSearching:ke,searchTerm:R,statusFilter:I,studentAddressFilter:Q,institutionFilter:f,startDate:Be,endDate:le,setCurrentPage:L,setHasMore:X,setLoading:r,setSearchLoading:i,setCertificates:e,setVisibleCertificates:G,setLoadingMore:F,setIsSearching:Me,setError:c,setTotalCertificates:W,setLastUpdated:Y,setNoResultsAddress:De,updateVisibleCertificates:os})}else Ya(d,{reset:!1,isAdmin:!0,isInstitute:!1,maxResults:de,currentPage:H,certificates:t,loadingMore:ee,isSearching:ke,searchTerm:R,statusFilter:I,studentAddressFilter:Q,institutionFilter:p?ne:"",startDate:Be,endDate:le,setCurrentPage:L,setHasMore:X,setLoading:r,setSearchLoading:i,setCertificates:e,setVisibleCertificates:G,setLoadingMore:F,setIsSearching:Me,setError:c,setTotalCertificates:W,setLastUpdated:Y,setNoResultsAddress:De,updateVisibleCertificates:os})},[s,ee,V,d,H,t,ke,R,I,Q,ne,p,xt,f,de,Be,le]),ka=k.useCallback(Ye=>{console.log(`Start burn animation for certificate #${Ye.id}`),setTimeout(()=>{rs(vt=>({...vt,[Ye.id]:!0}))},100)},[]),{showQRModal:Um,selectedCertificate:$m,openQRModal:ui,closeQRModal:s1}=CQ();return!p&&!xt&&f?n.jsx(DQ,{certificates:t,userWallet:f}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-violet-950 text-white pt-16 pb-20",children:[n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:p?"Certificate Management":xt?"Institute Certificates":"My Certificates"}),$&&n.jsxs("p",{className:"text-gray-400 text-sm",children:["Last updated: ",new Date($).toLocaleTimeString()]})]})}),n.jsx(xW,{totalCertificates:K,certificatesCount:t.length,visibleCount:z.length,lastUpdated:$,isLoading:s,onFetchRecent:Wr,isAdmin:p,isInstitute:xt}),n.jsx(nM,{error:o}),(p||xt)&&n.jsx(pW,{searchTerm:R,setSearchTerm:_,studentAddressFilter:Q,setStudentAddressFilter:Z,institutionFilter:ne,setInstitutionFilter:re,statusFilter:I,setStatusFilter:D,searchLoading:a,loading:s,setNoResultsAddress:De,normalizeAddress:Ka,setError:c,setSearchLoading:i,setCurrentPage:L,contract:d,handleSearch:Gr,handleResetSearch:ai,viewMode:B,setViewMode:O,startDate:Be,setStartDate:ue,endDate:le,setEndDate:ye,showDateFilter:je,setShowDateFilter:Se,courseNameFilter:Tn}),!p&&!xt&&n.jsx(bW,{searchTerm:R,setSearchTerm:_,statusFilter:I,setStatusFilter:D,viewMode:B,setViewMode:O}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg overflow-hidden",children:s&&t.length===0?n.jsx(yW,{}):z.length===0?n.jsx(vW,{error:o,noResultsAddress:Ne,studentAddressFilter:Q,institutionFilter:ne,certificates:t,handleClearSearchAndShowAll:xr,isAdmin:p,isInstitute:xt,searchTerm:R,statusFilter:I,courseNameFilter:Tn}):n.jsxs("div",{className:"overflow-auto",style:{maxHeight:"70vh"},children:[B==="grid"?n.jsx(kW,{visibleCertificates:z,selectedCertificates:be,isAdmin:p,isInstitute:xt,toggleCertificateSelection:Na,openMetadataModal:Xn,handleViewImage:Zn,handleVerifyCertificate:Ms,verifyLoading:y,openRevokeModal:li,revokeLoading:A,openBurnModal:er,burnTimelock:jo,openQRModal:ui,onBurnAnimationStart:ka}):n.jsx(EW,{visibleCertificates:z,selectedCertificates:be,isAdmin:p,isInstitute:xt,toggleCertificateSelection:Na,selectAllVisible:Kr,clearSelection:_n,openMetadataModal:Xn,handleViewImage:Zn,handleVerifyCertificate:Ms,verifyLoading:y,openRevokeModal:li,revokeLoading:A,openBurnModal:er,burnTimelock:jo,openQRModal:ui,onBurnAnimationStart:ka}),n.jsx(SW,{loadingMore:ee,hasMore:V,loadMoreCertificates:Qu,certificates:t})]})})]}),n.jsx(RW,{showMetadata:ii,metadataCertificate:Yr,metadataImageLoading:Kn,closeMetadataModal:Bn}),n.jsx(MW,{showImage:qt,imageCertificate:oi,imageLoading:Yl,closeImageModal:Qr,handleImageLoad:Jn,handleImageError:Cd,placeholderImage:Qf,isAdmin:p,isInstitute:xt,handleVerifyCertificate:Ms,verifyLoading:y,openRevokeModal:li,revokeLoading:A}),n.jsx(DW,{showRevokeModal:C,selectedCertificate:_e,revocationReason:E,setRevocationReason:M,closeRevokeModal:ci,handleRevokeSubmit:wo,revokeLoading:A}),be.length>0&&n.jsx(iM,{selectedCertificates:be,clearSelection:()=>me([]),bulkVerifyCertificates:ja,bulkActionLoading:ve,onRequestBurnClick:()=>ot(!0),isInstitute:xt}),Pe&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Request Burn for Multiple Certificates"}),n.jsxs("p",{className:"text-gray-300 mb-4",children:["You are about to request burn for ",be.length," certificate(s). Please provide a reason for this request."]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-300 mb-2",children:"Reason for burn request"}),n.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white",rows:"3",value:nt,onChange:Ye=>$e(Ye.target.value),placeholder:"Enter reason for burn request..."})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",onClick:()=>{ot(!1),$e("")},children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:!nt.trim()||vn,onClick:zm,children:vn?"Processing...":"Submit Burn Request"})]})]})}),n.jsx(BW,{showBurnModal:No,selectedCertificate:_e,burnReason:Ca,setBurnReason:di,burnTimelock:jo,closeBurnModal:kd,handleBurnRequest:qs,handleCancelRequest:Ad,burnLoading:vn,canDirectBurn:p,handleDirectBurn:tt,isInstitute:xt,onBurnAnimationStart:ka}),n.jsx(Vg,{show:yo,onClose:Wl,error:vo,action:"revoke"}),n.jsx(Vg,{show:gt,onClose:As,error:Zt,action:"verify"}),n.jsx(Vg,{show:In,onClose:Yu,error:t1,action:"burn"}),n.jsx(jQ,{showQRModal:Um,certificate:$m,userWallet:f,closeQRModal:s1})]})};let _Q={data:""},IQ=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||_Q,LQ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OQ=/\/\*[^]*?\*\/|  +/g,lE=/\n+/g,nl=(t,e)=>{let s="",r="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":r+=i[1]=="f"?nl(o,i):i+"{"+nl(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=nl(o,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=nl.p?nl.p(i,o):i+":"+o+";")}return s+(e&&a?e+"{"+a+"}":a)+r},Ai={},xM=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+xM(t[s]);return e}return t},PQ=(t,e,s,r,a)=>{let i=xM(t),o=Ai[i]||(Ai[i]=(d=>{let h=0,f=11;for(;h<d.length;)f=101*f+d.charCodeAt(h++)>>>0;return"go"+f})(i));if(!Ai[o]){let d=i!==t?t:(h=>{let f,x,g=[{}];for(;f=LQ.exec(h.replace(OQ,""));)f[4]?g.shift():f[3]?(x=f[3].replace(lE," ").trim(),g.unshift(g[0][x]=g[0][x]||{})):g[0][f[1]]=f[2].replace(lE," ").trim();return g[0]})(t);Ai[o]=nl(a?{["@keyframes "+o]:d}:d,s?"":"."+o)}let c=s&&Ai.g?Ai.g:null;return s&&(Ai.g=Ai[o]),((d,h,f,x)=>{x?h.data=h.data.replace(x,d):h.data.indexOf(d)===-1&&(h.data=f?d+h.data:h.data+d)})(Ai[o],e,r,c),o},FQ=(t,e,s)=>t.reduce((r,a,i)=>{let o=e[i];if(o&&o.call){let c=o(s),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=d?"."+d:c&&typeof c=="object"?c.props?"":nl(c,""):c===!1?"":c}return r+a+(o??"")},"");function Gb(t){let e=this||{},s=t.call?t(e.p):t;return PQ(s.unshift?s.raw?FQ(s,[].slice.call(arguments,1),e.p):s.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):s,IQ(e.target),e.g,e.o,e.k)}let gM,e4,t4;Gb.bind({g:1});let xo=Gb.bind({k:1});function zQ(t,e,s,r){nl.p=e,gM=t,e4=s,t4=r}function Gl(t,e){let s=this||{};return function(){let r=arguments;function a(i,o){let c=Object.assign({},i),d=c.className||a.className;s.p=Object.assign({theme:e4&&e4()},c),s.o=/ *go\d+/.test(d),c.className=Gb.apply(s,r)+(d?" "+d:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),t4&&h[0]&&t4(c),gM(h,c)}return a}}var UQ=t=>typeof t=="function",tb=(t,e)=>UQ(t)?t(e):t,$Q=(()=>{let t=0;return()=>(++t).toString()})(),pM=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HQ=20,bM=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,HQ)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:s}=e;return bM(t,{type:t.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Ep=[],Lc={toasts:[],pausedAt:void 0},jd=t=>{Lc=bM(Lc,t),Ep.forEach(e=>{e(Lc)})},VQ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GQ=(t={})=>{let[e,s]=k.useState(Lc),r=k.useRef(Lc);k.useEffect(()=>(r.current!==Lc&&s(Lc),Ep.push(s),()=>{let i=Ep.indexOf(s);i>-1&&Ep.splice(i,1)}),[]);let a=e.toasts.map(i=>{var o,c,d;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((c=t[i.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||VQ[i.type],style:{...t.style,...(d=t[i.type])==null?void 0:d.style,...i.style}}});return{...e,toasts:a}},qQ=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||$Q()}),Om=t=>(e,s)=>{let r=qQ(e,t,s);return jd({type:2,toast:r}),r.id},es=(t,e)=>Om("blank")(t,e);es.error=Om("error");es.success=Om("success");es.loading=Om("loading");es.custom=Om("custom");es.dismiss=t=>{jd({type:3,toastId:t})};es.remove=t=>jd({type:4,toastId:t});es.promise=(t,e,s)=>{let r=es.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?tb(e.success,a):void 0;return i?es.success(i,{id:r,...s,...s==null?void 0:s.success}):es.dismiss(r),a}).catch(a=>{let i=e.error?tb(e.error,a):void 0;i?es.error(i,{id:r,...s,...s==null?void 0:s.error}):es.dismiss(r)}),t};var WQ=(t,e)=>{jd({type:1,toast:{id:t,height:e}})},YQ=()=>{jd({type:5,time:Date.now()})},Nf=new Map,QQ=1e3,KQ=(t,e=QQ)=>{if(Nf.has(t))return;let s=setTimeout(()=>{Nf.delete(t),jd({type:4,toastId:t})},e);Nf.set(t,s)},XQ=t=>{let{toasts:e,pausedAt:s}=GQ(t);k.useEffect(()=>{if(s)return;let i=Date.now(),o=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(d<0){c.visible&&es.dismiss(c.id);return}return setTimeout(()=>es.dismiss(c.id),d)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[e,s]);let r=k.useCallback(()=>{s&&jd({type:6,time:Date.now()})},[s]),a=k.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:h}=o||{},f=e.filter(p=>(p.position||h)===(i.position||h)&&p.height),x=f.findIndex(p=>p.id===i.id),g=f.filter((p,v)=>v<x&&p.visible).length;return f.filter(p=>p.visible).slice(...c?[g+1]:[0,g]).reduce((p,v)=>p+(v.height||0)+d,0)},[e]);return k.useEffect(()=>{e.forEach(i=>{if(i.dismissed)KQ(i.id,i.removeDelay);else{let o=Nf.get(i.id);o&&(clearTimeout(o),Nf.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:WQ,startPause:YQ,endPause:r,calculateOffset:a}}},ZQ=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,JQ=xo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eK=xo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tK=Gl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZQ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${JQ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sK=xo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nK=Gl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${sK} 1s linear infinite;
`,rK=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aK=xo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iK=Gl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oK=Gl("div")`
  position: absolute;
`,lK=Gl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cK=xo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dK=Gl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uK=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(dK,null,e):e:s==="blank"?null:k.createElement(lK,null,k.createElement(nK,{...r}),s!=="loading"&&k.createElement(oK,null,s==="error"?k.createElement(tK,{...r}):k.createElement(iK,{...r})))},hK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,mK="0%{opacity:0;} 100%{opacity:1;}",xK="0%{opacity:1;} 100%{opacity:0;}",gK=Gl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pK=Gl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bK=(t,e)=>{let s=t.includes("top")?1:-1,[r,a]=pM()?[mK,xK]:[hK(s),fK(s)];return{animation:e?`${xo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vK=k.memo(({toast:t,position:e,style:s,children:r})=>{let a=t.height?bK(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(uK,{toast:t}),o=k.createElement(pK,{...t.ariaProps},tb(t.message,t));return k.createElement(gK,{className:t.className,style:{...a,...s,...t.style}},typeof r=="function"?r({icon:i,message:o}):k.createElement(k.Fragment,null,i,o))});zQ(k.createElement);var yK=({id:t,className:e,style:s,onHeightUpdate:r,children:a})=>{let i=k.useCallback(o=>{if(o){let c=()=>{let d=o.getBoundingClientRect().height;r(t,d)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:i,className:e,style:s},a)},wK=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pM()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...a}},NK=Gb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cg=16,jK=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:d}=XQ(s);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:cg,left:cg,right:cg,bottom:cg,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(h=>{let f=h.position||e,x=d.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),g=wK(f,x);return k.createElement(yK,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?NK:"",style:g},h.type==="custom"?tb(h.message,h):a?a(h):k.createElement(vK,{toast:h,position:f}))}))},At=es;const s4=(t,e,s)=>{const r=s==="meta"?"json":"png",a=e.substring(0,8);return`${t}-${a}-${s}.${r}`},vM=async(t,e=()=>{},s,r,a,i=null)=>{try{console.log(`Uploading file to IPFS via Pinata: ${t.name||"unnamed file"}`);const o=s4(s,r,a);let c=0;const d=setInterval(()=>{c+=.1,c<.9?e(c):clearInterval(d)},500),h=new FormData;h.append("file",t,o);const f=JSON.stringify({name:o,keyvalues:{courseId:s,studentAddress:r.substring(0,8),fileType:a,timestamp:new Date().toISOString(),groupId:i||s,courseGroup:i||s,belongsToGroup:"true"}});h.append("pinataMetadata",f);const x=JSON.stringify({cidVersion:1});h.append("pinataOptions",x);const g=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{Authorization:`Bearer ${no.jwt}`},body:h});if(clearInterval(d),!g.ok){const y=await g.text();throw console.error("Pinata API error response:",y),new Error(`HTTP error: ${g.status} ${g.statusText}`)}const v=(await g.json()).IpfsHash;console.log(`File uploaded to IPFS with CID: ${v} (metadata already contains group info)`);try{(await fetch("https://api.pinata.cloud/pinning/hashMetadata",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${no.jwt}`},body:JSON.stringify({ipfsPinHash:v,name:o,keyvalues:{courseId:s,studentAddress:r.substring(0,8),fileType:a,timestamp:new Date().toISOString(),groupId:i||s,courseGroup:i||s,belongsToGroup:"true"}})})).ok&&console.log("Successfully reinforced file metadata with group info")}catch(y){console.warn(`Metadata update error (non-critical): ${y.message}`)}return e(1),v}catch(o){console.error("Error uploading to IPFS via Pinata:",o);try{console.log("Pinata upload failed, trying fallback method...");let c=0;const d=setInterval(()=>{c+=.1,c<.9?e(c):clearInterval(d)},300),h=s4(s,r,a),f=new FormData;f.append("file",t,h);const g=await fetch("https://api.nft.storage/upload",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDM0MTczM2Q0NzQ0MTcxYkEwN0M3N0ZmQTVBZjBCQTgzOTU2MEJFODQiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY4NzI4MDQzNTQxNiwibmFtZSI6IkJsb2NrRXNjcm93M0QifQ.EBEYiS20I5EpcTtv1Y_xJhkWFPNbhROA7d6HZyoNyvs"},body:f});if(clearInterval(d),!g.ok)throw new Error(`Fallback HTTP error: ${g.status}`);const v=(await g.json()).value.cid;return console.log(`File uploaded to IPFS with fallback service. CID: ${v}`),e(1),v}catch(c){throw console.error("Fallback upload also failed:",c),new Error(`All IPFS upload methods failed. Original error: ${o.message}`)}}},cE=async(t,e=()=>{},s,r,a=null)=>{try{console.log("Uploading JSON metadata to IPFS via Pinata");const i=s4(s,r,"meta");let o=0;const c=setInterval(()=>{o+=.1,o<.9?e(o):clearInterval(c)},500),d=JSON.stringify(t);try{const h={name:i,keyvalues:{courseId:s,studentAddress:r.substring(0,8),fileType:"metadata",timestamp:new Date().toISOString(),groupId:a||s,courseGroup:a||s,belongsToGroup:"true"}},f={cidVersion:1},g={pinataContent:{...t,_pinataMetadata:{groupId:a||s,courseId:s,timestamp:new Date().toISOString()}},pinataMetadata:h,pinataOptions:f},p=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${no.jwt}`},body:JSON.stringify(g)});if(clearInterval(c),!p.ok){const w=await p.text();throw console.error("Pinata JSON upload error:",w),new Error("Failed to upload JSON to Pinata")}const y=(await p.json()).IpfsHash;return console.log(`JSON uploaded to IPFS with CID: ${y} (metadata already contains group info)`),e(1),y}catch(h){console.warn("Direct JSON upload failed, trying file method:",h);const f=new Blob([d],{type:"application/json"}),x=new File([f],i,{type:"application/json"});return await vM(x,e,s,r,"meta",a)}}catch(i){throw console.error("Error uploading JSON to IPFS:",i),new Error(`IPFS JSON upload failed: ${i.message}`)}},CK=async(t,e)=>{var s,r,a;try{const i=`Course-${t}-${e.replace(/\s+/g,"-")}`;console.log(`Setting up course group: ${i}`);const o=`course-${t}-${e.substring(0,20).replace(/\s+/g,"-").toLowerCase()}`;try{const c=await fetch("https://api.pinata.cloud/data/pinList?metadata[name]=Course",{method:"GET",headers:{Authorization:`Bearer ${no.jwt}`}});if(c.ok){const f=(s=(await c.json()).rows)==null?void 0:s.find(x=>{var g,p,v;return((g=x.metadata)==null?void 0:g.name)===`${i}-marker`||((v=(p=x.metadata)==null?void 0:p.name)==null?void 0:v.includes(i))});if(f)return console.log(`Found existing group marker for ${i}`),((a=(r=f.metadata)==null?void 0:r.keyvalues)==null?void 0:a.groupId)||f.ipfs_pin_hash}console.log(`Creating new group marker for ${i}`);const d=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${no.jwt}`},body:JSON.stringify({pinataContent:{type:"course-group",courseId:t,courseName:e,created:new Date().toISOString()},pinataMetadata:{name:`${i}-marker`,keyvalues:{type:"course-group",courseId:t,groupId:o,isGroupMarker:"true"}}})});if(d.ok){const h=await d.json();return console.log(`Created course group marker in Pinata with CID: ${h.IpfsHash}`),o}}catch(c){console.warn(`Error with Pinata API: ${c.message}`)}try{console.log(`Attempting to create pinning group with legacy API: ${i}`);const c=await fetch("https://api.pinata.cloud/pinning/createPinGroup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${no.jwt}`},body:JSON.stringify({name:i})});if(c.ok){const d=await c.json();return console.log(`Created pinning group with Pinata legacy API: ${d.id}`),d.id}else{const d=await c.text();console.error(`Failed to create group with legacy API: ${d}`)}}catch(c){console.warn(`Error with Pinata legacy API: ${c.message}`)}return console.log(`Using fallback method for group tracking: ${o}`),o}catch(i){return console.error("Error creating/getting course group:",i),`course-${t}`}},go=({size:t="medium",variant:e="default",text:s,color:r="text-blue-500",className:a=""})=>{let i,o;switch(t){case"small":i="w-4 h-4 border-2",o="w-8 h-8";break;case"large":i="w-12 h-12 border-4",o="w-16 h-16";break;case"xl":i="w-16 h-16 border-4",o="w-24 h-24";break;case"medium":default:i="w-8 h-8 border-3",o="w-12 h-12";break}const c=()=>n.jsxs("div",{className:`relative ${o}`,children:[n.jsx(Je.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 border-2 border-cyan-500/30 border-t-cyan-400 rounded-full"}),n.jsx(Je.div,{animate:{rotate:-360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-1 border-2 border-purple-500/30 border-t-purple-400 rounded-full"}),n.jsx(Je.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"absolute inset-2 border-2 border-blue-500/30 border-t-blue-400 rounded-full"}),n.jsx(Je.div,{animate:{scale:[.5,1,.5],opacity:[.3,1,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-4 bg-gradient-to-r from-cyan-400 to-purple-400 rounded-full"}),[...Array(4)].map((g,p)=>n.jsx(Je.div,{animate:{scale:[0,1,0],rotate:360,opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:p*.5,ease:"easeInOut"},className:"absolute w-1 h-1 bg-cyan-400 rounded-full",style:{left:"50%",top:"20%",transformOrigin:"0 200%"}},p))]}),d=()=>n.jsx("div",{className:`relative ${o}`,children:n.jsx(Je.div,{animate:{rotateX:360,rotateY:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"w-full h-full",style:{transformStyle:"preserve-3d"},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-blue-500 opacity-20 rounded border border-cyan-400/50"})})}),h=()=>n.jsx("div",{className:"flex space-x-2",children:[...Array(3)].map((g,p)=>n.jsx(Je.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:p*.2,ease:"easeInOut"},className:"w-3 h-3 bg-cyan-400 rounded-full"},p))}),f=()=>n.jsx("div",{className:`${i} ${r} border-t-transparent border-solid rounded-full animate-spin`,role:"status","aria-label":"Loading"}),x=()=>{switch(e){case"quantum":return n.jsx(c,{});case"cube":return n.jsx(d,{});case"dots":return n.jsx(h,{});default:return n.jsx(f,{})}};return n.jsxs("div",{className:`flex items-center justify-center ${a}`,children:[x(),s&&n.jsx("span",{className:"ml-3 text-gray-300",children:s})]})},kK=({value:t,onChange:e,options:s=[],placeholder:r="Select an option",disabled:a=!1,loading:i=!1,error:o=!1,name:c,className:d=""})=>{const[h,f]=k.useState(!1),[x,g]=k.useState(null),[p,v]=k.useState(""),y=k.useRef(null);k.useEffect(()=>{const C=s.find(S=>S.value===t);g(C)},[t,s]),k.useEffect(()=>{const C=S=>{y.current&&!y.current.contains(S.target)&&f(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=C=>{if(g(C),f(!1),v(""),e){const S={target:{name:c,value:C.value}};e(S)}},A=()=>{!a&&!i&&(f(!h),h||v(""))},j=s.filter(C=>C.label.toLowerCase().includes(p.toLowerCase()));return n.jsxs("div",{ref:y,className:`relative ${d}`,children:[n.jsx("button",{type:"button",onClick:A,disabled:a||i,className:`w-full px-4 py-3 bg-cyan-900/40 text-left outline-none rounded-xl border-2 border-cyan-400/80 focus:ring-2 focus:ring-cyan-300 focus:border-cyan-300 shadow-cyan-400/30 font-mono tracking-widest transition-all duration-200 backdrop-blur-md ${o?"border-red-500 ring-2 ring-red-400":"hover:bg-cyan-900/60 focus:bg-cyan-900/60"} ${a||i?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{background:"linear-gradient(135deg, rgba(8, 145, 178, 0.25) 0%, rgba(14, 116, 144, 0.35) 100%)",boxShadow:"0 4px 15px rgba(6, 182, 212, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-cyan-100 ${x?"":"opacity-70"}`,children:i?"Loading...":x?x.label:r}),n.jsxs("div",{className:"flex items-center space-x-2",children:[i&&n.jsx("div",{className:"w-4 h-4 border-2 border-cyan-400/30 border-t-cyan-400 rounded-full animate-spin"}),n.jsx("svg",{className:`w-5 h-5 text-cyan-300 transition-transform duration-200 ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),h&&!i&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),n.jsx("div",{className:"absolute z-20 w-full mt-2 bg-slate-800/95 backdrop-blur-md border border-cyan-400/30 rounded-xl shadow-2xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 20px rgba(6, 182, 212, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:n.jsxs("div",{className:"max-h-60 overflow-y-auto scrollbar-thin scrollbar-track-slate-800 scrollbar-thumb-cyan-600",children:[s.length>10&&n.jsx("div",{className:"sticky top-0 p-3 border-b border-cyan-400/20 bg-slate-900/95 backdrop-blur-md",children:n.jsx("input",{type:"text",placeholder:"Search courses...",className:"w-full px-3 py-2 bg-slate-700/50 text-cyan-100 placeholder-cyan-300/50 border border-cyan-400/30 rounded-lg text-sm font-mono focus:outline-none focus:border-cyan-300",value:p,onChange:C=>v(C.target.value),onClick:C=>C.stopPropagation()})}),j.length===0?n.jsx("div",{className:"px-4 py-3 text-center text-gray-400 font-mono text-sm",children:p?"No courses found":"No options available"}):j.map((C,S)=>n.jsx("button",{type:"button",onClick:()=>w(C),className:`w-full px-4 py-3 text-left font-mono tracking-wide transition-all duration-150 border-b border-cyan-400/10 last:border-b-0 ${(x==null?void 0:x.value)===C.value?"bg-cyan-900/60 text-cyan-100 shadow-inner":"text-cyan-200 hover:bg-cyan-900/40 hover:text-cyan-100"} ${S===0?"rounded-t-xl":""} ${S===j.length-1?"rounded-b-xl":""}`,style:(x==null?void 0:x.value)===C.value?{background:"linear-gradient(135deg, rgba(6, 182, 212, 0.3) 0%, rgba(8, 145, 178, 0.3) 100%)",boxShadow:"inset 0 2px 4px rgba(6, 182, 212, 0.2)"}:{},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:C.label}),(x==null?void 0:x.value)===C.value&&n.jsx("svg",{className:"w-4 h-4 text-cyan-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})},C.value))]})})]})]})};function AK({formData:t,onInputChange:e,validationErrors:s,touchedFields:r,loading:a,courses:i,loadingCourses:o,userAddress:c}){const[d,h]=k.useState(!1),[f,x]=k.useState(!1),g=v=>{const{name:y,value:w}=v.target;e(y,w)},p=t.studentAddress&&c&&t.studentAddress.toLowerCase()===c.toLowerCase();return k.useEffect(()=>{const y=setTimeout(async()=>{if(!t.studentAddress||!t.studentAddress.match(/^0x[a-fA-F0-9]{40}$/)){x(!1);return}if(t.studentAddress.toLowerCase()===(c==null?void 0:c.toLowerCase())){x(!1);return}try{h(!0);const w=new Xe(window.ethereum),A=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,w),j=await A.INSTITUTION_ROLE(),C=await A.hasRole(j,t.studentAddress);x(C)}catch(w){console.error("Error checking institution role:",w),x(!1)}finally{h(!1)}},500);return()=>clearTimeout(y)},[t.studentAddress,c]),n.jsxs("div",{className:"space-y-6",children:[p&&n.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500/50 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),n.jsx("span",{className:"text-sm text-red-300 font-medium",children:"Cannot issue certificate to yourself"})]})}),f&&!p&&n.jsx("div",{className:"p-3 bg-orange-900/50 border border-orange-500/50 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),n.jsx("span",{className:"text-sm text-orange-300 font-medium",children:"Cannot issue certificate to institution address"})]})}),d&&t.studentAddress&&!p&&n.jsx("div",{className:"p-3 bg-blue-900/30 border border-blue-500/50 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(go,{size:"small"}),n.jsx("span",{className:"text-sm text-blue-300",children:"Checking address type..."})]})}),s.studentAddress&&r.studentAddress&&n.jsx(nM,{error:s.studentAddress}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Student Address"}),n.jsx("input",{type:"text",name:"studentAddress",value:t.studentAddress,onChange:g,placeholder:"0x... (Student's Ethereum address)",disabled:a,className:`w-full px-4 py-3 bg-cyan-900/40 text-cyan-100 outline-none rounded-xl border-2 transition-all duration-200 futuristic-input font-mono tracking-widest ${p?"border-red-500 ring-2 ring-red-400 bg-red-900/20":f?"border-orange-500 ring-2 ring-orange-400 bg-orange-900/20":s.studentAddress&&r.studentAddress?"border-red-500 ring-2 ring-red-400":"border-cyan-400/80 focus:ring-2 focus:ring-cyan-300 focus:border-cyan-300 shadow-cyan-400/30"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Course"}),n.jsx(kK,{name:"courseId",value:t.courseId,onChange:g,options:i.map(v=>({value:v.id,label:v.name})),placeholder:"Select a course",disabled:a,loading:o,error:s.courseId&&r.courseId}),s.courseId&&r.courseId&&n.jsx("p",{className:"mt-2 text-sm text-red-400",children:s.courseId}),o&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 text-gray-400",children:[n.jsx(go,{size:"small"}),n.jsx("span",{className:"text-sm",children:"Loading courses..."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Grade"}),n.jsx("input",{type:"number",name:"grade",value:t.grade,onChange:g,onInput:v=>{let y=v.target.value.replace(/[^0-9]/g,"");if(y){let w=Math.max(1,Math.min(100,parseInt(y)));v.target.value=w}else v.target.value="";e("grade",v.target.value)},placeholder:"Grade (1-100)",min:1,max:100,step:1,pattern:"[0-9]*",disabled:a,className:`w-full px-4 py-3 bg-cyan-900/40 text-cyan-100 outline-none rounded-xl border-2 border-cyan-400/80 focus:ring-2 focus:ring-cyan-300 focus:border-cyan-300 shadow-cyan-400/30 font-mono tracking-widest transition-all duration-200 futuristic-input ${s.grade&&r.grade?"border-red-500 ring-2 ring-red-400":""}`,style:{WebkitAppearance:"none",MozAppearance:"textfield",appearance:"textfield"}}),s.grade&&r.grade&&n.jsx("p",{className:"mt-2 text-sm text-red-400",children:s.grade})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Certificate Title"}),n.jsx("input",{type:"text",name:"certificateData",value:t.certificateData,onChange:g,placeholder:"Certificate Title (letters only, max 40)",maxLength:40,disabled:a,className:`w-full px-4 py-3 bg-cyan-900/40 text-cyan-100 outline-none rounded-xl border-2 border-cyan-400/80 focus:ring-2 focus:ring-cyan-300 focus:border-cyan-300 shadow-cyan-400/30 font-mono tracking-widest transition-all duration-200 futuristic-input ${s.certificateData&&r.certificateData?"border-red-500 ring-2 ring-red-400":""}`}),s.certificateData&&r.certificateData&&n.jsx("p",{className:"mt-2 text-sm text-red-400",children:s.certificateData})]})]})}function EK({imagePreview:t,onImageUpload:e,loading:s,validationError:r,touched:a}){const i=o=>{const c=o.target.files[0];c&&e(c)};return n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Certificate Image"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",id:"certificate-image",accept:"image/*",onChange:i,disabled:s,className:"hidden"}),n.jsx("label",{htmlFor:"certificate-image",className:`flex flex-col items-center justify-center w-full h-72 border-2 border-dashed rounded-xl transition-all duration-300 cursor-pointer backdrop-blur-md ${r&&a?"border-red-500/70 bg-red-900/20 hover:bg-red-900/30":"border-violet-500/50 bg-slate-800/40 hover:bg-slate-700/50 hover:border-violet-400/70"} ${s?"opacity-50 cursor-not-allowed":""}`,style:{background:t?"transparent":"linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(51, 65, 85, 0.4) 100%)",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:t?n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("img",{src:t,alt:"Certificate preview",className:"w-full h-full object-contain rounded-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-violet-500/10 to-transparent opacity-30 rounded-xl"})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("svg",{className:"w-16 h-16 text-violet-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:n.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute -bottom-1 -left-1 w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse animation-delay-300"})]}),n.jsxs("p",{className:"mb-3 text-base text-gray-200 font-medium",children:[n.jsx("span",{className:"text-violet-400 font-semibold",children:"Click to upload"})," or drag and drop"]}),n.jsx("p",{className:"text-sm text-gray-400",children:"PNG, JPG or GIF • Maximum size: 5MB"}),n.jsxs("div",{className:"flex space-x-1 mt-4",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-violet-400 rounded-full animate-pulse"}),n.jsx("div",{className:"w-1.5 h-1.5 bg-violet-400 rounded-full animate-pulse animation-delay-200"}),n.jsx("div",{className:"w-1.5 h-1.5 bg-violet-400 rounded-full animate-pulse animation-delay-400"})]})]})})]}),r&&a&&n.jsx("div",{className:"mt-3 p-3 bg-red-900/30 border border-red-500/50 rounded-lg",children:n.jsx("p",{className:"text-sm text-red-300 font-medium",children:r})})]})}function SK({progress:t,stage:e}){return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-3",children:n.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${t}%`}})}),n.jsx("p",{className:"text-sm text-gray-400 text-center",children:e})]})}function TK({message:t}){return n.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4 text-green-400",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{children:t})]})})}function RK({message:t}){return n.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-red-400",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("span",{children:t})]})})}function MK({metadataCID:t,imageCID:e}){return n.jsxs("div",{className:"mt-8 p-6 bg-gray-700/50 rounded-lg border border-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-4",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:"Successfully saved to IPFS!"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("a",{href:`https://${no.gateway}/ipfs/${t}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition-colors text-center",children:"View Metadata"}),n.jsx("a",{href:`https://${no.gateway}/ipfs/${e}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition-colors text-center",children:"View Image"})]})]})}const Ve={IDLE:"idle",DOORS_CLOSING:"doorsClosing",MINTING:"minting",MINTING_COMPLETE:"mintingComplete",DOORS_OPENING:"doorsOpening",CERTIFICATE_REVEAL:"certificateReveal",COMPLETE:"complete"},yM=k.createContext(null),DK=({children:t})=>{const[e,s]=k.useState(Ve.IDLE),[r,a]=k.useState(!1),[i,o]=k.useState(null),[c,d]=k.useState(!1);k.useEffect(()=>{const x=window.matchMedia("(prefers-reduced-motion: reduce)").matches;d(x)},[]);const h=k.useCallback((x=null)=>{if(x){if(o(x),e===Ve.MINTING||e===Ve.MINTING_COMPLETE){s(Ve.DOORS_OPENING);const g=1500,p=g+2e3;setTimeout(()=>s(Ve.CERTIFICATE_REVEAL),g),setTimeout(()=>s(Ve.COMPLETE),p),setTimeout(()=>{f()},p+3e3)}else{o(x),a(!0),s(Ve.DOORS_CLOSING);const g=[{stage:Ve.MINTING,delay:1500},{stage:Ve.MINTING_COMPLETE,delay:2e3},{stage:Ve.DOORS_OPENING,delay:1e3},{stage:Ve.CERTIFICATE_REVEAL,delay:1500},{stage:Ve.COMPLETE,delay:2e3}];let p=0;g.forEach(({stage:v,delay:y})=>{p+=y,setTimeout(()=>s(v),p)}),setTimeout(()=>{f()},p+3e3)}return}r&&(e===Ve.MINTING||e===Ve.DOORS_CLOSING)||(o(null),a(!0),s(Ve.DOORS_CLOSING),setTimeout(()=>s(Ve.MINTING),1500))},[e,r]),f=k.useCallback(()=>{s(Ve.IDLE),a(!1)},[]);return n.jsx(yM.Provider,{value:{stage:e,isActive:r,certificateData:i,allowReducedMotion:c,startAnimation:h,resetAnimation:f},children:t})},qu=()=>{const t=k.useContext(yM);if(!t)throw new Error("useMintingAnimation must be used within a MintingAnimationProvider");return t},BK=()=>{const{stage:t,allowReducedMotion:e}=qu(),s=t===Ve.DOORS_CLOSING,r=[Ve.MINTING,Ve.MINTING_COMPLETE].includes(t),a=[Ve.DOORS_OPENING,Ve.CERTIFICATE_REVEAL].includes(t),i=t===Ve.COMPLETE;if(e){const o=r?"opacity-100":"opacity-0";return n.jsx("div",{className:"absolute inset-0 z-20 transition-opacity duration-500 overflow-hidden",children:n.jsxs("div",{className:`flex w-full h-full ${o}`,children:[n.jsx("div",{className:"w-1/2 h-full bg-slate-800"}),n.jsx("div",{className:"w-1/2 h-full bg-slate-800"})]})})}return n.jsx("div",{className:"absolute inset-0 z-20 overflow-hidden",children:n.jsxs("div",{className:"flex w-full h-full",children:[n.jsxs("div",{className:`
            w-1/2 h-full relative
            bg-gradient-to-br from-slate-700 to-slate-900 
            border-r border-blue-900/30
            shadow-[0_0_15px_rgba(0,100,255,0.2)]
            transition-transform duration-1500 ease-quantum
            ${s?"animate-door-close-left":""}
            ${r?"translate-x-0":""}
            ${a?"animate-door-open-left":""}
            ${i?"-translate-x-full":""}
          `,children:[n.jsxs("div",{className:"absolute inset-0 opacity-20",children:[n.jsx("div",{className:"absolute top-[20%] bottom-[20%] left-[10%] right-[10%] border border-blue-400/30 rounded-md"}),n.jsx("div",{className:"absolute top-[30%] bottom-[30%] left-[20%] right-[20%] border border-blue-400/20 rounded-md"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-blue-400/20"})})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent"}),n.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-px bg-blue-400/30"})]}),n.jsxs("div",{className:`
            w-1/2 h-full relative
            bg-gradient-to-bl from-slate-700 to-slate-900
            border-l border-blue-900/30
            shadow-[0_0_15px_rgba(0,100,255,0.2)]
            transition-transform duration-1500 ease-quantum
            ${s?"animate-door-close-right":""}
            ${r?"translate-x-0":""}
            ${a?"animate-door-open-right":""}
            ${i?"translate-x-full":""}
          `,children:[n.jsxs("div",{className:"absolute inset-0 opacity-20",children:[n.jsx("div",{className:"absolute top-[20%] bottom-[20%] left-[10%] right-[10%] border border-blue-400/30 rounded-md"}),n.jsx("div",{className:"absolute top-[30%] bottom-[30%] left-[20%] right-[20%] border border-blue-400/20 rounded-md"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-blue-400/20"})})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-blue-500/5 to-transparent"}),n.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-px bg-blue-400/30"})]})]})})},_K=()=>{const{stage:t,allowReducedMotion:e}=qu(),s=[Ve.MINTING,Ve.MINTING_COMPLETE,Ve.DOORS_OPENING].includes(t),r=t===Ve.MINTING,a=t===Ve.MINTING_COMPLETE;return e?null:n.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none",children:[n.jsx("div",{className:`
          absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2
          w-64 h-64 rounded-full 
          bg-blue-500/20 
          filter blur-xl 
          transition-all duration-1000 
          ${s?"opacity-70":"opacity-0 scale-0"}
          ${r?"animate-smoke-pulse":""}
          ${a?"animate-smoke-puff":""}
        `}),n.jsx("div",{className:`
          absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2
          w-40 h-40 rounded-full 
          bg-indigo-500/25 
          filter blur-lg 
          transition-all duration-1000 
          ${s?"opacity-80":"opacity-0 scale-0"}
          ${r?"animate-smoke-pulse":""}
          ${a?"animate-smoke-puff":""}
        `}),n.jsx("div",{className:`
          absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2
          w-20 h-20 rounded-full 
          bg-indigo-400/30
          filter blur-md
          transition-all duration-1000 
          ${s?"opacity-90":"opacity-0 scale-0"}
          ${r?"animate-pulse":""}
          ${a?"animate-smoke-puff":""}
        `}),n.jsx("div",{className:`
          absolute left-1/4 top-1/4
          w-12 h-12 rounded-full 
          bg-blue-400/40
          filter blur-md
          transition-all duration-1000 delay-100
          ${s?"opacity-70":"opacity-0 scale-0"}
          ${r?"animate-pulse":""}
        `}),n.jsx("div",{className:`
          absolute right-1/4 bottom-1/4
          w-10 h-10 rounded-full 
          bg-indigo-400/40
          filter blur-md
          transition-all duration-1000 delay-200
          ${s?"opacity-70":"opacity-0 scale-0"}
          ${r?"animate-pulse":""}
        `}),n.jsx("div",{className:`
          absolute right-1/3 top-1/3
          w-8 h-8 rounded-full 
          bg-purple-400/30
          filter blur-md
          transition-all duration-1000 delay-300
          ${s?"opacity-60":"opacity-0 scale-0"}
          ${r?"animate-pulse-fast":""}
        `}),n.jsx("div",{className:`
          absolute left-1/3 bottom-1/3
          w-9 h-9 rounded-full 
          bg-blue-300/40
          filter blur-md
          transition-all duration-1000 delay-150
          ${s?"opacity-60":"opacity-0 scale-0"}
          ${r?"animate-pulse-fast":""}
        `}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:12}).map((i,o)=>n.jsx("div",{className:`
              absolute rounded-full 
              bg-blue-300/60
              filter blur-sm
              transition-all duration-1000 delay-${o%5*100}
              ${s?"opacity-60":"opacity-0"}
              animate-float
            `,style:{width:`${Math.random()*12+6}px`,height:`${Math.random()*12+6}px`,left:`${Math.random()*80+10}%`,top:`${Math.random()*80+10}%`,animationDelay:`${Math.random()*3}s`}},o))})]})},IK=()=>{const{stage:t,certificateData:e,allowReducedMotion:s}=qu(),r=[Ve.CERTIFICATE_REVEAL,Ve.COMPLETE].includes(t),a=e==null?void 0:e.imageUrl,i=(e==null?void 0:e.title)||"Certificate Generated",o=(e==null?void 0:e.id)||"#000000";return s?n.jsx("div",{className:`
        absolute inset-0 z-30 flex items-center justify-center
        transition-opacity duration-500
        ${r?"opacity-100":"opacity-0"}
      `,children:n.jsxs("div",{className:"bg-slate-800/80 p-4 rounded-lg border border-blue-500/30 backdrop-blur-sm max-w-lg",children:[a?n.jsx("img",{src:a,alt:"Your Certificate",className:"w-full h-auto rounded"}):n.jsx("div",{className:"w-full aspect-video bg-slate-700 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-blue-200 font-mono",children:"Certificate Generated"})}),n.jsxs("div",{className:"mt-4 text-center text-blue-200",children:[n.jsx("h3",{className:"font-bold text-lg",children:i}),n.jsxs("p",{className:"text-sm text-blue-300/70",children:["ID: ",o]})]})]})}):n.jsxs("div",{className:`
      absolute inset-0 z-30 flex items-center justify-center
      transition-all duration-500
      ${r?"opacity-100 scale-100":"opacity-0 scale-90 pointer-events-none"}
    `,children:[n.jsxs("div",{className:`\r
        bg-gradient-to-b from-blue-900/20 to-purple-900/20 \r
        p-1 rounded-lg shadow-xl \r
        backdrop-blur-sm \r
        border border-blue-500/30\r
        animate-glow\r
      `,children:[n.jsxs("div",{className:"relative",children:[a?n.jsx("img",{src:a,alt:"Your Certificate",className:"w-96 h-auto rounded shadow-inner",loading:"eager",decoding:"async",fetchpriority:"high"}):n.jsx("div",{className:`\r
              w-96 h-64 \r
              bg-gradient-to-br from-blue-800/50 to-indigo-900/50 \r
              rounded \r
              flex items-center justify-center\r
            `,children:n.jsx("span",{className:"text-blue-200 font-mono",children:i})}),n.jsx("div",{className:`\r
            absolute inset-0 \r
            rounded \r
            pointer-events-none \r
            bg-gradient-to-tr from-transparent via-blue-400/10 to-transparent\r
          `}),n.jsx("div",{className:`\r
            absolute inset-0 \r
            overflow-hidden \r
            rounded \r
            pointer-events-none\r
          `,children:n.jsx("div",{className:`\r
              absolute left-0 right-0 h-4 \r
              bg-gradient-to-b from-blue-400/30 to-transparent \r
              animate-scan-line\r
            `})})]}),n.jsxs("div",{className:"mt-4 text-center text-blue-200 px-4 pb-4",children:[n.jsx("h3",{className:"font-bold text-lg tracking-wide",children:i}),n.jsxs("div",{className:"flex items-center justify-center mt-2 space-x-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse"}),n.jsxs("p",{className:"text-sm text-blue-300/70 font-mono",children:["ID: ",o]})]}),n.jsx("div",{className:"mt-2 text-xs text-blue-400/50",children:"Successfully minted and secured on blockchain"})]})]}),n.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:`\r
          absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2\r
          w-[200%] h-[200%]\r
          bg-[radial-gradient(ellipse_at_center,rgba(59,130,246,0.05)_0%,transparent_70%)]\r
        `}),n.jsx("div",{className:"absolute top-10 left-10 w-20 h-1 bg-blue-500/20 rotate-45"}),n.jsx("div",{className:"absolute top-10 right-10 w-20 h-1 bg-blue-500/20 -rotate-45"}),n.jsx("div",{className:"absolute bottom-10 left-10 w-20 h-1 bg-blue-500/20 -rotate-45"}),n.jsx("div",{className:"absolute bottom-10 right-10 w-20 h-1 bg-blue-500/20 rotate-45"})]})]})},LK=()=>{const{stage:t,allowReducedMotion:e}=qu(),[s,r]=k.useState(0);return k.useEffect(()=>{if(t===Ve.MINTING){const a=setInterval(()=>{r(i=>{const o=i+Math.random()*5;return o>=100?99:o})},300);return()=>clearInterval(a)}else t===Ve.MINTING_COMPLETE?r(100):t===Ve.IDLE&&r(0)},[t]),e?n.jsx("div",{className:`
        absolute inset-0 z-40 pointer-events-none flex items-center justify-center
        transition-opacity duration-500
        ${t===Ve.MINTING||t===Ve.MINTING_COMPLETE?"opacity-100":"opacity-0"}
      `,children:n.jsxs("div",{className:"text-center text-blue-300 bg-slate-800/50 rounded px-4 py-2",children:[n.jsx("div",{className:"font-mono text-sm",children:t===Ve.MINTING_COMPLETE?"Certificate Ready":"Minting Certificate..."}),t===Ve.MINTING&&n.jsx("div",{className:"mt-2 h-1 bg-slate-700 rounded overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${s}%`}})})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`
        absolute inset-0 z-40 pointer-events-none flex items-center justify-center
        transition-all duration-500
        ${t===Ve.MINTING||t===Ve.MINTING_COMPLETE?"opacity-100":"opacity-0 translate-y-10"}
      `,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-mono tracking-wider text-blue-300 text-2xl filter drop-shadow-[0_0_8px_rgba(59,130,246,0.5)]",children:t===Ve.MINTING_COMPLETE?"CERTIFICATE SECURED":"MINTING IN PROGRESS"}),t===Ve.MINTING&&n.jsxs("div",{className:"mt-4 relative w-64 mx-auto",children:[n.jsx("div",{className:"h-1.5 w-full bg-slate-700/50 rounded-full overflow-hidden backdrop-blur-sm",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-indigo-500 transition-all duration-300",style:{width:`${s}%`}})}),n.jsxs("div",{className:"absolute -right-8 top-0 text-sm text-blue-300 font-mono",children:[Math.floor(s),"%"]}),n.jsx("div",{className:"mt-2 text-xs text-blue-400/70 font-mono animate-pulse",children:"Securing on blockchain..."})]})]})}),n.jsxs("div",{className:`
        absolute inset-0 z-35 pointer-events-none
        transition-opacity duration-500
        ${t!==Ve.IDLE&&t!==Ve.COMPLETE?"opacity-100":"opacity-0"}
      `,children:[n.jsxs("div",{className:"absolute top-5 left-5 flex items-center",children:[n.jsx("div",{className:"h-4 w-4 rounded-full border border-blue-400/50 flex items-center justify-center",children:n.jsx("div",{className:"h-1.5 w-1.5 bg-blue-400 rounded-full animate-pulse"})}),n.jsx("div",{className:"ml-2 text-xs font-mono text-blue-300/80",children:"SYSTEM-01"})]}),n.jsxs("div",{className:"absolute top-5 right-5 text-xs font-mono text-blue-300/80 text-right",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx("div",{children:"STATUS:"}),n.jsxs("div",{className:"text-blue-400 animate-pulse",children:[t===Ve.DOORS_CLOSING&&"INITIALIZING",t===Ve.MINTING&&"PROCESSING",t===Ve.MINTING_COMPLETE&&"COMPLETE",t===Ve.DOORS_OPENING&&"FINALIZING",t===Ve.CERTIFICATE_REVEAL&&"READY"]})]}),n.jsx("div",{className:"mt-1",children:"SEC LEVEL: A7"})]}),t===Ve.MINTING&&n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-24 overflow-hidden opacity-20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent to-blue-500/10"}),n.jsx("div",{className:"absolute left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent animate-scanline"})]}),n.jsx("div",{className:"absolute top-3 left-3 w-10 h-10 border-t-2 border-l-2 border-blue-400/30"}),n.jsx("div",{className:"absolute top-3 right-3 w-10 h-10 border-t-2 border-r-2 border-blue-400/30"}),n.jsx("div",{className:"absolute bottom-3 left-3 w-10 h-10 border-b-2 border-l-2 border-blue-400/30"}),n.jsx("div",{className:"absolute bottom-3 right-3 w-10 h-10 border-b-2 border-r-2 border-blue-400/30"})]})]})},OK=()=>{const{stage:t,isActive:e,resetAnimation:s}=qu(),[r,a]=k.useState(!1);return k.useEffect(()=>{const i=()=>{a(!0)};return window.addEventListener("click",i,{once:!0}),window.addEventListener("touchstart",i,{once:!0}),window.addEventListener("keydown",i,{once:!0}),()=>{window.removeEventListener("click",i),window.removeEventListener("touchstart",i),window.removeEventListener("keydown",i)}},[]),e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-slate-900/90 to-slate-950/95 z-0"}),n.jsxs("div",{className:"relative w-full h-full max-w-6xl mx-auto",children:[n.jsx(_K,{}),n.jsx(BK,{}),n.jsx(IK,{}),n.jsx(LK,{})]}),!r&&n.jsx("div",{className:"absolute inset-0 z-60 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm cursor-pointer",onClick:()=>a(!0),children:n.jsxs("div",{className:"text-center p-8 bg-slate-800/80 rounded-lg border border-blue-500/30 max-w-md",children:[n.jsx("div",{className:"text-blue-300 text-xl mb-4 font-bold",children:"Click to Enable Animation"}),n.jsx("p",{className:"text-blue-200/70 mb-4",children:"Click anywhere to continue with the animation"}),n.jsx("button",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",onClick:()=>a(!0),children:"Continue"})]})}),t!==Ve.IDLE&&t!==Ve.COMPLETE&&n.jsx("button",{className:`\r
            absolute bottom-6 right-6 z-50\r
            px-4 py-1.5\r
            bg-slate-800/50 hover:bg-slate-700/60\r
            text-blue-300 text-xs\r
            font-mono rounded\r
            border border-blue-500/20\r
            transition-all\r
            focus:outline-none focus:ring-2 focus:ring-blue-500/50\r
          `,onClick:s,children:"SKIP"})]}):null},n4={Provider:DK,Overlay:OK,useAnimation:qu,Stages:Ve},PK=5*1024*1024,FK=["image/jpeg","image/png","image/gif"],dE="courses_cache",zK=15e3,UK=3e3,$K=(t,e)=>{const s=Date.now(),r=Math.random().toString(36).substring(2,8),a=t.substring(0,4),i=e.substring(2,6);return`${a}-${i}-${s.toString(36)}-${r}`};function HK({isAdmin:t=!1,userAddress:e=""}){const[s,r]=k.useState({studentAddress:"",courseId:"",grade:"",certificateData:""}),[a,i]=k.useState(null),[o,c]=k.useState(null),[d,h]=k.useState(!1),[f,x]=k.useState(""),[g,p]=k.useState(""),[v,y]=k.useState(null),[w,A]=k.useState(null),[j,C]=k.useState(0),[S,E]=k.useState({}),[M,R]=k.useState({}),[_,I]=k.useState([]),[D,B]=k.useState(!1),[O,$]=k.useState(""),[Y,H]=k.useState(t),[L,V]=k.useState(e),[X,ee]=k.useState(!t),F=k.useRef({startAnimation:()=>{},resetAnimation:()=>{}}),z=k.useRef(null),G=k.useRef(!0),K=k.useRef({revoked:0,authorized:0}),W=k.useCallback((ue,le,ye={})=>{const je=Date.now();return je-K.current[ue]>UK?(At[ue](le,ye),K.current[ue]=je,!0):!1},[]),Q=k.useCallback(async(ue=!1)=>{if(t){H(!0),ee(!1);return}if(G.current)try{if(ee(!0),!window.ethereum){x("No Ethereum provider detected. Please install MetaMask."),H(!1),ee(!1);return}const le=new Xe(window.ethereum);let ye=L;ye||(ye=await(await le.getSigner()).getAddress(),ye!==L&&V(ye));const je=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,le),Ne=await je.hasRole("0x0000000000000000000000000000000000000000000000000000000000000000",ye),De=await je.hasRole(await je.INSTITUTION_ROLE(),ye),_e=await je.authorizedInstitutions(ye),st=Y,Pe=Ne||De&&_e;(st!==Pe||X)&&(H(Pe),ue&&st!==Pe?!Pe&&st?(W("error","Your institution authorization has been revoked!",{duration:5e3}),x("Your institution is no longer authorized to issue certificates.")):Pe&&!st&&(W("success","Your institution is now authorized!",{duration:3e3}),x("")):x(Ne?"":De?_e?"":"Your institution has been revoked and is not authorized to issue certificates.":"Your account does not have the institution role. You cannot issue certificates."))}catch(le){console.error("Error checking authorization:",le),ue&&At.error("Failed to verify institution authorization status"),x("Failed to check institution authorization status.")}finally{G.current&&ee(!1)}},[Y,L,X,W,t]);k.useEffect(()=>{G.current=!0,Z();const ue=ye=>{ye.length>0&&ye[0]!==L&&Q(!0)},le=()=>{Q(!0)};return t?ee(!1):(Q(!1),z.current=setInterval(()=>{Q(!0)},zK),window.ethereum&&(window.ethereum.on("accountsChanged",ue),window.ethereum.on("chainChanged",le))),()=>{G.current=!1,z.current&&clearInterval(z.current),window.ethereum&&(window.ethereum.removeListener("accountsChanged",ue),window.ethereum.removeListener("chainChanged",le))}},[Q,t]);const Z=async()=>{try{B(!0);const ue=localStorage.getItem(dE);if(ue)try{const{data:Se,timestamp:Ne}=JSON.parse(ue);if(Date.now()-Ne<5*60*1e3&&Array.isArray(Se)&&Se.length>0){I(Se),B(!1);return}}catch(Se){console.error("Error parsing cached course data:",Se)}const le=new Xe(window.ethereum),ye=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,le),je=await ne(ye);I(je),localStorage.setItem(dE,JSON.stringify({data:je,timestamp:Date.now()}))}catch(ue){console.error("Error fetching courses:",ue),At.error("Failed to load courses")}finally{B(!1)}},ne=async ue=>{try{console.log("Fetching courses using batch method...");const le=Array.from({length:100},(Se,Ne)=>(Ne+1).toString()),ye=await ue.getCourseNamesBatch(le),je=[];return ye.forEach((Se,Ne)=>{Se&&Se.trim()&&je.push({id:le[Ne],name:Se})}),console.log(`Found ${je.length} courses`),je.sort((Se,Ne)=>Number(Se.id)-Number(Ne.id))}catch(le){console.error("Error using getCourseNamesBatch:",le),console.log("Falling back to individual course fetching...");const ye=[];for(let je=1;je<=100;je++)try{const Se=je.toString(),Ne=await ue.getCourseName(Se);Ne&&Ne.trim()&&ye.push({id:Se,name:Ne})}catch{}return console.log(`Fallback method found ${ye.length} courses`),ye.sort((je,Se)=>Number(je.id)-Number(Se.id))}},re=(ue,le)=>{r(ye=>({...ye,[ue]:le})),R(ye=>({...ye,[ue]:!0}))},ke=ue=>{if(!ue)return;if(!FK.includes(ue.type)){E(ye=>({...ye,certificateImage:"Invalid file type. Please upload a JPEG, PNG, or GIF image."})),At.error("Invalid file type. Please upload a JPEG, PNG, or GIF image.");return}if(ue.size>PK){E(ye=>({...ye,certificateImage:"File size too large. Maximum size is 5MB."})),At.error("File size too large. Maximum size is 5MB.");return}const le=new FileReader;le.onloadend=()=>{c(le.result)},le.readAsDataURL(ue),i(ue),E(ye=>({...ye,certificateImage:""})),R(ye=>({...ye,certificateImage:!0}))},Me=async()=>{try{if(!t&&(await Q(!1),!Y)){At.error("Your institution is not authorized to issue certificates");return}if(R({studentAddress:!0,courseId:!0,grade:!0,certificateData:!0,certificateImage:!0}),!await Be()){At.error("Please fix the validation errors before proceeding");return}h(!0),x(""),p(""),y(null),A(null),C(0),F.current.startAnimation();const ue=At.loading("Starting certificate issuance...");try{await de(ue)}catch(le){throw F.current.resetAnimation(),Ae(le,ue),le}}catch(ue){Ae(ue,toastId),F.current.resetAnimation()}finally{h(!1)}},de=async ue=>{try{const le=_.find(Pe=>Pe.id===s.courseId),ye=le?le.name:"Unknown Course",je=$K(s.courseId,s.studentAddress);$(je),C(5),At.loading("Creating course group...",{id:ue});const Se=await CK(s.courseId,ye);C(10),At.loading("Uploading image to IPFS...",{id:ue});const Ne=await vM(a,Pe=>{C(10+Pe*.4),At.loading(`Uploading image: ${Math.round(Pe*100)}%`,{id:ue})},s.courseId,s.studentAddress,"cert",Se);if(!Ne)throw new Error("Failed to get CID from image upload");A(Ne);try{const Pe=new Image;Pe.src=`https://gateway.pinata.cloud/ipfs/${Ne}`}catch{}C(50),C(70),At.loading("Creating and uploading metadata...",{id:ue});const De=be(Ne,ye,je),_e=await cE(De,Pe=>{C(70+Pe*.3),At.loading(`Uploading metadata: ${Math.round(Pe*100)}%`,{id:ue})},s.courseId,s.studentAddress,Se);if(!_e)throw new Error("Failed to get CID from metadata upload");y(_e),C(100),At.loading("Minting certificate on blockchain...",{id:ue}),await me(_e,ue,ye,je,Ne,Se),At.success("Certificate issued successfully!",{id:ue}),p(`Certificate issued successfully! Unique ID: ${je}`);const st={imageUrl:`https://gateway.pinata.cloud/ipfs/${Ne}`,title:s.certificateData.trim()||`${ye} Certificate`,id:je};F.current.startAnimation(st),ve()}catch(le){throw le}},be=(ue,le,ye,je="")=>({name:s.certificateData.trim()||`${le} Certificate for ${s.studentAddress.substring(0,6)}...`,description:"Academic Certificate",image:`ipfs://${ue}`,uniqueId:ye,attributes:[{trait_type:"Certificate ID",value:ye},{trait_type:"Course ID",value:s.courseId},{trait_type:"Course Name",value:le},{trait_type:"Grade",value:s.grade},{trait_type:"Issue Date",value:new Date().toISOString()},{trait_type:"Student Address",value:s.studentAddress},{trait_type:"Transaction Hash",value:je}],courseId:s.courseId,courseName:le,uniqueCertificateId:ye,grade:s.grade,studentAddress:s.studentAddress,issueDate:new Date().toISOString(),transactionHash:je}),me=async(ue,le,ye,je,Se,Ne)=>{At.loading("Minting certificate on blockchain...",{id:le});const _e=await new Xe(window.ethereum).getSigner(),st=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,_e);if(!t&&!(await st.hasRole("0x0000000000000000000000000000000000000000000000000000000000000000",L)||await st.authorizedInstitutions(L)))throw new Error("Your institution's authorization status has changed. You cannot issue certificates.");const Pe=`ipfs://${ue}`;console.log("Setting token URI:",Pe);const nt=await(await st.issueCertificate(s.studentAddress,s.courseId,s.grade,Pe)).wait();if(console.log("Transaction receipt:",nt),nt&&nt.hash)try{const $e=be(Se,ye,je,nt.hash),Mt=await cE($e,()=>{},s.courseId,s.studentAddress,Ne);if(Mt){console.log("Updated metadata with transaction hash:",Mt);const rs=`ipfs://${Mt}`;try{await(await st.setCertificateURI(nt.logs[0].topics[3],rs)).wait(),console.log("Updated token URI with transaction hash metadata")}catch(Xt){console.error("Error updating token URI:",Xt)}}}catch($e){console.error("Error updating metadata with transaction hash:",$e)}return nt},ve=()=>{r({studentAddress:"",courseId:"",grade:"",certificateData:""}),i(null),c(null),C(0),R({}),E({})},Ae=(ue,le)=>{le&&At.dismiss(le),console.error("Minting error:",ue),ue.message&&(ue.message.includes("IPFS")||ue.message.includes("Pinata")||ue.message.includes("upload"))?(At.error("Failed to upload to IPFS. Please try again later."),x("Failed to upload to IPFS. Please try again later. Error: "+ue.message)):ue.message&&ue.message.includes("user rejected")?(At.error("Transaction was rejected by user"),x("Transaction was rejected by user")):(At.error(ue.message||"Failed to issue certificate"),x(ue.message||"Failed to issue certificate"))},Be=async()=>{let ue=!0;const le={},ye=/^0x[a-fA-F0-9]{40}$/;if(!s.studentAddress.trim())le.studentAddress="Student address is required",ue=!1;else if(!ye.test(s.studentAddress.trim()))le.studentAddress="Invalid Ethereum address format",ue=!1;else if(s.studentAddress.toLowerCase()===L.toLowerCase())le.studentAddress="Institutions cannot issue certificates to themselves. Please enter a different student address.",ue=!1;else try{const Se=new Xe(window.ethereum),Ne=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,Se),De=await Ne.INSTITUTION_ROLE();await Ne.hasRole(De,s.studentAddress.trim())&&(le.studentAddress="Cannot issue certificates to institution addresses. Certificates should only be issued to students.",ue=!1)}catch(Se){console.error("Error checking institution role:",Se)}const je=Number(s.grade);return s.grade.trim()?/^[0-9]+$/.test(s.grade.trim())?(isNaN(je)||je<1||je>100)&&(le.grade="Grade must be between 1 and 100",ue=!1):(le.grade="Grade must be a number",ue=!1):(le.grade="Grade is required",ue=!1),s.certificateData.trim()?/^[A-Za-z ]+$/.test(s.certificateData.trim())?s.certificateData.trim().length>40&&(le.certificateData="Title must be 40 characters or less",ue=!1):(le.certificateData="Title must contain only letters and spaces",ue=!1):(le.certificateData="Certificate title is required",ue=!1),s.courseId||(le.courseId="Course is required",ue=!1),a||(le.certificateImage="Please select an image",ue=!1),E(le),ue};return n.jsxs(n4.Provider,{children:[n.jsx(VK,{animationRef:F}),n.jsxs("div",{className:"space-y-8",children:[f&&n.jsx(RK,{message:f}),g&&n.jsx(TK,{message:g}),!Y&&!X&&n.jsxs("div",{className:"p-4 bg-red-900/50 border border-red-800 rounded-lg text-white",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authorization Error"}),n.jsx("p",{className:"mt-1",children:"Your institution is not authorized to issue certificates. Please contact the administrator."}),n.jsx("button",{onClick:()=>Q(!0),className:"mt-2 px-4 py-1 bg-red-700 hover:bg-red-600 rounded text-sm font-medium transition-colors",children:"Check Status Again"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx(AK,{formData:s,onInputChange:re,validationErrors:S,touchedFields:M,loading:d||!Y,courses:_,loadingCourses:D,userAddress:L}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(EK,{imagePreview:o,onImageUpload:ke,loading:d||!Y,validationError:S.certificateImage,touched:M.certificateImage}),d&&n.jsx(SK,{progress:j,stage:j<50?"Uploading image...":j<80?"Processing metadata...":"Minting certificate..."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:Me,disabled:d||!Y||X,className:"px-8 py-4 bg-gradient-to-r from-violet-500 to-pink-500 text-white rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:d?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(go,{size:"small"}),n.jsx("span",{children:"Processing..."})]}):X?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(go,{size:"small"}),n.jsx("span",{children:"Checking Authorization..."})]}):Y?"Mint Certificate":"Not Authorized"})}),v&&w&&n.jsx(MK,{metadataCID:v,imageCID:w}),n.jsx(n4.Overlay,{})]})]})}function VK({animationRef:t}){const e=n4.useAnimation();return en.useEffect(()=>{t.current=e},[e,t]),null}const GK=()=>{const[t,e]=k.useState(!1),[s,r]=k.useState(!0),[a,i]=k.useState("");return k.useEffect(()=>{(async()=>{try{if(r(!0),!window.ethereum){console.error("No Ethereum provider found"),r(!1);return}const c=new Xe(window.ethereum),d=await c.listAccounts();if(d.length===0){console.error("No accounts found"),r(!1);return}const h=d[0].address;i(h);const g=await new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,c).hasRole("0x0000000000000000000000000000000000000000000000000000000000000000",h);e(g)}catch(c){console.error("Error checking admin status:",c)}finally{r(!1)}})()},[]),n.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-violet-950",children:[n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"absolute inset-0 bg-grid-pattern animate-pulse-slow"})}),n.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-violet-500/20 rounded-full blur-xl animate-float"}),n.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 bg-cyan-500/20 rounded-full blur-xl animate-float animation-delay-1000"}),n.jsx("div",{className:"absolute bottom-32 left-1/4 w-40 h-40 bg-emerald-500/15 rounded-full blur-xl animate-float animation-delay-500"}),n.jsx("div",{className:"neural-grid absolute inset-0 opacity-10"}),n.jsx("div",{className:"quantum-field absolute inset-0 opacity-30"})]}),n.jsx("div",{className:"relative z-10 py-6 px-4 sm:px-6 lg:px-8 xl:px-12",children:n.jsxs("div",{className:"max-w-4xl xl:max-w-5xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8 lg:mb-12 relative",children:[n.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2",children:n.jsxs("div",{className:"flex space-x-4 lg:space-x-6",children:[n.jsx("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-violet-400 rounded-full animate-sparkle-1"}),n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-cyan-400 rounded-full animate-sparkle-2"}),n.jsx("div",{className:"w-3 h-3 lg:w-4 lg:h-4 bg-emerald-400 rounded-full animate-sparkle-3"})]})}),n.jsxs("div",{className:"relative",children:[n.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold mb-4 lg:mb-6 relative",children:[n.jsx("span",{className:"holographic-text",children:"Issue"})," ",n.jsx("span",{className:"neon-text-shimmer",children:"Certificate"}),n.jsx("div",{className:"scan-line absolute inset-0 pointer-events-none"})]}),n.jsx("div",{className:"relative max-w-2xl lg:max-w-3xl xl:max-w-4xl mx-auto",children:n.jsx("div",{className:"glass-nav-panel rounded-xl lg:rounded-2xl p-4 lg:p-6 backdrop-blur-md",children:n.jsxs("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-200 leading-relaxed",children:["Create and mint blockchain-verified certificates with"," ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-cyan-400",children:"quantum-level security"})," ","and permanent immutable storage"]})})})]}),t&&n.jsx("div",{className:"mt-6 lg:mt-8 inline-flex items-center space-x-3",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"px-4 py-2 lg:px-6 lg:py-3 bg-gradient-to-r from-violet-600/20 to-emerald-600/20 backdrop-blur-md border border-violet-400/30 rounded-full",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-emerald-400 rounded-full animate-pulse-fast"}),n.jsx("span",{className:"text-xs lg:text-sm font-semibold text-emerald-400",children:"Administrator Access"}),n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-emerald-400 rounded-full animate-pulse-fast animation-delay-300"})]})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/10 to-emerald-600/10 rounded-full animate-glow"})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-2 lg:-inset-4 bg-gradient-to-r from-violet-600/20 via-transparent to-cyan-600/20 rounded-2xl lg:rounded-3xl blur-xl lg:blur-2xl"}),n.jsxs("div",{className:"relative glass-nav-panel rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[n.jsx("div",{className:"border-b border-white/10 p-4 lg:p-6 bg-gradient-to-r from-violet-500/5 to-cyan-500/5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[n.jsxs("div",{className:"flex space-x-1.5 lg:space-x-2",children:[n.jsx("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-emerald-400 rounded-full animate-pulse-fast"}),n.jsx("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-yellow-400 rounded-full animate-pulse-fast animation-delay-200"}),n.jsx("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-red-400 rounded-full animate-pulse-fast animation-delay-400"})]}),n.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-300 hidden sm:block",children:"Certificate Minting Terminal"}),n.jsx("span",{className:"text-xs font-medium text-gray-300 sm:hidden",children:"Minting Terminal"})]}),n.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[n.jsx("div",{className:"text-xs text-gray-400 hidden lg:block",children:"Blockchain: Active"}),n.jsx("div",{className:"text-xs text-gray-400 lg:hidden",children:"Active"}),n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-emerald-400 rounded-full animate-pulse"})]})]})}),n.jsx("div",{className:"p-6 sm:p-8 lg:p-12",children:s?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 lg:py-20",children:[n.jsxs("div",{className:"relative",children:[n.jsx(go,{size:"large"}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-violet-500/20 to-cyan-500/20 animate-spin-slow"})]}),n.jsx("p",{className:"mt-6 lg:mt-8 text-lg lg:text-xl text-gray-300 font-medium text-center px-4",children:"Initializing quantum verification protocols..."}),n.jsxs("div",{className:"mt-3 lg:mt-4 flex space-x-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-violet-400 rounded-full animate-pulse"}),n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-violet-400 rounded-full animate-pulse animation-delay-200"}),n.jsx("div",{className:"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-violet-400 rounded-full animate-pulse animation-delay-400"})]})]}):n.jsx(HK,{isAdmin:t,userAddress:a})})]})]}),n.jsx("div",{className:"mt-8 lg:mt-12 text-center",children:n.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs lg:text-sm text-gray-400",children:[n.jsx("div",{className:"w-1 h-1 bg-violet-400 rounded-full"}),n.jsx("span",{className:"hidden sm:block",children:"Powered by Advanced Blockchain Technology"}),n.jsx("span",{className:"sm:hidden",children:"Blockchain Powered"}),n.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full"})]})})]})})]})},qK=t=>{const[e,s]=k.useState([]),[r,a]=k.useState(null),[i,o]=k.useState(!1),[c,d]=k.useState(""),[h,f]=k.useState(!1),[x,g]=k.useState(""),p=k.useCallback(async(A,j)=>{if(!t||!A||!j){d("Missing required information for search"),s([]),a(null);return}o(!0),d(""),f(!1),g("");try{let C=[];if(A==="id"||A==="idcertificate"){const S=parseInt(j.trim());if(isNaN(S))throw new Error("Invalid certificate ID. Please enter a valid number.");if(!await t.tokenExists(S).catch(()=>!1))throw new Error(`Certificate with ID ${S} does not exist.`);C=await Hg(t,S)}else if(A==="student"){const S=Ka(j.trim());if(!S)throw new Error("Invalid Ethereum address format.");const E=await t.getCertificatesByStudent(S,0,20);if(!E||E.length===0)throw new Error(`No certificates found for student address ${S}.`);const M=E.map(R=>Number(R));C=await zt(t,M)}else if(A==="institution"){const S=Ka(j.trim());if(!S)throw new Error("Invalid Ethereum address format.");const E=await t.getCertificatesByInstitution(S,0,20);if(!E||E.length===0)throw new Error(`No certificates found for institution address ${S}.`);const M=E.map(R=>Number(R));C=await zt(t,M)}else if(A==="name"){const S=await t.totalSupply().catch(()=>0);if(S===0)throw new Error("No certificates found in the system.");const E=Math.min(Number(S),50),M=[];for(let _=0;_<E;_++)try{const I=await t.tokenByIndex(Number(S)-1-_);M.push(Number(I))}catch{continue}if(M.length===0)throw new Error("Failed to retrieve certificate IDs.");if(C=(await zt(t,M)).filter(_=>_.courseName&&_.courseName.toLowerCase().includes(j.toLowerCase())),C.length===0)throw new Error(`No certificates found with course name containing "${j}".`)}if(C.length===0)throw new Error("No certificates found matching your search criteria.");s(C),C.length===1&&a(C[0])}catch(C){console.error("Error searching for certificate:",C),d(C.message||"Failed to search for certificate."),s([]),a(null)}finally{o(!1)}},[t]),v=k.useCallback(A=>{a(A),d(""),f(!1),g("")},[]),y=k.useCallback(async(A,j,C)=>{if(!t||!A)return d("Missing contract or certificate ID"),!1;if(j===void 0||j===""||isNaN(parseInt(j)))return d("Please enter a valid new grade"),!1;if(!C||C.trim()==="")return d("Please provide a reason for the update"),!1;o(!0),d(""),f(!1),g("");try{const S=Number(A),E=Number(j);if(E<0||E>100)throw new Error("Grade must be between 0 and 100");if(!window.ethereum)throw new Error("MetaMask or similar wallet not detected");const R=await new Xe(window.ethereum).getSigner(),_=t.connect(R);console.log(`Updating certificate ${S} with new grade ${E} and reason: ${C}`);const D=await(await _.updateCertificate(S,E,C)).wait();console.log("Certificate updated successfully:",D),g(D.hash),f(!0);const B=await Hg(t,S);return B&&B.length>0&&a(B[0]),!0}catch(S){return console.error("Error updating certificate:",S),d(S.message||"Failed to update certificate"),!1}finally{o(!1)}},[t]);return{searchResults:e,selectedCertificate:r,isLoading:i,error:c,isSuccess:h,txHash:x,searchCertificate:p,selectCertificate:v,updateCertificateGrade:y,fetchCertificateDetails:async A=>{o(!0),d("");try{const j=await Hg(t,A),C=Array.isArray(j)?j[0]:j;if(!C)throw new Error(`Certificate with ID ${A} not found`);if(console.log("Raw certificate data:",C),!C.courseName||C.courseName.startsWith("Course "))try{const S=await t.getCourseName(C.courseId);S&&S.trim()!==""&&(C.courseName=S,console.log(`Got course name '${S}' for course ID ${C.courseId}`))}catch(S){console.warn(`Could not fetch course name for ID ${C.courseId}:`,S)}if(C.metadataURI||C.tokenURI)try{const S=C.metadataURI||C.tokenURI;if(S&&S.startsWith("ipfs://")){const E=S.replace("ipfs://",""),{IPFS_GATEWAYS:M}=await Fr(async()=>{const{IPFS_GATEWAYS:_}=await Promise.resolve().then(()=>sq);return{IPFS_GATEWAYS:_}},void 0),R=`${M[0]}${E}`;console.log(`Fetching metadata from IPFS gateway: ${R}`);try{const _=await fetch(R);if(_.ok){const I=await _.json();if(C.metadata=I,I.name&&(C.certificateName=I.name),I.image&&I.image.startsWith("ipfs://")){const D=I.image.replace("ipfs://",""),B=M[0];I.imageUrl=B.includes("/ipfs/")?`${B}${D}`:`${B}/ipfs/${D}`,console.log(`Image URL created: ${I.imageUrl}`)}console.log("Parsed metadata:",I)}}catch(_){console.warn("Failed to fetch metadata from IPFS:",_)}}}catch(S){console.warn("Failed to parse certificate metadata:",S)}return C.certificateName||(C.certificateName=C.courseName?`Certificate for ${C.courseName}`:`Certificate ${C.id}`),a(C),C}catch(j){return console.error("Error fetching certificate details:",j),d(`Failed to fetch certificate: ${j.message}`),null}finally{o(!1)}}}},WK=({certificate:t,compact:e=!1})=>{var a;if(!t)return null;const s=((a=t.metadata)==null?void 0:a.name)||t.certificateName||(t.courseName?`Certificate for ${t.courseName}`:`Certificate ${t.id}`),r=t.completionDate&&t.completionDate!=="N/A"?new Date(t.completionTimestamp*1e3).toLocaleDateString():"N/A";return n.jsx("div",{className:"bg-gradient-to-r from-violet-900/30 to-indigo-900/30 rounded-lg p-4 border border-white/10",children:n.jsxs("div",{className:`grid ${e?"grid-cols-2":"grid-cols-3"} gap-4`,children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Certificate ID"}),n.jsx("p",{className:"text-white font-medium",children:t.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Course"}),n.jsx("p",{className:"text-white font-medium",children:t.courseName||`Course ${t.courseId}`})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Course ID"}),n.jsx("p",{className:"text-white font-medium",children:t.courseId})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Student"}),n.jsx("p",{className:"text-white font-medium text-xs",children:t.student})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Institution"}),n.jsx("p",{className:"text-white font-medium text-xs",children:t.institution})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Completion Date"}),n.jsx("p",{className:"text-white font-medium",children:r})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Grade"}),n.jsxs("p",{className:"text-white font-medium",children:[t.grade," (",kl(t.grade),")"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Status"}),n.jsx("p",{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Zf(t)}`,children:$b(t)})})]}),s&&t.courseName&&s!==`Certificate for ${t.courseName}`&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Certificate Name"}),n.jsx("p",{className:"text-white font-medium",children:s})]}),!e&&t.version&&n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Version"}),n.jsx("p",{className:"text-white font-medium",children:t.version})]}),!e&&t.lastUpdateDate&&t.lastUpdateDate!=="0"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Last Updated"}),n.jsx("p",{className:"text-white font-medium",children:new Date(Number(t.lastUpdateDate)*1e3).toLocaleDateString()})]}),!e&&t.updateReason&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Update Reason"}),n.jsx("p",{className:"text-white font-medium",children:t.updateReason})]}),!e&&t.isRevoked&&t.revocationReason&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Revocation Reason"}),n.jsx("p",{className:"text-white font-medium text-red-300",children:t.revocationReason})]}),!e&&(t.metadataURI||t.tokenURI)&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("p",{className:"text-white/60 text-sm",children:"Metadata URI"}),n.jsx("p",{className:"text-white font-medium text-xs break-all",children:t.metadataURI||t.tokenURI})]})]})})},YK=({options:t,value:e,onChange:s,disabled:r,placeholder:a})=>{const[i,o]=k.useState(!1),[c,d]=k.useState(null),h=k.useRef(null),f=k.useRef(null);k.useEffect(()=>{const v=w=>{h.current&&!h.current.contains(w.target)&&f.current&&!f.current.contains(w.target)&&o(!1)},y=()=>{i&&f.current&&d(f.current.getBoundingClientRect())};return document.addEventListener("mousedown",v),window.addEventListener("resize",y),window.addEventListener("scroll",y),()=>{document.removeEventListener("mousedown",v),window.removeEventListener("resize",y),window.removeEventListener("scroll",y)}},[i]);const x=()=>{r||(!i&&f.current&&d(f.current.getBoundingClientRect()),o(!i))},g=t.find(v=>v.value===e),p=()=>!i||!c?null:hL.createPortal(n.jsx("div",{ref:h,className:"fixed z-[99999]",style:{top:c.bottom+8,left:c.left,width:c.width},children:n.jsxs("div",{className:`\r
          bg-gradient-to-b from-slate-900/98 via-slate-800/98 to-slate-900/98 \r
          backdrop-blur-3xl rounded-xl border border-white/20\r
          shadow-2xl shadow-black/60\r
        `,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/15 via-purple-500/15 to-pink-500/15 rounded-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent rounded-xl"}),n.jsx("div",{className:"relative max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent",children:t.map((v,y)=>n.jsx("button",{type:"button",onClick:()=>{s({target:{name:"searchType",value:v.value}}),o(!1)},className:`
                  w-full p-4 text-left transition-all duration-300 group relative
                  hover:bg-gradient-to-r hover:from-cyan-500/15 hover:to-purple-500/15
                  ${e===v.value?"bg-gradient-to-r from-cyan-500/25 to-purple-500/25":""}
                  ${y!==t.length-1?"border-b border-white/8":""}
                  ${y===0?"rounded-t-xl":""}
                  ${y===t.length-1?"rounded-b-xl":""}
                `,children:n.jsxs("div",{className:"flex items-center space-x-3 relative z-10",children:[n.jsx("div",{className:`
                    w-8 h-8 rounded-xl flex items-center justify-center transition-all duration-300
                    ${e===v.value?"bg-gradient-to-r from-cyan-500 to-purple-500 shadow-lg shadow-cyan-500/30":"bg-white/10 group-hover:bg-white/20 group-hover:shadow-lg group-hover:shadow-white/10"}
                  `,children:v.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:`
                      font-semibold transition-colors duration-300 text-sm
                      ${e===v.value?"text-cyan-300":"text-white group-hover:text-cyan-300"}
                    `,children:v.label}),n.jsx("div",{className:"text-xs text-white/60 group-hover:text-white/80 transition-colors duration-300",children:v.description})]}),e===v.value&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),n.jsx("svg",{className:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})},v.value))})]})}),document.body);return n.jsxs(n.Fragment,{children:[n.jsxs("button",{ref:f,type:"button",onClick:x,disabled:r,className:`
          w-full p-3 sm:p-4 rounded-lg sm:rounded-xl text-left text-sm sm:text-base
          bg-gradient-to-r from-white/5 via-white/10 to-white/5 backdrop-blur-xl
          border transition-all duration-300 group relative overflow-hidden
          ${r?"opacity-50 cursor-not-allowed border-white/5":"cursor-pointer hover:bg-white/15"}
          ${i?"border-cyan-500/60 bg-white/15 shadow-lg shadow-cyan-500/20":"border-white/10 hover:border-cyan-500/40"}
        `,children:[n.jsx("div",{className:`
          absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-purple-500/5 to-pink-500/5 
          transition-opacity duration-300
          ${i?"opacity-100":"opacity-0 group-hover:opacity-50"}
        `}),n.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`
              w-3 h-3 rounded-full transition-all duration-300
              ${i?"bg-cyan-400 shadow-lg shadow-cyan-400/60 animate-pulse":"bg-white/40 group-hover:bg-cyan-400/60"}
            `}),n.jsx("span",{className:"text-white font-medium",children:g?g.label:a})]}),n.jsx("div",{className:`
            transition-all duration-300 transform
            ${i?"rotate-180 text-cyan-400":"rotate-0 text-white/60 group-hover:text-cyan-400"}
          `,children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),n.jsx(p,{})]})},QK=()=>{yb();const[t,e]=k.useState(null),[s,r]=k.useState(!1),[a,i]=k.useState(null),[o,c]=k.useState({searchType:"id",searchQuery:"",newGrade:"",updateReason:""}),d=[{value:"id",label:"Certificate ID",description:"Search by unique certificate number",icon:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})},{value:"name",label:"Course Name",description:"Search by course title",icon:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{value:"student",label:"Student Address",description:"Search by wallet address",icon:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{value:"institution",label:"Institution",description:"Search by institution name",icon:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}];k.useEffect(()=>{(async()=>{try{if(window.ethereum){const _=new Xe(window.ethereum),I=await _.listAccounts();I.length>0&&(i(I[0].address),r(!0));const D=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,_);e(D)}}catch(_){console.error("Failed to initialize contract:",_)}})()},[]);const h=async()=>{try{if(window.ethereum){const _=await new Xe(window.ethereum).send("eth_requestAccounts",[]);_.length>0&&(i(_[0]),r(!0))}else alert("Please install MetaMask or another Ethereum wallet.")}catch(R){console.error("Error connecting wallet:",R)}},{searchResults:f,selectedCertificate:x,isLoading:g,error:p,isSuccess:v,txHash:y,searchCertificate:w,selectCertificate:A,updateCertificateGrade:j}=qK(t),C=R=>{const{name:_,value:I}=R.target;c(D=>({...D,[_]:I}))},S=R=>{R.preventDefault(),!(!o.searchType||!o.searchQuery)&&w(o.searchType,o.searchQuery)},E=R=>{R.preventDefault(),x&&j(x.id,o.newGrade,o.updateReason)},M=()=>{c({searchType:"id",searchQuery:"",newGrade:"",updateReason:""})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-30",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full filter blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full filter blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full filter blur-3xl animate-pulse delay-2000"})]}),n.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 relative z-10",children:n.jsxs("div",{className:"bg-white/[0.02] backdrop-blur-2xl rounded-2xl lg:rounded-3xl shadow-2xl border border-white/10 overflow-hidden",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-violet-600/20 via-purple-600/20 to-cyan-600/20 px-4 sm:px-6 py-4 sm:py-6",children:[n.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMiIgZmlsbD0icmdiKDI1NSAyNTUgMjU1IC8gMC4xKSIvPgo8L3N2Zz4K')] opacity-30"}),n.jsxs("div",{className:"relative z-10 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center mb-3",children:n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-lg flex items-center justify-center shadow-lg shadow-cyan-500/20",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 mb-2 tracking-tight",children:"Certificate Updater"}),n.jsx("p",{className:"text-sm text-white/70 max-w-md mx-auto",children:"Modify academic records with blockchain security"})]})]}),n.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:[s?n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsx("div",{className:"bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 rounded-xl sm:rounded-2xl p-3 sm:p-4",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-emerald-500/20 rounded-lg sm:rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium text-sm sm:text-base",children:"Wallet Connected"}),n.jsxs("p",{className:"text-emerald-400 text-xs sm:text-sm font-mono",children:[a==null?void 0:a.slice(0,6),"...",a==null?void 0:a.slice(-4)]})]})]})})})}):n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/20 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-amber-500/20 rounded-lg sm:rounded-xl mb-3 sm:mb-4",children:n.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2",children:"Wallet Connection Required"}),n.jsx("p",{className:"text-sm sm:text-base text-white/70 mb-4 sm:mb-6 px-2",children:"Connect your MetaMask wallet to manage certificates securely on the blockchain."}),n.jsx("button",{onClick:h,className:"group w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-cyan-500 to-purple-600 text-white rounded-lg sm:rounded-xl hover:from-cyan-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-cyan-500/25 transform hover:scale-105",children:n.jsxs("span",{className:"flex items-center justify-center text-sm sm:text-base",children:[n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 group-hover:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Connect Wallet"]})})]})}),p&&n.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-red-500/10 to-pink-500/10 border border-red-500/20 rounded-2xl",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-500/20 rounded-xl flex items-center justify-center",children:n.jsx(mo,{className:"text-red-400"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-semibold mb-1",children:"Error Occurred"}),n.jsx("p",{className:"text-white/80",children:p})]})]})}),v&&n.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 rounded-2xl",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:n.jsx(fo,{className:"text-emerald-400"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-semibold mb-2",children:"Certificate Updated Successfully!"}),y&&n.jsx("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:n.jsxs("p",{className:"text-sm text-emerald-300 font-mono",children:["Transaction: ",y.slice(0,12),"...",y.slice(-10)]})})]})]})}),n.jsx("div",{className:"mb-8 sm:mb-10",children:n.jsxs("div",{className:"bg-white/[0.02] backdrop-blur-xl rounded-xl sm:rounded-2xl border border-white/10 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-md sm:rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Search Certificates"})]}),n.jsx("form",{onSubmit:S,className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"sm:col-span-1 lg:col-span-3",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-white/70 mb-2",children:"Search Type"}),n.jsx(YK,{options:d,value:o.searchType,onChange:C,disabled:g,placeholder:"Select search type"})]}),n.jsxs("div",{className:"sm:col-span-1 lg:col-span-7",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-white/70 mb-2",children:"Search Query"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",name:"searchQuery",value:o.searchQuery,onChange:C,placeholder:`Enter ${o.searchType==="id"?"certificate ID":o.searchType==="name"?"course name":o.searchType==="student"?"student wallet address":"institution name"}...`,className:"w-full p-3 sm:p-4 pl-10 sm:pl-12 rounded-lg sm:rounded-xl bg-white/5 border-0 focus:ring-2 focus:ring-cyan-500/20 transition-all text-white text-sm sm:text-base placeholder-white/40 outline-none",disabled:g}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 sm:pl-4",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[n.jsx("label",{className:"hidden sm:block text-xs sm:text-sm font-medium text-white/70 mb-2",children:" "}),n.jsx("button",{type:"submit",className:"group w-full h-[48px] sm:h-[56px] bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-lg sm:rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-cyan-500/25 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",disabled:g||!s,children:g?n.jsxs("span",{className:"flex items-center justify-center text-sm sm:text-base",children:[n.jsx(Jf,{className:"animate-spin mr-2"}),"Searching..."]}):n.jsxs("span",{className:"flex items-center justify-center text-sm sm:text-base",children:[n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})})]})]})})]})}),f.length>0&&!x&&n.jsxs("div",{className:"mb-8 sm:mb-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-md sm:rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:"Search Results"})]}),n.jsxs("div",{className:"bg-emerald-500/20 text-emerald-300 px-3 py-1 rounded-full text-xs sm:text-sm font-medium w-fit",children:[f.length," found"]})]}),n.jsx("div",{className:"grid gap-3 sm:gap-4 max-h-80 sm:max-h-96 overflow-y-auto pr-1 sm:pr-2",children:f.map(R=>n.jsx("div",{className:"group bg-white/[0.02] backdrop-blur-xl border border-white/10 rounded-xl sm:rounded-2xl p-4 sm:p-6 hover:border-cyan-500/30 transition-all duration-300 hover:bg-white/[0.05]",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-white/50 uppercase tracking-wide mb-1",children:"Certificate ID"}),n.jsxs("p",{className:"text-white font-mono text-sm",children:["# ",R.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-white/50 uppercase tracking-wide mb-1",children:"Course"}),n.jsx("p",{className:"text-white font-medium text-sm",children:R.courseName||`Course ${R.courseId}`})]}),n.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[n.jsx("p",{className:"text-xs font-medium text-white/50 uppercase tracking-wide mb-1",children:"Student"}),n.jsxs("p",{className:"text-white/80 font-mono text-xs sm:text-sm break-all sm:break-normal",children:[R.student.slice(0,6),"...",R.student.slice(-4)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-white/50 uppercase tracking-wide mb-1",children:"Grade & Status"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("span",{className:"text-white font-semibold text-sm",children:[R.grade,"%"]}),n.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${Zf(R)}`,children:$b(R)})]}),n.jsx("p",{className:"text-xs text-white/60 mt-1",children:kl(R.grade)})]})]}),n.jsx("div",{className:"lg:ml-6",children:n.jsx("button",{onClick:()=>A(R),disabled:R.isRevoked,className:"group/btn w-full lg:w-auto px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-lg sm:rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-cyan-500/25 disabled:opacity-50 disabled:cursor-not-allowed disabled:from-gray-600 disabled:to-gray-700 transform hover:scale-105",children:n.jsxs("span",{className:"flex items-center justify-center space-x-2 text-sm sm:text-base",children:[n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 group-hover/btn:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),n.jsx("span",{children:R.isRevoked?"Revoked":"Select"})]})})})]})},R.id))})]}),x&&n.jsx("div",{className:"mt-8 sm:mt-10",children:n.jsxs("div",{className:"bg-white/[0.02] backdrop-blur-xl rounded-xl sm:rounded-2xl border border-white/10 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-orange-600/20 p-4 sm:p-6 border-b border-white/10",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-md sm:rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:"Update Certificate"})]}),n.jsx("button",{onClick:()=>A(null),className:"group text-xs sm:text-sm text-white/60 hover:text-white bg-white/5 hover:bg-white/10 px-3 sm:px-4 py-2 rounded-md sm:rounded-lg transition-all",children:n.jsxs("span",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 group-hover:rotate-90 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"hidden sm:inline",children:"Select Different"}),n.jsx("span",{className:"sm:hidden",children:"Change"})]})})]})}),n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsx(WK,{certificate:x,compact:!0})}),x.isRevoked?n.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-r from-red-500/10 to-pink-500/10 border border-red-500/20 rounded-xl sm:rounded-2xl text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-red-500/20 rounded-lg sm:rounded-xl mb-3 sm:mb-4",children:n.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.232 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h4",{className:"text-white font-semibold mb-2 text-sm sm:text-base",children:"Certificate Revoked"}),n.jsx("p",{className:"text-white/70 text-sm",children:"This certificate has been revoked and cannot be updated."})]}):n.jsxs("form",{onSubmit:E,className:"space-y-6 sm:space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{htmlFor:"newGrade",className:"block text-xs sm:text-sm font-medium text-white/70 uppercase tracking-wide",children:"New Grade"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",name:"newGrade",id:"newGrade",min:"0",max:"100",value:o.newGrade,onChange:C,placeholder:"Enter grade (0-100)",className:"w-full p-3 sm:p-4 pl-10 sm:pl-12 rounded-lg sm:rounded-xl bg-white/5 border border-white/10 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all text-white text-base sm:text-lg appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none placeholder-white/40",disabled:g,required:!0}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 sm:pl-4",children:n.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),o.newGrade&&n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 sm:pr-4",children:n.jsx("span",{className:"text-purple-400 font-semibold text-sm sm:text-base",children:"%"})})]}),o.newGrade&&n.jsxs("p",{className:"text-xs sm:text-sm text-white/60",children:["Grade: ",kl(parseInt(o.newGrade)||0)]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-white/70 uppercase tracking-wide",children:"Current Grade"}),n.jsx("div",{className:"p-3 sm:p-4 rounded-lg sm:rounded-xl bg-white/5 border border-white/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-white text-base sm:text-lg font-semibold",children:[x.grade,"%"]}),n.jsx("span",{className:"text-white/60 text-xs sm:text-sm",children:kl(x.grade)})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{htmlFor:"updateReason",className:"block text-sm font-medium text-white/70 uppercase tracking-wide",children:"Reason for Update"}),n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{name:"updateReason",id:"updateReason",rows:4,value:o.updateReason,onChange:C,placeholder:"Please provide a detailed reason for this grade update...",className:"w-full p-4 pl-12 rounded-xl bg-white/5 border border-white/10 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all text-white resize-none placeholder-white/40",disabled:g,required:!0}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 sm:pt-6 border-t border-white/10",children:[n.jsx("button",{type:"submit",className:"group flex-1 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg sm:rounded-xl hover:from-purple-600 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-purple-500/25 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",disabled:g||!s||x.isRevoked,children:g?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsx(Jf,{className:"animate-spin mr-3"}),"Processing Update..."]}):n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 group-hover:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Update Certificate"]})}),n.jsx("button",{type:"button",onClick:()=>{A(null),M()},className:"group flex-1 px-8 py-4 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-gray-500/25 transform hover:scale-105",disabled:g,children:n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 group-hover:rotate-180 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})})]})]})]})]})})]})]})})]})},xc="courses_cache",uE=30*60*1e3,KK=()=>{const[t,e]=k.useState([]),[s,r]=k.useState(!1),[a,i]=k.useState(""),[o,c]=k.useState(""),[d,h]=k.useState({}),[f,x]=k.useState(!1),[g,p]=k.useState(!1),v=k.useCallback(async(S=!1)=>{if(!window.ethereum)throw new Error("No Ethereum provider detected. Please install MetaMask.");const E=new Xe(window.ethereum);if(S){const M=await E.getSigner();return new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,M)}return new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,E)},[]),y=k.useCallback(async(S=!1)=>{try{if(r(!0),i(""),!S){const $=localStorage.getItem(xc);if($)try{const{data:Y,timestamp:H}=JSON.parse($);if(!(Date.now()-H>uE)&&Array.isArray(Y)&&Y.length>0)return console.log("Using cached course data"),e(Y),r(!1),Y}catch(Y){console.error("Error parsing cached course data:",Y)}}console.log("Fetching courses from blockchain...");const E=await v();try{if(typeof E.getAllCourseIds=="function"){console.log("Using getAllCourseIds method");const $=await E.getAllCourseIds();if($&&$.length>0){const Y=await E.getCourseNamesBatch($),H=$.map((L,V)=>({id:L.toString(),name:Y[V]||""})).filter(L=>L.name&&L.name.trim());return H.sort((L,V)=>Number(L.id)-Number(V.id)),e(H),localStorage.setItem(xc,JSON.stringify({data:H,timestamp:Date.now()})),H}}}catch($){console.warn("Error using direct course fetching method:",$)}console.log("Falling back to course ID discovery...");const M=new Set;try{const $=await E.totalSupply();if($>0){const Y=Math.min(Number($),10),H=Math.max(0,Number($)-Y),L=[];for(let X=0;X<Y;X++)L.push(E.tokenByIndex(H+X).then(ee=>E.getCertificate(ee)).then(ee=>ee[2].toString()).catch(()=>null));(await Promise.all(L)).forEach(X=>{X&&M.add(X)})}}catch($){console.warn("Error getting course IDs from certificates:",$)}const R=[],_=50;for(let $=1;$<=_;$++)R.push(E.getCourseName($.toString()).then(Y=>Y&&Y.trim()?$.toString():null).catch(()=>null));(await Promise.all(R)).forEach($=>{$&&M.add($)});const D=Array.from(M);if(D.length===0)return console.log("No courses found"),e([]),r(!1),localStorage.setItem(xc,JSON.stringify({data:[],timestamp:Date.now()})),[];console.log(`Found ${D.length} potential course IDs, fetching names...`);const B=await E.getCourseNamesBatch(D),O=D.map(($,Y)=>({id:$.toString(),name:B[Y]||""})).filter($=>$.name&&$.name.trim());return O.sort(($,Y)=>Number($.id)-Number(Y.id)),console.log(`Successfully loaded ${O.length} courses`),e(O),localStorage.setItem(xc,JSON.stringify({data:O,timestamp:Date.now()})),O}catch(E){return console.error("Error fetching courses:",E),i("Failed to fetch courses: "+(E.reason||E.message)),[]}finally{r(!1)}},[v]),w=k.useCallback(async S=>{if(!S||S.length===0)return{};console.log(`Attempting to fetch certificate counts for ${S.length} courses...`),r(!0);try{const E=await v();console.log(`Fetching certificate counts for ${S.length} courses...`);const M={};for(const R of S)try{console.log(`Fetching count for course ${R}...`);const _=await E.countCertificatesByCourse(R),I=Number(_);M[R.toString()]=I,console.log(`Course ${R} has ${I} certificates`)}catch(_){console.error(`Error fetching count for course ${R}:`,_),M[R.toString()]=0}return console.log(`Fetched counts for ${Object.keys(M).length} courses:`,M),e(R=>{const _=R.map(I=>({...I,certificateCount:M[I.id]!==void 0?M[I.id]:I.certificateCount||0}));return console.log("Updated courses with counts:",_),localStorage.setItem(xc,JSON.stringify({data:_,timestamp:Date.now()})),_}),r(!1),M}catch(E){return console.error("Error fetching certificate counts:",E),r(!1),{}}},[v,e]),A=k.useCallback(async S=>{if(!S||!S.trim())return i("Course name cannot be empty"),null;try{i(""),c("");const E=await v(!0);let M=0;t.length>0&&(M=Math.max(...t.map(O=>Number(O.id))));const R=(M+1).toString();console.log(`Adding new course with ID ${R}: ${S}`);const _=await E.setCourseName(R,S.trim()),I={id:R,name:S.trim(),certificateCount:0,_isOptimistic:!0};e(O=>[...O,I].sort((Y,H)=>Number(Y.id)-Number(H.id)));const D=await _.wait();console.log("Course added successfully:",D);const B={id:R,name:S.trim(),certificateCount:0};return e(O=>{const Y=[...O.filter(H=>!(H.id===R&&H._isOptimistic)),B].sort((H,L)=>Number(H.id)-Number(L.id));return localStorage.setItem(xc,JSON.stringify({data:Y,timestamp:Date.now()})),Y}),c("Course added successfully"),B}catch(E){return console.error("Error adding course:",E),e(M=>M.filter(R=>!R._isOptimistic)),E.code==="ACTION_REJECTED"||E.code===4001?i("Transaction was cancelled by user"):i("Failed to add course: "+(E.reason||E.message)),null}},[t,v]),j=k.useCallback(async S=>{if(!S||!S.length)return i("No course names provided"),[];try{i(""),c(""),p(!0);const E=S.map($=>$.trim()).filter($=>$.length>0);if(E.length===0)return i("All course names were empty"),[];const M=await v(!0);let R=0;t.length>0&&(R=Math.max(...t.map($=>Number($.id))));const _=[];for(let $=0;$<E.length;$++)_.push((R+$+1).toString());console.log(`Adding ${E.length} courses with IDs starting at ${_[0]}`);const I=_.map(($,Y)=>({id:$,name:E[Y],certificateCount:0,_isOptimistic:!0}));e($=>[...$,...I].sort((H,L)=>Number(H.id)-Number(L.id)));const B=await(await M.setMultipleCourseNames(_,E)).wait();console.log(`Successfully added ${E.length} courses:`,B);const O=_.map(($,Y)=>({id:$,name:E[Y],certificateCount:0}));return e($=>{const H=[...$.filter(L=>!L._isOptimistic),...O].sort((L,V)=>Number(L.id)-Number(V.id));return localStorage.setItem(xc,JSON.stringify({data:H,timestamp:Date.now()})),H}),c(`Added ${E.length} courses successfully`),O}catch(E){return console.error("Error adding multiple courses:",E),e(M=>M.filter(R=>!R._isOptimistic)),i("Failed to add courses: "+(E.reason||E.message)),[]}finally{p(!1)}},[t,v]),C=k.useCallback(async(S,E=0,M=50)=>{if(!S)return{certificates:[],total:0};try{x(!0),console.log(`Fetching certificates for course ID ${S}...`);const R=await v(),_=S.toString(),I=`course_${_}_certificates`,D=localStorage.getItem(I);if(D)try{const{data:ne,timestamp:re,total:ke}=JSON.parse(D);if(!(Date.now()-re>uE)&&Array.isArray(ne))return console.log(`Using cached certificates for course ${_}`),h(de=>({...de,[_]:ne})),x(!1),{certificates:ne,total:ke}}catch(ne){console.error("Error parsing cached certificate data:",ne)}const B=await R.countCertificatesByCourse(_);if(console.log(`Course ${_} has ${B} certificates`),Number(B)===0)return h(ne=>({...ne,[_]:[]})),localStorage.setItem(I,JSON.stringify({data:[],total:0,timestamp:Date.now()})),x(!1),{certificates:[],total:0};const O=Number(E||0),$=Number(M||50);console.log(`Fetching certificate IDs for course ${_} (${O}-${O+$})`);const Y=await R.getCertificatesByCourse(_,O,$);if(!Y||Y.length===0)return x(!1),{certificates:[],total:Number(B)};console.log(`Found ${Y.length} certificates for course ${_}`);const[H,L,V,X,ee,F,z]=await R.getCertificatesBatch(Y),[G,K,W,Q]=await R.getCertificatesBatchDetails(Y),Z=Y.map((ne,re)=>({id:ne.toString(),student:H[re],institution:L[re],courseId:V[re].toString(),completionDate:new Date(Number(X[re])*1e3),grade:Number(ee[re]),isVerified:F[re],isRevoked:z[re],revocationReason:G[re],version:K[re].toString(),lastUpdateDate:new Date(Number(W[re])*1e3),updateReason:Q[re]}));return console.log(`Processed ${Z.length} certificates for course ${_}`),h(ne=>({...ne,[_]:Z})),localStorage.setItem(I,JSON.stringify({data:Z,total:Number(B),timestamp:Date.now()})),{certificates:Z,total:Number(B)}}catch(R){return console.error(`Error fetching certificates for course ${S}:`,R),i(`Error fetching certificates: ${R.message}`),{certificates:[],total:0}}finally{x(!1)}},[v,i]);return k.useEffect(()=>{console.log("Initial course data load"),y().then(S=>{S&&S.length>0&&(console.log("Fetching initial certificate counts"),setTimeout(()=>{w(S.map(E=>E.id))},500))})},[y,w]),k.useEffect(()=>{if(a||o){const S=setTimeout(()=>{i(""),c("")},5e3);return()=>clearTimeout(S)}},[a,o]),{courses:t,loading:s,error:a,success:o,certificatesLoading:f,courseCertificates:d,bulkActionLoading:g,fetchCourses:y,fetchCourseCertificateCounts:w,addCourse:A,addMultipleCourses:j,getCertificatesByCourse:C,setError:i,setSuccess:c}},XK=({onAddCourse:t,onBulkAdd:e,onRefreshCounts:s,refreshingCounts:r,loading:a,searchTerm:i,setSearchTerm:o})=>n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/40 to-purple-900/40 rounded-xl blur-sm -z-10"}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center py-6 px-8 backdrop-blur-sm bg-gray-900/60 rounded-xl border border-gray-800 shadow-lg",children:[n.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center mr-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsx("h2",{className:"text-3xl font-bold text-white",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"Course Management"})})]}),n.jsx("div",{className:"w-full md:w-auto mb-4 md:mb-0 md:mx-4 order-3 md:order-2",children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-lg blur-sm group-hover:blur-md transition-all duration-300"}),n.jsxs("div",{className:"relative flex items-center bg-gray-800/50 border border-gray-700/50 rounded-lg overflow-hidden group-hover:border-blue-500/50 transition-all duration-300",children:[n.jsx(Pr,{className:"absolute left-3 text-gray-500 group-hover:text-blue-400 transition-colors duration-300"}),n.jsx("input",{type:"text",placeholder:"Search courses...",value:i,onChange:c=>o(c.target.value),className:"w-full md:w-64 py-2 pl-10 pr-4 bg-transparent text-white focus:outline-none placeholder-gray-500"}),i&&n.jsx("button",{onClick:()=>o(""),className:"absolute right-3 text-gray-500 hover:text-white p-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),n.jsxs("div",{className:"flex gap-3 order-2 md:order-3",children:[n.jsxs("button",{onClick:t,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-all duration-200 shadow-lg shadow-blue-600/30",children:[n.jsx(Tq,{})," Add Course"]}),n.jsxs("button",{onClick:e,className:"px-5 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-all duration-200 shadow-lg shadow-purple-600/30",children:[n.jsx(wq,{})," Bulk Add"]}),n.jsxs("button",{onClick:s,disabled:a||r,className:"px-5 py-2.5 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-lg flex items-center gap-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?n.jsx(go,{size:"small"}):n.jsx(Mq,{}),r?"Updating...":"Refresh Counts"]})]})]})]}),ZK=({course:t})=>n.jsxs("div",{className:`relative overflow-hidden rounded-xl bg-gradient-to-b from-gray-800 to-gray-900 p-1 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/20 group ${t._isOptimistic?"opacity-60":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-purple-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:"relative rounded-lg bg-gray-900 p-5 h-full flex flex-col",children:[n.jsx("div",{className:"flex justify-between mb-4",children:n.jsxs("div",{className:"px-3 py-1 bg-blue-600/20 text-blue-400 text-sm rounded-full border border-blue-500/30 inline-flex items-center",children:[n.jsx("span",{className:"text-xs mr-1 text-blue-300/70",children:"ID:"})," ",t.id]})}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-4 flex-grow",children:t.name}),n.jsx("div",{className:"mt-auto pt-4 border-t border-gray-700/50",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex items-center gap-3 bg-gray-800/70 rounded-lg px-4 py-3 w-full",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-400 border border-green-500/30",children:n.jsx(QR,{size:18})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-2xl font-bold text-white",children:t.certificateCount||0}),n.jsx("span",{className:"text-xs text-gray-400",children:"Certificates Issued"})]})]})})})]})]}),JK=({courses:t,loading:e})=>e?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((s,r)=>n.jsxs("div",{className:"rounded-xl bg-gray-800 p-5 animate-pulse h-56",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded-full w-1/4 mb-4"}),n.jsx("div",{className:"h-6 bg-gray-700 rounded w-3/4 mb-6"}),n.jsx("div",{className:"h-24 bg-gray-700 rounded"})]},r))}):t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),n.jsx("p",{className:"text-gray-400 text-lg",children:"No courses found"}),n.jsx("p",{className:"text-gray-500 mt-2",children:'Click "Add Course" to create your first course'})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>n.jsx(ZK,{course:s},s.id))}),eX=({courses:t,loading:e})=>{const s=k.useMemo(()=>{if(!t||t.length===0)return{totalCourses:0,totalCertificates:0,avgCertificatesPerCourse:0};const r=t.length,a=t.reduce((o,c)=>o+(c.certificateCount||0),0),i=r>0?Math.round(a/r*10)/10:0;return{totalCourses:r,totalCertificates:a,avgCertificatesPerCourse:i}},[t]);return n.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"relative overflow-hidden rounded-xl p-0.5 bg-gradient-to-br from-blue-600/20 to-purple-600/20",children:n.jsx("div",{className:"rounded-lg bg-gray-900 p-5 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 rounded-full p-3 bg-blue-500/10 mr-4",children:n.jsx(xq,{className:"h-6 w-6 text-blue-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Courses"}),n.jsx("div",{className:"flex items-baseline",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:e?n.jsx("div",{className:"h-9 w-12 bg-gray-800 animate-pulse rounded"}):s.totalCourses})})]})]})})}),n.jsx("div",{className:"relative overflow-hidden rounded-xl p-0.5 bg-gradient-to-br from-green-600/20 to-teal-600/20",children:n.jsx("div",{className:"rounded-lg bg-gray-900 p-5 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 rounded-full p-3 bg-green-500/10 mr-4",children:n.jsx(YR,{className:"h-6 w-6 text-green-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Certificates"}),n.jsx("div",{className:"flex items-baseline",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:e?n.jsx("div",{className:"h-9 w-16 bg-gray-800 animate-pulse rounded"}):s.totalCertificates})})]})]})})}),n.jsx("div",{className:"relative overflow-hidden rounded-xl p-0.5 bg-gradient-to-br from-purple-600/20 to-pink-600/20",children:n.jsx("div",{className:"rounded-lg bg-gray-900 p-5 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 rounded-full p-3 bg-purple-500/10 mr-4",children:n.jsx(QR,{className:"h-6 w-6 text-purple-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Avg. Certificates / Course"}),n.jsx("div",{className:"flex items-baseline",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:e?n.jsx("div",{className:"h-9 w-10 bg-gray-800 animate-pulse rounded"}):s.avgCertificatesPerCourse})})]})]})})})]})},wM=({message:t="Processing transaction...",subMessage:e="Adding to blockchain...",variant:s="blue",fullscreen:r=!1,modal:a=!1,onClose:i=null})=>{const o={blue:{block1:"bg-blue-900/40",block2:"bg-blue-900/60",block3:"bg-blue-900/80",icon:"text-blue-400",link:"bg-blue-600/20 text-blue-400",line:"bg-blue-500/40"},purple:{block1:"bg-purple-900/40",block2:"bg-purple-900/60",block3:"bg-purple-900/80",icon:"text-purple-400",link:"bg-purple-600/20 text-purple-400",line:"bg-purple-500/40"},green:{block1:"bg-emerald-900/40",block2:"bg-emerald-900/60",block3:"bg-emerald-900/80",icon:"text-emerald-400",link:"bg-emerald-600/20 text-emerald-400",line:"bg-emerald-500/40"}},c=o[s]||o.blue,d=n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative flex items-center mb-6 w-64",children:[n.jsx("div",{className:`w-12 h-12 ${c.block1} rounded-lg flex items-center justify-center animate-pulse-glow`,children:n.jsx(Uy,{className:`${c.icon} text-lg`})}),n.jsx("div",{className:`w-8 mx-1 h-0.5 ${c.line}`}),n.jsx("div",{className:`w-12 h-12 ${c.block2} rounded-lg flex items-center justify-center animate-pulse-glow`,style:{animationDelay:"0.2s"},children:n.jsx(Uy,{className:`${c.icon} text-lg`})}),n.jsx("div",{className:`w-8 mx-1 h-0.5 ${c.line}`}),n.jsx("div",{className:`w-12 h-12 ${c.block3} rounded-lg flex items-center justify-center animate-pulse-glow`,style:{animationDelay:"0.4s"},children:n.jsx(Uy,{className:`${c.icon} text-lg`})}),n.jsx("div",{className:"absolute top-0 left-0 w-full flex justify-center -mt-6",children:n.jsxs("div",{className:`px-3 py-1 ${c.link} rounded-full text-xs flex items-center`,children:[n.jsx(Sq,{className:"mr-1",size:10}),n.jsx("span",{children:"Transaction"})]})})]}),n.jsx("p",{className:"mt-2 text-gray-300 text-lg font-medium",children:t}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e}),n.jsxs("div",{className:"mt-4 text-xs text-gray-500 flex items-center animate-pulse",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),n.jsx("span",{children:"Processing"})]})]});return r?n.jsx("div",{className:"fixed inset-0 bg-gray-950/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:n.jsx("div",{className:"bg-gray-900/80 p-10 rounded-xl border border-gray-800/50 shadow-xl",children:d})}):a?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:n.jsxs("div",{className:"relative bg-gradient-to-b from-gray-800 to-gray-900 rounded-2xl overflow-hidden max-w-md w-full shadow-xl transform transition-all",onClick:h=>h.stopPropagation(),children:[n.jsx("div",{className:`absolute inset-0 ${s==="purple"?"bg-purple-500/20":s==="green"?"bg-emerald-500/20":"bg-blue-500/20"} rounded-2xl blur-md -z-10`}),n.jsxs("div",{className:"p-6",children:[i&&n.jsx("div",{className:"flex justify-end mb-4",children:n.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),n.jsx("div",{className:"py-6",children:d})]})]})}):n.jsx("div",{className:"py-6",children:d})},tX=({isOpen:t,onClose:e,courseName:s,setCourseName:r,onSubmit:a,isLoading:i})=>t?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:n.jsxs("div",{className:"relative bg-gradient-to-b from-gray-800 to-gray-900 rounded-2xl overflow-hidden max-w-md w-full shadow-xl transform transition-all",onClick:o=>o.stopPropagation(),children:[n.jsx("div",{className:"absolute inset-0 bg-blue-500/20 rounded-2xl blur-md -z-10"}),n.jsx("div",{className:"p-6",children:i?n.jsx(wM,{message:"Adding course...",subMessage:"Adding to blockchain...",variant:"blue"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600/20 flex items-center justify-center mr-3",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),n.jsx("h3",{className:"text-xl font-bold text-white",children:"Add New Course"})]}),n.jsx("button",{onClick:e,disabled:i,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:a,children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{htmlFor:"courseName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",id:"courseName",value:s,onChange:o=>r(o.target.value),placeholder:"Enter course name",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-500",required:!0,autoFocus:!0,disabled:i}),n.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:s.length>0?"100%":"0%"}})]}),n.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"A unique ID will be automatically generated for this course"})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:i||!s.trim(),className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-700 hover:to-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center min-w-[100px]",children:"Add Course"})]})]})]})})]})}):null,sX=({isOpen:t,onClose:e,courseNames:s,setCourseNames:r,onSubmit:a,isLoading:i})=>t?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:n.jsxs("div",{className:"relative bg-gradient-to-b from-gray-800 to-gray-900 rounded-2xl overflow-hidden max-w-md w-full shadow-xl transform transition-all",onClick:o=>o.stopPropagation(),children:[n.jsx("div",{className:"absolute inset-0 bg-purple-500/20 rounded-2xl blur-md -z-10"}),n.jsx("div",{className:"p-6",children:i?n.jsx(wM,{message:"Adding courses...",subMessage:"Adding to blockchain...",variant:"purple"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-600/20 flex items-center justify-center mr-3",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),n.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Multiple Courses"})]}),n.jsx("button",{onClick:e,disabled:i,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:a,children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{htmlFor:"bulkCourseNames",className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Names (one per line)"}),n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{id:"bulkCourseNames",value:s,onChange:o=>r(o.target.value),placeholder:`Mathematics 101
Computer Science 101
Physics 101`,className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500",rows:5,required:!0,disabled:i}),n.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:s.length>0?"100%":"0%"}})]}),n.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Enter each course name on a separate line. Unique IDs will be automatically generated."})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:i||!s.trim(),className:"px-5 py-2 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-700 hover:to-purple-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center min-w-[100px]",children:"Add Courses"})]})]})]})})]})}):null,hE=({type:t,message:e,onDismiss:s})=>{if(k.useEffect(()=>{if(e){const a=setTimeout(()=>{s()},5e3);return()=>clearTimeout(a)}},[e,s]),!e)return null;const r=t==="success";return n.jsxs("div",{className:`animate-fade-in-slide-up fixed bottom-8 right-8 z-50 rounded-lg shadow-lg max-w-md px-6 py-4 flex items-center
      ${r?"bg-gradient-to-r from-green-900/90 to-green-800/90 backdrop-blur-sm border border-green-700/50":"bg-gradient-to-r from-red-900/90 to-red-800/90 backdrop-blur-sm border border-red-700/50"}`,children:[n.jsx("div",{className:`flex-shrink-0 mr-3 ${r?"text-green-400":"text-red-400"}`,children:r?n.jsx(El,{size:24}):n.jsx(mo,{size:24})}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-white font-medium",children:e})}),n.jsx("button",{onClick:s,className:"ml-4 text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},nX=({isInstitution:t})=>{const[e,s]=k.useState(!1),[r,a]=k.useState(""),[i,o]=k.useState(""),[c,d]=k.useState(!1),[h,f]=k.useState(""),[x,g]=k.useState({key:"id",direction:"asc"}),[p,v]=k.useState(1),y=9,[w,A]=k.useState(!1),[j,C]=k.useState(!1),[S,E]=k.useState(!1),{courses:M,loading:R,error:_,success:I,bulkActionLoading:D,fetchCourseCertificateCounts:B,addCourse:O,addMultipleCourses:$,setError:Y,setSuccess:H}=KK();k.useEffect(()=>{v(1)},[h]);const L=k.useCallback(()=>{M&&M.length>0&&!w&&(A(!0),B(M.map(Q=>Q.id)).then(()=>{console.log("Certificate counts refreshed"),H("Certificate counts updated")}).catch(Q=>{console.error("Error refreshing counts:",Q),Y("Failed to refresh certificate counts")}).finally(()=>{setTimeout(()=>A(!1),500)}))},[M,B,H,Y,w]),V=k.useCallback(Q=>{g(Z=>({key:Q,direction:Z.key===Q&&Z.direction==="asc"?"desc":"asc"}))},[]),X=k.useCallback(async Q=>{if(Q.preventDefault(),!i.trim()){Y("Course name cannot be empty");return}C(!0);try{await O(i)?setTimeout(()=>{o(""),d(!1),C(!1),H(`Course "${i}" added successfully`)},2e3):C(!1)}catch{C(!1)}},[i,O,Y,H]),ee=k.useCallback(async Q=>{Q.preventDefault();const Z=r.split(`
`).map(ne=>ne.trim()).filter(ne=>ne.length>0);if(Z.length===0){Y("Please enter at least one course name");return}E(!0);try{const ne=await $(Z);ne&&ne.length>0?setTimeout(()=>{a(""),s(!1),E(!1),H(`${ne.length} courses added successfully`)},2e3):E(!1)}catch{E(!1)}},[r,$,Y,H]),F=k.useMemo(()=>{if(!h.trim())return M;const Q=h.toLowerCase().trim();return M.filter(Z=>Z.id.toString().includes(Q)||Z.name.toLowerCase().includes(Q))},[M,h]),z=k.useMemo(()=>[...F].sort((Q,Z)=>x.key==="id"?x.direction==="asc"?Number(Q.id)-Number(Z.id):Number(Z.id)-Number(Q.id):x.key==="name"?x.direction==="asc"?Q.name.localeCompare(Z.name):Z.name.localeCompare(Q.name):x.key==="count"?x.direction==="asc"?(Q.certificateCount||0)-(Z.certificateCount||0):(Z.certificateCount||0)-(Q.certificateCount||0):0),[F,x]),{totalPages:G,paginatedCourses:K}=k.useMemo(()=>{const Q=Math.max(1,Math.ceil(z.length/y)),Z=z.slice((p-1)*y,p*y);return{totalPages:Q,paginatedCourses:Z}},[z,p,y]),W=k.useCallback(Q=>{v(Math.max(1,Math.min(Q,G)))},[G]);return t?n.jsxs("div",{className:"min-h-screen bg-gray-950 p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-10",children:[n.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-600 rounded-full opacity-5 blur-3xl"}),n.jsx("div",{className:"absolute top-1/4 -right-20 w-96 h-96 bg-purple-600 rounded-full opacity-5 blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-emerald-600 rounded-full opacity-5 blur-3xl"})]}),n.jsx(XK,{onAddCourse:()=>d(!0),onBulkAdd:()=>s(!0),onRefreshCounts:L,refreshingCounts:w,loading:R||D,searchTerm:h,setSearchTerm:f}),n.jsx(eX,{courses:M,loading:R}),n.jsxs("div",{className:"bg-gray-900/40 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50 shadow-xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("div",{className:"text-gray-400",children:h?n.jsxs("p",{children:["Found ",n.jsx("span",{className:"text-white font-medium",children:F.length}),F.length===1?" course":" courses",h&&n.jsxs("span",{children:[' for "',n.jsx("span",{className:"text-blue-400",children:h}),'"']})]}):n.jsxs("p",{children:["Showing all ",n.jsx("span",{className:"text-white font-medium",children:M.length})," courses"]})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-400 mr-2 hidden md:inline",children:"Sort by:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>V("id"),className:`px-3 py-1.5 rounded flex items-center text-sm ${x.key==="id"?"bg-blue-600/30 text-blue-300":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["ID",x.key==="id"&&(x.direction==="asc"?n.jsx(Hy,{className:"ml-1"}):n.jsx($y,{className:"ml-1"}))]}),n.jsxs("button",{onClick:()=>V("name"),className:`px-3 py-1.5 rounded flex items-center text-sm ${x.key==="name"?"bg-blue-600/30 text-blue-300":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["Name",x.key==="name"&&(x.direction==="asc"?n.jsx(Hy,{className:"ml-1"}):n.jsx($y,{className:"ml-1"}))]}),n.jsxs("button",{onClick:()=>V("count"),className:`px-3 py-1.5 rounded flex items-center text-sm ${x.key==="count"?"bg-blue-600/30 text-blue-300":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["Count",x.key==="count"&&(x.direction==="asc"?n.jsx(Hy,{className:"ml-1"}):n.jsx($y,{className:"ml-1"}))]})]})]})]}),G>1&&n.jsxs("div",{className:"flex justify-center items-center gap-2 mb-6",children:[n.jsx("button",{className:"px-3 py-1 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",onClick:()=>W(1),disabled:p===1,children:"First"}),n.jsx("button",{className:"px-3 py-1 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",onClick:()=>W(p-1),disabled:p===1,children:"Previous"}),n.jsxs("span",{className:"px-4 py-1 bg-gray-800/50 text-gray-300 rounded-lg",children:["Page ",p," of ",G]}),n.jsx("button",{className:"px-3 py-1 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",onClick:()=>W(p+1),disabled:p===G,children:"Next"}),n.jsx("button",{className:"px-3 py-1 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",onClick:()=>W(G),disabled:p===G,children:"Last"})]}),F.length===0&&!R&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-900/20 flex items-center justify-center mb-4",children:n.jsx(Pr,{className:"h-8 w-8 text-blue-500/70"})}),n.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No courses found"}),n.jsx("p",{className:"text-gray-400 max-w-md",children:h?`We couldn't find any courses matching "${h}". Try a different search term or add a new course.`:"There are no courses yet. Click 'Add Course' to create your first course."}),h&&n.jsx("button",{onClick:()=>f(""),className:"mt-4 px-4 py-2 bg-blue-600/30 text-blue-300 rounded-lg hover:bg-blue-600/50 transition-colors",children:"Clear search"})]}),F.length>0&&n.jsx(JK,{courses:K,loading:R})]})]}),n.jsx(tX,{isOpen:c,onClose:()=>!j&&d(!1),courseName:i,setCourseName:o,onSubmit:X,isLoading:j||D}),n.jsx(sX,{isOpen:e,onClose:()=>!S&&s(!1),courseNames:r,setCourseNames:a,onSubmit:ee,isLoading:S||D}),n.jsx(hE,{type:"success",message:I,onDismiss:()=>H("")}),n.jsx(hE,{type:"error",message:_,onDismiss:()=>Y("")})]}):n.jsx("div",{className:"min-h-screen bg-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-lg shadow-lg p-8 text-center border border-gray-800",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-400",children:"Only institutions can manage courses."})]})})})},rX=({onSuccess:t,onError:e})=>{const[s,r]=k.useState([]),[a,i]=k.useState([]),[o,c]=k.useState(""),[d,h]=k.useState(""),[f,x]=k.useState(!1),[g,p]=k.useState(""),[v,y]=k.useState(""),[w,A]=k.useState(!1),[j,C]=k.useState(null),[S,E]=k.useState(""),[M,R]=k.useState(!1),[_,I]=k.useState(""),D=Qt(qn("INSTITUTION_ROLE")),B="0x0000000000000000000000000000000000000000000000000000000000000000";k.useEffect(()=>{Y(),H()},[]);const O=F=>O4(F),$=F=>F.trim().length<3?(I("Institution name must be at least 3 characters long"),!1):/^[a-zA-Z0-9 .\-_]+$/.test(F)?(I(""),!0):(I("Institution name contains invalid characters. Only letters, numbers, spaces, hyphens, underscores and periods are allowed"),!1),Y=async()=>{try{const F=new Xe(window.ethereum),G=(await F.listAccounts())[0].address;E(G);const W=await new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,F).hasRole(B,G);R(W)}catch(F){console.error("Error loading user info:",F)}},H=async()=>{try{x(!0);const F=new Xe(window.ethereum),z=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,F),G=z.filters.RoleGranted(D),K=await z.queryFilter(G),W=[...new Set(K.map(Z=>Z.args.account))];S&&!W.includes(S)&&W.push(S);const Q=await Promise.all(W.map(async Z=>{const ne=await z.hasRole(D,Z),re=await z.authorizedInstitutions(Z),ke=await z.countCertificatesByInstitution(Z),Me=await z.hasRole(B,Z),de=ne&&re;return{address:Z,hasRole:ne,isAuthorized:re,isActive:de,isAdmin:Me,isSelf:Z.toLowerCase()===S.toLowerCase(),certificateCount:Number(ke),name:Me?`Admin ${Z.substring(0,6)}...`:`Institution ${Z.substring(0,6)}...`,status:Me?"admin":de?"active":"inactive",addedDate:new Date().toISOString().split("T")[0]}}));r(W),i(Q),x(!1)}catch(F){console.error("Error loading institutions:",F),p("Failed to load institutions"),At.error("Failed to load institutions"),x(!1)}};return{institutions:a,loading:f,error:g,success:v,newInstitution:o,institutionName:d,nameError:_,showConfirmDialog:w,institutionToDelete:j,currentUserAddress:S,isAdmin:M,setNewInstitution:c,setInstitutionName:h,authorizeInstitution:async()=>{if(!O(o)){const F="Please enter a valid Ethereum address";p(F),At.error(F);return}try{x(!0),p(""),y("");const z=await new Xe(window.ethereum).getSigner();await(await new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,z).authorizeInstitution(o)).wait();const W=`Institution ${o} authorized successfully`;y(W),t&&t(W),c(""),At.success(W),H()}catch(F){console.error("Error authorizing institution:",F);const z=F.message||"Failed to authorize institution";p(z),At.error(z)}finally{x(!1)}},confirmRevokeInstitution:F=>{if(F.isAdmin){At.error("Cannot revoke admin accounts");return}if(F.isSelf){At.error("Cannot revoke your own account");return}C(F),A(!0)},cancelRevoke:()=>{A(!1),C(null)},revokeInstitution:async()=>{if(j){if(j.isAdmin){At.error("Cannot revoke admin accounts"),A(!1),C(null);return}if(j.isSelf){At.error("Cannot revoke your own account"),A(!1),C(null);return}try{x(!0),p(""),y("");const z=await new Xe(window.ethereum).getSigner(),G=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,z),K=await G.hasRole(D,j.address),W=await G.authorizedInstitutions(j.address);if(!K&&!W){const ne=`Institution ${j.name} is already fully revoked`;y(ne),t&&t(ne),At.success(ne),H();return}let Q;W?(Q=await G.revokeInstitution(j.address),await Q.wait()):K&&(Q=await G.revokeRole(D,j.address),await Q.wait());const Z=`Institution ${j.name} revoked successfully`;y(Z),t&&t(Z),At.success(Z),H()}catch(F){console.error("Error revoking institution:",F);const z=F.message||"Failed to revoke institution",G=z.includes("Institution not authorized")||z.includes("execution reverted")||z.includes("doesn't have the institution role");let K=z;G&&(K="This institution is already revoked or doesn't exist in the system. Refreshing the page...",H()),p(K),At.error(K)}finally{x(!1),A(!1),C(null)}}},validateEthereumAddress:O,validateInstitutionName:$}},aX=()=>{const[t,e]=k.useState(""),[s,r]=k.useState("all"),[a,i]=k.useState("cards"),[o,c]=k.useState(!1),[d,h]=k.useState(!1),f=k.useRef(null),{institutions:x,loading:g,error:p,success:v,newInstitution:y,showConfirmDialog:w,institutionToDelete:A,setNewInstitution:j,authorizeInstitution:C,confirmRevokeInstitution:S,cancelRevoke:E,revokeInstitution:M,validateEthereumAddress:R}=rX({onSuccess:()=>{},onError:()=>{}}),_=x.filter(B=>{const O=B.address.toLowerCase().includes(t.toLowerCase()),$=s==="all"||B.status===s;return O&&$}),I=()=>{i(a==="cards"?"table":"cards")},D=()=>{if(!R(y)){At.error("Please enter a valid Ethereum address");return}C(),c(!1),j("")};return k.useEffect(()=>{const B=O=>{f.current&&!f.current.contains(O.target)&&h(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-indigo-950 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-500"})]}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(139,92,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(139,92,246,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-2xl border border-purple-500/30 backdrop-blur-sm",children:n.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Institution Management"}),n.jsx("p",{className:"text-gray-400 mt-1",children:"Authorize and manage blockchain institutions"})]})]}),n.jsxs("button",{onClick:()=>c(!0),className:"group relative px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl text-white font-medium transition-all duration-300 hover:from-purple-700 hover:to-blue-700 hover:scale-105 shadow-lg hover:shadow-purple-500/25",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl blur opacity-0 group-hover:opacity-75 transition-opacity duration-300"}),n.jsxs("div",{className:"relative flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{children:"Add Institution"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-300 text-sm font-medium",children:"Total Institutions"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:x.length})]}),n.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:n.jsx("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 backdrop-blur-sm border border-green-500/30 rounded-2xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-300 text-sm font-medium",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:x.filter(B=>B.status==="active").length})]}),n.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:n.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-red-900/40 to-red-800/40 backdrop-blur-sm border border-red-500/30 rounded-2xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-300 text-sm font-medium",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:x.filter(B=>B.status==="inactive").length})]}),n.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:n.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-300 text-sm font-medium",children:"Total Certificates"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:x.reduce((B,O)=>B+O.certificateCount,0)})]}),n.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:n.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl border border-purple-500/30 rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Add New Institution"}),n.jsx("button",{onClick:()=>{c(!1),j("")},className:"p-2 hover:bg-gray-700/50 rounded-xl transition-colors duration-200",children:n.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-3",children:"Ethereum Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:y,onChange:B=>j(B.target.value),placeholder:"0x1234567890123456789012345678901234567890",className:`w-full px-4 py-4 bg-gray-800/50 border-2 transition-all duration-200 ${y&&!R(y)?"border-red-500/50 focus:border-red-500":"border-purple-500/30 focus:border-purple-500"} rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/20 backdrop-blur-sm`}),y&&n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:R(y)?n.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),y&&!R(y)&&n.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Please enter a valid Ethereum address"]})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{onClick:()=>{c(!1),j("")},className:"flex-1 px-6 py-3 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 rounded-xl transition-all duration-200 font-medium border border-gray-600/50",children:"Cancel"}),n.jsx("button",{onClick:D,disabled:g||!y||!R(y),className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-xl transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg hover:shadow-purple-500/25",children:g?n.jsxs(n.Fragment,{children:[n.jsx(go,{size:"small"}),n.jsx("span",{className:"ml-2",children:"Adding..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Institution"]})})]})]})]})}),p&&n.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-900/40 to-red-800/40 border border-red-500/30 rounded-2xl text-red-200 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p]})}),v&&n.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/40 to-green-800/40 border border-green-500/30 rounded-2xl text-green-200 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),v]})}),n.jsxs("div",{className:"mb-8 flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",placeholder:"Search institutions by address...",value:t,onChange:B=>e(B.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-800/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 transition-all duration-200"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative min-w-48",ref:f,children:[n.jsxs("button",{onClick:()=>h(!d),className:"w-full px-4 py-4 bg-gray-800/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 transition-all duration-200 flex items-center justify-between",children:[n.jsx("span",{className:"capitalize",children:s==="all"?"All Status":s}),n.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-xl border border-purple-500/30 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[{value:"all",label:"All Status",iconSvg:n.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{value:"active",label:"Active",iconSvg:n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"inactive",label:"Inactive",iconSvg:n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"admin",label:"Admin",iconSvg:n.jsx("svg",{className:"w-5 h-5 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}].map(B=>n.jsxs("button",{onClick:()=>{r(B.value),h(!1)},className:`w-full px-4 py-3 text-left hover:bg-purple-500/20 transition-all duration-200 flex items-center space-x-3 ${s===B.value?"bg-purple-500/30 text-purple-200":"text-gray-300 hover:text-white"}`,children:[B.iconSvg,n.jsx("span",{children:B.label}),s===B.value&&n.jsx("svg",{className:"w-4 h-4 ml-auto text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},B.value))})]}),n.jsx("button",{onClick:I,className:"px-6 py-4 bg-gray-800/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl text-white hover:bg-gray-700/40 transition-all duration-200 flex items-center space-x-2 min-w-fit",title:a==="cards"?"Switch to Table View":"Switch to Card View",children:a==="cards"?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),n.jsx("span",{className:"hidden sm:inline",children:"Table"})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),n.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-900/40 to-gray-800/40 backdrop-blur-xl border border-purple-500/20 rounded-3xl overflow-hidden shadow-2xl",children:[n.jsxs("div",{className:"px-8 py-6 border-b border-purple-500/20 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Institutions Registry"}),n.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[_.length," of ",x.length," institutions"]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),n.jsx("span",{children:"Live"})]})})]}),g?n.jsxs("div",{className:"flex flex-col justify-center items-center p-16",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"}),n.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-b-blue-500 rounded-full animate-spin animate-reverse"})]}),n.jsx("p",{className:"mt-4 text-gray-400",children:"Loading institutions..."})]}):_.length===0?n.jsxs("div",{className:"p-16 text-center",children:[n.jsxs("div",{className:"relative mx-auto w-24 h-24 mb-6",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-full"}),n.jsx("svg",{className:"relative w-24 h-24 text-gray-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})]}),n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No institutions found"}),n.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"No institutions match your current search criteria. Try adjusting your filters or search terms."}),n.jsx("button",{onClick:()=>{e(""),r("all")},className:"px-6 py-3 bg-gradient-to-r from-purple-600/80 to-blue-600/80 hover:from-purple-600 hover:to-blue-600 text-white rounded-xl transition-all duration-200 font-medium",children:"Clear Filters"})]}):a==="table"?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-purple-500/20",children:[n.jsx("th",{scope:"col",className:"px-8 py-6 text-left text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Institution"}),n.jsx("th",{scope:"col",className:"px-8 py-6 text-left text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Address"}),n.jsx("th",{scope:"col",className:"px-8 py-6 text-left text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-8 py-6 text-left text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Certificates"}),n.jsx("th",{scope:"col",className:"px-8 py-6 text-right text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-purple-500/10",children:_.map((B,O)=>n.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-purple-900/20 hover:to-blue-900/20 transition-all duration-300 group",children:[n.jsx("td",{className:"px-8 py-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:n.jsx("svg",{className:"w-7 h-7 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),B.status==="active"&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-gray-900 animate-pulse"})]}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-white font-semibold",children:B.name})})]})}),n.jsx("td",{className:"px-8 py-6",children:n.jsx("div",{className:"font-mono text-sm text-gray-300 bg-gray-800/30 px-3 py-2 rounded-lg border border-gray-700/30",children:B.address})}),n.jsx("td",{className:"px-8 py-6",children:n.jsx("span",{className:`px-4 py-2 inline-flex text-sm font-semibold rounded-xl backdrop-blur-sm ${B.status==="active"?"bg-green-500/20 text-green-300 border border-green-500/30":B.status==="admin"?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:B.status})}),n.jsx("td",{className:"px-8 py-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:B.certificateCount}),n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})}),n.jsx("td",{className:"px-8 py-6 text-right",children:B.isAdmin?n.jsx("span",{className:"bg-gradient-to-r from-purple-500/20 to-violet-500/20 text-purple-300 px-4 py-2 rounded-xl font-semibold border border-purple-500/30",children:"Admin"}):B.isSelf?n.jsx("span",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-300 px-4 py-2 rounded-xl font-semibold border border-blue-500/30",children:"Self"}):B.status==="inactive"?n.jsx("span",{className:"bg-gray-800/50 text-gray-500 px-4 py-2 rounded-xl font-semibold border border-gray-600/30",children:"Revoked"}):n.jsxs("button",{onClick:()=>S(B),disabled:g,className:"group/btn px-4 py-2 bg-gradient-to-r from-red-600/80 to-red-500/80 hover:from-red-600 hover:to-red-500 text-white rounded-xl transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-red-500/25 border border-red-500/30",title:"Revoke Institution",children:[n.jsx("svg",{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{className:"font-semibold",children:"Revoke"})]})})]},O))})]})}):n.jsx("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map((B,O)=>n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 to-blue-600 rounded-3xl blur opacity-30 group-hover:opacity-60 transition duration-300"}),n.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-3xl p-6 border border-purple-500/20 hover:border-purple-500/40 transition-all duration-300 h-full",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),B.status==="active"&&n.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-gray-900 animate-pulse",children:n.jsx("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75"})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-white group-hover:text-purple-200 transition-colors duration-200",children:B.name}),n.jsx("span",{className:`px-3 py-1 inline-flex text-xs font-semibold rounded-full backdrop-blur-sm mt-2 ${B.status==="active"?"bg-green-500/20 text-green-300 border border-green-500/30":B.status==="admin"?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:B.status})]})]}),B.isAdmin?n.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-violet-500/20 text-purple-300 px-3 py-2 rounded-xl text-xs font-bold border border-purple-500/30",children:"Admin"}):B.isSelf?n.jsx("div",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-300 px-3 py-2 rounded-xl text-xs font-bold border border-blue-500/30",children:"Self"}):null]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm text-gray-400 mb-2 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Address"]}),n.jsx("div",{className:"font-mono text-sm text-gray-300 bg-gray-800/40 px-3 py-2 rounded-lg border border-gray-700/30 break-all",children:B.address})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700/30",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-400",children:"Certificates"}),n.jsx("div",{className:"text-xl font-bold text-white",children:B.certificateCount})]})]}),!B.isAdmin&&!B.isSelf&&B.status!=="inactive"&&n.jsxs("button",{onClick:()=>S(B),disabled:g,className:"group/btn px-4 py-2 bg-gradient-to-r from-red-600/80 to-red-500/80 hover:from-red-600 hover:to-red-500 text-white rounded-xl transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-red-500/25 border border-red-500/30",title:"Revoke Institution",children:[n.jsx("svg",{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{className:"text-sm font-semibold",children:"Revoke"})]}),B.status==="inactive"&&n.jsx("span",{className:"bg-gray-800/50 text-gray-500 px-4 py-2 rounded-xl text-sm font-semibold border border-gray-600/30",children:"Revoked"})]})]})]})]},O))})]})]}),w&&n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600 to-red-400 rounded-3xl blur opacity-30"}),n.jsx("div",{className:"relative bg-gradient-to-br from-gray-900/95 to-red-900/95 backdrop-blur-xl border border-red-500/30 rounded-3xl p-8 max-w-md w-full shadow-2xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-6",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Confirm Revocation"}),n.jsxs("p",{className:"text-gray-300 mb-8 leading-relaxed",children:["Are you sure you want to revoke"," ",n.jsx("span",{className:"font-bold text-white bg-gray-800/50 px-2 py-1 rounded",children:A==null?void 0:A.name}),"? This action will permanently remove their ability to issue new certificates."]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:E,className:"flex-1 px-6 py-3 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 rounded-xl transition-all duration-200 font-medium border border-gray-600/50",children:"Cancel"}),n.jsx("button",{onClick:M,disabled:g,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white rounded-xl transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg hover:shadow-red-500/25",children:g?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),n.jsx("span",{children:"Revoking..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Revoke Now"]})})]})]})})]})})]})},iX=({certificate:t,onClose:e,onApprove:s,onExecuteBurn:r,isApproved:a})=>{const[i,o]=k.useState(!1),[c,d]=k.useState(!1),[h,f]=k.useState(0),[x,g]=k.useState(null),[p,v]=k.useState(!1);k.useEffect(()=>{(async()=>{if(window.ethereum)try{const C=new Xe(window.ethereum),E=await new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,C).burnTimelock();f(Number(E)*1e3)}catch(C){console.error("Error getting burn timelock:",C)}})()},[]),k.useEffect(()=>{if(!t||!h)return;const j=()=>{const S=Date.now(),E=new Date(t.burnRequestTime).getTime(),M=S-E,R=Math.max(0,h-M);g(R),v(R<=0)};j();const C=setInterval(j,6e4);return()=>clearInterval(C)},[t,h]);const y=()=>{if(!x)return"Unknown";if(x<=0)return"Timelock expired";const j=Math.floor(x/(1e3*60*60*24)),C=Math.floor(x%(1e3*60*60*24)/(1e3*60*60)),S=Math.floor(x%(1e3*60*60)/(1e3*60));return j>0?`${j}d ${C}h remaining`:C>0?`${C}h ${S}m remaining`:`${S}m remaining`},w=async()=>{if(!a){o(!0);try{await s()}catch(j){console.error("Error approving burn request:",j)}finally{o(!1)}}},A=async()=>{if(!(!a||!p)){d(!0);try{await r(t),e()}catch(j){console.error("Error executing burn:",j)}finally{d(!1)}}};return t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-lg p-6 shadow-xl border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx(ro,{className:"mr-2 text-red-500"}),"Burn Request Details"]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200",children:n.jsx(Hb,{})})]}),n.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Certificate ID"}),n.jsxs("p",{className:"text-white font-medium",children:["#",t.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Status"}),t.burnApproved?p?n.jsxs("span",{className:"inline-flex items-center text-green-400",children:[n.jsx(El,{className:"mr-1"}),"Ready for Burn"]}):n.jsxs("span",{className:"inline-flex items-center text-blue-400",children:[n.jsx(El,{className:"mr-1"}),"Approved, Awaiting Timelock"]}):n.jsxs("span",{className:"inline-flex items-center text-yellow-400",children:[n.jsx(fd,{className:"mr-1"}),"Pending Approval"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Student"}),n.jsx("p",{className:"text-white font-medium",children:`${t.student.substring(0,6)}...${t.student.substring(t.student.length-4)}`})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Institution"}),n.jsx("p",{className:"text-white font-medium",children:`${t.institution.substring(0,6)}...${t.institution.substring(t.institution.length-4)}`})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Request Date"}),n.jsx("p",{className:"text-white font-medium",children:t.burnRequestTime.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Certificate Grade"}),n.jsx("p",{className:"text-white font-medium",children:t.grade})]})]}),n.jsxs("div",{className:"mt-4 bg-gray-900/50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(ro,{className:"text-red-400 mr-2"}),n.jsx("p",{className:"text-gray-300 font-medium",children:"Burn Reason"})]}),n.jsx("p",{className:"text-gray-300",children:t.burnReason||"No reason provided"})]}),t.burnApproved&&n.jsxs("div",{className:"mt-4 bg-gray-900/50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(fd,{className:"text-blue-400 mr-2"}),n.jsx("p",{className:"text-gray-300 font-medium",children:"Timelock Status"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`h-2 rounded-full flex-grow ${p?"bg-green-500":"bg-gradient-to-r from-red-500 via-yellow-500 to-green-500"}`,children:!p&&n.jsx("div",{className:"h-full bg-gray-700 rounded-r-full",style:{width:`${x?x/h*100:100}%`}})}),n.jsx("span",{className:"ml-3 text-gray-300 whitespace-nowrap",children:y()})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Eq,{className:"text-blue-400 mr-2"}),n.jsx("p",{className:"text-gray-300 font-medium",children:"Certificate Status"})]}),n.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Verified:"}),n.jsx("span",{className:t.isVerified?"text-green-400":"text-red-400",children:t.isVerified?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Revoked:"}),n.jsx("span",{className:t.isRevoked?"text-red-400":"text-green-400",children:t.isRevoked?"Yes":"No"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{className:"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600 transition-colors",onClick:e,children:"Close"}),!a&&n.jsx("button",{className:"px-4 py-2 bg-green-600 rounded hover:bg-green-500 flex items-center transition-colors",onClick:w,disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(Jf,{className:"animate-spin mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(El,{className:"mr-2"}),"Approve Burn Request"]})}),a&&p&&r&&n.jsx("button",{className:"px-4 py-2 bg-red-600 rounded hover:bg-red-500 flex items-center transition-colors",onClick:A,disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(Jf,{className:"animate-spin mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ro,{className:"mr-2"}),"Execute Burn"]})})]})]})}):null},oX=()=>{const[t,e]=k.useState([]),[s,r]=k.useState([]),[a,i]=k.useState(!0),[o,c]=k.useState(null),[d,h]=k.useState("newest"),[f,x]=k.useState(""),[g,p]=k.useState("all"),[v,y]=k.useState(!1),[w,A]=k.useState(!1),[j,C]=k.useState(""),[S,E]=k.useState(!1),[M,R]=k.useState(null),[_,I]=k.useState([]),[D,B]=k.useState(!1),[O,$]=k.useState(null),{approveBurnCertificate:Y,cancelBurnRequest:H,error:L,showErrorModal:V,closeErrorModal:X}=sM(O,e,R),[ee,F]=k.useState(0),z=k.useCallback(async()=>{if(window.ethereum)try{const de=await window.ethereum.request({method:"eth_accounts"});if(de.length===0)return;C(de[0]);const be=new Xe(window.ethereum),me=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,be);$(me);const ve="0x0000000000000000000000000000000000000000000000000000000000000000",Ae=await me.INSTITUTION_ROLE(),[Be,ue]=await Promise.all([me.hasRole(ve,de[0]),me.hasRole(Ae,de[0])]);y(Be),A(ue)}catch(de){console.error("Error checking user roles:",de),c("Failed to check user permissions.")}},[]),G=k.useCallback(async()=>{if(O)try{const de=await O.burnTimelock();F(Number(de)*1e3)}catch(de){console.error("Error getting burn timelock:",de)}},[O]),K=k.useCallback(async()=>{if(O)try{i(!0);const de=await O.totalSupply(),be=[],me=10,ve=Number(de);for(let Ae=0;Ae<ve;Ae+=me){const Be=Math.min(Ae+me,ve),ue=[];for(let $e=Ae;$e<Be;$e++)try{const Mt=await O.tokenByIndex($e);ue.push(Number(Mt))}catch(Mt){console.error(`Error getting token at index ${$e}:`,Mt)}const[le,ye,je,Se,Ne,De,_e]=await O.getCertificatesBatch(ue),[st,Pe,ot,nt]=await O.getCertificatesBatchDetails(ue);for(let $e=0;$e<ue.length;$e++){const Mt=await O.burnRequestTimestamps(ue[$e]),rs=await O.burnApproved(ue[$e]);if(Mt>0){let Xt="No reason provided";try{const xt=O.filters.CertificateBurnRequested(ue[$e]),Rs=await O.queryFilter(xt);Rs.length>0&&(Xt=Rs[Rs.length-1].args.reason||"No reason provided")}catch(xt){console.error(`Error getting burn reason for certificate ${ue[$e]}:`,xt)}const sn={id:ue[$e].toString(),tokenId:ue[$e].toString(),student:le[$e],institution:ye[$e],courseId:je[$e].toString(),completionDate:new Date(Number(Se[$e])*1e3),grade:Number(Ne[$e]),isVerified:De[$e],isRevoked:_e[$e],revocationReason:st[$e],version:Pe[$e].toString(),lastUpdateDate:new Date(Number(ot[$e])*1e3),updateReason:nt[$e],burnRequestTime:new Date(Number(Mt)*1e3),burnApproved:rs,burnReason:Xt};!v&&w?sn.institution.toLowerCase()===j.toLowerCase()&&be.push(sn):be.push(sn)}}}e(be),r(be)}catch(de){console.error("Error fetching burn requests:",de),c("Failed to load burn requests.")}finally{i(!1)}},[O,v,w,j]),W=k.useCallback(()=>{if(!t.length)return;let de=[...t];f&&(de=de.filter(be=>be.id.includes(f)||be.student.toLowerCase().includes(f.toLowerCase()))),g==="pending"?de=de.filter(be=>!be.burnApproved):g==="approved"&&(de=de.filter(be=>be.burnApproved)),d==="newest"?de.sort((be,me)=>me.burnRequestTime-be.burnRequestTime):d==="oldest"?de.sort((be,me)=>be.burnRequestTime-me.burnRequestTime):d==="id"&&de.sort((be,me)=>Number(be.id)-Number(me.id)),r(de)},[t,f,g,d]),Q=de=>{I(be=>{if(be.some(ve=>ve.id===de.id)){const ve=be.filter(Ae=>Ae.id!==de.id);return ve.length===0&&B(!1),ve}else return B(!0),[...be,de]})},Z=async()=>{if(!(!O||_.length===0))try{const be=await new Xe(window.ethereum).getSigner(),me=_.map(Ae=>Ae.id),ve=await O.connect(be).approveBurnMultipleCertificates(me);es.promise(ve.wait(),{loading:`Approving ${me.length} burn requests...`,success:`Successfully approved ${me.length} burn requests!`,error:"Failed to approve burn requests."}),await ve.wait(),e(Ae=>Ae.map(Be=>me.includes(Be.id)?{...Be,burnApproved:!0}:Be)),I([]),B(!1),await K()}catch(de){console.error("Error approving batch burn requests:",de),es.error("Failed to approve burn requests.")}},ne=async()=>{if(!(!O||_.length===0))try{const be=await new Xe(window.ethereum).getSigner(),me=_.map(Ae=>Ae.id),ve=await O.connect(be).cancelBurnMultipleRequests(me);es.promise(ve.wait(),{loading:`Canceling ${me.length} burn requests...`,success:`Successfully canceled ${me.length} burn requests!`,error:"Failed to cancel burn requests."}),await ve.wait(),e(Ae=>Ae.map(Be=>me.includes(Be.id)?{...Be,burnRequested:!1,burnRequestTime:null,burnReason:"",burnApproved:!1}:Be)),I([]),B(!1),await K()}catch(de){console.error("Error canceling batch burn requests:",de),es.error("Failed to cancel burn requests.")}},re=async de=>{if(!(!O||!de))try{const me=await new Xe(window.ethereum).getSigner(),ve=await O.connect(me).burnCertificate(de.id,"Executed burn after approval and timelock expiry");es.promise(ve.wait(),{loading:`Burning certificate #${de.id}...`,success:`Certificate #${de.id} burned successfully!`,error:"Failed to burn certificate."}),await ve.wait(),e(Ae=>Ae.filter(Be=>Be.id!==de.id)),await K()}catch(be){console.error("Error executing burn:",be),es.error("Failed to burn certificate.")}},ke=async()=>{if(!O||_.length===0)return;const de=_.filter(be=>be.burnApproved&&Me(be.burnRequestTime));if(de.length===0){es.error("No selected certificates are eligible for burning");return}try{const me=await new Xe(window.ethereum).getSigner(),ve=de.map(Be=>Be.id),Ae=await O.connect(me).burnMultipleCertificates(ve,"Batch burn execution after approval and timelock expiry");es.promise(Ae.wait(),{loading:`Burning ${ve.length} certificates...`,success:`Successfully burned ${ve.length} certificates!`,error:"Failed to burn certificates."}),await Ae.wait(),e(Be=>Be.filter(ue=>!ve.includes(ue.id))),I([]),B(!1),await K()}catch(be){console.error("Error executing batch burn:",be),es.error("Failed to burn certificates.")}};k.useEffect(()=>{z()},[z]),k.useEffect(()=>{O&&(v||w)&&(K(),G())},[O,v,w,K,G]),k.useEffect(()=>{W()},[t,f,g,d,W]);const Me=de=>!de||!ee?!1:Date.now()-de.getTime()>=ee;return!a&&!v&&!w?n.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[n.jsx("div",{className:"text-red-500 text-6xl mb-4",children:n.jsx(I5,{})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-300 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-400 max-w-md text-center",children:"You need to be an administrator or institution to access this page."})]}):n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center mb-2",children:[n.jsx(ro,{className:"text-red-500 mr-3"}),"Burn Request Approvals"]}),n.jsx("p",{className:"text-gray-400",children:v?"As an administrator, you can review and approve certificate burn requests.":"As an institution, you can review and approve burn requests for certificates you issued."})]}),a?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(go,{variant:"cube"})}):o?n.jsxs("div",{className:"bg-red-900/30 border border-red-800 rounded-lg p-4 text-red-400",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error"}),n.jsx("p",{children:o})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Pr,{className:"text-gray-500"})}),n.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Search by certificate ID or student address...",value:f,onChange:de=>x(de.target.value)})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"appearance-none pl-10 pr-8 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-500",value:g,onChange:de=>p(de.target.value),children:[n.jsx("option",{value:"all",children:"All Requests"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"})]}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Nq,{className:"text-gray-500"})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"appearance-none pl-10 pr-8 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-500",value:d,onChange:de=>h(de.target.value),children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"oldest",children:"Oldest First"}),n.jsx("option",{value:"id",children:"Certificate ID"})]}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(kq,{className:"text-gray-500"})})]})]})]}),s.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700 bg-gray-800 rounded-lg shadow",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:n.jsx("div",{className:"flex items-center",children:n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-violet-600 bg-gray-700 border-gray-600 rounded focus:ring-violet-500",checked:_.length===s.length,onChange:()=>{_.length===s.length?(I([]),B(!1)):(I([...s]),B(!0))}})})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Certificate ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Requested By"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Institution"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Request Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:s.map(de=>n.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-violet-600 bg-gray-700 border-gray-600 rounded focus:ring-violet-500",checked:_.some(be=>be.id===de.id),onChange:()=>Q(de)})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-violet-400",children:["#",de.id]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:`${de.student.substring(0,6)}...${de.student.substring(de.student.length-4)}`}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:`${de.institution.substring(0,6)}...${de.institution.substring(de.institution.length-4)}`}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:de.burnRequestTime.toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:n.jsx("div",{className:"max-w-xs truncate",title:de.burnReason,children:de.burnReason||"No reason provided"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.burnApproved?Me(de.burnRequestTime)?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(El,{className:"mr-1"}),"Ready for Burn"]}):n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mb-1",children:[n.jsx(El,{className:"mr-1"}),"Approved"]}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[n.jsx(fd,{className:"inline mr-1"}),(()=>{const be=Date.now()-de.burnRequestTime.getTime(),me=Math.max(0,ee-be);if(me<=0)return"Timelock expired";const ve=Math.floor(me/(1e3*60*60*24)),Ae=Math.floor(me%(1e3*60*60*24)/(1e3*60*60)),Be=Math.floor(me%(1e3*60*60)/(1e3*60));return ve>0?`${ve}d ${Ae}h remaining`:Ae>0?`${Ae}h ${Be}m remaining`:`${Be}m remaining`})()]})]}):n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(fd,{className:"mr-1"}),"Pending Approval"]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[de.burnApproved?Me(de.burnRequestTime)?n.jsx("button",{onClick:()=>re(de),className:"text-red-400 hover:text-red-300 transition-colors mr-3",children:"Execute Burn"}):n.jsx("button",{disabled:!0,className:"text-gray-500 cursor-not-allowed mr-3",children:"Awaiting Timelock"}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{R(de),E(!0)},className:"text-green-400 hover:text-green-300 transition-colors mr-3",children:"Approve"}),n.jsx("button",{onClick:async()=>{await H(de),K()},className:"text-red-400 hover:text-red-300 transition-colors mr-3",children:"Cancel"})]}),n.jsx("button",{onClick:()=>{R(de),E(!0)},className:"text-blue-400 hover:text-blue-300 transition-colors",children:"View Details"})]})]},de.id))})]})}):n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-8 text-center",children:[n.jsx("div",{className:"text-gray-400 text-6xl mb-4 flex justify-center",children:n.jsx(ro,{className:"opacity-30"})}),n.jsx("h3",{className:"text-xl font-medium text-gray-300 mb-2",children:"No Burn Requests Found"}),n.jsx("p",{className:"text-gray-400",children:f||g!=="all"?"Try adjusting your search or filter settings.":"There are no pending burn requests at this time."})]}),D&&n.jsx(iM,{selectedCount:_.length,onApprove:Z,onCancel:ne,onBurn:ke,onClear:()=>{I([]),B(!1)},hasEligibleForBurn:_.some(de=>de.burnApproved&&Me(de.burnRequestTime)),hasPendingRequests:_.some(de=>!de.burnApproved)}),S&&M&&n.jsx(iX,{certificate:M,onClose:()=>{E(!1),R(null)},onApprove:async()=>{await Y(M),E(!1),R(null),K()},onExecuteBurn:re,isApproved:M.burnApproved}),n.jsx(Vg,{show:V,onClose:X,error:L,action:"burn"})]})]})};class zr extends en.Component{constructor(s){super(s);se(this,"handleRetry",()=>{this.setState(s=>({hasError:!1,error:null,errorInfo:null,errorType:"unknown",retryCount:s.retryCount+1})),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:null,errorInfo:null,errorType:"unknown",retryCount:0}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorType:zr.categorizeError(s)}}componentDidCatch(s,r){console.error("Dashboard Error Boundary caught an error:",s,r),this.setState({error:s,errorInfo:r,errorType:zr.categorizeError(s)}),this.props.onError&&this.props.onError(s,r)}static categorizeError(s){var a;const r=((a=s==null?void 0:s.message)==null?void 0:a.toLowerCase())||"";return r.includes("network")||r.includes("fetch")?"network":r.includes("metamask")||r.includes("wallet")?"wallet":r.includes("contract")||r.includes("transaction")?"blockchain":r.includes("user rejected")?"user_rejected":"unknown"}renderErrorUI(){const{errorType:s,error:r,retryCount:a}=this.state,{maxRetries:i=3,fallbackComponent:o}=this.props;if(o)return en.cloneElement(o,{error:r,errorType:s,onRetry:this.handleRetry,retryCount:a});const c={network:{title:"Connection Problem",message:"Unable to connect to the blockchain network. Please check your internet connection.",icon:"🌐",color:"orange",canRetry:!0},wallet:{title:"Wallet Issue",message:"There was a problem connecting to your wallet. Please check MetaMask.",icon:"🦊",color:"amber",canRetry:!0},blockchain:{title:"Blockchain Error",message:"Transaction failed or contract interaction error. This might be temporary.",icon:"⛓️",color:"red",canRetry:!0},user_rejected:{title:"Action Cancelled",message:"The transaction was cancelled. You can try again when ready.",icon:"❌",color:"gray",canRetry:!1},unknown:{title:"Something Went Wrong",message:"An unexpected error occurred. Our team has been notified.",icon:"⚠️",color:"red",canRetry:!0}},d=c[s]||c.unknown,h=d.canRetry&&a<i;return n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 relative overflow-hidden",children:[n.jsx("div",{className:`absolute top-0 left-0 h-1 w-full bg-${d.color}-500/60`}),n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"text-6xl opacity-60",children:d.icon}),n.jsx("h3",{className:"text-xl font-bold text-white",children:d.title}),n.jsx("p",{className:"text-gray-400 max-w-md",children:d.message}),!1,n.jsxs("div",{className:"flex space-x-3 mt-6",children:[h&&n.jsxs("button",{onClick:this.handleRetry,className:`px-4 py-2 bg-${d.color}-600 hover:bg-${d.color}-700 text-white rounded-lg transition-colors duration-200 flex items-center space-x-2`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Try Again"})]}),n.jsxs("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Refresh Page"})]})]}),a>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Retry attempts: ",a,"/",i]})]})]})}render(){return this.state.hasError?this.renderErrorUI():this.props.children}}zr.propTypes={children:ie.node.isRequired,fallbackComponent:ie.element,onError:ie.func,onRetry:ie.func,maxRetries:ie.number};zr.defaultProps={maxRetries:3};const Yt="animate-pulse bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_100%]",NM=({showProgress:t=!0})=>n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t border-r border-gray-700 rounded-tr-lg"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b border-l border-gray-700 rounded-bl-lg"}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg ${Yt}`}),n.jsxs("div",{className:"text-right space-y-2",children:[n.jsx("div",{className:`h-4 w-24 rounded ${Yt}`}),n.jsx("div",{className:`h-8 w-16 rounded ${Yt}`})]})]}),n.jsx("div",{className:"h-px w-full bg-gray-800/60 mb-6"}),t&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-full h-1.5 rounded-full mb-3 ${Yt}`}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("div",{className:"flex space-x-0.5",children:[...Array(5)].map((e,s)=>n.jsx("div",{className:`w-1 h-3 rounded-sm ${Yt}`},s))}),n.jsx("div",{className:`h-3 w-8 rounded ${Yt}`})]})]})]}),M2=({title:t,rows:e=4})=>n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 h-1 w-20 bg-indigo-500/60"}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:`w-5 h-5 rounded mr-2 ${Yt}`}),n.jsx("div",{className:`h-5 w-32 rounded ${Yt}`})]}),n.jsx("div",{className:"space-y-3",children:[...Array(e)].map((s,r)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:`h-3 w-20 rounded ${Yt}`}),n.jsx("div",{className:`h-3 w-12 rounded ${Yt}`})]}),n.jsx("div",{className:`w-full h-1.5 rounded-full ${Yt}`})]},r))}),n.jsxs("div",{className:"mt-6 p-3 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[n.jsx("div",{className:`h-3 w-24 rounded mb-3 ${Yt}`}),[...Array(3)].map((s,r)=>n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("div",{className:`h-2 w-16 rounded ${Yt}`}),n.jsx("div",{className:`h-2 w-8 rounded ${Yt}`})]},r))]})]}),D2=()=>n.jsxs("div",{className:"flex flex-col items-center p-5 bg-gray-900/90 rounded-lg border border-gray-800 relative overflow-hidden",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg mb-3 ${Yt}`}),n.jsx("div",{className:`h-4 w-20 rounded mb-1 ${Yt}`}),n.jsx("div",{className:`h-3 w-24 rounded ${Yt}`})]}),lX=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`h-8 w-64 rounded ${Yt}`}),n.jsx("div",{className:`h-4 w-96 rounded ${Yt}`})]}),n.jsx("div",{className:"flex space-x-4",children:[...Array(3)].map((t,e)=>n.jsx("div",{className:`w-24 h-12 rounded-lg ${Yt}`},e))})]})}),n.jsx("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-4 border border-gray-800/50",children:n.jsx("div",{className:"flex space-x-2",children:[...Array(6)].map((t,e)=>n.jsx("div",{className:`w-32 h-16 rounded-lg ${Yt}`},e))})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((t,e)=>n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`w-8 h-8 rounded ${Yt}`}),n.jsx("div",{className:`w-16 h-6 rounded ${Yt}`})]}),n.jsx("div",{className:`h-8 w-20 rounded mb-2 ${Yt}`}),n.jsx("div",{className:`h-4 w-32 rounded ${Yt}`})]},e))})]}),F5=({title:t,value:e,icon:s,color:r="violet",progress:a=100,tooltip:i,bgImage:o,isLoading:c=!1,onClick:d,className:h=""})=>{const[f,x]=k.useState(!1);if(c)return n.jsx(NM,{showProgress:!!a});const g={violet:{icon:"bg-violet-900/60 text-violet-400",progress:"from-violet-600 to-purple-500",hover:"hover:border-violet-500/50 hover:shadow-violet-500/10",tooltip:"bg-violet-900 border-violet-400",tooltipArrow:"border-t-violet-900"},blue:{icon:"bg-blue-900/60 text-blue-400",progress:"from-blue-600 to-indigo-500",hover:"hover:border-blue-500/50 hover:shadow-blue-500/10",tooltip:"bg-blue-900 border-blue-400",tooltipArrow:"border-t-blue-900"},teal:{icon:"bg-teal-900/60 text-teal-400",progress:"from-teal-600 to-emerald-500",hover:"hover:border-teal-500/50 hover:shadow-teal-500/10",tooltip:"bg-teal-900 border-teal-400",tooltipArrow:"border-t-teal-900"},fuchsia:{icon:"bg-fuchsia-900/60 text-fuchsia-400",progress:"from-fuchsia-600 to-pink-500",hover:"hover:border-fuchsia-500/50 hover:shadow-fuchsia-500/10",tooltip:"bg-fuchsia-900 border-fuchsia-400",tooltipArrow:"border-t-fuchsia-900"},red:{icon:"bg-red-900/60 text-red-400",progress:"from-red-600 to-rose-500",hover:"hover:border-red-500/50 hover:shadow-red-500/10",tooltip:"bg-red-900 border-red-400",tooltipArrow:"border-t-red-900"},orange:{icon:"bg-orange-900/60 text-orange-400",progress:"from-orange-600 to-amber-500",hover:"hover:border-orange-500/50 hover:shadow-orange-500/10",tooltip:"bg-orange-900 border-orange-400",tooltipArrow:"border-t-orange-900"}},p=g[r]||g.violet,v=()=>{d&&d({title:t,value:e,color:r})};return n.jsxs("div",{className:`bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 ${p.hover} transition-all duration-300 relative group overflow-hidden ${d?"cursor-pointer":""} ${h}`,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:v,role:d?"button":void 0,tabIndex:d?0:void 0,onKeyDown:d?y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),v())}:void 0,children:[o&&n.jsx("div",{className:"absolute inset-0 opacity-5 z-0",children:n.jsx("img",{src:o,alt:"",className:"object-cover w-full h-full"})}),n.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t border-r border-gray-700 rounded-tr-lg"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b border-l border-gray-700 rounded-bl-lg"}),i&&f&&n.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-2 ${p.tooltip} text-white text-xs rounded border opacity-0 group-hover:opacity-100 transition-opacity duration-300 w-48 shadow-lg z-30`,children:[i,n.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 border-8 border-transparent ${p.tooltipArrow}`})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[n.jsx("div",{className:`${p.icon} p-3 rounded-lg shadow-lg`,children:s}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-gray-400 text-sm font-medium tracking-wide",children:t}),n.jsxs("h3",{className:"text-3xl font-bold text-white mt-1 tracking-tight flex items-center justify-end",children:[n.jsx("span",{className:"mr-1 text-xs font-mono text-gray-500",children:"#"}),e]})]})]}),n.jsx("div",{className:"absolute h-px w-full bg-gray-800/60 left-0 top-[4.5rem]"}),n.jsxs("div",{className:"w-full bg-gray-800/80 h-1.5 rounded-full overflow-hidden relative mt-6",children:[n.jsx("div",{className:"absolute inset-0 bg-gray-800 opacity-30 blur-sm"}),n.jsx("div",{className:`bg-gradient-to-r ${p.progress} h-full rounded-full relative z-10`,style:{width:`${Math.min(100,Math.max(0,a))}%`}})]}),n.jsxs("div",{className:"flex justify-between mt-3",children:[n.jsx("div",{className:"flex space-x-0.5",children:[...Array(5)].map((y,w)=>n.jsx("div",{className:`w-1 h-3 ${w<Math.floor(Math.min(100,Math.max(0,a))/20)?`bg-${r}-500/40`:"bg-gray-700/40"} rounded-sm`},w))}),n.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:[Math.min(100,Math.max(0,a)),"%"]})]})]})};F5.propTypes={title:ie.string.isRequired,value:ie.oneOfType([ie.number,ie.string]).isRequired,icon:ie.node.isRequired,color:ie.oneOf(["violet","blue","teal","fuchsia"]),progress:ie.number,tooltip:ie.string,bgImage:ie.string,isLoading:ie.bool,onClick:ie.func,className:ie.string};F5.defaultProps={color:"violet",progress:100,isLoading:!1,className:""};const z5=({children:t,columns:e=4,gap:s=6,className:r="",minColumns:a=1,mdColumns:i=2,lgColumns:o=3,xlColumns:c=4,...d})=>{const h=()=>{const f="grid",x=`gap-${s}`,g=[`grid-cols-${a}`,i&&`md:grid-cols-${i}`,o&&`lg:grid-cols-${o}`,c&&`xl:grid-cols-${c}`].filter(Boolean).join(" ");return`${f} ${g} ${x} ${r}`.trim()};return n.jsx("div",{className:h(),role:"grid","aria-label":"Dashboard statistics grid",...d,children:t})};z5.propTypes={children:ie.node.isRequired,columns:ie.number,gap:ie.number,className:ie.string,minColumns:ie.number,mdColumns:ie.number,lgColumns:ie.number,xlColumns:ie.number};z5.defaultProps={columns:4,gap:6,className:"",minColumns:1,mdColumns:2,lgColumns:3,xlColumns:4};const U5=({institutionStats:t={},isLoading:e=!1,error:s=null,userRoles:r={},className:a="",onStatClick:i})=>{const{isInstitution:o=!1,isAdmin:c=!1}=r,d=k.useMemo(()=>c?[{id:"global-total-certificates",title:"Global Total Certificates",value:(t==null?void 0:t.totalCertificates)||0,color:"red",progress:100,tooltip:"Total number of certificates across all institutions on the blockchain",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"global-verified-certificates",title:"Global Verified",value:(t==null?void 0:t.verifiedCertificates)||0,color:"green",progress:Math.min(100,((t==null?void 0:t.verifiedCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Verified certificates across all institutions",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"global-pending-certificates",title:"Global Pending",value:(t==null?void 0:t.pendingCertificates)||0,color:"orange",progress:Math.min(100,((t==null?void 0:t.pendingCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Pending verification across all institutions",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"global-revoked-certificates",title:"Global Revoked",value:(t==null?void 0:t.revokedCertificates)||0,color:"red",progress:Math.min(100,((t==null?void 0:t.revokedCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Revoked certificates across all institutions",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"total-institutions",title:"Active Institutions",value:(t==null?void 0:t.totalInstitutions)||0,color:"purple",progress:100,tooltip:"Authorized institutions registered on the blockchain (excludes admin accounts)",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{id:"admin-verification-rate",title:"System Verification Rate",value:`${Math.floor(((t==null?void 0:t.verifiedCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100)}%`,color:"blue",progress:Math.min(100,((t==null?void 0:t.verifiedCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Overall verification rate across the platform",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})})}]:[{id:"institution-certificates",title:"Our Institution Certificates",value:(t==null?void 0:t.issuedByCurrentInstitution)||0,color:"violet",progress:100,tooltip:"Total certificates issued by your institution",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{id:"verified-certificates",title:"Verified Certificates",value:(t==null?void 0:t.verifiedCertificates)||0,color:"blue",progress:Math.min(100,((t==null?void 0:t.verifiedCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Certificates that have been verified by authorized institutions on the blockchain",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"pending-certificates",title:"Pending Verification",value:(t==null?void 0:t.pendingCertificates)||0,color:"orange",progress:Math.min(100,((t==null?void 0:t.pendingCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Certificates awaiting verification from authorized institutions",icon:n.jsxs("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),n.jsx("circle",{cx:"8",cy:"8",r:"1",fill:"currentColor"}),n.jsx("circle",{cx:"12",cy:"8",r:"1",fill:"currentColor"}),n.jsx("circle",{cx:"16",cy:"8",r:"1",fill:"currentColor"})]})},{id:"institution-verification-rate",title:"Institution Verification Rate",value:`${Math.floor(((t==null?void 0:t.verifiedCertificates)||0)/Math.max(1,(t==null?void 0:t.issuedByCurrentInstitution)||1)*100)}%`,color:"teal",progress:Math.min(100,((t==null?void 0:t.verifiedCertificates)||0)/Math.max(1,(t==null?void 0:t.issuedByCurrentInstitution)||1)*100),tooltip:"Verification rate for certificates issued by your institution",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})})},{id:"revoked-certificates",title:"Revoked Certificates",value:(t==null?void 0:t.revokedCertificates)||0,color:"red",progress:Math.min(100,((t==null?void 0:t.revokedCertificates)||0)/Math.max(1,(t==null?void 0:t.totalCertificates)||1)*100),tooltip:"Certificates that have been revoked and are no longer valid",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"institution-status",title:"Institution Status",value:o?"Authorized":"Not Authorized",color:"fuchsia",progress:o?100:0,tooltip:"Your institution authorization status for issuing certificates",icon:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}],[t,o,c]),h=f=>{i&&i(f)};return s?n.jsx("div",{className:`bg-red-900/20 border border-red-500/30 rounded-lg p-6 ${a}`,children:n.jsxs("div",{className:"flex items-center text-red-400",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:["Error loading statistics: ",s.message||"Unknown error"]})]})}):n.jsx("div",{className:a,role:"region","aria-label":"Dashboard Statistics",children:n.jsx(z5,{children:d.map(f=>n.jsx(zr,{fallbackComponent:n.jsx(NM,{showProgress:!!f.progress}),children:n.jsx(F5,{title:f.title,value:f.value,icon:f.icon,color:f.color,progress:f.progress,tooltip:f.tooltip,isLoading:e,onClick:i?()=>h(f):void 0})},f.id))})})};U5.propTypes={institutionStats:ie.shape({totalCertificates:ie.number,verifiedCertificates:ie.number,issuedByCurrentInstitution:ie.number,totalInstitutions:ie.number,lastUpdated:ie.oneOfType([ie.string,ie.number])}),isLoading:ie.bool,error:ie.oneOfType([ie.object,ie.string]),userRoles:ie.shape({isAdmin:ie.bool,isInstitution:ie.bool}),className:ie.string,onStatClick:ie.func};U5.defaultProps={institutionStats:{},isLoading:!1,error:null,userRoles:{},className:""};const qb=k.memo(({to:t,title:e,description:s,icon:r,color:a="indigo",onClick:i,isVisible:o=!0,className:c="",disabled:d=!1,...h})=>{const f={indigo:{bg:"bg-indigo-900/40",bgHover:"group-hover:bg-indigo-800/60",border:"border-indigo-500/30",gradient:"from-indigo-600/0 to-indigo-600/0 group-hover:from-indigo-600/10 group-hover:to-indigo-600/0",glow:"bg-indigo-500/10",shadow:"shadow-indigo-950/30",borderHover:"hover:border-indigo-500/70",shadowHover:"hover:shadow-indigo-500/10",text:"text-indigo-400",textSecondary:"text-indigo-400/80"},teal:{bg:"bg-teal-900/40",bgHover:"group-hover:bg-teal-800/60",border:"border-teal-500/30",gradient:"from-teal-600/0 to-teal-600/0 group-hover:from-teal-600/10 group-hover:to-teal-600/0",glow:"bg-teal-500/10",shadow:"shadow-teal-950/30",borderHover:"hover:border-teal-500/70",shadowHover:"hover:shadow-teal-500/10",text:"text-teal-400",textSecondary:"text-teal-400/80"},blue:{bg:"bg-blue-900/40",bgHover:"group-hover:bg-blue-800/60",border:"border-blue-500/30",gradient:"from-blue-600/0 to-blue-600/0 group-hover:from-blue-600/10 group-hover:to-blue-600/0",glow:"bg-blue-500/10",shadow:"shadow-blue-950/30",borderHover:"hover:border-blue-500/70",shadowHover:"hover:shadow-blue-500/10",text:"text-blue-400",textSecondary:"text-blue-400/80"},fuchsia:{bg:"bg-fuchsia-900/40",bgHover:"group-hover:bg-fuchsia-800/60",border:"border-fuchsia-500/30",gradient:"from-fuchsia-600/0 to-fuchsia-600/0 group-hover:from-fuchsia-600/10 group-hover:to-fuchsia-600/0",glow:"bg-fuchsia-500/10",shadow:"shadow-fuchsia-950/30",borderHover:"hover:border-fuchsia-500/70",shadowHover:"hover:shadow-fuchsia-500/10",text:"text-fuchsia-400",textSecondary:"text-fuchsia-400/80"},amber:{bg:"bg-amber-900/40",bgHover:"group-hover:bg-amber-800/60",border:"border-amber-500/30",gradient:"from-amber-600/0 to-amber-600/0 group-hover:from-amber-600/10 group-hover:to-amber-600/0",glow:"bg-amber-500/10",shadow:"shadow-amber-950/30",borderHover:"hover:border-amber-500/70",shadowHover:"hover:shadow-amber-500/10",text:"text-amber-400",textSecondary:"text-amber-400/80"}},x=f[a]||f.indigo;if(!o)return null;const g=`
    group flex flex-col items-center p-5 
    bg-gray-900/90 hover:bg-gray-800/90 
    rounded-lg transition-all duration-300 
    border border-gray-800 ${x.borderHover} 
    hover:shadow-lg ${x.shadowHover}
    relative overflow-hidden
    ${d?"opacity-50 cursor-not-allowed":"cursor-pointer"}
    ${c}
  `.trim(),p=y=>{if(d){y.preventDefault();return}i&&i(y)},v=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${x.gradient} transition-all duration-500`}),n.jsx("div",{className:`absolute -top-6 -right-6 w-12 h-12 ${x.glow} rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),n.jsxs("div",{className:`${x.bg} p-3 rounded-lg mb-3 ${x.bgHover} transition-colors duration-300 shadow-lg ${x.shadow} z-10 relative`,children:[n.jsx("div",{className:`absolute inset-0 border ${x.border} rounded-lg`}),n.jsx("div",{className:`w-6 h-6 ${x.text}`,children:r})]}),n.jsx("span",{className:"text-gray-300 group-hover:text-white font-medium z-10",children:e}),n.jsx("span",{className:`text-xs ${x.textSecondary} mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300`,children:s})]});return t&&!d?n.jsx(io,{to:t,className:g,onClick:p,...h,children:n.jsx(v,{})}):n.jsx("div",{className:g,onClick:p,role:i?"button":void 0,tabIndex:i&&!d?0:void 0,onKeyDown:i&&!d?y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),p(y))}:void 0,...h,children:n.jsx(v,{})})});qb.propTypes={to:ie.string,title:ie.string.isRequired,description:ie.string.isRequired,icon:ie.node.isRequired,color:ie.oneOf(["indigo","teal","blue","fuchsia","amber"]),onClick:ie.func,isVisible:ie.bool,className:ie.string,disabled:ie.bool};qb.defaultProps={color:"indigo",isVisible:!0,className:"",disabled:!1};qb.displayName="ActionCard";const R0=k.memo(({title:t="Quick Actions",subtitle:e,systemInfo:s="sys.actions.verified",icon:r,className:a="",children:i,showSystemInfo:o=!0,...c})=>{const d=n.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})});return n.jsxs("div",{className:`flex items-center justify-between mb-6 ${a}`,...c,children:[n.jsx("div",{className:"flex-1",children:n.jsxs("h2",{className:"text-xl font-bold text-white tracking-wide flex items-center",children:[r||d,t,e&&n.jsx("span",{className:"ml-2 text-sm font-normal text-gray-400",children:e})]})}),o&&n.jsxs("div",{className:"text-xs text-gray-400 bg-gray-800/60 py-1 px-2 rounded font-mono border border-gray-700/50",children:[n.jsx("span",{className:"text-indigo-400",children:"sys."}),n.jsx("span",{className:"text-gray-300",children:"actions."}),n.jsx("span",{className:"text-emerald-400",children:"verified"})]}),i]})});R0.propTypes={title:ie.string,subtitle:ie.string,systemInfo:ie.string,icon:ie.node,className:ie.string,children:ie.node,showSystemInfo:ie.bool};R0.defaultProps={title:"Quick Actions",systemInfo:"sys.actions.verified",className:"",showSystemInfo:!0};R0.displayName="DashboardNavigation";const Xh={ViewCertificates:()=>n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),IssueCertificate:()=>n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),VerifyCertificate:()=>n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ManageInstitutions:()=>n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Analytics:()=>n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},Ri={ALL:"all",ADMIN:"isAdmin",INSTITUTION:"isInstitution"},$5=[{id:"view-certificates",title:"View Certificates",description:"Access all certificates",to:"/dashboard/certificates",icon:n.jsx(Xh.ViewCertificates,{}),color:"indigo",requiredRoles:[Ri.ALL],priority:1},{id:"issue-certificate",title:"Issue Certificate",description:"Create new certificate",to:"/dashboard/issue",icon:n.jsx(Xh.IssueCertificate,{}),color:"teal",requiredRoles:[Ri.INSTITUTION,Ri.ADMIN],priority:2},{id:"verify-certificate",title:"Verify Certificate",description:"Validate authenticity",to:"/dashboard/verify",icon:n.jsx(Xh.VerifyCertificate,{}),color:"blue",requiredRoles:[Ri.INSTITUTION,Ri.ADMIN],priority:3},{id:"manage-institutions",title:"Manage Institutions",description:"Control authorization",to:"/dashboard/institutions",icon:n.jsx(Xh.ManageInstitutions,{}),color:"fuchsia",requiredRoles:[Ri.ADMIN],priority:4},{id:"analytics",title:"Analytics",description:"View detailed metrics",to:"/dashboard/analytics",icon:n.jsx(Xh.Analytics,{}),color:"amber",requiredRoles:[Ri.ADMIN,Ri.INSTITUTION],priority:5}],cX=(t={},e=$5)=>e.filter(s=>s.requiredRoles.some(r=>r===Ri.ALL?!0:t[r]===!0)).sort((s,r)=>s.priority-r.priority),Wb=k.memo(({userRoles:t={},actions:e=$5,title:s="Quick Actions",subtitle:r,className:a="",gridCols:i={default:1,md:2,lg:4,xl:4},onActionClick:o,isLoading:c=!1,...d})=>{const h=k.useMemo(()=>cX(t,e),[t,e]),f=(g,p)=>{o&&o(g,p)},x=()=>`
      grid grid-cols-${i.default} 
      md:grid-cols-${i.md} 
      lg:grid-cols-${i.lg} 
      xl:grid-cols-${i.xl} 
      gap-4
    `.trim();return c?n.jsxs("div",{className:`bg-gray-900/90 backdrop-blur-md rounded-lg shadow-xl border border-indigo-500/20 p-6 ${a}`,children:[n.jsx(R0,{title:s,subtitle:r}),n.jsx("div",{className:x(),children:[...Array(4)].map((g,p)=>n.jsx(D2,{},p))})]}):h.length===0?n.jsxs("div",{className:`bg-gray-900/90 backdrop-blur-md rounded-lg shadow-xl border border-indigo-500/20 p-6 ${a}`,children:[n.jsx(R0,{title:s,subtitle:r}),n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No Actions Available"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"You don't have permission to access any quick actions. Contact your administrator for access."})]})]}):n.jsx(zr,{fallbackComponent:n.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-lg shadow-xl border border-indigo-500/20 p-6",children:n.jsx("div",{className:x(),children:[...Array(4)].map((g,p)=>n.jsx(D2,{},p))})}),children:n.jsxs("div",{className:`bg-gray-900/90 backdrop-blur-md rounded-lg shadow-xl border border-indigo-500/20 overflow-hidden relative group ${a}`,...d,children:[n.jsx("div",{className:"absolute top-0 left-10 h-1 w-20 bg-indigo-500/60"}),n.jsx("div",{className:"absolute bottom-0 right-10 h-1 w-20 bg-indigo-500/60"}),n.jsx("div",{className:"absolute top-0 right-[20%] w-0.5 h-12 bg-indigo-500/10"}),n.jsx("div",{className:"absolute bottom-0 left-[35%] w-0.5 h-8 bg-indigo-500/10"}),n.jsxs("div",{className:"p-6",children:[n.jsx(R0,{title:s,subtitle:r,icon:n.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("div",{className:x(),children:h.map(g=>n.jsx(zr,{fallbackComponent:n.jsx(D2,{}),children:n.jsx(qb,{to:g.to,title:g.title,description:g.description,icon:g.icon,color:g.color,onClick:p=>f(g,p),isVisible:!0})},g.id))})]})]})})});Wb.propTypes={userRoles:ie.shape({isAdmin:ie.bool,isInstitution:ie.bool}),actions:ie.arrayOf(ie.shape({id:ie.string.isRequired,title:ie.string.isRequired,description:ie.string.isRequired,to:ie.string,icon:ie.node.isRequired,color:ie.string,requiredRoles:ie.arrayOf(ie.string).isRequired,priority:ie.number})),title:ie.string,subtitle:ie.string,className:ie.string,gridCols:ie.shape({default:ie.number,md:ie.number,lg:ie.number,xl:ie.number}),onActionClick:ie.func,isLoading:ie.bool};Wb.defaultProps={userRoles:{},actions:$5,title:"Quick Actions",className:"",gridCols:{default:1,md:2,lg:4,xl:4},isLoading:!1};Wb.displayName="QuickActions";const jM=()=>{const[t,e]=k.useState(navigator.onLine),[s,r]=k.useState("unknown");return k.useEffect(()=>{const a=()=>e(!0),i=()=>e(!1);window.addEventListener("online",a),window.addEventListener("offline",i);const o=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return o&&r(o.effectiveType||"unknown"),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",i)}},[]),{isOnline:t,networkSpeed:s}},dX=({onRetry:t,showFullPage:e=!1})=>{const s="div",r=e?"fixed inset-0 bg-gray-950 flex items-center justify-center z-50":"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-8 border border-gray-800 text-center";return n.jsx(s,{className:r,children:n.jsxs("div",{className:"max-w-md mx-auto text-center space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-12.728 12.728m0-12.728l12.728 12.728M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"})})}),n.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"!"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"You're Offline"}),n.jsx("p",{className:"text-gray-400",children:"No internet connection detected. Please check your network settings and try again."})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 text-left",children:[n.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Troubleshooting Tips:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsx("li",{children:"• Check your WiFi or mobile data connection"}),n.jsx("li",{children:"• Try refreshing the page"}),n.jsx("li",{children:"• Restart your router if using WiFi"}),n.jsx("li",{children:"• Check if other websites are working"})]})]}),t&&n.jsxs("button",{onClick:t,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Check Connection"})]})]})})},CM=({onConnect:t})=>{const[e,s]=k.useState(!1),r=async()=>{s(!0);try{t&&await t()}catch(a){console.error("Failed to connect wallet:",a)}finally{s(!1)}};return n.jsx("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-8 border border-violet-500/30 text-center",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"w-24 h-24 mx-auto bg-violet-900/30 rounded-full flex items-center justify-center border border-violet-500/50",children:n.jsx("svg",{className:"w-12 h-12 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Connect Your Wallet"}),n.jsx("p",{className:"text-gray-400",children:"Connect your wallet to access the Certificate Management Dashboard"})]}),n.jsx("button",{onClick:r,disabled:e,className:"w-full px-6 py-3 bg-violet-600 hover:bg-violet-700 disabled:bg-gray-600 text-white rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n.jsx("span",{children:"Connecting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{children:"Connect Wallet"})]})}),n.jsxs("div",{className:"text-xs text-gray-500 bg-gray-800/30 rounded p-3",children:[n.jsx("p",{className:"mb-2",children:"Supported Wallets:"}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("span",{children:"🦊 MetaMask"}),n.jsx("span",{children:"🌈 Rainbow"}),n.jsx("span",{children:"⚡ WalletConnect"})]})]})]})})},kM=({className:t="",showSpeed:e=!1,showLatency:s=!1,compact:r=!1})=>{const{isOnline:a,networkSpeed:i}=jM(),[o,c]=k.useState(null),[d,h]=k.useState("unknown");k.useEffect(()=>{if(!a)return;const y=async()=>{try{const A=performance.now();await fetch("/api/ping",{method:"HEAD",cache:"no-cache"}).catch(()=>fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-cache"}));const j=performance.now(),C=Math.round(j-A);c(C),C<100?h("excellent"):C<300?h("good"):C<600?h("fair"):h("poor")}catch{c(null),h("unknown")}};y();const w=setInterval(y,3e4);return()=>clearInterval(w)},[a]);const f=()=>{if(!a)return"red";switch(d){case"excellent":return"green";case"good":return"blue";case"fair":return"yellow";case"poor":return"orange";default:return"gray"}},x=()=>{if(!a)return"Offline";switch(d){case"excellent":return"Excellent";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return"Connected"}},g=()=>{switch(i){case"slow-2g":return"2G";case"2g":return"2G";case"3g":return"3G";case"4g":return"4G";case"5g":return"5G";default:return i||"Unknown"}},p=f(),v=x();return r?n.jsxs("div",{className:`flex items-center ${t}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${a?"animate-pulse":""}`,style:{backgroundColor:p==="green"?"#10b981":p==="blue"?"#3b82f6":p==="yellow"?"#f59e0b":p==="orange"?"#f97316":p==="red"?"#ef4444":"#6b7280"}}),n.jsx("span",{className:"text-xs font-medium text-white",children:a?"Online":"Offline"})]}):n.jsxs("div",{className:`bg-white/5 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/10 shadow-inner flex flex-col ${t}`,children:[n.jsx("span",{className:"text-xs text-violet-300/70",children:"Network Status"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${a?"animate-pulse":""}`,style:{backgroundColor:p==="green"?"#10b981":p==="blue"?"#3b82f6":p==="yellow"?"#f59e0b":p==="orange"?"#f97316":p==="red"?"#ef4444":"#6b7280"}}),n.jsx("span",{className:"font-medium text-white",children:v}),e&&i&&i!=="unknown"&&n.jsx("span",{className:"ml-2 text-xs text-gray-400 bg-gray-700/50 px-1.5 py-0.5 rounded",children:g()}),s&&o!==null&&n.jsxs("span",{className:"ml-2 text-xs text-gray-400 bg-gray-700/50 px-1.5 py-0.5 rounded",children:[o,"ms"]})]}),a&&d==="excellent"&&(e||s)&&n.jsx("div",{className:"mt-1 text-xs text-emerald-400/70",children:"⚡ Optimal performance"}),a&&d==="poor"&&n.jsx("div",{className:"mt-1 text-xs text-amber-400/70",children:"⚠️ Slow connection detected"})]})};kM.propTypes={className:ie.string,showSpeed:ie.bool,showLatency:ie.bool,compact:ie.bool};const AM=({userRoles:t={},className:e="",showPermissions:s=!0,compact:r=!1})=>{const{isAdmin:a=!1,isInstitution:i=!1}=t,[o,c]=k.useState(!1),d=k.useRef(null),h=k.useRef(null),x=a?{label:"Administrator",color:"blue",icon:"👑",permissions:["Manage institutions and users","View all platform analytics","Configure system settings","Handle burn approvals","Override verification status"],bgClass:"bg-blue-500/20 border-blue-400/50",textClass:"text-blue-300",dotClass:"bg-blue-400"}:i?{label:"Institution",color:"teal",icon:"🏛️",permissions:["Issue certificates to students","Verify certificate authenticity","Manage course information","Request certificate burns","View institution analytics"],bgClass:"bg-teal-500/20 border-teal-400/50",textClass:"text-teal-300",dotClass:"bg-teal-400"}:{label:"User",color:"gray",icon:"👤",permissions:["View owned certificates","Verify certificate authenticity","Request certificate information","Access public certificate data"],bgClass:"bg-gray-500/20 border-gray-400/50",textClass:"text-gray-300",dotClass:"bg-gray-400"};return k.useEffect(()=>{if(!o||!d.current||!h.current)return;const g=d.current,v=h.current.getBoundingClientRect(),y=g.getBoundingClientRect();v.left+y.width>window.innerWidth?(g.style.left="auto",g.style.right="0"):(g.style.left="0",g.style.right="auto")},[o]),r?n.jsxs("div",{className:`flex items-center ${e}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${x.dotClass}`}),n.jsx("span",{className:`text-xs font-medium ${x.textClass}`,children:x.label})]}):n.jsxs("div",{ref:h,className:`bg-white/5 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/10 shadow-inner flex flex-col relative ${e}`,onMouseEnter:()=>s&&c(!0),onMouseLeave:()=>c(!1),children:[n.jsx("span",{className:"text-xs text-violet-300/70",children:"Access Level"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("span",{className:"mr-2 text-sm",children:x.icon}),n.jsx("span",{className:`font-medium ${x.textClass}`,children:x.label}),n.jsxs("div",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium border ${x.bgClass}`,children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x.dotClass} inline-block mr-1`}),"Active"]})]}),s&&o&&n.jsxs("div",{ref:d,className:"absolute top-full left-0 mt-2 w-64 bg-gray-900 border border-gray-600 rounded-lg shadow-xl z-50 p-4",style:{pointerEvents:"none"},children:[n.jsx("div",{className:"absolute -top-2 left-4 w-4 h-4 bg-gray-900 border-l border-t border-gray-600 transform rotate-45"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("span",{className:"text-lg mr-2",children:x.icon}),n.jsxs("h4",{className:`font-semibold ${x.textClass}`,children:[x.label," Permissions"]})]}),n.jsx("ul",{className:"space-y-2",children:x.permissions.map((g,p)=>n.jsxs("li",{className:"flex items-start text-sm text-gray-300",children:[n.jsx("span",{className:"text-green-400 mr-2 mt-0.5",children:"✓"}),g]},p))}),a&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:n.jsx("p",{className:"text-xs text-gray-400",children:"🔒 Highest privilege level - Handle with care"})}),i&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:n.jsx("p",{className:"text-xs text-gray-400",children:"🎓 Educational institution verified account"})})]})]})]})};AM.propTypes={userRoles:ie.shape({isAdmin:ie.bool,isInstitution:ie.bool}),className:ie.string,showPermissions:ie.bool,compact:ie.bool};const EM=({timestamp:t,isLoading:e=!1,className:s="",showRelativeTime:r=!0,autoRefresh:a=!0,refreshInterval:i=3e4,compact:o=!1,onRefreshNeeded:c})=>{const[d,h]=k.useState(new Date),[f,x]=k.useState("relative");k.useEffect(()=>{if(!a)return;const C=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(C)},[a]),k.useEffect(()=>{if(!t||!c||!a)return;const C=new Date(t);if(new Date().getTime()-C.getTime()>i){const M=setInterval(()=>{c()},i);return()=>clearInterval(M)}},[t,c,i,a]);const g=k.useCallback(C=>{if(!C)return"Never";const S=d.getTime(),E=new Date(C).getTime(),M=Math.floor((S-E)/1e3);if(M<60)return"Just now";if(M<3600){const R=Math.floor(M/60);return`${R} minute${R>1?"s":""} ago`}else if(M<86400){const R=Math.floor(M/3600);return`${R} hour${R>1?"s":""} ago`}else{const R=Math.floor(M/86400);return`${R} day${R>1?"s":""} ago`}},[d]),p=k.useCallback(C=>C?new Date(C).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Never",[]),v=()=>{if(!t)return"gray";const C=d.getTime(),S=new Date(t).getTime(),E=(C-S)/(1e3*60);return E<2?"green":E<5?"blue":E<15?"yellow":E<60?"orange":"red"},y=()=>{x(f==="relative"?"absolute":f==="absolute"?"both":"relative")},w=v(),A=g(t),j=p(t);return o?n.jsxs("div",{className:`flex items-center ${s}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${e?"animate-spin border border-white border-t-transparent rounded-full":""}`,style:{backgroundColor:e?"transparent":w==="green"?"#10b981":w==="blue"?"#3b82f6":w==="yellow"?"#f59e0b":w==="orange"?"#f97316":w==="red"?"#ef4444":"#6b7280"}}),n.jsx("span",{className:"text-xs font-medium text-white cursor-pointer",onClick:y,children:r?A:j})]}):n.jsxs("div",{className:`bg-white/5 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/10 shadow-inner flex flex-col ${s}`,children:[n.jsx("span",{className:"text-xs text-violet-300/70",children:"Last Updated"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsxs("div",{className:"font-medium text-white cursor-pointer flex-1",onClick:y,title:"Click to toggle time format",children:[f==="relative"&&n.jsx("span",{children:A}),f==="absolute"&&n.jsx("span",{children:j}),f==="both"&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm",children:j}),n.jsx("span",{className:"text-xs text-gray-400",children:A})]})]}),e&&n.jsx("div",{className:"ml-2 w-3 h-3 border-2 border-violet-500/30 border-t-violet-500 rounded-full animate-spin"}),!e&&n.jsx("div",{className:`ml-2 w-3 h-3 rounded-full ${w==="green"?"animate-pulse":""}`,style:{backgroundColor:w==="green"?"#10b981":w==="blue"?"#3b82f6":w==="yellow"?"#f59e0b":w==="orange"?"#f97316":w==="red"?"#ef4444":"#6b7280"},title:w==="green"?"Data is very fresh":w==="blue"?"Data is fresh":w==="yellow"?"Data is getting stale":w==="orange"?"Data is stale":w==="red"?"Data is very stale":"Unknown"})]}),w==="red"&&!e&&n.jsx("div",{className:"mt-1 text-xs text-red-400/70",children:"⚠️ Data may be outdated"}),w==="green"&&!e&&n.jsx("div",{className:"mt-1 text-xs text-emerald-400/70",children:"✨ Real-time data"})]})};EM.propTypes={timestamp:ie.oneOfType([ie.string,ie.number,ie.instanceOf(Date)]),isLoading:ie.bool,className:ie.string,showRelativeTime:ie.bool,autoRefresh:ie.bool,refreshInterval:ie.number,compact:ie.bool,onRefreshNeeded:ie.func};const SM=({contract:t,provider:e,className:s="",showDetails:r=!1,autoCheck:a=!0,checkInterval:i=6e4,compact:o=!1})=>{const[c,d]=k.useState({overall:"unknown",rpc:"unknown",contract:"unknown",blockchain:"unknown",blockHeight:null,gasPrice:null,lastCheck:null}),[h,f]=k.useState(!1),x=k.useCallback(async()=>{if(e){f(!0);try{const y={lastCheck:new Date,rpc:"unknown",contract:"unknown",blockchain:"unknown",blockHeight:null,gasPrice:null};try{const j=await Promise.race([e.getNetwork(),new Promise((C,S)=>setTimeout(()=>S(new Error("Timeout")),5e3))]);y.rpc=j?"healthy":"unhealthy"}catch(j){y.rpc="unhealthy",console.warn("RPC check failed:",j.message)}try{const[j,C]=await Promise.all([Promise.race([e.getBlockNumber(),new Promise((S,E)=>setTimeout(()=>E(new Error("Timeout")),5e3))]),Promise.race([e.getGasPrice(),new Promise((S,E)=>setTimeout(()=>E(new Error("Timeout")),5e3))])]);y.blockHeight=j,y.gasPrice=C,y.blockchain="healthy"}catch(j){y.blockchain="unhealthy",console.warn("Blockchain check failed:",j.message)}if(t)try{await Promise.race([t.totalSupply(),new Promise((j,C)=>setTimeout(()=>C(new Error("Timeout")),5e3))]),y.contract="healthy"}catch(j){y.contract="unhealthy",console.warn("Contract check failed:",j.message)}else y.contract="unavailable";const w=Object.values(y).filter(j=>j==="healthy").length,A=3;w===A?y.overall="excellent":w>=A-1?y.overall="good":w>=1?y.overall="poor":y.overall="critical",d(y)}catch(y){console.error("Health check failed:",y),d(w=>({...w,overall:"critical",lastCheck:new Date}))}finally{f(!1)}}},[e,t]);k.useEffect(()=>{if(!a||!e)return;x();const y=setInterval(x,i);return()=>clearInterval(y)},[x,a,i,e]);const g=y=>{switch(y){case"excellent":return"#10b981";case"healthy":return"#10b981";case"good":return"#3b82f6";case"poor":return"#f59e0b";case"unhealthy":return"#f97316";case"critical":return"#ef4444";case"unavailable":return"#6b7280";default:return"#6b7280"}},p=y=>{switch(y){case"excellent":return"Excellent";case"healthy":return"Healthy";case"good":return"Good";case"poor":return"Poor";case"unhealthy":return"Unhealthy";case"critical":return"Critical";case"unavailable":return"N/A";default:return"Unknown"}},v=y=>{if(!y)return"N/A";try{const w=(void 0).formatUnits(y,"gwei");return`${parseFloat(w).toFixed(1)} Gwei`}catch{return"N/A"}};return o?n.jsxs("div",{className:`flex items-center ${s}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h?"animate-pulse":""}`,style:{backgroundColor:g(c.overall)}}),n.jsx("span",{className:"text-xs font-medium text-white",children:p(c.overall)})]}):n.jsxs("div",{className:`bg-white/5 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/10 shadow-inner flex flex-col ${s}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-violet-300/70",children:"Connection Health"}),a&&n.jsx("button",{onClick:x,disabled:h,className:"text-xs text-gray-400 hover:text-white transition-colors disabled:opacity-50",title:"Refresh health check",children:h?"⟳":"↻"})]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h?"animate-pulse":""}`,style:{backgroundColor:g(c.overall)}}),n.jsx("span",{className:"font-medium text-white",children:p(c.overall)}),h&&n.jsx("div",{className:"ml-2 w-3 h-3 border-2 border-violet-500/30 border-t-violet-500 rounded-full animate-spin"})]}),r&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"text-gray-400",children:"RPC"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full mr-1",style:{backgroundColor:g(c.rpc)}}),n.jsx("span",{className:"text-gray-300",children:p(c.rpc)})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"text-gray-400",children:"Blockchain"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full mr-1",style:{backgroundColor:g(c.blockchain)}}),n.jsx("span",{className:"text-gray-300",children:p(c.blockchain)})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"text-gray-400",children:"Contract"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full mr-1",style:{backgroundColor:g(c.contract)}}),n.jsx("span",{className:"text-gray-300",children:p(c.contract)})]})]})]}),c.blockHeight&&n.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Block: ",c.blockHeight.toLocaleString()]}),c.gasPrice&&n.jsxs("div",{className:"text-xs text-gray-400",children:["Gas: ",v(c.gasPrice)]}),c.overall==="critical"&&n.jsx("div",{className:"mt-1 text-xs text-red-400/70",children:"🔴 Connection issues detected"}),c.overall==="excellent"&&n.jsx("div",{className:"mt-1 text-xs text-emerald-400/70",children:"🟢 All systems operational"})]})};SM.propTypes={contract:ie.object,provider:ie.object,className:ie.string,showDetails:ie.bool,autoCheck:ie.bool,checkInterval:ie.number,compact:ie.bool};const em=({userRoles:t={},lastUpdated:e,isLoading:s=!1,contract:r,provider:a,className:i="",layout:o="horizontal",showComponents:c={networkStatus:!0,userRole:!0,lastUpdated:!0,connectionHealth:!1},showNetworkSpeed:d=!1,showLatency:h=!1,showPermissions:f=!0,showHealthDetails:x=!1,autoRefresh:g=!0,onRefreshNeeded:p,onComponentClick:v})=>{const y=k.useMemo(()=>({networkStatus:{component:kM,props:{showSpeed:d,showLatency:h,compact:o==="compact"}},userRole:{component:AM,props:{userRoles:t,showPermissions:f,compact:o==="compact"}},lastUpdated:{component:EM,props:{timestamp:e,isLoading:s,autoRefresh:g,compact:o==="compact",onRefreshNeeded:p}},connectionHealth:{component:SM,props:{contract:r,provider:a,showDetails:x,autoCheck:g,compact:o==="compact"}}}),[t,e,s,r,a,d,h,f,x,g,o,p]),w=()=>{switch(o){case"vertical":return"flex flex-col space-y-4";case"grid":return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4";case"compact":return"flex flex-wrap items-center gap-2";case"horizontal":default:return"flex flex-col lg:flex-row lg:items-center lg:space-x-4 space-y-4 lg:space-y-0"}},A=(S,E)=>{if(!c[S])return null;const M=E.component,R={...E.props,onClick:v?()=>v(S):void 0};return n.jsx(M,{...R},S)},j=Object.keys(c).filter(S=>c[S]),C=k.useMemo(()=>{const S="status-info-panel",E=w(),M=o==="horizontal"&&j.length>2?"flex-wrap":"";return`${S} ${E} ${M} ${i}`.trim()},[o,j.length,i]);return j.length===0?n.jsx("div",{className:`text-center text-gray-500 text-sm ${i}`,children:"No status components enabled"}):n.jsxs("div",{className:C,role:"status","aria-label":"System Status Information",children:[Object.entries(y).map(([S,E])=>A(S,E)),o==="horizontal"&&j.length>3&&n.jsx("div",{className:"lg:hidden w-full",children:n.jsx("div",{className:"text-xs text-gray-400 text-center mt-2",children:"Swipe to see more status info →"})})]})};em.presets={dashboard:{layout:"horizontal",showComponents:{networkStatus:!0,userRole:!0,lastUpdated:!0,connectionHealth:!1},showPermissions:!0,showNetworkSpeed:!1,showLatency:!1},admin:{layout:"grid",showComponents:{networkStatus:!0,userRole:!0,lastUpdated:!0,connectionHealth:!0},showPermissions:!0,showNetworkSpeed:!0,showLatency:!0,showHealthDetails:!0},mobile:{layout:"compact",showComponents:{networkStatus:!0,userRole:!0,lastUpdated:!0,connectionHealth:!1},showPermissions:!1,showNetworkSpeed:!1,showLatency:!1},minimal:{layout:"horizontal",showComponents:{networkStatus:!0,userRole:!1,lastUpdated:!0,connectionHealth:!1},showPermissions:!1,showNetworkSpeed:!1,showLatency:!1}};em.withPreset=(t,e={})=>{const s=em.presets[t];return s?{...s,...e,showComponents:{...s.showComponents,...e.showComponents||{}}}:(console.warn(`Unknown preset: ${t}`),e)};em.propTypes={userRoles:ie.shape({isAdmin:ie.bool,isInstitution:ie.bool}),lastUpdated:ie.oneOfType([ie.string,ie.number,ie.instanceOf(Date)]),isLoading:ie.bool,contract:ie.object,provider:ie.object,className:ie.string,layout:ie.oneOf(["horizontal","vertical","grid","compact"]),showComponents:ie.shape({networkStatus:ie.bool,userRole:ie.bool,lastUpdated:ie.bool,connectionHealth:ie.bool}),showNetworkSpeed:ie.bool,showLatency:ie.bool,showPermissions:ie.bool,showHealthDetails:ie.bool,autoRefresh:ie.bool,onRefreshNeeded:ie.func,onComponentClick:ie.func};const uX=()=>{const{isOnline:t}=jM(),{account:e,roles:s,contract:r,roleConstants:a,connectWallet:i,isConnected:o,isLoading:c}=zb(),d=s.isAdmin,h=s.isInstitution,{INSTITUTION_ROLE:f,DEFAULT_ADMIN_ROLE:x}=a,g=r,{stats:p,isLoading:v,error:y,refreshStats:w}=Ub(g,a,e),[A,j]=k.useState(!0),[C,S]=k.useState(!1),E=k.useCallback(()=>{S(!1),w&&w(),i&&!o&&i()},[w,i,o]),M=(g==null?void 0:g.provider)||null,[R,_]=k.useState(null),I=k.useCallback(B=>{var O,$;console.log("Dashboard: Certificate event detected:",{event:(B==null?void 0:B.event)||"Unknown",tokenId:($=(O=B==null?void 0:B.args)==null?void 0:O.tokenId)==null?void 0:$.toString(),timestamp:new Date().toISOString()}),w()},[w]);k.useEffect(()=>g?((async()=>{g.on("CertificateIssued",I),g.on("CertificateVerified",I),g.on("CertificateRevoked",I),g.on("CertificateStatusChanged",I),g.on("CertificateUpdated",I),g.on("InstitutionAuthorized",I),g.on("InstitutionRevoked",I),g.on("CertificateBurnRequested",I),g.on("CertificateBurnApproved",I),g.on("CertificateBurned",I),M&&M.on("block",async O=>{_(O),O%3===0&&w()}),console.log("Dashboard: Event listeners set up for real-time verification updates")})(),()=>{g.removeAllListeners(),M&&M.removeAllListeners("block")}):void 0,[g,M,I,w]),k.useEffect(()=>{(o&&g||!c&&!o)&&j(!1)},[o,g,c]),k.useEffect(()=>{const B=setInterval(()=>{g&&e&&w()},12e4);return()=>clearInterval(B)},[g,e,w]);const D=()=>n.jsxs("div",{className:"w-16 h-16 relative perspective-500",children:[n.jsxs("div",{className:"w-full h-full absolute transform-style-3d animate-spin-slow",children:[n.jsx("div",{className:"absolute w-full h-full bg-violet-600 transform rotate-y-0 translate-z-8 border border-white/30",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-px bg-white/40"})})}),n.jsx("div",{className:"absolute w-full h-full bg-violet-600 transform rotate-y-180 translate-z-8 border border-white/30",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-px bg-white/40"})})}),n.jsx("div",{className:"absolute w-full h-full bg-violet-600 transform rotate-y-270 translate-z-8 border border-white/30",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-8 w-px bg-white/40"})})}),n.jsx("div",{className:"absolute w-full h-full bg-violet-600 transform rotate-y-90 translate-z-8 border border-white/30",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-8 w-px bg-white/40"})})}),n.jsx("div",{className:"absolute w-full h-full bg-violet-600 transform rotate-x-90 translate-z-8 border border-white/30",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-6 h-6 border border-white/30 rotate-45"})})}),n.jsx("div",{className:"absolute w-full h-full bg-violet-600 transform rotate-x-270 translate-z-8 border border-white/30",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white/70 font-mono",children:"#"})})})]}),n.jsx("div",{className:"absolute -inset-2 bg-violet-600/20 rounded-full blur-lg"})]});return t?!c&&!o&&!e?n.jsx("div",{className:"bg-gray-950 min-h-screen text-gray-200 relative overflow-hidden flex items-center justify-center",children:n.jsx(CM,{onConnect:i})}):n.jsx(zr,{onError:(B,O)=>console.error("Dashboard Error:",B,O),onRetry:E,children:n.jsxs("div",{className:"bg-gray-950 min-h-screen text-gray-200 relative overflow-hidden",children:[A&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/30 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg p-8 border border-violet-500/30 shadow-xl flex flex-col items-center",children:[n.jsx(D,{}),n.jsx("p",{className:"mt-4 text-violet-300 text-sm font-medium",children:"Loading data..."})]})}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-900/10 rounded-full filter blur-3xl"}),n.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-64 h-64 bg-blue-900/10 rounded-full filter blur-3xl"}),n.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-80 h-80 bg-indigo-900/10 rounded-full filter blur-3xl"})]}),n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-[0.03] pointer-events-none"}),n.jsx("div",{className:"absolute top-0 left-1/4 w-0.5 h-screen bg-violet-500/5"}),n.jsx("div",{className:"absolute top-0 left-2/4 w-0.5 h-screen bg-violet-500/5"}),n.jsx("div",{className:"absolute top-0 left-3/4 w-0.5 h-screen bg-violet-500/5"}),n.jsx("div",{className:"absolute top-1/4 left-0 w-screen h-0.5 bg-violet-500/5"}),n.jsx("div",{className:"absolute top-2/4 left-0 w-screen h-0.5 bg-violet-500/5"}),n.jsx("div",{className:"absolute top-3/4 left-0 w-screen h-0.5 bg-violet-500/5"})]}),n.jsx("div",{className:"relative z-10 py-6",children:n.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 space-y-8 relative",children:[n.jsxs("div",{className:"bg-gradient-to-r from-violet-950/80 to-indigo-950/80 rounded-lg shadow-lg border border-violet-500/30 backdrop-blur-sm relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 h-1 w-full bg-gradient-to-r from-violet-500/70 to-blue-500/70"}),n.jsx("div",{className:"absolute bottom-0 right-0 h-full w-1 bg-gradient-to-b from-violet-500/0 via-violet-500/70 to-violet-500/0"}),n.jsx("div",{className:"absolute top-0 right-[15%] w-0.5 h-16 bg-violet-500/20"}),n.jsx("div",{className:"absolute bottom-0 left-[25%] w-0.5 h-10 bg-violet-500/20"}),n.jsx("div",{className:"absolute top-1/2 right-8 w-2 h-2 bg-violet-500/30 rounded-full"}),n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between p-8",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"h-10 w-10 rounded bg-violet-600/20 flex items-center justify-center border border-violet-500/50 relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-violet-500/20 rounded-lg blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("svg",{className:"w-6 h-6 text-violet-400 relative",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-white tracking-wide flex items-center",children:["Certificate NFT",n.jsx("span",{className:"ml-2 text-xs font-mono bg-violet-900/50 text-violet-300 px-2 py-0.5 rounded border border-violet-600/30",children:"v1.0"})]}),n.jsxs("div",{className:"flex items-center mt-1.5",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 mr-2"}),n.jsx("p",{className:"text-violet-200 text-sm font-medium",children:d?"Administrative Controls":h?"Institution Management":"Certificate Management"})]})]})]})}),n.jsx(em,{className:"mt-6 lg:mt-0",userRoles:s,lastUpdated:p==null?void 0:p.lastUpdated,isLoading:v,contract:g,provider:M,layout:"horizontal",showComponents:{networkStatus:!0,userRole:!0,lastUpdated:!0,connectionHealth:!1},showPermissions:!0,autoRefresh:!0,onRefreshNeeded:w})]})]}),n.jsx(U5,{institutionStats:p,isLoading:v,error:y,userRoles:s}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(zr,{fallbackComponent:n.jsx(M2,{title:"Certificate Status",rows:3}),children:n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 hover:border-indigo-500/20 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 left-0 h-1 w-20 bg-indigo-500/60"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-px bg-indigo-500/40"}),n.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 tracking-wide flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),d?"Global Certificate Status":"Certificate Status"]}),n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Verified"}),n.jsxs("span",{className:"text-xs font-mono text-indigo-300",children:[(p==null?void 0:p.verifiedCertificates)||0," / ",(p==null?void 0:p.totalCertificates)||0]})]}),n.jsx("div",{className:"w-full bg-gray-800/80 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-500 h-full rounded-full",style:{width:`${Math.min(100,((p==null?void 0:p.verifiedCertificates)||0)/Math.max(1,(p==null?void 0:p.totalCertificates)||1)*100)}%`}})})]}),d?n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"System Coverage"}),n.jsxs("span",{className:"text-xs font-mono text-blue-300",children:[(p==null?void 0:p.totalInstitutions)||0," Institutions"]})]}),n.jsx("div",{className:"w-full bg-gray-800/80 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-500 h-full rounded-full",style:{width:`${Math.min(100,((p==null?void 0:p.totalInstitutions)||0)/Math.max(1,10)*100)}%`}})})]}):h?n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Issued by You"}),n.jsx("span",{className:"text-xs font-mono text-teal-300",children:(p==null?void 0:p.issuedByCurrentInstitution)||0})]}),n.jsx("div",{className:"w-full bg-gray-800/80 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-500 h-full rounded-full",style:{width:`${Math.min(100,((p==null?void 0:p.issuedByCurrentInstitution)||0)/Math.max(1,50)*100)}%`}})})]}):null,n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Pending Verification"}),n.jsxs("span",{className:"text-xs font-mono text-amber-300",children:[(p==null?void 0:p.pendingCertificates)||0," / ",(p==null?void 0:p.totalCertificates)||0]})]}),n.jsx("div",{className:"w-full bg-gray-800/80 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-orange-500 h-full rounded-full",style:{width:`${Math.min(100,((p==null?void 0:p.pendingCertificates)||0)/Math.max(1,(p==null?void 0:p.totalCertificates)||1)*100)}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Revoked Certificates"}),n.jsxs("span",{className:"text-xs font-mono text-red-300",children:[(p==null?void 0:p.revokedCertificates)||0," / ",(p==null?void 0:p.totalCertificates)||0]})]}),n.jsx("div",{className:"w-full bg-gray-800/80 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-rose-500 h-full rounded-full",style:{width:`${Math.min(100,((p==null?void 0:p.revokedCertificates)||0)/Math.max(1,(p==null?void 0:p.totalCertificates)||1)*100)}%`}})})]})]}),n.jsxs("div",{className:"mt-8 p-3 bg-indigo-900/20 rounded-lg border border-indigo-500/20 space-y-3",children:[n.jsx("div",{className:"text-xs font-semibold text-indigo-300 font-mono mb-2",children:"Certificate Metrics"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Total Certificates"}),n.jsx("span",{className:"text-xs font-mono text-indigo-300",children:((p==null?void 0:p.totalCertificates)||0)>0?p==null?void 0:p.totalCertificates:"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Verified Certificates"}),n.jsx("span",{className:"text-xs font-mono text-indigo-300",children:((p==null?void 0:p.verifiedCertificates)||0)>0?p==null?void 0:p.verifiedCertificates:"0"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Verification Rate"}),n.jsx("span",{className:"text-xs font-mono text-green-400",children:((p==null?void 0:p.totalCertificates)||0)>0?`${Math.floor(((p==null?void 0:p.verifiedCertificates)||0)/Math.max(1,(p==null?void 0:p.totalCertificates)||1)*100)}%`:"0%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Pending Verification"}),n.jsx("span",{className:"text-xs font-mono text-amber-300",children:(p==null?void 0:p.pendingCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Revoked Certificates"}),n.jsx("span",{className:"text-xs font-mono text-red-300",children:(p==null?void 0:p.revokedCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Revocation Rate"}),n.jsx("span",{className:"text-xs font-mono text-red-400",children:((p==null?void 0:p.totalCertificates)||0)>0?`${Math.floor(((p==null?void 0:p.revokedCertificates)||0)/Math.max(1,(p==null?void 0:p.totalCertificates)||1)*100)}%`:"0%"})]})]})]})}),n.jsx(zr,{fallbackComponent:n.jsx(M2,{title:"Verification Analytics",rows:4}),children:n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 hover:border-blue-500/20 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 right-0 h-1 w-20 bg-blue-500/60"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-px bg-blue-500/40"}),n.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 tracking-wide flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),d?"Global Verification Analytics":"Certificate Verification"]}),n.jsx("div",{className:"mt-2 space-y-4",children:n.jsxs("div",{className:"mt-4 p-3 bg-blue-900/10 rounded-lg border border-blue-500/10 group-hover:border-blue-500/30 transition-colors duration-300",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2 font-semibold",children:"Verification Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Total Certificates"}),n.jsx("span",{className:"text-xs font-mono text-blue-300",children:(p==null?void 0:p.totalCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Verified Count"}),n.jsx("span",{className:"text-xs font-mono text-blue-300",children:(p==null?void 0:p.verifiedCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Pending Verification"}),n.jsx("span",{className:"text-xs font-mono text-blue-300",children:(p==null?void 0:p.pendingCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Revoked Certificates"}),n.jsx("span",{className:"text-xs font-mono text-red-300",children:(p==null?void 0:p.revokedCertificates)||0})]}),n.jsxs("div",{className:"mt-3 pt-2 border-t border-blue-800/30",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Contract Address"}),n.jsx("span",{className:"text-xs font-mono text-blue-300 truncate max-w-[150px]",children:Ze.SoulboundCertificateNFT.slice(0,6)+"..."+Ze.SoulboundCertificateNFT.slice(-4)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Last Updated"}),n.jsx("span",{className:"text-xs text-gray-500",children:p!=null&&p.lastUpdated?new Date(p.lastUpdated).toLocaleTimeString():"Never"})]})]})]})]})})]})}),n.jsx(zr,{fallbackComponent:n.jsx(M2,{title:d?"System Analytics":"My Performance",rows:5}),children:n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-lg shadow-xl p-6 border border-gray-800 hover:border-violet-500/20 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 left-1/2 h-1 w-20 bg-violet-500/60 transform -translate-x-1/2"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-12 h-px bg-violet-500/40"}),n.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 tracking-wide flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d?"System Analytics":"My Performance"]}),d?n.jsxs("div",{className:"mt-2 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-violet-900/20 rounded-lg border border-violet-500/20",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Active Institutions"}),n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),n.jsx("div",{className:"text-xl font-bold text-white",children:(p==null?void 0:p.totalInstitutions)||0}),n.jsx("div",{className:"text-xs text-violet-400 mt-1",children:"Authorized to issue"})]}),n.jsxs("div",{className:"p-3 bg-violet-900/20 rounded-lg border border-violet-500/20",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Avg. Certs per Institution"}),n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),n.jsx("div",{className:"text-xl font-bold text-white",children:((p==null?void 0:p.totalInstitutions)||0)>0?Math.floor(((p==null?void 0:p.totalCertificates)||0)/((p==null?void 0:p.totalInstitutions)||1)):0}),n.jsx("div",{className:"text-xs text-violet-400 mt-1",children:"Certificates issued"})]})]}),n.jsxs("div",{className:"p-3 bg-violet-900/10 rounded-lg border border-violet-500/10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Institution Distribution"}),n.jsx("span",{className:"text-xs font-mono text-violet-400",children:"By Certificate Volume"})]}),n.jsx("div",{className:"w-full h-10 bg-gray-800/40 rounded overflow-hidden relative",children:n.jsx("div",{className:"absolute inset-0 flex items-end",children:((p==null?void 0:p.totalInstitutions)||0)>0?[...Array(Math.min((p==null?void 0:p.totalInstitutions)||0,10))].map((B,O)=>n.jsx("div",{className:"flex-1 mx-px bg-violet-500/40",style:{height:`${20+Math.random()*60}%`}},O)):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-gray-500",children:"No data available"})})})})]})]}):n.jsxs("div",{className:"mt-2 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-violet-900/20 rounded-lg border border-violet-500/20",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Certificates Issued"}),n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),n.jsx("div",{className:"text-xl font-bold text-white",children:(p==null?void 0:p.issuedByCurrentInstitution)||0}),n.jsx("div",{className:"text-xs text-violet-400 mt-1",children:"By your institution"})]}),n.jsxs("div",{className:"p-3 bg-violet-900/20 rounded-lg border border-violet-500/20",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Success Rate"}),n.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"})]}),n.jsxs("div",{className:"text-xl font-bold text-white",children:[((p==null?void 0:p.issuedByCurrentInstitution)||0)>0?Math.floor(((p==null?void 0:p.verifiedCertificates)||0)/((p==null?void 0:p.issuedByCurrentInstitution)||1)*100):0,"%"]}),n.jsx("div",{className:"text-xs text-violet-400 mt-1",children:"Verification rate"})]})]}),n.jsxs("div",{className:"p-3 bg-violet-900/10 rounded-lg border border-violet-500/10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Certificate Status Breakdown"}),n.jsx("span",{className:"text-xs font-mono text-violet-400",children:"Your Institution"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"✓ Verified"}),n.jsx("span",{className:"text-xs font-mono text-green-400",children:(p==null?void 0:p.verifiedCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"⏳ Pending"}),n.jsx("span",{className:"text-xs font-mono text-amber-400",children:(p==null?void 0:p.pendingCertificates)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"✗ Revoked"}),n.jsx("span",{className:"text-xs font-mono text-red-400",children:(p==null?void 0:p.revokedCertificates)||0})]})]})]})]}),n.jsxs("div",{className:"mt-3 p-3 bg-violet-900/10 rounded-lg border border-violet-500/10 group-hover:border-violet-500/30 transition-colors duration-300",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Your Institution Status"}),n.jsx("span",{className:"px-2 py-0.5 bg-green-900/50 rounded-full text-xs text-green-400 border border-green-500/30",children:h?"Authorized":d?"Administrator":"Not Authorized"})]}),n.jsx("div",{className:"mt-2 text-sm text-gray-300",children:h?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-2"}),n.jsx("span",{children:"You can issue and verify certificates"})]}):d?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),n.jsx("span",{children:"You manage institutions and the platform"})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"}),n.jsx("span",{children:"You can view certificate information"})]})})]})]})})]}),n.jsx(Wb,{userRoles:s,onActionClick:(B,O)=>{console.log(`Action clicked: ${B.title}`,B)}})]})})]})}):n.jsx(dX,{onRetry:E,showFullPage:!0})},H5=({lastUpdate:t,isUpdating:e,realTimeEnabled:s,userRoles:r={}})=>{const[a,i]=k.useState(new Date),[o,c]=k.useState(!1);k.useEffect(()=>{const g=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(g)},[]);const d=g=>g?g.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--:--:--",h=g=>{if(!g)return"Never";const v=Date.now()-g;return v<6e4?"Just now":v<36e5?`${Math.floor(v/6e4)}m ago`:v<864e5?`${Math.floor(v/36e5)}h ago`:`${Math.floor(v/864e5)}d ago`},x=e?{color:"text-yellow-400",text:"Updating...",icon:"🔄"}:s?{color:"text-green-400",text:"Live",icon:"🟢"}:{color:"text-gray-400",text:"Offline",icon:"⚫"};return n.jsxs("div",{className:"relative bg-gray-900/90 backdrop-blur-md border-b border-indigo-500/20",children:[n.jsx("div",{className:"absolute top-0 left-0 h-1 w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),n.jsx("div",{className:"absolute bottom-0 left-10 h-px w-20 bg-indigo-500/40"}),n.jsx("div",{className:"absolute bottom-0 right-10 h-px w-20 bg-indigo-500/40"}),n.jsxs("div",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("div",{className:"absolute inset-0 bg-indigo-500/30 rounded-lg animate-ping"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white tracking-wide",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Blockchain Certificate Intelligence Platform"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-800/60 rounded-lg border border-gray-700/50",children:[n.jsx("span",{className:"text-lg",children:x.icon}),n.jsx("span",{className:`text-sm font-medium ${x.color}`,children:x.text}),e&&n.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{onClick:()=>c(!o),className:"px-3 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 hover:border-indigo-500/50 rounded-lg transition-all duration-200 text-gray-300 hover:text-white",children:n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),n.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-gray-800/60 rounded-lg border border-gray-700/50",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Current Time"}),n.jsx("div",{className:"text-sm font-mono text-white",children:d(a)})]}),n.jsx("div",{className:"w-px h-8 bg-gray-700"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Last Update"}),n.jsx("div",{className:"text-sm font-mono text-gray-300",children:h(t)})]})]}),n.jsx("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-800/60 rounded-lg border border-gray-700/50",children:r.isAdmin?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),n.jsx("span",{className:"text-sm text-blue-300 font-medium",children:"Admin"})]}):r.isInstitution?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full"}),n.jsx("span",{className:"text-sm text-teal-300 font-medium",children:"Institution"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"User"})]})})]})]}),o&&n.jsx("div",{className:"mt-4 p-4 bg-gray-800/40 rounded-lg border border-gray-700/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"realTimeToggle",checked:s,onChange:()=>{},className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 focus:ring-2"}),n.jsx("label",{htmlFor:"realTimeToggle",className:"text-sm text-gray-300",children:"Real-time Updates"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Update Interval:"}),n.jsxs("select",{className:"text-sm bg-gray-700 border border-gray-600 rounded px-2 py-1 text-gray-300",children:[n.jsx("option",{value:"15",children:"15s"}),n.jsx("option",{value:"30",selected:!0,children:"30s"}),n.jsx("option",{value:"60",children:"1m"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"px-3 py-1 bg-indigo-600 hover:bg-indigo-700 text-white text-sm rounded transition-colors",children:"Export Data"}),n.jsx("button",{className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded transition-colors",children:"Save Report"})]})]})})]})]})};H5.propTypes={lastUpdate:ie.number,isUpdating:ie.bool,realTimeEnabled:ie.bool,userRoles:ie.shape({isAdmin:ie.bool,isInstitution:ie.bool})};H5.defaultProps={lastUpdate:null,isUpdating:!1,realTimeEnabled:!1,userRoles:{}};const V5=({activeSection:t,onSectionChange:e,userRoles:s={}})=>{const r=[{id:"overview",title:"Overview",description:"Key metrics and insights",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"indigo",requiredRoles:["all"]},{id:"certificates",title:"Certificates",description:"Certificate analytics and trends",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),color:"blue",requiredRoles:["all"]},{id:"institutions",title:"Institutions",description:"Institution performance metrics",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"teal",requiredRoles:["isAdmin","isInstitution"]},{id:"network",title:"Network",description:"Blockchain health and performance",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),color:"purple",requiredRoles:["all"]},{id:"activity",title:"Activity",description:"Real-time activity feed",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"amber",requiredRoles:["all"]},{id:"reports",title:"Reports",description:"Custom reports and exports",icon:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"fuchsia",requiredRoles:["isAdmin","isInstitution"]}],a=c=>c.requiredRoles.includes("all")?!0:c.requiredRoles.some(d=>s[d]),i=r.filter(a),o={indigo:{bg:"bg-indigo-900/40",bgHover:"hover:bg-indigo-800/60",border:"border-indigo-500/30",borderActive:"border-indigo-400",text:"text-indigo-300",textActive:"text-indigo-100",icon:"text-indigo-400",iconActive:"text-indigo-200"},blue:{bg:"bg-blue-900/40",bgHover:"hover:bg-blue-800/60",border:"border-blue-500/30",borderActive:"border-blue-400",text:"text-blue-300",textActive:"text-blue-100",icon:"text-blue-400",iconActive:"text-blue-200"},teal:{bg:"bg-teal-900/40",bgHover:"hover:bg-teal-800/60",border:"border-teal-500/30",borderActive:"border-teal-400",text:"text-teal-300",textActive:"text-teal-100",icon:"text-teal-400",iconActive:"text-teal-200"},purple:{bg:"bg-purple-900/40",bgHover:"hover:bg-purple-800/60",border:"border-purple-500/30",borderActive:"border-purple-400",text:"text-purple-300",textActive:"text-purple-100",icon:"text-purple-400",iconActive:"text-purple-200"},amber:{bg:"bg-amber-900/40",bgHover:"hover:bg-amber-800/60",border:"border-amber-500/30",borderActive:"border-amber-400",text:"text-amber-300",textActive:"text-amber-100",icon:"text-amber-400",iconActive:"text-amber-200"},fuchsia:{bg:"bg-fuchsia-900/40",bgHover:"hover:bg-fuchsia-800/60",border:"border-fuchsia-500/30",borderActive:"border-fuchsia-400",text:"text-fuchsia-300",textActive:"text-fuchsia-100",icon:"text-fuchsia-400",iconActive:"text-fuchsia-200"}};return n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent"}),n.jsx("div",{className:"px-6 py-4",children:n.jsx("nav",{className:"flex items-center space-x-1",children:i.map(c=>{const d=t===c.id,h=o[c.color];return n.jsxs("button",{onClick:()=>e(c.id),className:`
                  group relative flex items-center space-x-3 px-4 py-3 rounded-lg
                  transition-all duration-300 ease-out
                  ${d?`${h.bg} ${h.borderActive} ${h.textActive}`:`${h.bg} ${h.border} ${h.text} ${h.bgHover}`}
                  border hover:scale-105 transform
                  ${d?"shadow-lg shadow-indigo-500/20":"shadow-md"}
                `,children:[d&&n.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-indigo-400 rounded-full animate-pulse"}),n.jsx("div",{className:`
                  ${d?h.iconActive:h.icon}
                  transition-colors duration-300
                `,children:c.icon}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`
                    font-medium text-sm
                    ${d?h.textActive:h.text}
                    transition-colors duration-300
                  `,children:c.title}),n.jsx("div",{className:`
                    text-xs opacity-75
                    ${d?h.textActive:h.text}
                    transition-all duration-300
                  `,children:c.description})]}),n.jsx("div",{className:`
                  absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100
                  transition-opacity duration-300
                  ${d?"bg-indigo-500/10":"bg-white/5"}
                `})]},c.id)})})})]})};V5.propTypes={activeSection:ie.string.isRequired,onSectionChange:ie.func.isRequired,userRoles:ie.shape({isAdmin:ie.bool,isInstitution:ie.bool})};V5.defaultProps={userRoles:{}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pm(t){return t+.5|0}const Nl=(t,e,s)=>Math.max(Math.min(t,s),e);function uf(t){return Nl(Pm(t*2.55),0,255)}function Sl(t){return Nl(Pm(t*255),0,255)}function Li(t){return Nl(Pm(t/2.55)/100,0,1)}function fE(t){return Nl(Pm(t*100),0,100)}const Tr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},r4=[..."0123456789ABCDEF"],hX=t=>r4[t&15],fX=t=>r4[(t&240)>>4]+r4[t&15],dg=t=>(t&240)>>4===(t&15),mX=t=>dg(t.r)&&dg(t.g)&&dg(t.b)&&dg(t.a);function xX(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Tr[t[1]]*17,g:255&Tr[t[2]]*17,b:255&Tr[t[3]]*17,a:e===5?Tr[t[4]]*17:255}:(e===7||e===9)&&(s={r:Tr[t[1]]<<4|Tr[t[2]],g:Tr[t[3]]<<4|Tr[t[4]],b:Tr[t[5]]<<4|Tr[t[6]],a:e===9?Tr[t[7]]<<4|Tr[t[8]]:255})),s}const gX=(t,e)=>t<255?e(t):"";function pX(t){var e=mX(t)?hX:fX;return t?"#"+e(t.r)+e(t.g)+e(t.b)+gX(t.a,e):void 0}const bX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TM(t,e,s){const r=e*Math.min(s,1-s),a=(i,o=(i+t/30)%12)=>s-r*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function vX(t,e,s){const r=(a,i=(a+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function yX(t,e,s){const r=TM(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)r[a]*=1-e-s,r[a]+=e;return r}function wX(t,e,s,r,a){return t===a?(e-s)/r+(e<s?6:0):e===a?(s-t)/r+2:(t-e)/r+4}function G5(t){const s=t.r/255,r=t.g/255,a=t.b/255,i=Math.max(s,r,a),o=Math.min(s,r,a),c=(i+o)/2;let d,h,f;return i!==o&&(f=i-o,h=c>.5?f/(2-i-o):f/(i+o),d=wX(s,r,a,f,i),d=d*60+.5),[d|0,h||0,c]}function q5(t,e,s,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,r)).map(Sl)}function W5(t,e,s){return q5(TM,t,e,s)}function NX(t,e,s){return q5(yX,t,e,s)}function jX(t,e,s){return q5(vX,t,e,s)}function RM(t){return(t%360+360)%360}function CX(t){const e=bX.exec(t);let s=255,r;if(!e)return;e[5]!==r&&(s=e[6]?uf(+e[5]):Sl(+e[5]));const a=RM(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=NX(a,i,o):e[1]==="hsv"?r=jX(a,i,o):r=W5(a,i,o),{r:r[0],g:r[1],b:r[2],a:s}}function kX(t,e){var s=G5(t);s[0]=RM(s[0]+e),s=W5(s),t.r=s[0],t.g=s[1],t.b=s[2]}function AX(t){if(!t)return;const e=G5(t),s=e[0],r=fE(e[1]),a=fE(e[2]);return t.a<255?`hsla(${s}, ${r}%, ${a}%, ${Li(t.a)})`:`hsl(${s}, ${r}%, ${a}%)`}const mE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EX(){const t={},e=Object.keys(xE),s=Object.keys(mE);let r,a,i,o,c;for(r=0;r<e.length;r++){for(o=c=e[r],a=0;a<s.length;a++)i=s[a],c=c.replace(i,mE[i]);i=parseInt(xE[o],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let ug;function SX(t){ug||(ug=EX(),ug.transparent=[0,0,0,0]);const e=ug[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const TX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RX(t){const e=TX.exec(t);let s=255,r,a,i;if(e){if(e[7]!==r){const o=+e[7];s=e[8]?uf(o):Nl(o*255,0,255)}return r=+e[1],a=+e[3],i=+e[5],r=255&(e[2]?uf(r):Nl(r,0,255)),a=255&(e[4]?uf(a):Nl(a,0,255)),i=255&(e[6]?uf(i):Nl(i,0,255)),{r,g:a,b:i,a:s}}}function MX(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Li(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const B2=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,l0=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function DX(t,e,s){const r=l0(Li(t.r)),a=l0(Li(t.g)),i=l0(Li(t.b));return{r:Sl(B2(r+s*(l0(Li(e.r))-r))),g:Sl(B2(a+s*(l0(Li(e.g))-a))),b:Sl(B2(i+s*(l0(Li(e.b))-i))),a:t.a+s*(e.a-t.a)}}function hg(t,e,s){if(t){let r=G5(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*s,e===0?360:1)),r=W5(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function MM(t,e){return t&&Object.assign(e||{},t)}function gE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Sl(t[3]))):(e=MM(t,{r:0,g:0,b:0,a:1}),e.a=Sl(e.a)),e}function BX(t){return t.charAt(0)==="r"?RX(t):CX(t)}class tm{constructor(e){if(e instanceof tm)return e;const s=typeof e;let r;s==="object"?r=gE(e):s==="string"&&(r=xX(e)||SX(e)||BX(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=MM(this._rgb);return e&&(e.a=Li(e.a)),e}set rgb(e){this._rgb=gE(e)}rgbString(){return this._valid?MX(this._rgb):void 0}hexString(){return this._valid?pX(this._rgb):void 0}hslString(){return this._valid?AX(this._rgb):void 0}mix(e,s){if(e){const r=this.rgb,a=e.rgb;let i;const o=s===i?.5:s,c=2*o-1,d=r.a-a.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-h,r.r=255&h*r.r+i*a.r+.5,r.g=255&h*r.g+i*a.g+.5,r.b=255&h*r.b+i*a.b+.5,r.a=o*r.a+(1-o)*a.a,this.rgb=r}return this}interpolate(e,s){return e&&(this._rgb=DX(this._rgb,e._rgb,s)),this}clone(){return new tm(this.rgb)}alpha(e){return this._rgb.a=Sl(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Pm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hg(this._rgb,2,e),this}darken(e){return hg(this._rgb,2,-e),this}saturate(e){return hg(this._rgb,1,e),this}desaturate(e){return hg(this._rgb,1,-e),this}rotate(e){return kX(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ei(){}const _X=(()=>{let t=0;return()=>t++})();function Nt(t){return t==null}function ts(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function mt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Vs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ia(t,e){return Vs(t)?t:e}function at(t,e){return typeof t>"u"?e:t}const IX=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,DM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Gt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function _t(t,e,s,r){let a,i,o;if(ts(t))for(i=t.length,a=0;a<i;a++)e.call(s,t[a],a);else if(mt(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(s,t[o[a]],o[a])}function sb(t,e){let s,r,a,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,r=t.length;s<r;++s)if(a=t[s],i=e[s],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function nb(t){if(ts(t))return t.map(nb);if(mt(t)){const e=Object.create(null),s=Object.keys(t),r=s.length;let a=0;for(;a<r;++a)e[s[a]]=nb(t[s[a]]);return e}return t}function BM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function LX(t,e,s,r){if(!BM(t))return;const a=e[t],i=s[t];mt(a)&&mt(i)?sm(a,i,r):e[t]=nb(i)}function sm(t,e,s){const r=ts(e)?e:[e],a=r.length;if(!mt(t))return t;s=s||{};const i=s.merger||LX;let o;for(let c=0;c<a;++c){if(o=r[c],!mt(o))continue;const d=Object.keys(o);for(let h=0,f=d.length;h<f;++h)i(d[h],t,o,s)}return t}function jf(t,e){return sm(t,e,{merger:OX})}function OX(t,e,s){if(!BM(t))return;const r=e[t],a=s[t];mt(r)&&mt(a)?jf(r,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=nb(a))}const pE={"":t=>t,x:t=>t.x,y:t=>t.y};function PX(t){const e=t.split("."),s=[];let r="";for(const a of e)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(s.push(r),r="");return s}function FX(t){const e=PX(t);return s=>{for(const r of e){if(r==="")break;s=s&&s[r]}return s}}function Ol(t,e){return(pE[e]||(pE[e]=FX(e)))(t)}function Y5(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nm=t=>typeof t<"u",Pl=t=>typeof t=="function",bE=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function zX(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const St=Math.PI,Kt=2*St,UX=Kt+St,rb=Number.POSITIVE_INFINITY,$X=St/180,ks=St/2,gc=St/4,vE=St*2/3,_M=Math.log10,ti=Math.sign;function Cf(t,e,s){return Math.abs(t-e)<s}function yE(t){const e=Math.round(t);t=Cf(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(_M(t))),r=t/s;return(r<=1?1:r<=2?2:r<=5?5:10)*s}function HX(t){const e=[],s=Math.sqrt(t);let r;for(r=1;r<s;r++)t%r===0&&(e.push(r),e.push(t/r));return s===(s|0)&&e.push(s),e.sort((a,i)=>a-i).pop(),e}function VX(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rm(t){return!VX(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function GX(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function qX(t,e,s){let r,a,i;for(r=0,a=t.length;r<a;r++)i=t[r][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Xa(t){return t*(St/180)}function Q5(t){return t*(180/St)}function wE(t){if(!Vs(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function IM(t,e){const s=e.x-t.x,r=e.y-t.y,a=Math.sqrt(s*s+r*r);let i=Math.atan2(r,s);return i<-.5*St&&(i+=Kt),{angle:i,distance:a}}function a4(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function WX(t,e){return(t-e+UX)%Kt-St}function un(t){return(t%Kt+Kt)%Kt}function am(t,e,s,r){const a=un(t),i=un(e),o=un(s),c=un(i-a),d=un(o-a),h=un(a-i),f=un(a-o);return a===i||a===o||r&&i===o||c>d&&h<f}function gn(t,e,s){return Math.max(e,Math.min(s,t))}function YX(t){return gn(t,-32768,32767)}function Xi(t,e,s,r=1e-6){return t>=Math.min(e,s)-r&&t<=Math.max(e,s)+r}function K5(t,e,s){s=s||(o=>t[o]<e);let r=t.length-1,a=0,i;for(;r-a>1;)i=a+r>>1,s(i)?a=i:r=i;return{lo:a,hi:r}}const Oc=(t,e,s,r)=>K5(t,s,r?a=>{const i=t[a][e];return i<s||i===s&&t[a+1][e]===s}:a=>t[a][e]<s),QX=(t,e,s)=>K5(t,s,r=>t[r][e]>=s);function KX(t,e,s){let r=0,a=t.length;for(;r<a&&t[r]<e;)r++;for(;a>r&&t[a-1]>s;)a--;return r>0||a<t.length?t.slice(r,a):t}const LM=["push","pop","shift","splice","unshift"];function XX(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),LM.forEach(s=>{const r="_onData"+Y5(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...i)}),o}})})}function NE(t,e){const s=t._chartjs;if(!s)return;const r=s.listeners,a=r.indexOf(e);a!==-1&&r.splice(a,1),!(r.length>0)&&(LM.forEach(i=>{delete t[i]}),delete t._chartjs)}function OM(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const PM=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function FM(t,e){let s=[],r=!1;return function(...a){s=a,r||(r=!0,PM.call(window,()=>{r=!1,t.apply(e,s)}))}}function ZX(t,e){let s;return function(...r){return e?(clearTimeout(s),s=setTimeout(t,e,r)):t.apply(this,r),e}}const X5=t=>t==="start"?"left":t==="end"?"right":"center",cn=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,JX=(t,e,s,r)=>t===(r?"left":"right")?s:t==="center"?(e+s)/2:e;function eZ(t,e,s){const r=e.length;let a=0,i=r;if(t._sorted){const{iScale:o,vScale:c,_parsed:d}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=o.axis,{min:x,max:g,minDefined:p,maxDefined:v}=o.getUserBounds();if(p){if(a=Math.min(Oc(d,f,x).lo,s?r:Oc(e,f,o.getPixelForValue(x)).lo),h){const y=d.slice(0,a+1).reverse().findIndex(w=>!Nt(w[c.axis]));a-=Math.max(0,y)}a=gn(a,0,r-1)}if(v){let y=Math.max(Oc(d,o.axis,g,!0).hi+1,s?0:Oc(e,f,o.getPixelForValue(g),!0).hi+1);if(h){const w=d.slice(y-1).findIndex(A=>!Nt(A[c.axis]));y+=Math.max(0,w)}i=gn(y,a,r)-a}else i=r-a}return{start:a,count:i}}function tZ(t){const{xScale:e,yScale:s,_scaleRanges:r}=t,a={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!r)return t._scaleRanges=a,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==s.min||r.ymax!==s.max;return Object.assign(r,a),i}const fg=t=>t===0||t===1,jE=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Kt/s)),CE=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Kt/s)+1,kf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ks)+1,easeOutSine:t=>Math.sin(t*ks),easeInOutSine:t=>-.5*(Math.cos(St*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fg(t)?t:jE(t,.075,.3),easeOutElastic:t=>fg(t)?t:CE(t,.075,.3),easeInOutElastic(t){return fg(t)?t:t<.5?.5*jE(t*2,.1125,.45):.5+.5*CE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-kf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?kf.easeInBounce(t*2)*.5:kf.easeOutBounce(t*2-1)*.5+.5};function Z5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kE(t){return Z5(t)?t:new tm(t)}function _2(t){return Z5(t)?t:new tm(t).saturate(.5).darken(.1).hexString()}const sZ=["x","y","borderWidth","radius","tension"],nZ=["color","borderColor","backgroundColor"];function rZ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nZ},numbers:{type:"number",properties:sZ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aZ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const AE=new Map;function iZ(t,e){e=e||{};const s=t+JSON.stringify(e);let r=AE.get(s);return r||(r=new Intl.NumberFormat(t,e),AE.set(s,r)),r}function J5(t,e,s){return iZ(e,s).format(t)}const oZ={values(t){return ts(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const r=this.chart.options.locale;let a,i=t;if(s.length>1){const h=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=lZ(t,s)}const o=_M(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:a,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),J5(t,r,d)}};function lZ(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var eN={formatters:oZ};function cZ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xd=Object.create(null),i4=Object.create(null);function Af(t,e){if(!e)return t;const s=e.split(".");for(let r=0,a=s.length;r<a;++r){const i=s[r];t=t[i]||(t[i]=Object.create(null))}return t}function I2(t,e,s){return typeof e=="string"?sm(Af(t,e),s):sm(Af(t,""),e)}class dZ{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,a)=>_2(a.backgroundColor),this.hoverBorderColor=(r,a)=>_2(a.borderColor),this.hoverColor=(r,a)=>_2(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return I2(this,e,s)}get(e){return Af(this,e)}describe(e,s){return I2(i4,e,s)}override(e,s){return I2(xd,e,s)}route(e,s,r,a){const i=Af(this,e),o=Af(this,r),c="_"+s;Object.defineProperties(i,{[c]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const d=this[c],h=o[a];return mt(d)?Object.assign({},h,d):at(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(s=>s(this))}}var xs=new dZ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[rZ,aZ,cZ]);function uZ(t){return!t||Nt(t.size)||Nt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ab(t,e,s,r,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,s.push(a)),i>r&&(r=i),r}function hZ(t,e,s,r){r=r||{};let a=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(a=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const c=s.length;let d,h,f,x,g;for(d=0;d<c;d++)if(x=s[d],x!=null&&!ts(x))o=ab(t,a,i,o,x);else if(ts(x))for(h=0,f=x.length;h<f;h++)g=x[h],g!=null&&!ts(g)&&(o=ab(t,a,i,o,g));t.restore();const p=i.length/2;if(p>s.length){for(d=0;d<p;d++)delete a[i[d]];i.splice(0,p)}return o}function pc(t,e,s){const r=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*r)/r+a}function EE(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function o4(t,e,s,r){zM(t,e,s,r,null)}function zM(t,e,s,r,a){let i,o,c,d,h,f,x,g;const p=e.pointStyle,v=e.rotation,y=e.radius;let w=(v||0)*$X;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,r),t.rotate(w),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:a?t.ellipse(s,r,a/2,y,0,0,Kt):t.arc(s,r,y,0,Kt),t.closePath();break;case"triangle":f=a?a/2:y,t.moveTo(s+Math.sin(w)*f,r-Math.cos(w)*y),w+=vE,t.lineTo(s+Math.sin(w)*f,r-Math.cos(w)*y),w+=vE,t.lineTo(s+Math.sin(w)*f,r-Math.cos(w)*y),t.closePath();break;case"rectRounded":h=y*.516,d=y-h,o=Math.cos(w+gc)*d,x=Math.cos(w+gc)*(a?a/2-h:d),c=Math.sin(w+gc)*d,g=Math.sin(w+gc)*(a?a/2-h:d),t.arc(s-x,r-c,h,w-St,w-ks),t.arc(s+g,r-o,h,w-ks,w),t.arc(s+x,r+c,h,w,w+ks),t.arc(s-g,r+o,h,w+ks,w+St),t.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*y,f=a?a/2:d,t.rect(s-f,r-d,2*f,2*d);break}w+=gc;case"rectRot":x=Math.cos(w)*(a?a/2:y),o=Math.cos(w)*y,c=Math.sin(w)*y,g=Math.sin(w)*(a?a/2:y),t.moveTo(s-x,r-c),t.lineTo(s+g,r-o),t.lineTo(s+x,r+c),t.lineTo(s-g,r+o),t.closePath();break;case"crossRot":w+=gc;case"cross":x=Math.cos(w)*(a?a/2:y),o=Math.cos(w)*y,c=Math.sin(w)*y,g=Math.sin(w)*(a?a/2:y),t.moveTo(s-x,r-c),t.lineTo(s+x,r+c),t.moveTo(s+g,r-o),t.lineTo(s-g,r+o);break;case"star":x=Math.cos(w)*(a?a/2:y),o=Math.cos(w)*y,c=Math.sin(w)*y,g=Math.sin(w)*(a?a/2:y),t.moveTo(s-x,r-c),t.lineTo(s+x,r+c),t.moveTo(s+g,r-o),t.lineTo(s-g,r+o),w+=gc,x=Math.cos(w)*(a?a/2:y),o=Math.cos(w)*y,c=Math.sin(w)*y,g=Math.sin(w)*(a?a/2:y),t.moveTo(s-x,r-c),t.lineTo(s+x,r+c),t.moveTo(s+g,r-o),t.lineTo(s-g,r+o);break;case"line":o=a?a/2:Math.cos(w)*y,c=Math.sin(w)*y,t.moveTo(s-o,r-c),t.lineTo(s+o,r+c);break;case"dash":t.moveTo(s,r),t.lineTo(s+Math.cos(w)*(a?a/2:y),r+Math.sin(w)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Zi(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Yb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Qb(t){t.restore()}function fZ(t,e,s,r,a){if(!e)return t.lineTo(s.x,s.y);if(a==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else a==="after"!=!!r?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function mZ(t,e,s,r){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?s.cp2x:s.cp1x,r?s.cp2y:s.cp1y,s.x,s.y)}function xZ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Nt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function gZ(t,e,s,r,a){if(a.strikethrough||a.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,d=s-i.actualBoundingBoxAscent,h=s+i.actualBoundingBoxDescent,f=a.strikethrough?(d+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,f),t.lineTo(c,f),t.stroke()}}function pZ(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function gd(t,e,s,r,a,i={}){const o=ts(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(t.save(),t.font=a.string,xZ(t,i),d=0;d<o.length;++d)h=o[d],i.backdrop&&pZ(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Nt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,s,r,i.maxWidth)),t.fillText(h,s,r,i.maxWidth),gZ(t,s,r,h,i),r+=Number(a.lineHeight);t.restore()}function im(t,e){const{x:s,y:r,w:a,h:i,radius:o}=e;t.arc(s+o.topLeft,r+o.topLeft,o.topLeft,1.5*St,St,!0),t.lineTo(s,r+i-o.bottomLeft),t.arc(s+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,St,ks,!0),t.lineTo(s+a-o.bottomRight,r+i),t.arc(s+a-o.bottomRight,r+i-o.bottomRight,o.bottomRight,ks,0,!0),t.lineTo(s+a,r+o.topRight),t.arc(s+a-o.topRight,r+o.topRight,o.topRight,0,-ks,!0),t.lineTo(s+o.topLeft,r)}const bZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yZ(t,e){const s=(""+t).match(bZ);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const wZ=t=>+t||0;function tN(t,e){const s={},r=mt(e),a=r?Object.keys(e):e,i=mt(t)?r?o=>at(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)s[o]=wZ(i(o));return s}function UM(t){return tN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ld(t){return tN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pn(t){const e=UM(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _s(t,e){t=t||{},e=e||xs.font;let s=at(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let r=at(t.style,e.style);r&&!(""+r).match(vZ)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const a={family:at(t.family,e.family),lineHeight:yZ(at(t.lineHeight,e.lineHeight),s),size:s,style:r,weight:at(t.weight,e.weight),string:""};return a.string=uZ(a),a}function mg(t,e,s,r){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function NZ(t,e,s){const{min:r,max:a}=t,i=DM(e,(a-r)/2),o=(c,d)=>s&&c===0?0:c+d;return{min:o(r,-Math.abs(i)),max:o(a,i)}}function ql(t,e){return Object.assign(Object.create(t),e)}function sN(t,e=[""],s,r,a=()=>t[0]){const i=s||t;typeof r>"u"&&(r=GM("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:a,override:c=>sN([c,...t],e,i,r)};return new Proxy(o,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return HM(c,d,()=>RZ(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return TE(c).includes(d)},ownKeys(c){return TE(c)},set(c,d,h){const f=c._storage||(c._storage=a());return c[d]=f[d]=h,delete c._keys,!0}})}function Bu(t,e,s,r){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:$M(t,r),setContext:i=>Bu(t,i,s,r),override:i=>Bu(t.override(i),e,s,r)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,c){return HM(i,o,()=>CZ(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,c){return t[o]=c,delete i[o],!0}})}function $M(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:r=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:r,isScriptable:Pl(s)?s:()=>s,isIndexable:Pl(r)?r:()=>r}}const jZ=(t,e)=>t?t+Y5(e):e,nN=(t,e)=>mt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function HM(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=s();return t[e]=r,r}function CZ(t,e,s){const{_proxy:r,_context:a,_subProxy:i,_descriptors:o}=t;let c=r[e];return Pl(c)&&o.isScriptable(e)&&(c=kZ(e,c,t,s)),ts(c)&&c.length&&(c=AZ(e,c,t,o.isIndexable)),nN(e,c)&&(c=Bu(c,a,i&&i[e],o)),c}function kZ(t,e,s,r){const{_proxy:a,_context:i,_subProxy:o,_stack:c}=s;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(i,o||r);return c.delete(t),nN(t,d)&&(d=rN(a._scopes,a,t,d)),d}function AZ(t,e,s,r){const{_proxy:a,_context:i,_subProxy:o,_descriptors:c}=s;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(mt(e[0])){const d=e,h=a._scopes.filter(f=>f!==d);e=[];for(const f of d){const x=rN(h,a,t,f);e.push(Bu(x,i,o&&o[t],c))}}return e}function VM(t,e,s){return Pl(t)?t(e,s):t}const EZ=(t,e)=>t===!0?e:typeof t=="string"?Ol(e,t):void 0;function SZ(t,e,s,r,a){for(const i of e){const o=EZ(s,i);if(o){t.add(o);const c=VM(o._fallback,s,a);if(typeof c<"u"&&c!==s&&c!==r)return c}else if(o===!1&&typeof r<"u"&&s!==r)return null}return!1}function rN(t,e,s,r){const a=e._rootScopes,i=VM(e._fallback,s,r),o=[...t,...a],c=new Set;c.add(r);let d=SE(c,o,s,i||s,r);return d===null||typeof i<"u"&&i!==s&&(d=SE(c,o,i,d,r),d===null)?!1:sN(Array.from(c),[""],a,i,()=>TZ(e,s,r))}function SE(t,e,s,r,a){for(;s;)s=SZ(t,e,s,r,a);return s}function TZ(t,e,s){const r=t._getTarget();e in r||(r[e]={});const a=r[e];return ts(a)&&mt(s)?s:a||{}}function RZ(t,e,s,r){let a;for(const i of e)if(a=GM(jZ(i,t),s),typeof a<"u")return nN(t,a)?rN(s,r,t,a):a}function GM(t,e){for(const s of e){if(!s)continue;const r=s[t];if(typeof r<"u")return r}}function TE(t){let e=t._keys;return e||(e=t._keys=MZ(t._scopes)),e}function MZ(t){const e=new Set;for(const s of t)for(const r of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(r);return Array.from(e)}function DZ(t,e,s,r){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(r);let c,d,h,f;for(c=0,d=r;c<d;++c)h=c+s,f=e[h],o[c]={r:a.parse(Ol(f,i),h)};return o}const BZ=Number.EPSILON||1e-14,_u=(t,e)=>e<t.length&&!t[e].skip&&t[e],qM=t=>t==="x"?"y":"x";function _Z(t,e,s,r){const a=t.skip?e:t,i=e,o=s.skip?e:s,c=a4(i,a),d=a4(o,i);let h=c/(c+d),f=d/(c+d);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const x=r*h,g=r*f;return{previous:{x:i.x-x*(o.x-a.x),y:i.y-x*(o.y-a.y)},next:{x:i.x+g*(o.x-a.x),y:i.y+g*(o.y-a.y)}}}function IZ(t,e,s){const r=t.length;let a,i,o,c,d,h=_u(t,0);for(let f=0;f<r-1;++f)if(d=h,h=_u(t,f+1),!(!d||!h)){if(Cf(e[f],0,BZ)){s[f]=s[f+1]=0;continue}a=s[f]/e[f],i=s[f+1]/e[f],c=Math.pow(a,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),s[f]=a*o*e[f],s[f+1]=i*o*e[f])}}function LZ(t,e,s="x"){const r=qM(s),a=t.length;let i,o,c,d=_u(t,0);for(let h=0;h<a;++h){if(o=c,c=d,d=_u(t,h+1),!c)continue;const f=c[s],x=c[r];o&&(i=(f-o[s])/3,c[`cp1${s}`]=f-i,c[`cp1${r}`]=x-i*e[h]),d&&(i=(d[s]-f)/3,c[`cp2${s}`]=f+i,c[`cp2${r}`]=x+i*e[h])}}function OZ(t,e="x"){const s=qM(e),r=t.length,a=Array(r).fill(0),i=Array(r);let o,c,d,h=_u(t,0);for(o=0;o<r;++o)if(c=d,d=h,h=_u(t,o+1),!!d){if(h){const f=h[e]-d[e];a[o]=f!==0?(h[s]-d[s])/f:0}i[o]=c?h?ti(a[o-1])!==ti(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}IZ(t,a,i),LZ(t,i,e)}function xg(t,e,s){return Math.max(Math.min(t,s),e)}function PZ(t,e){let s,r,a,i,o,c=Zi(t[0],e);for(s=0,r=t.length;s<r;++s)o=i,i=c,c=s<r-1&&Zi(t[s+1],e),i&&(a=t[s],o&&(a.cp1x=xg(a.cp1x,e.left,e.right),a.cp1y=xg(a.cp1y,e.top,e.bottom)),c&&(a.cp2x=xg(a.cp2x,e.left,e.right),a.cp2y=xg(a.cp2y,e.top,e.bottom)))}function FZ(t,e,s,r,a){let i,o,c,d;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")OZ(t,a);else{let h=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)c=t[i],d=_Z(h,c,t[Math.min(i+1,o-(r?0:1))%o],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}e.capBezierPoints&&PZ(t,s)}function aN(){return typeof window<"u"&&typeof document<"u"}function iN(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ib(t,e,s){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[s])):r=t,r}const Kb=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function zZ(t,e){return Kb(t).getPropertyValue(e)}const UZ=["top","right","bottom","left"];function cd(t,e,s){const r={};s=s?"-"+s:"";for(let a=0;a<4;a++){const i=UZ[a];r[i]=parseFloat(t[e+"-"+i+s])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const $Z=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function HZ(t,e){const s=t.touches,r=s&&s.length?s[0]:t,{offsetX:a,offsetY:i}=r;let o=!1,c,d;if($Z(a,i,t.target))c=a,d=i;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,d=r.clientY-h.top,o=!0}return{x:c,y:d,box:o}}function Cc(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:r}=e,a=Kb(s),i=a.boxSizing==="border-box",o=cd(a,"padding"),c=cd(a,"border","width"),{x:d,y:h,box:f}=HZ(t,s),x=o.left+(f&&c.left),g=o.top+(f&&c.top);let{width:p,height:v}=e;return i&&(p-=o.width+c.width,v-=o.height+c.height),{x:Math.round((d-x)/p*s.width/r),y:Math.round((h-g)/v*s.height/r)}}function VZ(t,e,s){let r,a;if(e===void 0||s===void 0){const i=t&&iN(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const o=i.getBoundingClientRect(),c=Kb(i),d=cd(c,"border","width"),h=cd(c,"padding");e=o.width-h.width-d.width,s=o.height-h.height-d.height,r=ib(c.maxWidth,i,"clientWidth"),a=ib(c.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:r||rb,maxHeight:a||rb}}const gg=t=>Math.round(t*10)/10;function GZ(t,e,s,r){const a=Kb(t),i=cd(a,"margin"),o=ib(a.maxWidth,t,"clientWidth")||rb,c=ib(a.maxHeight,t,"clientHeight")||rb,d=VZ(t,e,s);let{width:h,height:f}=d;if(a.boxSizing==="content-box"){const g=cd(a,"border","width"),p=cd(a,"padding");h-=p.width+g.width,f-=p.height+g.height}return h=Math.max(0,h-i.width),f=Math.max(0,r?h/r:f-i.height),h=gg(Math.min(h,o,d.maxWidth)),f=gg(Math.min(f,c,d.maxHeight)),h&&!f&&(f=gg(h/2)),(e!==void 0||s!==void 0)&&r&&d.height&&f>d.height&&(f=d.height,h=gg(Math.floor(f*r))),{width:h,height:f}}function RE(t,e,s){const r=e||1,a=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=r,o.height=a,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const qZ=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};aN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ME(t,e){const s=zZ(t,e),r=s&&s.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function kc(t,e,s,r){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function WZ(t,e,s,r){return{x:t.x+s*(e.x-t.x),y:r==="middle"?s<.5?t.y:e.y:r==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function YZ(t,e,s,r){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=kc(t,a,s),c=kc(a,i,s),d=kc(i,e,s),h=kc(o,c,s),f=kc(c,d,s);return kc(h,f,s)}const QZ=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,r){return s-r},leftForLtr(s,r){return s-r}}},KZ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function M0(t,e,s){return t?QZ(e,s):KZ()}function WM(t,e){let s,r;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,r=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=r)}function YM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function QM(t){return t==="angle"?{between:am,compare:WX,normalize:un}:{between:Xi,compare:(e,s)=>e-s,normalize:e=>e}}function DE({start:t,end:e,count:s,loop:r,style:a}){return{start:t%s,end:e%s,loop:r&&(e-t+1)%s===0,style:a}}function XZ(t,e,s){const{property:r,start:a,end:i}=s,{between:o,normalize:c}=QM(r),d=e.length;let{start:h,end:f,loop:x}=t,g,p;if(x){for(h+=d,f+=d,g=0,p=d;g<p&&o(c(e[h%d][r]),a,i);++g)h--,f--;h%=d,f%=d}return f<h&&(f+=d),{start:h,end:f,loop:x,style:t.style}}function KM(t,e,s){if(!s)return[t];const{property:r,start:a,end:i}=s,o=e.length,{compare:c,between:d,normalize:h}=QM(r),{start:f,end:x,loop:g,style:p}=XZ(t,e,s),v=[];let y=!1,w=null,A,j,C;const S=()=>d(a,C,A)&&c(a,C)!==0,E=()=>c(i,A)===0||d(i,C,A),M=()=>y||S(),R=()=>!y||E();for(let _=f,I=f;_<=x;++_)j=e[_%o],!j.skip&&(A=h(j[r]),A!==C&&(y=d(A,a,i),w===null&&M()&&(w=c(A,a)===0?_:I),w!==null&&R()&&(v.push(DE({start:w,end:_,loop:g,count:o,style:p})),w=null),I=_,C=A));return w!==null&&v.push(DE({start:w,end:x,loop:g,count:o,style:p})),v}function XM(t,e){const s=[],r=t.segments;for(let a=0;a<r.length;a++){const i=KM(r[a],t.points,e);i.length&&s.push(...i)}return s}function ZZ(t,e,s,r){let a=0,i=e-1;if(s&&!r)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,s&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function JZ(t,e,s,r){const a=t.length,i=[];let o=e,c=t[e],d;for(d=e+1;d<=s;++d){const h=t[d%a];h.skip||h.stop?c.skip||(r=!1,i.push({start:e%a,end:(d-1)%a,loop:r}),e=o=h.stop?d:null):(o=d,c.skip&&(e=d)),c=h}return o!==null&&i.push({start:e%a,end:o%a,loop:r}),i}function eJ(t,e){const s=t.points,r=t.options.spanGaps,a=s.length;if(!a)return[];const i=!!t._loop,{start:o,end:c}=ZZ(s,a,i,r);if(r===!0)return BE(t,[{start:o,end:c,loop:i}],s,e);const d=c<o?c+a:c,h=!!t._fullLoop&&o===0&&c===a-1;return BE(t,JZ(s,o,d,h),s,e)}function BE(t,e,s,r){return!r||!r.setContext||!s?e:tJ(t,e,s,r)}function tJ(t,e,s,r){const a=t._chart.getContext(),i=_E(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,d=s.length,h=[];let f=i,x=e[0].start,g=x;function p(v,y,w,A){const j=c?-1:1;if(v!==y){for(v+=d;s[v%d].skip;)v-=j;for(;s[y%d].skip;)y+=j;v%d!==y%d&&(h.push({start:v%d,end:y%d,loop:w,style:A}),f=A,x=y%d)}}for(const v of e){x=c?x:v.start;let y=s[x%d],w;for(g=x+1;g<=v.end;g++){const A=s[g%d];w=_E(r.setContext(ql(a,{type:"segment",p0:y,p1:A,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:o}))),sJ(w,f)&&p(x,g-1,v.loop,f),y=A,f=w}x<g-1&&p(x,g-1,v.loop,f)}return h}function _E(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function sJ(t,e){if(!e)return!1;const s=[],r=function(a,i){return Z5(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function pg(t,e,s){return t.options.clip?t[s]:e[s]}function nJ(t,e){const{xScale:s,yScale:r}=t;return s&&r?{left:pg(s,e,"left"),right:pg(s,e,"right"),top:pg(r,e,"top"),bottom:pg(r,e,"bottom")}:e}function ZM(t,e){const s=e._clip;if(s.disabled)return!1;const r=nJ(e,t.chartArea);return{left:s.left===!1?0:r.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:r.right+(s.right===!0?0:s.right),top:s.top===!1?0:r.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:r.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class rJ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,r,a){const i=s.listeners[a],o=s.duration;i.forEach(c=>c({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(r-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=PM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((r,a)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,c=!1,d;for(;o>=0;--o)d=i[o],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(i[o]=i[i.length-1],i.pop());c&&(a.draw(),this._notify(a,r,e,"progress")),i.length||(r.running=!1,this._notify(a,r,e,"complete"),r.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let r=s.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,r)),r}listen(e,s,r){this._getAnims(e).listeners[s].push(r)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((r,a)=>Math.max(r,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const r=s.items;let a=r.length-1;for(;a>=0;--a)r[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mi=new rJ;const IE="transparent",aJ={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const r=kE(t||IE),a=r.valid&&kE(e||IE);return a&&a.valid?a.mix(r,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class iJ{constructor(e,s,r,a){const i=s[r];a=mg([e.to,a,i,e.from]);const o=mg([e.from,i,a]);this._active=!0,this._fn=e.fn||aJ[e.type||typeof o],this._easing=kf[e.easing]||kf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=r,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,r){if(this._active){this._notify(!1);const a=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=mg([e.to,s,a,e.from]),this._from=mg([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,r=this._duration,a=this._prop,i=this._from,o=this._loop,c=this._to;let d;if(this._active=i!==c&&(o||s<r),!this._active){this._target[a]=c,this._notify(!0);return}if(s<0){this._target[a]=i;return}d=s/r%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(i,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,r)=>{e.push({res:s,rej:r})})}_notify(e){const s=e?"res":"rej",r=this._promises||[];for(let a=0;a<r.length;a++)r[a][s]()}}class JM{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!mt(e))return;const s=Object.keys(xs.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!mt(i))return;const o={};for(const c of s)o[c]=i[c];(ts(i.properties)&&i.properties||[a]).forEach(c=>{(c===a||!r.has(c))&&r.set(c,o)})})}_animateOptions(e,s){const r=s.options,a=lJ(e,r);if(!a)return[];const i=this._createAnimations(a,r);return r.$shared&&oJ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,s){const r=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(s),c=Date.now();let d;for(d=o.length-1;d>=0;--d){const h=o[d];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(e,s));continue}const f=s[h];let x=i[h];const g=r.get(h);if(x)if(g&&x.active()){x.update(g,f,c);continue}else x.cancel();if(!g||!g.duration){e[h]=f;continue}i[h]=x=new iJ(g,e,h,f),a.push(x)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const r=this._createAnimations(e,s);if(r.length)return Mi.add(this._chart,r),!0}}function oJ(t,e){const s=[],r=Object.keys(e);for(let a=0;a<r.length;a++){const i=t[r[a]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function lJ(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function LE(t,e){const s=t&&t.options||{},r=s.reverse,a=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:r?i:a,end:r?a:i}}function cJ(t,e,s){if(s===!1)return!1;const r=LE(t,s),a=LE(e,s);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function dJ(t){let e,s,r,a;return mt(t)?(e=t.top,s=t.right,r=t.bottom,a=t.left):e=s=r=a=t,{top:e,right:s,bottom:r,left:a,disabled:t===!1}}function eD(t,e){const s=[],r=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=r.length;a<i;++a)s.push(r[a].index);return s}function OE(t,e,s,r={}){const a=t.keys,i=r.mode==="single";let o,c,d,h;if(e===null)return;let f=!1;for(o=0,c=a.length;o<c;++o){if(d=+a[o],d===s){if(f=!0,r.all)continue;break}h=t.values[d],Vs(h)&&(i||e===0||ti(e)===ti(h))&&(e+=h)}return!f&&!r.all?0:e}function uJ(t,e){const{iScale:s,vScale:r}=e,a=s.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let d,h,f;for(d=0,h=o.length;d<h;++d)f=o[d],c[d]={[a]:f,[i]:t[f]};return c}function L2(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function hJ(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function fJ(t){const{min:e,max:s,minDefined:r,maxDefined:a}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function mJ(t,e,s){const r=t[e]||(t[e]={});return r[s]||(r[s]={})}function PE(t,e,s,r){for(const a of e.getMatchingVisibleMetas(r).reverse()){const i=t[a.index];if(s&&i>0||!s&&i<0)return a.index}return null}function FE(t,e){const{chart:s,_cachedMeta:r}=t,a=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:c}=r,d=i.axis,h=o.axis,f=hJ(i,o,r),x=e.length;let g;for(let p=0;p<x;++p){const v=e[p],{[d]:y,[h]:w}=v,A=v._stacks||(v._stacks={});g=A[h]=mJ(a,f,y),g[c]=w,g._top=PE(g,o,!0,r.type),g._bottom=PE(g,o,!1,r.type);const j=g._visualValues||(g._visualValues={});j[c]=w}}function O2(t,e){const s=t.scales;return Object.keys(s).filter(r=>s[r].axis===e).shift()}function xJ(t,e){return ql(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gJ(t,e,s){return ql(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Zh(t,e){const s=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[r]===void 0||i[r][s]===void 0)return;delete i[r][s],i[r]._visualValues!==void 0&&i[r]._visualValues[s]!==void 0&&delete i[r]._visualValues[s]}}}const P2=t=>t==="reset"||t==="none",zE=(t,e)=>e?t:Object.assign({},t),pJ=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:eD(s,!0),values:null};class Tl{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=L2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,r=this.getDataset(),a=(x,g,p,v)=>x==="x"?g:x==="r"?v:p,i=s.xAxisID=at(r.xAxisID,O2(e,"x")),o=s.yAxisID=at(r.yAxisID,O2(e,"y")),c=s.rAxisID=at(r.rAxisID,O2(e,"r")),d=s.indexAxis,h=s.iAxisID=a(d,i,o,c),f=s.vAxisID=a(d,o,i,c);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(c),s.iScale=this.getScaleForId(h),s.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&NE(this._data,this),e._stacked&&Zh(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),r=this._data;if(mt(s)){const a=this._cachedMeta;this._data=uJ(s,a)}else if(r!==s){if(r){NE(r,this);const a=this._cachedMeta;Zh(a),a._parsed=[]}s&&Object.isExtensible(s)&&XX(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,r=this.getDataset();let a=!1;this._dataCheck();const i=s._stacked;s._stacked=L2(s.vScale,s),s.stack!==r.stack&&(a=!0,Zh(s),s.stack=r.stack),this._resyncElements(e),(a||i!==s._stacked)&&(FE(this,s._parsed),s._stacked=L2(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:r,_data:a}=this,{iScale:i,_stacked:o}=r,c=i.axis;let d=e===0&&s===a.length?!0:r._sorted,h=e>0&&r._parsed[e-1],f,x,g;if(this._parsing===!1)r._parsed=a,r._sorted=!0,g=a;else{ts(a[e])?g=this.parseArrayData(r,a,e,s):mt(a[e])?g=this.parseObjectData(r,a,e,s):g=this.parsePrimitiveData(r,a,e,s);const p=()=>x[c]===null||h&&x[c]<h[c];for(f=0;f<s;++f)r._parsed[f+e]=x=g[f],d&&(p()&&(d=!1),h=x);r._sorted=d}o&&FE(this,g)}parsePrimitiveData(e,s,r,a){const{iScale:i,vScale:o}=e,c=i.axis,d=o.axis,h=i.getLabels(),f=i===o,x=new Array(a);let g,p,v;for(g=0,p=a;g<p;++g)v=g+r,x[g]={[c]:f||i.parse(h[v],v),[d]:o.parse(s[v],v)};return x}parseArrayData(e,s,r,a){const{xScale:i,yScale:o}=e,c=new Array(a);let d,h,f,x;for(d=0,h=a;d<h;++d)f=d+r,x=s[f],c[d]={x:i.parse(x[0],f),y:o.parse(x[1],f)};return c}parseObjectData(e,s,r,a){const{xScale:i,yScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(a);let f,x,g,p;for(f=0,x=a;f<x;++f)g=f+r,p=s[g],h[f]={x:i.parse(Ol(p,c),g),y:o.parse(Ol(p,d),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,r){const a=this.chart,i=this._cachedMeta,o=s[e.axis],c={keys:eD(a,!0),values:s._stacks[e.axis]._visualValues};return OE(c,o,i.index,{mode:r})}updateRangeFromParsed(e,s,r,a){const i=r[s.axis];let o=i===null?NaN:i;const c=a&&r._stacks[s.axis];a&&c&&(a.values=c,o=OE(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const r=this._cachedMeta,a=r._parsed,i=r._sorted&&e===r.iScale,o=a.length,c=this._getOtherScale(e),d=pJ(s,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:x}=fJ(c);let g,p;function v(){p=a[g];const y=p[c.axis];return!Vs(p[e.axis])||f>y||x<y}for(g=0;g<o&&!(!v()&&(this.updateRangeFromParsed(h,e,p,d),i));++g);if(i){for(g=o-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,e,p,d);break}}return h}getAllParsedValues(e){const s=this._cachedMeta._parsed,r=[];let a,i,o;for(a=0,i=s.length;a<i;++a)o=s[a][e.axis],Vs(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,r=s.iScale,a=s.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=dJ(at(this.options.clip,cJ(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,r=this._cachedMeta,a=r.data||[],i=s.chartArea,o=[],c=this._drawStart||0,d=this._drawCount||a.length-c,h=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,i,c,d),f=c;f<c+d;++f){const x=a[f];x.hidden||(x.active&&h?o.push(x):x.draw(e,i))}for(f=0;f<o.length;++f)o[f].draw(e,i)}getStyle(e,s){const r=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,s,r){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=gJ(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=xJ(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",r){const a=s==="active",i=this._cachedDataOpts,o=e+"-"+s,c=i[o],d=this.enableOptionSharing&&nm(r);if(c)return zE(c,d);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),p=Object.keys(xs.elements[e]),v=()=>this.getContext(r,a,s),y=h.resolveNamedOptions(g,p,v,x);return y.$shared&&(y.$shared=d,i[o]=Object.freeze(zE(y,d))),y}_resolveAnimations(e,s,r){const a=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,c=i[o];if(c)return c;let d;if(a.options.animation!==!1){const f=this.chart.config,x=f.datasetAnimationScopeKeys(this._type,s),g=f.getOptionScopes(this.getDataset(),x);d=f.createResolver(g,this.getContext(e,r,s))}const h=new JM(a,d&&d.animations);return d&&d._cacheable&&(i[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||P2(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const r=this.resolveDataElementOptions(e,s),a=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(s,i)||i!==a;return this.updateSharedOptions(i,s,r),{sharedOptions:i,includeOptions:o}}updateElement(e,s,r,a){P2(a)?Object.assign(e,r):this._resolveAnimations(s,a).update(e,r)}updateSharedOptions(e,s,r){e&&!P2(s)&&this._resolveAnimations(void 0,s).update(e,r)}_setStyle(e,s,r,a){e.active=a;const i=this.getStyle(s,a);this._resolveAnimations(s,r,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,s,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,r=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const a=r.length,i=s.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,s,r=!0){const a=this._cachedMeta,i=a.data,o=e+s;let c;const d=h=>{for(h.length+=s,c=h.length-1;c>=o;c--)h[c]=h[c-s]};for(d(i),c=e;c<o;++c)i[c]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(e,s),r&&this.updateElements(i,e,s,"reset")}updateElements(e,s,r,a){}_removeElements(e,s){const r=this._cachedMeta;if(this._parsing){const a=r._parsed.splice(e,s);r._stacked&&Zh(r,a)}r.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,r,a]=e;this[s](r,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}se(Tl,"defaults",{}),se(Tl,"datasetElementType",null),se(Tl,"dataElementType",null);function bJ(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let r=[];for(let a=0,i=s.length;a<i;a++)r=r.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=OM(r.sort((a,i)=>a-i))}return t._cache.$bar}function vJ(t){const e=t.iScale,s=bJ(e,t.type);let r=e._length,a,i,o,c;const d=()=>{o===32767||o===-32768||(nm(c)&&(r=Math.min(r,Math.abs(o-c)||r)),c=o)};for(a=0,i=s.length;a<i;++a)o=e.getPixelForValue(s[a]),d();for(c=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),d();return r}function yJ(t,e,s,r){const a=s.barThickness;let i,o;return Nt(a)?(i=e.min*s.categoryPercentage,o=s.barPercentage):(i=a*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function wJ(t,e,s,r){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,c=t<a.length-1?a[t+1]:null;const d=s.categoryPercentage;o===null&&(o=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-o);const h=i-(i-Math.min(o,c))/2*d;return{chunk:Math.abs(c-o)/2*d/r,ratio:s.barPercentage,start:h}}function NJ(t,e,s,r){const a=s.parse(t[0],r),i=s.parse(t[1],r),o=Math.min(a,i),c=Math.max(a,i);let d=o,h=c;Math.abs(o)>Math.abs(c)&&(d=c,h=o),e[s.axis]=h,e._custom={barStart:d,barEnd:h,start:a,end:i,min:o,max:c}}function tD(t,e,s,r){return ts(t)?NJ(t,e,s,r):e[s.axis]=s.parse(t,r),e}function UE(t,e,s,r){const a=t.iScale,i=t.vScale,o=a.getLabels(),c=a===i,d=[];let h,f,x,g;for(h=s,f=s+r;h<f;++h)g=e[h],x={},x[a.axis]=c||a.parse(o[h],h),d.push(tD(g,x,i,h));return d}function F2(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function jJ(t,e,s){return t!==0?ti(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function CJ(t){let e,s,r,a,i;return t.horizontal?(e=t.base>t.x,s="left",r="right"):(e=t.base<t.y,s="bottom",r="top"),e?(a="end",i="start"):(a="start",i="end"),{start:s,end:r,reverse:e,top:a,bottom:i}}function kJ(t,e,s,r){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:d,top:h,bottom:f}=CJ(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===r?a=h:(s._bottom||0)===r?a=f:(i[$E(f,o,c,d)]=!0,a=h)),i[$E(a,o,c,d)]=!0,t.borderSkipped=i}function $E(t,e,s,r){return r?(t=AJ(t,e,s),t=HE(t,s,e)):t=HE(t,e,s),t}function AJ(t,e,s){return t===e?s:t===s?e:t}function HE(t,e,s){return t==="start"?e:t==="end"?s:t}function EJ(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Sp extends Tl{parsePrimitiveData(e,s,r,a){return UE(e,s,r,a)}parseArrayData(e,s,r,a){return UE(e,s,r,a)}parseObjectData(e,s,r,a){const{iScale:i,vScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?c:d,f=o.axis==="x"?c:d,x=[];let g,p,v,y;for(g=r,p=r+a;g<p;++g)y=s[g],v={},v[i.axis]=i.parse(Ol(y,h),g),x.push(tD(Ol(y,f),v,o,g));return x}updateRangeFromParsed(e,s,r,a){super.updateRangeFromParsed(e,s,r,a);const i=r._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:r,vScale:a}=s,i=this.getParsed(e),o=i._custom,c=F2(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,r,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),f=this._getRuler(),{sharedOptions:x,includeOptions:g}=this._getSharedOptions(s,a);for(let p=s;p<s+r;p++){const v=this.getParsed(p),y=i||Nt(v[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(p),w=this._calculateBarIndexPixels(p,f),A=(v._stacks||{})[c.axis],j={horizontal:h,base:y.base,enableBorderRadius:!A||F2(v._custom)||o===A._top||o===A._bottom,x:h?y.head:w.center,y:h?w.center:y.head,height:h?w.size:Math.abs(y.size),width:h?Math.abs(y.size):w.size};g&&(j.options=x||this.resolveDataElementOptions(p,e[p].active?"active":a));const C=j.options||e[p].options;kJ(j,C,A,o),EJ(j,C,f.ratio),this.updateElement(e[p],p,j,a)}}_getStacks(e,s){const{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),i=r.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(s),d=c&&c[r.axis],h=f=>{const x=f._parsed.find(p=>p[r.axis]===d),g=x&&x[f.vScale.axis];if(Nt(g)||isNaN(g))return!0};for(const f of a)if(!(s!==void 0&&h(f))&&((i===!1||o.indexOf(f.stack)===-1||i===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[at(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,r){const a=this._getStacks(e,r),i=s!==void 0?a.indexOf(s):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,r=s.iScale,a=[];let i,o;for(i=0,o=s.data.length;i<o;++i)a.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const c=e.barThickness;return{min:c||vJ(s),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:r,index:a},options:{base:i,minBarLength:o}}=this,c=i||0,d=this.getParsed(e),h=d._custom,f=F2(h);let x=d[s.axis],g=0,p=r?this.applyStack(s,d,r):x,v,y;p!==x&&(g=p-x,p=x),f&&(x=h.barStart,p=h.barEnd-h.barStart,x!==0&&ti(x)!==ti(h.barEnd)&&(g=0),g+=x);const w=!Nt(i)&&!f?i:g;let A=s.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=s.getPixelForValue(g+p):v=A,y=v-A,Math.abs(y)<o){y=jJ(y,s,c)*o,x===c&&(A-=y/2);const j=s.getPixelForDecimal(0),C=s.getPixelForDecimal(1),S=Math.min(j,C),E=Math.max(j,C);A=Math.max(Math.min(A,E),S),v=A+y,r&&!f&&(d._stacks[s.axis]._visualValues[a]=s.getValueForPixel(v)-s.getValueForPixel(A))}if(A===s.getPixelForValue(c)){const j=ti(y)*s.getLineWidthForValue(c)/2;A+=j,y-=j}return{size:y,base:A,head:v,center:v+y/2}}_calculateBarIndexPixels(e,s){const r=s.scale,a=this.options,i=a.skipNull,o=at(a.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(s.grouped){const f=i?this._getStackCount(e):s.stackCount,x=a.barThickness==="flex"?wJ(e,s,a,f*h):yJ(e,s,a,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(at(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+p;c=x.start+x.chunk*v+x.chunk/2,d=Math.min(o,x.chunk*x.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(o,s.min*s.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,s=e.vScale,r=e.data,a=r.length;let i=0;for(;i<a;++i)this.getParsed(i)[s.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}se(Sp,"id","bar"),se(Sp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),se(Sp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function SJ(t,e,s){let r=1,a=1,i=0,o=0;if(e<Kt){const c=t,d=c+e,h=Math.cos(c),f=Math.sin(c),x=Math.cos(d),g=Math.sin(d),p=(C,S,E)=>am(C,c,d,!0)?1:Math.max(S,S*s,E,E*s),v=(C,S,E)=>am(C,c,d,!0)?-1:Math.min(S,S*s,E,E*s),y=p(0,h,x),w=p(ks,f,g),A=v(St,h,x),j=v(St+ks,f,g);r=(y-A)/2,a=(w-j)/2,i=-(y+A)/2,o=-(w+j)/2}return{ratioX:r,ratioY:a,offsetX:i,offsetY:o}}class hf extends Tl{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const r=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=r;else{let i=d=>+r[d];if(mt(r[e])){const{key:d="value"}=this._parsing;i=h=>+Ol(r[h],d)}let o,c;for(o=e,c=e+s;o<c;++o)a._parsed[o]=i(o)}}_getRotation(){return Xa(this.options.rotation-90)}_getCircumference(){return Xa(this.options.circumference)}_getRotationExtents(){let e=Kt,s=-Kt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const a=this.chart.getDatasetMeta(r).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),s=Math.max(s,i+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:r}=s,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-o)/2,0),d=Math.min(IX(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:f,rotation:x}=this._getRotationExtents(),{ratioX:g,ratioY:p,offsetX:v,offsetY:y}=SJ(x,f,d),w=(r.width-o)/g,A=(r.height-o)/p,j=Math.max(Math.min(w,A)/2,0),C=DM(this.options.radius,j),S=Math.max(C*d,0),E=(C-S)/this._getVisibleDatasetWeightTotal();this.offsetX=v*C,this.offsetY=y*C,a.total=this.calculateTotal(),this.outerRadius=C-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const r=this.options,a=this._cachedMeta,i=this._getCircumference();return s&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Kt)}updateElements(e,s,r,a){const i=a==="reset",o=this.chart,c=o.chartArea,h=o.options.animation,f=(c.left+c.right)/2,x=(c.top+c.bottom)/2,g=i&&h.animateScale,p=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(s,a);let A=this._getRotation(),j;for(j=0;j<s;++j)A+=this._circumference(j,i);for(j=s;j<s+r;++j){const C=this._circumference(j,i),S=e[j],E={x:f+this.offsetX,y:x+this.offsetY,startAngle:A,endAngle:A+C,circumference:C,outerRadius:v,innerRadius:p};w&&(E.options=y||this.resolveDataElementOptions(j,S.active?"active":a)),A+=C,this.updateElement(S,j,E,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let r=0,a;for(a=0;a<s.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Kt*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,r=this.chart,a=r.data.labels||[],i=J5(s._parsed[e],r.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const r=this.chart;let a,i,o,c,d;if(!e){for(a=0,i=r.data.datasets.length;a<i;++a)if(r.isDatasetVisible(a)){o=r.getDatasetMeta(a),e=o.data,c=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)d=c.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(s=Math.max(s,d.borderWidth||0,d.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let r=0,a=e.length;r<a;++r){const i=this.resolveDataElementOptions(r);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(s+=this._getRingWeight(r));return s}_getRingWeight(e){return Math.max(at(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}se(hf,"id","doughnut"),se(hf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),se(hf,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),se(hf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:r,color:a}}=e.legend.options;return s.labels.map((i,o)=>{const d=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}}});class Tp extends Tl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:r,data:a=[],_dataset:i}=s,o=this.chart._animationsDisabled;let{start:c,count:d}=eZ(s,a,o);this._drawStart=c,this._drawCount=d,tZ(s)&&(c=0,d=a.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=a;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:h},e),this.updateElements(a,c,d,e)}updateElements(e,s,r,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:x}=this._getSharedOptions(s,a),g=o.axis,p=c.axis,{spanGaps:v,segment:y}=this.options,w=rm(v)?v:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||i||a==="none",j=s+r,C=e.length;let S=s>0&&this.getParsed(s-1);for(let E=0;E<C;++E){const M=e[E],R=A?M:{};if(E<s||E>=j){R.skip=!0;continue}const _=this.getParsed(E),I=Nt(_[p]),D=R[g]=o.getPixelForValue(_[g],E),B=R[p]=i||I?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,_,d):_[p],E);R.skip=isNaN(D)||isNaN(B)||I,R.stop=E>0&&Math.abs(_[g]-S[g])>w,y&&(R.parsed=_,R.raw=h.data[E]),x&&(R.options=f||this.resolveDataElementOptions(E,M.active?"active":a)),A||this.updateElement(M,E,R,a),S=_}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,r=s.options&&s.options.borderWidth||0,a=e.data||[];if(!a.length)return r;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}se(Tp,"id","line"),se(Tp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),se(Tp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Rp extends Tl{getLabelAndValue(e){const s=this._cachedMeta.vScale,r=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(r[s.axis])}}parseObjectData(e,s,r,a){return DZ.bind(this)(e,s,r,a)}update(e){const s=this._cachedMeta,r=s.dataset,a=s.data||[],i=s.iScale.getLabels();if(r.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(r,void 0,c,e)}this.updateElements(a,0,a.length,e)}updateElements(e,s,r,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let c=s;c<s+r;c++){const d=e[c],h=this.resolveDataElementOptions(c,d.active?"active":a),f=i.getPointPositionForValue(c,this.getParsed(c).r),x=o?i.xCenter:f.x,g=o?i.yCenter:f.y,p={x,y:g,angle:f.angle,skip:isNaN(x)||isNaN(g),options:h};this.updateElement(d,c,p,a)}}}se(Rp,"id","radar"),se(Rp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),se(Rp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function bc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oN{constructor(e){se(this,"options");this.options=e||{}}static override(e){Object.assign(oN.prototype,e)}init(){}formats(){return bc()}parse(){return bc()}format(){return bc()}add(){return bc()}diff(){return bc()}startOf(){return bc()}endOf(){return bc()}}var TJ={_date:oN};function RJ(t,e,s,r){const{controller:a,data:i,_sorted:o}=t,c=a._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&i.length){const h=c._reversePixels?QX:Oc;if(r){if(a._sharedOptions){const f=i[0],x=typeof f.getRange=="function"&&f.getRange(e);if(x){const g=h(i,e,s-x),p=h(i,e,s+x);return{lo:g.lo,hi:p.hi}}}}else{const f=h(i,e,s);if(d){const{vScale:x}=a._cachedMeta,{_parsed:g}=t,p=g.slice(0,f.lo+1).reverse().findIndex(y=>!Nt(y[x.axis]));f.lo-=Math.max(0,p);const v=g.slice(f.hi).findIndex(y=>!Nt(y[x.axis]));f.hi+=Math.max(0,v)}return f}}return{lo:0,hi:i.length-1}}function Xb(t,e,s,r,a){const i=t.getSortedVisibleDatasetMetas(),o=s[e];for(let c=0,d=i.length;c<d;++c){const{index:h,data:f}=i[c],{lo:x,hi:g}=RJ(i[c],e,o,a);for(let p=x;p<=g;++p){const v=f[p];v.skip||r(v,h,p)}}}function MJ(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(r,a){const i=e?Math.abs(r.x-a.x):0,o=s?Math.abs(r.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function z2(t,e,s,r,a){const i=[];return!a&&!t.isPointInArea(e)||Xb(t,s,e,function(c,d,h){!a&&!Zi(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&i.push({element:c,datasetIndex:d,index:h})},!0),i}function DJ(t,e,s,r){let a=[];function i(o,c,d){const{startAngle:h,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:x}=IM(o,{x:e.x,y:e.y});am(x,h,f)&&a.push({element:o,datasetIndex:c,index:d})}return Xb(t,s,e,i),a}function BJ(t,e,s,r,a,i){let o=[];const c=MJ(s);let d=Number.POSITIVE_INFINITY;function h(f,x,g){const p=f.inRange(e.x,e.y,a);if(r&&!p)return;const v=f.getCenterPoint(a);if(!(!!i||t.isPointInArea(v))&&!p)return;const w=c(e,v);w<d?(o=[{element:f,datasetIndex:x,index:g}],d=w):w===d&&o.push({element:f,datasetIndex:x,index:g})}return Xb(t,s,e,h),o}function U2(t,e,s,r,a,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!r?DJ(t,e,s,a):BJ(t,e,s,r,a,i)}function VE(t,e,s,r,a){const i=[],o=s==="x"?"inXRange":"inYRange";let c=!1;return Xb(t,s,e,(d,h,f)=>{d[o]&&d[o](e[s],a)&&(i.push({element:d,datasetIndex:h,index:f}),c=c||d.inRange(e.x,e.y,a))}),r&&!c?[]:i}var _J={modes:{index(t,e,s,r){const a=Cc(e,t),i=s.axis||"x",o=s.includeInvisible||!1,c=s.intersect?z2(t,a,i,r,o):U2(t,a,i,!1,r,o),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,x=h.data[f];x&&!x.skip&&d.push({element:x,datasetIndex:h.index,index:f})}),d):[]},dataset(t,e,s,r){const a=Cc(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;let c=s.intersect?z2(t,a,i,r,o):U2(t,a,i,!1,r,o);if(c.length>0){const d=c[0].datasetIndex,h=t.getDatasetMeta(d).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:d,index:f})}return c},point(t,e,s,r){const a=Cc(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return z2(t,a,i,r,o)},nearest(t,e,s,r){const a=Cc(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return U2(t,a,i,s.intersect,r,o)},x(t,e,s,r){const a=Cc(e,t);return VE(t,a,"x",s.intersect,r)},y(t,e,s,r){const a=Cc(e,t);return VE(t,a,"y",s.intersect,r)}}};const sD=["left","top","right","bottom"];function Jh(t,e){return t.filter(s=>s.pos===e)}function GE(t,e){return t.filter(s=>sD.indexOf(s.pos)===-1&&s.box.axis===e)}function ef(t,e){return t.sort((s,r)=>{const a=e?r:s,i=e?s:r;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function IJ(t){const e=[];let s,r,a,i,o,c;for(s=0,r=(t||[]).length;s<r;++s)a=t[s],{position:i,options:{stack:o,stackWeight:c=1}}=a,e.push({index:s,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:c});return e}function LJ(t){const e={};for(const s of t){const{stack:r,pos:a,stackWeight:i}=s;if(!r||!sD.includes(a))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function OJ(t,e){const s=LJ(t),{vBoxMaxWidth:r,hBoxMaxHeight:a}=e;let i,o,c;for(i=0,o=t.length;i<o;++i){c=t[i];const{fullSize:d}=c.box,h=s[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*r:d&&e.availableWidth,c.height=a):(c.width=r,c.height=f?f*a:d&&e.availableHeight)}return s}function PJ(t){const e=IJ(t),s=ef(e.filter(h=>h.box.fullSize),!0),r=ef(Jh(e,"left"),!0),a=ef(Jh(e,"right")),i=ef(Jh(e,"top"),!0),o=ef(Jh(e,"bottom")),c=GE(e,"x"),d=GE(e,"y");return{fullSize:s,leftAndTop:r.concat(i),rightAndBottom:a.concat(d).concat(o).concat(c),chartArea:Jh(e,"chartArea"),vertical:r.concat(a).concat(d),horizontal:i.concat(o).concat(c)}}function qE(t,e,s,r){return Math.max(t[s],e[s])+Math.max(t[r],e[r])}function nD(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function FJ(t,e,s,r){const{pos:a,box:i}=s,o=t.maxPadding;if(!mt(a)){s.size&&(t[a]-=s.size);const x=r[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?i.height:i.width),s.size=x.size/x.count,t[a]+=s.size}i.getPadding&&nD(o,i.getPadding());const c=Math.max(0,e.outerWidth-qE(o,t,"left","right")),d=Math.max(0,e.outerHeight-qE(o,t,"top","bottom")),h=c!==t.w,f=d!==t.h;return t.w=c,t.h=d,s.horizontal?{same:h,other:f}:{same:f,other:h}}function zJ(t){const e=t.maxPadding;function s(r){const a=Math.max(e[r]-t[r],0);return t[r]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function UJ(t,e){const s=e.maxPadding;function r(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],s[o])}),i}return r(t?["left","right"]:["top","bottom"])}function ff(t,e,s,r){const a=[];let i,o,c,d,h,f;for(i=0,o=t.length,h=0;i<o;++i){c=t[i],d=c.box,d.update(c.width||e.w,c.height||e.h,UJ(c.horizontal,e));const{same:x,other:g}=FJ(e,s,c,r);h|=x&&a.length,f=f||g,d.fullSize||a.push(c)}return h&&ff(a,e,s,r)||f}function bg(t,e,s,r,a){t.top=s,t.left=e,t.right=e+r,t.bottom=s+a,t.width=r,t.height=a}function WE(t,e,s,r){const a=s.padding;let{x:i,y:o}=e;for(const c of t){const d=c.box,h=r[c.stack]||{placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const x=e.w*f,g=h.size||d.height;nm(h.start)&&(o=h.start),d.fullSize?bg(d,a.left,o,s.outerWidth-a.right-a.left,g):bg(d,e.left+h.placed,o,x,g),h.start=o,h.placed+=x,o=d.bottom}else{const x=e.h*f,g=h.size||d.width;nm(h.start)&&(i=h.start),d.fullSize?bg(d,i,a.top,g,s.outerHeight-a.bottom-a.top):bg(d,i,e.top+h.placed,g,x),h.start=i,h.placed+=x,i=d.right}}e.x=i,e.y=o}var Ur={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,r){if(!t)return;const a=pn(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(s-a.height,0),c=PJ(t.boxes),d=c.vertical,h=c.horizontal;_t(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const f=d.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},a);nD(g,pn(r));const p=Object.assign({maxPadding:g,w:i,h:o,x:a.left,y:a.top},a),v=OJ(d.concat(h),x);ff(c.fullSize,p,x,v),ff(d,p,x,v),ff(h,p,x,v)&&ff(d,p,x,v),zJ(p),WE(c.leftAndTop,p,x,v),p.x+=p.w,p.y+=p.h,WE(c.rightAndBottom,p,x,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},_t(c.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class rD{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,r){}removeEventListener(e,s,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,r,a){return s=Math.max(0,s||e.width),r=r||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):r)}}isAttached(e){return!0}updateConfig(e){}}class $J extends rD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mp="$chartjs",HJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YE=t=>t===null||t==="";function VJ(t,e){const s=t.style,r=t.getAttribute("height"),a=t.getAttribute("width");if(t[Mp]={initial:{height:r,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",YE(a)){const i=ME(t,"width");i!==void 0&&(t.width=i)}if(YE(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=ME(t,"height");i!==void 0&&(t.height=i)}return t}const aD=qZ?{passive:!0}:!1;function GJ(t,e,s){t&&t.addEventListener(e,s,aD)}function qJ(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,aD)}function WJ(t,e){const s=HJ[t.type]||t.type,{x:r,y:a}=Cc(t,e);return{type:s,chart:e,native:t,x:r!==void 0?r:null,y:a!==void 0?a:null}}function ob(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function YJ(t,e,s){const r=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||ob(c.addedNodes,r),o=o&&!ob(c.removedNodes,r);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function QJ(t,e,s){const r=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||ob(c.removedNodes,r),o=o&&!ob(c.addedNodes,r);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const om=new Map;let QE=0;function iD(){const t=window.devicePixelRatio;t!==QE&&(QE=t,om.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function KJ(t,e){om.size||window.addEventListener("resize",iD),om.set(t,e)}function XJ(t){om.delete(t),om.size||window.removeEventListener("resize",iD)}function ZJ(t,e,s){const r=t.canvas,a=r&&iN(r);if(!a)return;const i=FM((c,d)=>{const h=a.clientWidth;s(c,d),h<a.clientWidth&&s()},window),o=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,f=d.contentRect.height;h===0&&f===0||i(h,f)});return o.observe(a),KJ(t,i),o}function $2(t,e,s){s&&s.disconnect(),e==="resize"&&XJ(t)}function JJ(t,e,s){const r=t.canvas,a=FM(i=>{t.ctx!==null&&s(WJ(i,t))},t);return GJ(r,e,a),a}class eee extends rD{acquireContext(e,s){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(VJ(e,s),r):null}releaseContext(e){const s=e.canvas;if(!s[Mp])return!1;const r=s[Mp].initial;["height","width"].forEach(i=>{const o=r[i];Nt(o)?s.removeAttribute(i):s.setAttribute(i,o)});const a=r.style||{};return Object.keys(a).forEach(i=>{s.style[i]=a[i]}),s.width=s.width,delete s[Mp],!0}addEventListener(e,s,r){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),o={attach:YJ,detach:QJ,resize:ZJ}[s]||JJ;a[s]=o(e,s,r)}removeEventListener(e,s){const r=e.$proxies||(e.$proxies={}),a=r[s];if(!a)return;({attach:$2,detach:$2,resize:$2}[s]||qJ)(e,s,a),r[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,r,a){return GZ(e,s,r,a)}isAttached(e){const s=e&&iN(e);return!!(s&&s.isConnected)}}function tee(t){return!aN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?$J:eee}var kg;let bo=(kg=class{constructor(){se(this,"x");se(this,"y");se(this,"active",!1);se(this,"options");se(this,"$animations")}tooltipPosition(e){const{x:s,y:r}=this.getProps(["x","y"],e);return{x:s,y:r}}hasValue(){return rm(this.x)&&rm(this.y)}getProps(e,s){const r=this.$animations;if(!s||!r)return this;const a={};return e.forEach(i=>{a[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),a}},se(kg,"defaults",{}),se(kg,"defaultRoutes"),kg);function see(t,e){const s=t.options.ticks,r=nee(t),a=Math.min(s.maxTicksLimit||r,r),i=s.major.enabled?aee(e):[],o=i.length,c=i[0],d=i[o-1],h=[];if(o>a)return iee(e,h,i,o/a),h;const f=ree(i,e,a);if(o>0){let x,g;const p=o>1?Math.round((d-c)/(o-1)):null;for(vg(e,h,f,Nt(p)?0:c-p,c),x=0,g=o-1;x<g;x++)vg(e,h,f,i[x],i[x+1]);return vg(e,h,f,d,Nt(p)?e.length:d+p),h}return vg(e,h,f),h}function nee(t){const e=t.options.offset,s=t._tickSize(),r=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(r,a))}function ree(t,e,s){const r=oee(t),a=e.length/s;if(!r)return Math.max(a,1);const i=HX(r);for(let o=0,c=i.length-1;o<c;o++){const d=i[o];if(d>a)return d}return Math.max(a,1)}function aee(t){const e=[];let s,r;for(s=0,r=t.length;s<r;s++)t[s].major&&e.push(s);return e}function iee(t,e,s,r){let a=0,i=s[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=s[a*r])}function vg(t,e,s,r,a){const i=at(r,0),o=Math.min(at(a,t.length),t.length);let c=0,d,h,f;for(s=Math.ceil(s),a&&(d=a-r,s=d/Math.floor(d/s)),f=i;f<0;)c++,f=Math.round(i+c*s);for(h=Math.max(i,0);h<o;h++)h===f&&(e.push(t[h]),c++,f=Math.round(i+c*s))}function oee(t){const e=t.length;let s,r;if(e<2)return!1;for(r=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==r)return!1;return r}const lee=t=>t==="left"?"right":t==="right"?"left":t,KE=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,XE=(t,e)=>Math.min(e||t,t);function ZE(t,e){const s=[],r=t.length/e,a=t.length;let i=0;for(;i<a;i+=r)s.push(t[Math.floor(i)]);return s}function cee(t,e,s){const r=t.ticks.length,a=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,c=1e-6;let d=t.getPixelForTick(a),h;if(!(s&&(r===1?h=Math.max(d-i,o-d):e===0?h=(t.getPixelForTick(1)-d)/2:h=(d-t.getPixelForTick(a-1))/2,d+=a<e?h:-h,d<i-c||d>o+c)))return d}function dee(t,e){_t(t,s=>{const r=s.gc,a=r.length/2;let i;if(a>e){for(i=0;i<a;++i)delete s.data[r[i]];r.splice(0,a)}})}function tf(t){return t.drawTicks?t.tickLength:0}function JE(t,e){if(!t.display)return 0;const s=_s(t.font,e),r=pn(t.padding);return(ts(t.text)?t.text.length:1)*s.lineHeight+r.height}function uee(t,e){return ql(t,{scale:e,type:"scale"})}function hee(t,e,s){return ql(t,{tick:s,index:e,type:"tick"})}function fee(t,e,s){let r=X5(t);return(s&&e!=="right"||!s&&e==="right")&&(r=lee(r)),r}function mee(t,e,s,r){const{top:a,left:i,bottom:o,right:c,chart:d}=t,{chartArea:h,scales:f}=d;let x=0,g,p,v;const y=o-a,w=c-i;if(t.isHorizontal()){if(p=cn(r,i,c),mt(s)){const A=Object.keys(s)[0],j=s[A];v=f[A].getPixelForValue(j)+y-e}else s==="center"?v=(h.bottom+h.top)/2+y-e:v=KE(t,s,e);g=c-i}else{if(mt(s)){const A=Object.keys(s)[0],j=s[A];p=f[A].getPixelForValue(j)-w+e}else s==="center"?p=(h.left+h.right)/2-w+e:p=KE(t,s,e);v=cn(r,o,a),x=s==="left"?-ks:ks}return{titleX:p,titleY:v,maxWidth:g,rotation:x}}class Wu extends bo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:r,_suggestedMax:a}=this;return e=Ia(e,Number.POSITIVE_INFINITY),s=Ia(s,Number.NEGATIVE_INFINITY),r=Ia(r,Number.POSITIVE_INFINITY),a=Ia(a,Number.NEGATIVE_INFINITY),{min:Ia(e,r),max:Ia(s,a),minDefined:Vs(e),maxDefined:Vs(s)}}getMinMax(e){let{min:s,max:r,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:s,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)o=c[d].controller.getMinMax(this,e),a||(s=Math.min(s,o.min)),i||(r=Math.max(r,o.max));return s=i&&s>r?r:s,r=a&&s>r?s:r,{min:Ia(s,Ia(r,s)),max:Ia(r,Ia(s,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gt(this.options.beforeUpdate,[this])}update(e,s,r){const{beginAtZero:a,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NZ(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?ZE(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=see(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,r;this.isHorizontal()?(s=this.left,r=this.right):(s=this.top,r=this.bottom,e=!e),this._startPixel=s,this._endPixel=r,this._reversePixels=e,this._length=r-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gt(this.options.afterUpdate,[this])}beforeSetDimensions(){Gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let r,a,i;for(r=0,a=e.length;r<a;r++)i=e[r],i.label=Gt(s.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,r=XE(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,i=s.maxRotation;let o=a,c,d,h;if(!this._isVisible()||!s.display||a>=i||r<=1||!this.isHorizontal()){this.labelRotation=a;return}const f=this._getLabelSizes(),x=f.widest.width,g=f.highest.height,p=gn(this.chart.width-x,0,this.maxWidth);c=e.offset?this.maxWidth/r:p/(r-1),x+6>c&&(c=p/(r-(e.offset?.5:1)),d=this.maxHeight-tf(e.grid)-s.padding-JE(e.title,this.chart.options.font),h=Math.sqrt(x*x+g*g),o=Q5(Math.min(Math.asin(gn((f.highest.height+6)/c,-1,1)),Math.asin(gn(d/h,-1,1))-Math.asin(gn(g/h,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:r,title:a,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const d=JE(a,s.options.font);if(c?(e.width=this.maxWidth,e.height=tf(i)+d):(e.height=this.maxHeight,e.width=tf(i)+d),r.display&&this.ticks.length){const{first:h,last:f,widest:x,highest:g}=this._getLabelSizes(),p=r.padding*2,v=Xa(this.labelRotation),y=Math.cos(v),w=Math.sin(v);if(c){const A=r.mirror?0:w*x.width+y*g.height;e.height=Math.min(this.maxHeight,e.height+A+p)}else{const A=r.mirror?0:y*x.width+w*g.height;e.width=Math.min(this.maxWidth,e.width+A+p)}this._calculatePadding(h,f,w,y)}}this._handleMargins(),c?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,r,a){const{ticks:{align:i,padding:o},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,p=0;d?h?(g=a*e.width,p=r*s.height):(g=r*e.height,p=a*s.width):i==="start"?p=s.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,p=s.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((p-x+o)*this.width/(this.width-x),0)}else{let f=s.height/2,x=e.height/2;i==="start"?(f=0,x=e.height):i==="end"&&(f=s.height,x=0),this.paddingTop=f+o,this.paddingBottom=x+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,r;for(s=0,r=e.length;s<r;s++)Nt(e[s].label)&&(e.splice(s,1),r--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let r=this.ticks;s<r.length&&(r=ZE(r,s)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,r){const{ctx:a,_longestTextCache:i}=this,o=[],c=[],d=Math.floor(s/XE(s,r));let h=0,f=0,x,g,p,v,y,w,A,j,C,S,E;for(x=0;x<s;x+=d){if(v=e[x].label,y=this._resolveTickFontOptions(x),a.font=w=y.string,A=i[w]=i[w]||{data:{},gc:[]},j=y.lineHeight,C=S=0,!Nt(v)&&!ts(v))C=ab(a,A.data,A.gc,C,v),S=j;else if(ts(v))for(g=0,p=v.length;g<p;++g)E=v[g],!Nt(E)&&!ts(E)&&(C=ab(a,A.data,A.gc,C,E),S+=j);o.push(C),c.push(S),h=Math.max(C,h),f=Math.max(S,f)}dee(i,s);const M=o.indexOf(h),R=c.indexOf(f),_=I=>({width:o[I]||0,height:c[I]||0});return{first:_(0),last:_(s-1),widest:_(M),highest:_(R),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return YX(this._alignToPixels?pc(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const r=s[e];return r.$context||(r.$context=hee(this.getContext(),e,r))}return this.$context||(this.$context=uee(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Xa(this.labelRotation),r=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,c=i?i.widest.width+o:0,d=i?i.highest.height+o:0;return this.isHorizontal()?d*r>c*a?c/r:d/a:d*a<c*r?d/r:c/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,r=this.chart,a=this.options,{grid:i,position:o,border:c}=a,d=i.offset,h=this.isHorizontal(),x=this.ticks.length+(d?1:0),g=tf(i),p=[],v=c.setContext(this.getContext()),y=v.display?v.width:0,w=y/2,A=function(L){return pc(r,L,y)};let j,C,S,E,M,R,_,I,D,B,O,$;if(o==="top")j=A(this.bottom),R=this.bottom-g,I=j-w,B=A(e.top)+w,$=e.bottom;else if(o==="bottom")j=A(this.top),B=e.top,$=A(e.bottom)-w,R=j+w,I=this.top+g;else if(o==="left")j=A(this.right),M=this.right-g,_=j-w,D=A(e.left)+w,O=e.right;else if(o==="right")j=A(this.left),D=e.left,O=A(e.right)-w,M=j+w,_=this.left+g;else if(s==="x"){if(o==="center")j=A((e.top+e.bottom)/2+.5);else if(mt(o)){const L=Object.keys(o)[0],V=o[L];j=A(this.chart.scales[L].getPixelForValue(V))}B=e.top,$=e.bottom,R=j+w,I=R+g}else if(s==="y"){if(o==="center")j=A((e.left+e.right)/2);else if(mt(o)){const L=Object.keys(o)[0],V=o[L];j=A(this.chart.scales[L].getPixelForValue(V))}M=j-w,_=M-g,D=e.left,O=e.right}const Y=at(a.ticks.maxTicksLimit,x),H=Math.max(1,Math.ceil(x/Y));for(C=0;C<x;C+=H){const L=this.getContext(C),V=i.setContext(L),X=c.setContext(L),ee=V.lineWidth,F=V.color,z=X.dash||[],G=X.dashOffset,K=V.tickWidth,W=V.tickColor,Q=V.tickBorderDash||[],Z=V.tickBorderDashOffset;S=cee(this,C,d),S!==void 0&&(E=pc(r,S,ee),h?M=_=D=O=E:R=I=B=$=E,p.push({tx1:M,ty1:R,tx2:_,ty2:I,x1:D,y1:B,x2:O,y2:$,width:ee,color:F,borderDash:z,borderDashOffset:G,tickWidth:K,tickColor:W,tickBorderDash:Q,tickBorderDashOffset:Z}))}return this._ticksLength=x,this._borderValue=j,p}_computeLabelItems(e){const s=this.axis,r=this.options,{position:a,ticks:i}=r,o=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:f,mirror:x}=i,g=tf(r.grid),p=g+f,v=x?-f:p,y=-Xa(this.labelRotation),w=[];let A,j,C,S,E,M,R,_,I,D,B,O,$="middle";if(a==="top")M=this.bottom-v,R=this._getXAxisLabelAlignment();else if(a==="bottom")M=this.top+v,R=this._getXAxisLabelAlignment();else if(a==="left"){const H=this._getYAxisLabelAlignment(g);R=H.textAlign,E=H.x}else if(a==="right"){const H=this._getYAxisLabelAlignment(g);R=H.textAlign,E=H.x}else if(s==="x"){if(a==="center")M=(e.top+e.bottom)/2+p;else if(mt(a)){const H=Object.keys(a)[0],L=a[H];M=this.chart.scales[H].getPixelForValue(L)+p}R=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")E=(e.left+e.right)/2-p;else if(mt(a)){const H=Object.keys(a)[0],L=a[H];E=this.chart.scales[H].getPixelForValue(L)}R=this._getYAxisLabelAlignment(g).textAlign}s==="y"&&(d==="start"?$="top":d==="end"&&($="bottom"));const Y=this._getLabelSizes();for(A=0,j=c.length;A<j;++A){C=c[A],S=C.label;const H=i.setContext(this.getContext(A));_=this.getPixelForTick(A)+i.labelOffset,I=this._resolveTickFontOptions(A),D=I.lineHeight,B=ts(S)?S.length:1;const L=B/2,V=H.color,X=H.textStrokeColor,ee=H.textStrokeWidth;let F=R;o?(E=_,R==="inner"&&(A===j-1?F=this.options.reverse?"left":"right":A===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?h==="near"||y!==0?O=-B*D+D/2:h==="center"?O=-Y.highest.height/2-L*D+D:O=-Y.highest.height+D/2:h==="near"||y!==0?O=D/2:h==="center"?O=Y.highest.height/2-L*D:O=Y.highest.height-B*D,x&&(O*=-1),y!==0&&!H.showLabelBackdrop&&(E+=D/2*Math.sin(y))):(M=_,O=(1-B)*D/2);let z;if(H.showLabelBackdrop){const G=pn(H.backdropPadding),K=Y.heights[A],W=Y.widths[A];let Q=O-G.top,Z=0-G.left;switch($){case"middle":Q-=K/2;break;case"bottom":Q-=K;break}switch(R){case"center":Z-=W/2;break;case"right":Z-=W;break;case"inner":A===j-1?Z-=W:A>0&&(Z-=W/2);break}z={left:Z,top:Q,width:W+G.width,height:K+G.height,color:H.backdropColor}}w.push({label:S,font:I,textOffset:O,options:{rotation:y,color:V,strokeColor:X,strokeWidth:ee,textAlign:F,textBaseline:$,translation:[E,M],backdrop:z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Xa(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:r,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),c=e+i,d=o.widest.width;let h,f;return s==="left"?a?(f=this.right+i,r==="near"?h="left":r==="center"?(h="center",f+=d/2):(h="right",f+=d)):(f=this.right-c,r==="near"?h="right":r==="center"?(h="center",f-=d/2):(h="left",f=this.left)):s==="right"?a?(f=this.left+i,r==="near"?h="right":r==="center"?(h="center",f-=d/2):(h="left",f-=d)):(f=this.left+c,r==="near"?h="left":r==="center"?(h="center",f+=d/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:r,top:a,width:i,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(r,a,i,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const c=(d,h,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(s.display)for(i=0,o=a.length;i<o;++i){const d=a[i];s.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),s.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:r,grid:a}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const c=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,f,x,g;this.isHorizontal()?(h=pc(e,this.left,o)-o/2,f=pc(e,this.right,c)+c/2,x=g=d):(x=pc(e,this.top,o)-o/2,g=pc(e,this.bottom,c)+c/2,h=f=d),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(h,x),s.lineTo(f,g),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,a=this._computeLabelArea();a&&Yb(r,a);const i=this.getLabelItems(e);for(const o of i){const c=o.options,d=o.font,h=o.label,f=o.textOffset;gd(r,h,0,f,d,c)}a&&Qb(r)}drawTitle(){const{ctx:e,options:{position:s,title:r,reverse:a}}=this;if(!r.display)return;const i=_s(r.font),o=pn(r.padding),c=r.align;let d=i.lineHeight/2;s==="bottom"||s==="center"||mt(s)?(d+=o.bottom,ts(r.text)&&(d+=i.lineHeight*(r.text.length-1))):d+=o.top;const{titleX:h,titleY:f,maxWidth:x,rotation:g}=mee(this,d,s,c);gd(e,r.text,0,0,i,{color:r.color,maxWidth:x,rotation:g,textAlign:fee(c,s,a),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,r=at(e.grid&&e.grid.z,-1),a=at(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Wu.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];let i,o;for(i=0,o=s.length;i<o;++i){const c=s[i];c[r]===this.id&&(!e||c.type===e)&&a.push(c)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return _s(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yg{constructor(e,s,r){this.type=e,this.scope=s,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let r;pee(s)&&(r=this.register(s));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,xee(e,o,r),this.override&&xs.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,r=e.id,a=this.scope;r in s&&delete s[r],a&&r in xs[a]&&(delete xs[a][r],this.override&&delete xd[r])}}function xee(t,e,s){const r=sm(Object.create(null),[s?xs.get(s):{},xs.get(e),t.defaults]);xs.set(e,r),t.defaultRoutes&&gee(e,t.defaultRoutes),t.descriptors&&xs.describe(e,t.descriptors)}function gee(t,e){Object.keys(e).forEach(s=>{const r=s.split("."),a=r.pop(),i=[t].concat(r).join("."),o=e[s].split("."),c=o.pop(),d=o.join(".");xs.route(i,a,d,c)})}function pee(t){return"id"in t&&"defaults"in t}class bee{constructor(){this.controllers=new yg(Tl,"datasets",!0),this.elements=new yg(bo,"elements"),this.plugins=new yg(Object,"plugins"),this.scales=new yg(Wu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,r){[...s].forEach(a=>{const i=r||this._getRegistryForType(a);r||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):_t(a,o=>{const c=r||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,s,r){const a=Y5(e);Gt(r["before"+a],[],r),s[e](r),Gt(r["after"+a],[],r)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const r=this._typedRegistries[s];if(r.isForType(e))return r}return this.plugins}_get(e,s,r){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return a}}var Oa=new bee;class vee{constructor(){this._init=[]}notify(e,s,r,a){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,s,r);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,r,a){a=a||{};for(const i of e){const o=i.plugin,c=o[r],d=[s,a,i.options];if(Gt(c,d,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const r=e&&e.config,a=at(r.options&&r.options.plugins,{}),i=yee(r);return a===!1&&!s?[]:Nee(e,i,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],r=this._cache,a=(i,o)=>i.filter(c=>!o.some(d=>c.plugin.id===d.plugin.id));this._notify(a(s,r),e,"stop"),this._notify(a(r,s),e,"start")}}function yee(t){const e={},s=[],r=Object.keys(Oa.plugins.items);for(let i=0;i<r.length;i++)s.push(Oa.getPlugin(r[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function wee(t,e){return!e&&t===!1?null:t===!0?{}:t}function Nee(t,{plugins:e,localIds:s},r,a){const i=[],o=t.getContext();for(const c of e){const d=c.id,h=wee(r[d],a);h!==null&&i.push({plugin:c,options:jee(t.config,{plugin:c,local:s[d]},h,o)})}return i}function jee(t,{plugin:e,local:s},r,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function l4(t,e){const s=xs.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function Cee(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function kee(t,e){return t===e?"_index_":"_value_"}function eS(t){if(t==="x"||t==="y"||t==="r")return t}function Aee(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function c4(t,...e){if(eS(t))return t;for(const s of e){const r=s.axis||Aee(s.position)||t.length>1&&eS(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function tS(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function Eee(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(s.length)return tS(t,"x",s[0])||tS(t,"y",s[0])}return{}}function See(t,e){const s=xd[t.type]||{scales:{}},r=e.scales||{},a=l4(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const c=r[o];if(!mt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=c4(o,c,Eee(o,t),xs.scales[c.type]),h=kee(d,a),f=s.scales||{};i[o]=jf(Object.create(null),[{axis:d},c,f[d],f[h]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,d=o.indexAxis||l4(c,e),f=(xd[c]||{}).scales||{};Object.keys(f).forEach(x=>{const g=Cee(x,d),p=o[g+"AxisID"]||g;i[p]=i[p]||Object.create(null),jf(i[p],[{axis:g},r[p],f[x]])})}),Object.keys(i).forEach(o=>{const c=i[o];jf(c,[xs.scales[c.type],xs.scale])}),i}function oD(t){const e=t.options||(t.options={});e.plugins=at(e.plugins,{}),e.scales=See(t,e)}function lD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Tee(t){return t=t||{},t.data=lD(t.data),oD(t),t}const sS=new Map,cD=new Set;function wg(t,e){let s=sS.get(t);return s||(s=e(),sS.set(t,s),cD.add(s)),s}const sf=(t,e,s)=>{const r=Ol(e,s);r!==void 0&&t.add(r)};class Ree{constructor(e){this._config=Tee(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return wg(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return wg(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,r=this.type;return wg(`${r}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const r=this._scopeCache;let a=r.get(e);return(!a||s)&&(a=new Map,r.set(e,a)),a}getOptionScopes(e,s,r){const{options:a,type:i}=this,o=this._cachedScopes(e,r),c=o.get(s);if(c)return c;const d=new Set;s.forEach(f=>{e&&(d.add(e),f.forEach(x=>sf(d,e,x))),f.forEach(x=>sf(d,a,x)),f.forEach(x=>sf(d,xd[i]||{},x)),f.forEach(x=>sf(d,xs,x)),f.forEach(x=>sf(d,i4,x))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),cD.has(s)&&o.set(s,h),h}chartOptionScopes(){const{options:e,type:s}=this;return[e,xd[s]||{},xs.datasets[s]||{},{type:s},xs,i4]}resolveNamedOptions(e,s,r,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=nS(this._resolverCache,e,a);let d=o;if(Dee(o,s)){i.$shared=!1,r=Pl(r)?r():r;const h=this.createResolver(e,r,c);d=Bu(o,r,h)}for(const h of s)i[h]=d[h];return i}createResolver(e,s,r=[""],a){const{resolver:i}=nS(this._resolverCache,e,r);return mt(s)?Bu(i,s,void 0,a):i}}function nS(t,e,s){let r=t.get(e);r||(r=new Map,t.set(e,r));const a=s.join();let i=r.get(a);return i||(i={resolver:sN(e,s),subPrefixes:s.filter(c=>!c.toLowerCase().includes("hover"))},r.set(a,i)),i}const Mee=t=>mt(t)&&Object.getOwnPropertyNames(t).some(e=>Pl(t[e]));function Dee(t,e){const{isScriptable:s,isIndexable:r}=$M(t);for(const a of e){const i=s(a),o=r(a),c=(o||i)&&t[a];if(i&&(Pl(c)||Mee(c))||o&&ts(c))return!0}return!1}var Bee="4.5.0";const _ee=["top","bottom","left","right","chartArea"];function rS(t,e){return t==="top"||t==="bottom"||_ee.indexOf(t)===-1&&e==="x"}function aS(t,e){return function(s,r){return s[t]===r[t]?s[e]-r[e]:s[t]-r[t]}}function iS(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Gt(s&&s.onComplete,[t],e)}function Iee(t){const e=t.chart,s=e.options.animation;Gt(s&&s.onProgress,[t],e)}function dD(t){return aN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dp={},oS=t=>{const e=dD(t);return Object.values(Dp).filter(s=>s.canvas===e).pop()};function Lee(t,e,s){const r=Object.keys(t);for(const a of r){const i=+a;if(i>=e){const o=t[a];delete t[a],(s>0||i>e)&&(t[i+s]=o)}}}function Oee(t,e,s,r){return!s||t.type==="mouseout"?null:r?e:t}var Zo;let Fm=(Zo=class{static register(...e){Oa.add(...e),lS()}static unregister(...e){Oa.remove(...e),lS()}constructor(e,s){const r=this.config=new Ree(s),a=dD(e),i=oS(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||tee(a)),this.platform.updateConfig(r);const c=this.platform.acquireContext(a,o.aspectRatio),d=c&&c.canvas,h=d&&d.height,f=d&&d.width;if(this.id=_X(),this.ctx=c,this.canvas=d,this.width=f,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vee,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ZX(x=>this.update(x),o.resizeDelay||0),this._dataChanges=[],Dp[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Mi.listen(this,"complete",iS),Mi.listen(this,"progress",Iee),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:r,height:a,_aspectRatio:i}=this;return Nt(e)?s&&i?i:a?r/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Oa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return EE(this.canvas,this.ctx),this}stop(){return Mi.stop(this),this}resize(e,s){Mi.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const r=this.options,a=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,s,i),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,RE(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Gt(r.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};_t(s,(r,a)=>{r.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,r=this.scales,a=Object.keys(r).reduce((o,c)=>(o[c]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const c=s[o],d=c4(o,c),h=d==="r",f=d==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),_t(i,o=>{const c=o.options,d=c.id,h=c4(d,c),f=at(c.type,o.dtype);(c.position===void 0||rS(c.position,h)!==rS(o.dposition))&&(c.position=o.dposition),a[d]=!0;let x=null;if(d in r&&r[d].type===f)x=r[d];else{const g=Oa.getScale(f);x=new g({id:d,type:f,ctx:this.ctx,chart:this}),r[x.id]=x}x.init(c,e)}),_t(a,(o,c)=>{o||delete r[c]}),_t(r,o=>{Ur.configure(this,o,o.options),Ur.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,r=e.length;if(e.sort((a,i)=>a.index-i.index),r>s){for(let a=s;a<r;++a)this._destroyDatasetMeta(a);e.splice(s,r-s)}this._sortedMetasets=e.slice(0).sort(aS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((r,a)=>{s.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let r,a;for(this._removeUnreferencedMetasets(),r=0,a=s.length;r<a;r++){const i=s[r];let o=this.getDatasetMeta(r);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=c,o.indexAxis=i.indexAxis||l4(c,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const d=Oa.getController(c),{datasetElementType:h,dataElementType:f}=xs.datasets[c];Object.assign(d,{dataElementType:Oa.getElement(f),datasetElementType:h&&Oa.getElement(h)}),o.controller=new d(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){_t(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:x}=this.getDatasetMeta(h),g=!a&&i.indexOf(x)===-1;x.buildOrUpdateElements(g),o=Math.max(+x.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),a||_t(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aS("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){_t(this.scales,e=>{Ur.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!bE(s,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:r,start:a,count:i}of s){const o=r==="_removeElements"?-i:i;Lee(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),a=r(0);for(let i=1;i<s;i++)if(!bE(a,r(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ur.update(this,this.width,this.height,e);const s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],_t(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,Pl(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const r=this.getDatasetMeta(e),a={meta:r,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mi.has(this)?this.attached&&!Mi.running(this)&&Mi.start(this):(this.draw(),iS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,r=[];let a,i;for(a=0,i=s.length;a<i;++a){const o=s[a];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,r={meta:e,index:e.index,cancelable:!0},a=ZM(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(a&&Yb(s,a),e.controller.draw(),a&&Qb(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Zi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,r,a){const i=_J.modes[s];return typeof i=="function"?i(this,e,r,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],r=this._metasets;let a=r.filter(i=>i&&i._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=ql(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(e,s){const r=this.getDatasetMeta(e);r.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,r){const a=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);nm(s)?(i.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(c=>c.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Mi.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),EE(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Dp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,r=(i,o)=>{s.addEventListener(this,i,o),e[i]=o},a=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};_t(this.options.events,i=>r(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,r=(d,h)=>{s.addEventListener(this,d,h),e[d]=h},a=(d,h)=>{e[d]&&(s.removeEventListener(this,d,h),delete e[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let o;const c=()=>{a("attach",c),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),r("attach",c)},s.isAttached(this.canvas)?c():o()}unbindEvents(){_t(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},_t(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,r){const a=r?"set":"remove";let i,o,c,d;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){o=e[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!sb(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(e,s,r){return this._plugins.notify(this,e,s,r)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,r){const a=this.options.hover,i=(d,h)=>d.filter(f=>!h.some(x=>f.datasetIndex===x.datasetIndex&&f.index===x.index)),o=i(s,e),c=r?e:i(e,s);o.length&&this.updateHoverStyle(o,a.mode,!1),c.length&&a.mode&&this.updateHoverStyle(c,a.mode,!0)}_eventHandler(e,s){const r={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;const i=this._handleEvent(e,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(i||r.changed)&&this.render(),this}_handleEvent(e,s,r){const{_active:a=[],options:i}=this,o=s,c=this._getActiveElements(e,a,r,o),d=zX(e),h=Oee(e,this._lastEvent,r,d);r&&(this._lastEvent=null,Gt(i.onHover,[e,c,this],this),d&&Gt(i.onClick,[e,c,this],this));const f=!sb(c,a);return(f||s)&&(this._active=c,this._updateHoverStyles(c,a,s)),this._lastEvent=h,f}_getActiveElements(e,s,r,a){if(e.type==="mouseout")return[];if(!r)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},se(Zo,"defaults",xs),se(Zo,"instances",Dp),se(Zo,"overrides",xd),se(Zo,"registry",Oa),se(Zo,"version",Bee),se(Zo,"getChart",oS),Zo);function lS(){return _t(Fm.instances,t=>t._plugins.invalidate())}function Pee(t,e,s){const{startAngle:r,x:a,y:i,outerRadius:o,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:f}=d,x=Math.min(h/o,un(r-s));if(t.beginPath(),t.arc(a,i,o-h/2,r+x/2,s-x/2),c>0){const g=Math.min(h/c,un(r-s));t.arc(a,i,c+h/2,s-g/2,r+g/2,!0)}else{const g=Math.min(h/2,o*un(r-s));if(f==="round")t.arc(a,i,g,s-St/2,r+St/2,!0);else if(f==="bevel"){const p=2*g*g,v=-p*Math.cos(s+St/2)+a,y=-p*Math.sin(s+St/2)+i,w=p*Math.cos(r+St/2)+a,A=p*Math.sin(r+St/2)+i;t.lineTo(v,y),t.lineTo(w,A)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Fee(t,e,s){const{startAngle:r,pixelMargin:a,x:i,y:o,outerRadius:c,innerRadius:d}=e;let h=a/c;t.beginPath(),t.arc(i,o,c,r-h,s+h),d>a?(h=a/d,t.arc(i,o,d,s+h,r-h,!0)):t.arc(i,o,a,s+ks,r-ks),t.closePath(),t.clip()}function zee(t){return tN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Uee(t,e,s,r){const a=zee(t.options.borderRadius),i=(s-e)/2,o=Math.min(i,r*e/2),c=d=>{const h=(s-Math.min(i,d))*r/2;return gn(d,0,Math.min(i,h))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:gn(a.innerStart,0,o),innerEnd:gn(a.innerEnd,0,o)}}function c0(t,e,s,r){return{x:s+t*Math.cos(e),y:r+t*Math.sin(e)}}function lb(t,e,s,r,a,i){const{x:o,y:c,startAngle:d,pixelMargin:h,innerRadius:f}=e,x=Math.max(e.outerRadius+r+s-h,0),g=f>0?f+r+s+h:0;let p=0;const v=a-d;if(r){const H=f>0?f-r:0,L=x>0?x-r:0,V=(H+L)/2,X=V!==0?v*V/(V+r):v;p=(v-X)/2}const y=Math.max(.001,v*x-s/St)/x,w=(v-y)/2,A=d+w+p,j=a-w-p,{outerStart:C,outerEnd:S,innerStart:E,innerEnd:M}=Uee(e,g,x,j-A),R=x-C,_=x-S,I=A+C/R,D=j-S/_,B=g+E,O=g+M,$=A+E/B,Y=j-M/O;if(t.beginPath(),i){const H=(I+D)/2;if(t.arc(o,c,x,I,H),t.arc(o,c,x,H,D),S>0){const ee=c0(_,D,o,c);t.arc(ee.x,ee.y,S,D,j+ks)}const L=c0(O,j,o,c);if(t.lineTo(L.x,L.y),M>0){const ee=c0(O,Y,o,c);t.arc(ee.x,ee.y,M,j+ks,Y+Math.PI)}const V=(j-M/g+(A+E/g))/2;if(t.arc(o,c,g,j-M/g,V,!0),t.arc(o,c,g,V,A+E/g,!0),E>0){const ee=c0(B,$,o,c);t.arc(ee.x,ee.y,E,$+Math.PI,A-ks)}const X=c0(R,A,o,c);if(t.lineTo(X.x,X.y),C>0){const ee=c0(R,I,o,c);t.arc(ee.x,ee.y,C,A-ks,I)}}else{t.moveTo(o,c);const H=Math.cos(I)*x+o,L=Math.sin(I)*x+c;t.lineTo(H,L);const V=Math.cos(D)*x+o,X=Math.sin(D)*x+c;t.lineTo(V,X)}t.closePath()}function $ee(t,e,s,r,a){const{fullCircles:i,startAngle:o,circumference:c}=e;let d=e.endAngle;if(i){lb(t,e,s,r,d,a);for(let h=0;h<i;++h)t.fill();isNaN(c)||(d=o+(c%Kt||Kt))}return lb(t,e,s,r,d,a),t.fill(),d}function Hee(t,e,s,r,a){const{fullCircles:i,startAngle:o,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:f,borderDash:x,borderDashOffset:g,borderRadius:p}=d,v=d.borderAlign==="inner";if(!h)return;t.setLineDash(x||[]),t.lineDashOffset=g,v?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let y=e.endAngle;if(i){lb(t,e,s,r,y,a);for(let w=0;w<i;++w)t.stroke();isNaN(c)||(y=o+(c%Kt||Kt))}v&&Fee(t,e,y),d.selfJoin&&y-o>=St&&p===0&&f!=="miter"&&Pee(t,e,y),i||(lb(t,e,s,r,y,a),t.stroke())}class w0 extends bo{constructor(s){super();se(this,"circumference");se(this,"endAngle");se(this,"fullCircles");se(this,"innerRadius");se(this,"outerRadius");se(this,"pixelMargin");se(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,r,a){const i=this.getProps(["x","y"],a),{angle:o,distance:c}=IM(i,{x:s,y:r}),{startAngle:d,endAngle:h,innerRadius:f,outerRadius:x,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,v=at(g,h-d),y=am(o,d,h)&&d!==h,w=v>=Kt||y,A=Xi(c,f+p,x+p);return w&&A}getCenterPoint(s){const{x:r,y:a,startAngle:i,endAngle:o,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:h,spacing:f}=this.options,x=(i+o)/2,g=(c+d+f+h)/2;return{x:r+Math.cos(x)*g,y:a+Math.sin(x)*g}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:r,circumference:a}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=a>Kt?Math.floor(a/Kt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const d=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(d)*i,Math.sin(d)*i);const h=1-Math.sin(Math.min(St,a||0)),f=i*h;s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,$ee(s,this,f,o,c),Hee(s,this,f,o,c),s.restore()}}se(w0,"id","arc"),se(w0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),se(w0,"defaultRoutes",{backgroundColor:"backgroundColor"}),se(w0,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function uD(t,e,s=e){t.lineCap=at(s.borderCapStyle,e.borderCapStyle),t.setLineDash(at(s.borderDash,e.borderDash)),t.lineDashOffset=at(s.borderDashOffset,e.borderDashOffset),t.lineJoin=at(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=at(s.borderWidth,e.borderWidth),t.strokeStyle=at(s.borderColor,e.borderColor)}function Vee(t,e,s){t.lineTo(s.x,s.y)}function Gee(t){return t.stepped?fZ:t.tension||t.cubicInterpolationMode==="monotone"?mZ:Vee}function hD(t,e,s={}){const r=t.length,{start:a=0,end:i=r-1}=s,{start:o,end:c}=e,d=Math.max(a,o),h=Math.min(i,c),f=a<o&&i<o||a>c&&i>c;return{count:r,start:d,loop:e.loop,ilen:h<d&&!f?r+h-d:h-d}}function qee(t,e,s,r){const{points:a,options:i}=e,{count:o,start:c,loop:d,ilen:h}=hD(a,s,r),f=Gee(i);let{move:x=!0,reverse:g}=r||{},p,v,y;for(p=0;p<=h;++p)v=a[(c+(g?h-p:p))%o],!v.skip&&(x?(t.moveTo(v.x,v.y),x=!1):f(t,y,v,g,i.stepped),y=v);return d&&(v=a[(c+(g?h:0))%o],f(t,y,v,g,i.stepped)),!!d}function Wee(t,e,s,r){const a=e.points,{count:i,start:o,ilen:c}=hD(a,s,r),{move:d=!0,reverse:h}=r||{};let f=0,x=0,g,p,v,y,w,A;const j=S=>(o+(h?c-S:S))%i,C=()=>{y!==w&&(t.lineTo(f,w),t.lineTo(f,y),t.lineTo(f,A))};for(d&&(p=a[j(0)],t.moveTo(p.x,p.y)),g=0;g<=c;++g){if(p=a[j(g)],p.skip)continue;const S=p.x,E=p.y,M=S|0;M===v?(E<y?y=E:E>w&&(w=E),f=(x*f+S)/++x):(C(),t.lineTo(S,E),v=M,x=0,y=w=E),A=E}C()}function d4(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?Wee:qee}function Yee(t){return t.stepped?WZ:t.tension||t.cubicInterpolationMode==="monotone"?YZ:kc}function Qee(t,e,s,r){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,r)&&a.closePath()),uD(t,e.options),t.stroke(a)}function Kee(t,e,s,r){const{segments:a,options:i}=e,o=d4(e);for(const c of a)uD(t,i,c.style),t.beginPath(),o(t,e,c,{start:s,end:s+r-1})&&t.closePath(),t.stroke()}const Xee=typeof Path2D=="function";function Zee(t,e,s,r){Xee&&!e.options.segment?Qee(t,e,s,r):Kee(t,e,s,r)}class Ji extends bo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const a=r.spanGaps?this._loop:this._fullLoop;FZ(this._points,r,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eJ(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,r=e.length;return r&&s[e[r-1].end]}interpolate(e,s){const r=this.options,a=e[s],i=this.points,o=XM(this,{property:s,start:a,end:a});if(!o.length)return;const c=[],d=Yee(r);let h,f;for(h=0,f=o.length;h<f;++h){const{start:x,end:g}=o[h],p=i[x],v=i[g];if(p===v){c.push(p);continue}const y=Math.abs((a-p[s])/(v[s]-p[s])),w=d(p,v,y,r.stepped);w[s]=e[s],c.push(w)}return c.length===1?c[0]:c}pathSegment(e,s,r){return d4(this)(e,this,s,r)}path(e,s,r){const a=this.segments,i=d4(this);let o=this._loop;s=s||0,r=r||this.points.length-s;for(const c of a)o&=i(e,this,c,{start:s,end:s+r-1});return!!o}draw(e,s,r,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Zee(e,this,r,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}se(Ji,"id","line"),se(Ji,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),se(Ji,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),se(Ji,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function cS(t,e,s,r){const a=t.options,{[s]:i}=t.getProps([s],r);return Math.abs(e-i)<a.radius+a.hitRadius}class Ef extends bo{constructor(s){super();se(this,"parsed");se(this,"skip");se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,r,a){const i=this.options,{x:o,y:c}=this.getProps(["x","y"],a);return Math.pow(s-o,2)+Math.pow(r-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,r){return cS(this,s,"x",r)}inYRange(s,r){return cS(this,s,"y",r)}getCenterPoint(s){const{x:r,y:a}=this.getProps(["x","y"],s);return{x:r,y:a}}size(s){s=s||this.options||{};let r=s.radius||0;r=Math.max(r,r&&s.hoverRadius||0);const a=r&&s.borderWidth||0;return(r+a)*2}draw(s,r){const a=this.options;this.skip||a.radius<.1||!Zi(this,r,this.size(a)/2)||(s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.fillStyle=a.backgroundColor,o4(s,a,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}se(Ef,"id","point"),se(Ef,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),se(Ef,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function fD(t,e){const{x:s,y:r,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let c,d,h,f,x;return t.horizontal?(x=o/2,c=Math.min(s,a),d=Math.max(s,a),h=r-x,f=r+x):(x=i/2,c=s-x,d=s+x,h=Math.min(r,a),f=Math.max(r,a)),{left:c,top:h,right:d,bottom:f}}function jl(t,e,s,r){return t?0:gn(e,s,r)}function Jee(t,e,s){const r=t.options.borderWidth,a=t.borderSkipped,i=UM(r);return{t:jl(a.top,i.top,0,s),r:jl(a.right,i.right,0,e),b:jl(a.bottom,i.bottom,0,s),l:jl(a.left,i.left,0,e)}}function ete(t,e,s){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=ld(a),o=Math.min(e,s),c=t.borderSkipped,d=r||mt(a);return{topLeft:jl(!d||c.top||c.left,i.topLeft,0,o),topRight:jl(!d||c.top||c.right,i.topRight,0,o),bottomLeft:jl(!d||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:jl(!d||c.bottom||c.right,i.bottomRight,0,o)}}function tte(t){const e=fD(t),s=e.right-e.left,r=e.bottom-e.top,a=Jee(t,s/2,r/2),i=ete(t,s/2,r/2);return{outer:{x:e.left,y:e.top,w:s,h:r,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function H2(t,e,s,r){const a=e===null,i=s===null,c=t&&!(a&&i)&&fD(t,r);return c&&(a||Xi(e,c.left,c.right))&&(i||Xi(s,c.top,c.bottom))}function ste(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function nte(t,e){t.rect(e.x,e.y,e.w,e.h)}function V2(t,e,s={}){const r=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-r,o=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+r,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class Sf extends bo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:r,backgroundColor:a}}=this,{inner:i,outer:o}=tte(this),c=ste(o.radius)?im:nte;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),c(e,V2(o,s,i)),e.clip(),c(e,V2(i,-s,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,V2(i,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,r){return H2(this,e,s,r)}inXRange(e,s){return H2(this,e,null,s)}inYRange(e,s){return H2(this,null,e,s)}getCenterPoint(e){const{x:s,y:r,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+a)/2:s,y:i?r:(r+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}se(Sf,"id","bar"),se(Sf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),se(Sf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rte(t,e,s){const r=t.segments,a=t.points,i=e.points,o=[];for(const c of r){let{start:d,end:h}=c;h=Zb(d,h,a);const f=u4(s,a[d],a[h],c.loop);if(!e.segments){o.push({source:c,target:f,start:a[d],end:a[h]});continue}const x=XM(e,f);for(const g of x){const p=u4(s,i[g.start],i[g.end],g.loop),v=KM(c,a,p);for(const y of v)o.push({source:y,target:g,start:{[s]:dS(f,p,"start",Math.max)},end:{[s]:dS(f,p,"end",Math.min)}})}}return o}function u4(t,e,s,r){if(r)return;let a=e[t],i=s[t];return t==="angle"&&(a=un(a),i=un(i)),{property:t,start:a,end:i}}function ate(t,e){const{x:s=null,y:r=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:c})=>{c=Zb(o,c,a);const d=a[o],h=a[c];r!==null?(i.push({x:d.x,y:r}),i.push({x:h.x,y:r})):s!==null&&(i.push({x:s,y:d.y}),i.push({x:s,y:h.y}))}),i}function Zb(t,e,s){for(;e>t;e--){const r=s[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function dS(t,e,s,r){return t&&e?r(t[s],e[s]):t?t[s]:e?e[s]:0}function mD(t,e){let s=[],r=!1;return ts(t)?(r=!0,s=t):s=ate(t,e),s.length?new Ji({points:s,options:{tension:0},_loop:r,_fullLoop:r}):null}function uS(t){return t&&t.fill!==!1}function ite(t,e,s){let a=t[e].fill;const i=[e];let o;if(!s)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Vs(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function ote(t,e,s){const r=ute(t);if(mt(r))return isNaN(r.value)?!1:r;let a=parseFloat(r);return Vs(a)&&Math.floor(a)===a?lte(r[0],e,a,s):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function lte(t,e,s,r){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=r?!1:s}function cte(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:mt(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function dte(t,e,s){let r;return t==="start"?r=s:t==="end"?r=e.options.reverse?e.min:e.max:mt(t)?r=t.value:r=e.getBaseValue(),r}function ute(t){const e=t.options,s=e.fill;let r=at(s&&s.target,s);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function hte(t){const{scale:e,index:s,line:r}=t,a=[],i=r.segments,o=r.points,c=fte(e,s);c.push(mD({x:null,y:e.bottom},r));for(let d=0;d<i.length;d++){const h=i[d];for(let f=h.start;f<=h.end;f++)mte(a,o[f],c)}return new Ji({points:a,options:{}})}function fte(t,e){const s=[],r=t.getMatchingVisibleMetas("line");for(let a=0;a<r.length;a++){const i=r[a];if(i.index===e)break;i.hidden||s.unshift(i.dataset)}return s}function mte(t,e,s){const r=[];for(let a=0;a<s.length;a++){const i=s[a],{first:o,last:c,point:d}=xte(i,e,"x");if(!(!d||o&&c)){if(o)r.unshift(d);else if(t.push(d),!c)break}}t.push(...r)}function xte(t,e,s){const r=t.interpolate(e,s);if(!r)return{};const a=r[s],i=t.segments,o=t.points;let c=!1,d=!1;for(let h=0;h<i.length;h++){const f=i[h],x=o[f.start][s],g=o[f.end][s];if(Xi(a,x,g)){c=a===x,d=a===g;break}}return{first:c,last:d,point:r}}class xD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,r){const{x:a,y:i,radius:o}=this;return s=s||{start:0,end:Kt},e.arc(a,i,o,s.end,s.start,!0),!r.bounds}interpolate(e){const{x:s,y:r,radius:a}=this,i=e.angle;return{x:s+Math.cos(i)*a,y:r+Math.sin(i)*a,angle:i}}}function gte(t){const{chart:e,fill:s,line:r}=t;if(Vs(s))return pte(e,s);if(s==="stack")return hte(t);if(s==="shape")return!0;const a=bte(t);return a instanceof xD?a:mD(a,r)}function pte(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function bte(t){return(t.scale||{}).getPointPositionForValue?yte(t):vte(t)}function vte(t){const{scale:e={},fill:s}=t,r=cte(s,e);if(Vs(r)){const a=e.isHorizontal();return{x:a?r:null,y:a?null:r}}return null}function yte(t){const{scale:e,fill:s}=t,r=e.options,a=e.getLabels().length,i=r.reverse?e.max:e.min,o=dte(s,e,i),c=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,i);return new xD({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(o)})}for(let d=0;d<a;++d)c.push(e.getPointPositionForValue(d,o));return c}function G2(t,e,s){const r=gte(e),{chart:a,index:i,line:o,scale:c,axis:d}=e,h=o.options,f=h.fill,x=h.backgroundColor,{above:g=x,below:p=x}=f||{},v=a.getDatasetMeta(i),y=ZM(a,v);r&&o.points.length&&(Yb(t,s),wte(t,{line:o,target:r,above:g,below:p,area:s,scale:c,axis:d,clip:y}),Qb(t))}function wte(t,e){const{line:s,target:r,above:a,below:i,area:o,scale:c,clip:d}=e,h=s._loop?"angle":e.axis;t.save();let f=i;i!==a&&(h==="x"?(hS(t,r,o.top),q2(t,{line:s,target:r,color:a,scale:c,property:h,clip:d}),t.restore(),t.save(),hS(t,r,o.bottom)):h==="y"&&(fS(t,r,o.left),q2(t,{line:s,target:r,color:i,scale:c,property:h,clip:d}),t.restore(),t.save(),fS(t,r,o.right),f=a)),q2(t,{line:s,target:r,color:f,scale:c,property:h,clip:d}),t.restore()}function hS(t,e,s){const{segments:r,points:a}=e;let i=!0,o=!1;t.beginPath();for(const c of r){const{start:d,end:h}=c,f=a[d],x=a[Zb(d,h,a)];i?(t.moveTo(f.x,f.y),i=!1):(t.lineTo(f.x,s),t.lineTo(f.x,f.y)),o=!!e.pathSegment(t,c,{move:o}),o?t.closePath():t.lineTo(x.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function fS(t,e,s){const{segments:r,points:a}=e;let i=!0,o=!1;t.beginPath();for(const c of r){const{start:d,end:h}=c,f=a[d],x=a[Zb(d,h,a)];i?(t.moveTo(f.x,f.y),i=!1):(t.lineTo(s,f.y),t.lineTo(f.x,f.y)),o=!!e.pathSegment(t,c,{move:o}),o?t.closePath():t.lineTo(s,x.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function q2(t,e){const{line:s,target:r,property:a,color:i,scale:o,clip:c}=e,d=rte(s,r,a);for(const{source:h,target:f,start:x,end:g}of d){const{style:{backgroundColor:p=i}={}}=h,v=r!==!0;t.save(),t.fillStyle=p,Nte(t,o,c,v&&u4(a,x,g)),t.beginPath();const y=!!s.pathSegment(t,h);let w;if(v){y?t.closePath():mS(t,r,g,a);const A=!!r.pathSegment(t,f,{move:y,reverse:!0});w=y&&A,w||mS(t,r,x,a)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function Nte(t,e,s,r){const a=e.chart.chartArea,{property:i,start:o,end:c}=r||{};if(i==="x"||i==="y"){let d,h,f,x;i==="x"?(d=o,h=a.top,f=c,x=a.bottom):(d=a.left,h=o,f=a.right,x=c),t.beginPath(),s&&(d=Math.max(d,s.left),f=Math.min(f,s.right),h=Math.max(h,s.top),x=Math.min(x,s.bottom)),t.rect(d,h,f-d,x-h),t.clip()}}function mS(t,e,s,r){const a=e.interpolate(s,r);a&&t.lineTo(a.x,a.y)}var gD={id:"filler",afterDatasetsUpdate(t,e,s){const r=(t.data.datasets||[]).length,a=[];let i,o,c,d;for(o=0;o<r;++o)i=t.getDatasetMeta(o),c=i.dataset,d=null,c&&c.options&&c instanceof Ji&&(d={visible:t.isDatasetVisible(o),index:o,fill:ote(c,o,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=d,a.push(d);for(o=0;o<r;++o)d=a[o],!(!d||d.fill===!1)&&(d.fill=ite(a,o,s.propagate))},beforeDraw(t,e,s){const r=s.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const c=a[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),r&&c.fill&&G2(t.ctx,c,i))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let a=r.length-1;a>=0;--a){const i=r[a].$filler;uS(i)&&G2(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,s){const r=e.meta.$filler;!uS(r)||s.drawTime!=="beforeDatasetDraw"||G2(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const xS=(t,e)=>{let{boxHeight:s=e,boxWidth:r=e}=t;return t.usePointStyle&&(s=Math.min(s,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:s,itemHeight:Math.max(e,s)}},jte=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class gS extends bo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,r){this.maxWidth=e,this.maxHeight=s,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Gt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(r=>e.filter(r,this.chart.data))),e.sort&&(s=s.sort((r,a)=>e.sort(r,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,a=_s(r.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=xS(r,i);let h,f;s.font=a.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(o,i,c,d)+10):(f=this.maxHeight,h=this._fitCols(o,a,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,s,r,a){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],f=a+c;let x=e;i.textAlign="left",i.textBaseline="middle";let g=-1,p=-f;return this.legendItems.forEach((v,y)=>{const w=r+s/2+i.measureText(v.text).width;(y===0||h[h.length-1]+w+2*c>o)&&(x+=f,h[h.length-(y>0?0:1)]=0,p+=f,g++),d[y]={left:0,top:p,row:g,width:w,height:a},h[h.length-1]+=w+c}),x}_fitCols(e,s,r,a){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],f=o-e;let x=c,g=0,p=0,v=0,y=0;return this.legendItems.forEach((w,A)=>{const{itemWidth:j,itemHeight:C}=Cte(r,s,i,w,a);A>0&&p+C+2*c>f&&(x+=g+c,h.push({width:g,height:p}),v+=g+c,y++,g=p=0),d[A]={left:v,top:p,col:y,width:j,height:C},g=Math.max(g,j),p+=C+c}),x+=g,h.push({width:g,height:p}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:r,labels:{padding:a},rtl:i}}=this,o=M0(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=cn(r,this.left+a,this.right-this.lineWidths[c]);for(const h of s)c!==h.row&&(c=h.row,d=cn(r,this.left+a,this.right-this.lineWidths[c])),h.top+=this.top+e+a,h.left=o.leftForLtr(o.x(d),h.width),d+=h.width+a}else{let c=0,d=cn(r,this.top+e+a,this.bottom-this.columnSizes[c].height);for(const h of s)h.col!==c&&(c=h.col,d=cn(r,this.top+e+a,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+a,h.left=o.leftForLtr(o.x(h.left),h.width),d+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Yb(e,this),this._draw(),Qb(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:r,ctx:a}=this,{align:i,labels:o}=e,c=xs.color,d=M0(e.rtl,this.left,this.width),h=_s(o.font),{padding:f}=o,x=h.size,g=x/2;let p;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:v,boxHeight:y,itemHeight:w}=xS(o,x),A=function(M,R,_){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;a.save();const I=at(_.lineWidth,1);if(a.fillStyle=at(_.fillStyle,c),a.lineCap=at(_.lineCap,"butt"),a.lineDashOffset=at(_.lineDashOffset,0),a.lineJoin=at(_.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=at(_.strokeStyle,c),a.setLineDash(at(_.lineDash,[])),o.usePointStyle){const D={radius:y*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:I},B=d.xPlus(M,v/2),O=R+g;zM(a,D,B,O,o.pointStyleWidth&&v)}else{const D=R+Math.max((x-y)/2,0),B=d.leftForLtr(M,v),O=ld(_.borderRadius);a.beginPath(),Object.values(O).some($=>$!==0)?im(a,{x:B,y:D,w:v,h:y,radius:O}):a.rect(B,D,v,y),a.fill(),I!==0&&a.stroke()}a.restore()},j=function(M,R,_){gd(a,_.text,M,R+w/2,h,{strikethrough:_.hidden,textAlign:d.textAlign(_.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?p={x:cn(i,this.left+f,this.right-r[0]),y:this.top+f+S,line:0}:p={x:this.left+f,y:cn(i,this.top+S+f,this.bottom-s[0].height),line:0},WM(this.ctx,e.textDirection);const E=w+f;this.legendItems.forEach((M,R)=>{a.strokeStyle=M.fontColor,a.fillStyle=M.fontColor;const _=a.measureText(M.text).width,I=d.textAlign(M.textAlign||(M.textAlign=o.textAlign)),D=v+g+_;let B=p.x,O=p.y;d.setWidth(this.width),C?R>0&&B+D+f>this.right&&(O=p.y+=E,p.line++,B=p.x=cn(i,this.left+f,this.right-r[p.line])):R>0&&O+E>this.bottom&&(B=p.x=B+s[p.line].width+f,p.line++,O=p.y=cn(i,this.top+S+f,this.bottom-s[p.line].height));const $=d.x(B);if(A($,O,M),B=JX(I,B+v+g,C?B+D:this.right,e.rtl),j(d.x(B),O,M),C)p.x+=D+f;else if(typeof M.text!="string"){const Y=h.lineHeight;p.y+=pD(M,Y)+f}else p.y+=E}),YM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,r=_s(s.font),a=pn(s.padding);if(!s.display)return;const i=M0(e.rtl,this.left,this.width),o=this.ctx,c=s.position,d=r.size/2,h=a.top+d;let f,x=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,x=cn(e.align,x,this.right-g);else{const v=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);f=h+cn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const p=cn(c,x,x+g);o.textAlign=i.textAlign(X5(c)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=r.string,gd(o,s.text,p,f,r)}_computeTitleHeight(){const e=this.options.title,s=_s(e.font),r=pn(e.padding);return e.display?s.lineHeight+r.height:0}_getLegendItemAt(e,s){let r,a,i;if(Xi(e,this.left,this.right)&&Xi(s,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(a=i[r],Xi(e,a.left,a.left+a.width)&&Xi(s,a.top,a.top+a.height))return this.legendItems[r]}return null}handleEvent(e){const s=this.options;if(!Ete(e.type,s))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=jte(a,r);a&&!i&&Gt(s.onLeave,[e,a,this],this),this._hoveredItem=r,r&&!i&&Gt(s.onHover,[e,r,this],this)}else r&&Gt(s.onClick,[e,r,this],this)}}function Cte(t,e,s,r,a){const i=kte(r,t,e,s),o=Ate(a,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function kte(t,e,s,r){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+s.size/2+r.measureText(a).width}function Ate(t,e,s){let r=t;return typeof e.text!="string"&&(r=pD(e,s)),r}function pD(t,e){const s=t.text?t.text.length:0;return e*s}function Ete(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var bD={id:"legend",_element:gS,start(t,e,s){const r=t.legend=new gS({ctx:t.ctx,options:s,chart:t});Ur.configure(t,r,s),Ur.addBox(t,r)},stop(t){Ur.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const r=t.legend;Ur.configure(t,r,s),r.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const r=e.datasetIndex,a=s.chart;a.isDatasetVisible(r)?(a.hide(r),e.hidden=!0):(a.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:r,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(s?0:void 0),f=pn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:o&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class vD extends bo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=ts(r.text)?r.text.length:1;this._padding=pn(r.padding);const i=a*_s(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:r,bottom:a,right:i,options:o}=this,c=o.align;let d=0,h,f,x;return this.isHorizontal()?(f=cn(c,r,i),x=s+e,h=i-r):(o.position==="left"?(f=r+e,x=cn(c,a,s),d=St*-.5):(f=i-e,x=cn(c,s,a),d=St*.5),h=a-s),{titleX:f,titleY:x,maxWidth:h,rotation:d}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const r=_s(s.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(i);gd(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:h,textAlign:X5(s.align),textBaseline:"middle",translation:[o,c]})}}function Ste(t,e){const s=new vD({ctx:t.ctx,options:e,chart:t});Ur.configure(t,s,e),Ur.addBox(t,s),t.titleBlock=s}var yD={id:"title",_element:vD,start(t,e,s){Ste(t,s)},stop(t){const e=t.titleBlock;Ur.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const r=t.titleBlock;Ur.configure(t,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mf={average(t){if(!t.length)return!1;let e,s,r=new Set,a=0,i=0;for(e=0,s=t.length;e<s;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),a+=d.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,r=e.y,a=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=t.length;i<o;++i){const d=t[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),f=a4(e,h);f<a&&(a=f,c=d)}}if(c){const d=c.tooltipPosition();s=d.x,r=d.y}return{x:s,y:r}}};function La(t,e){return e&&(ts(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Di(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Tte(t,e){const{element:s,datasetIndex:r,index:a}=e,i=t.getDatasetMeta(r).controller,{label:o,value:c}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[r].data[a],formattedValue:c,dataset:i.getDataset(),dataIndex:a,datasetIndex:r,element:s}}function pS(t,e){const s=t.chart.ctx,{body:r,footer:a,title:i}=t,{boxWidth:o,boxHeight:c}=e,d=_s(e.bodyFont),h=_s(e.titleFont),f=_s(e.footerFont),x=i.length,g=a.length,p=r.length,v=pn(e.padding);let y=v.height,w=0,A=r.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(A+=t.beforeBody.length+t.afterBody.length,x&&(y+=x*h.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),A){const S=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;y+=p*S+(A-p)*d.lineHeight+(A-1)*e.bodySpacing}g&&(y+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let j=0;const C=function(S){w=Math.max(w,s.measureText(S).width+j)};return s.save(),s.font=h.string,_t(t.title,C),s.font=d.string,_t(t.beforeBody.concat(t.afterBody),C),j=e.displayColors?o+2+e.boxPadding:0,_t(r,S=>{_t(S.before,C),_t(S.lines,C),_t(S.after,C)}),j=0,s.font=f.string,_t(t.footer,C),s.restore(),w+=v.width,{width:w,height:y}}function Rte(t,e){const{y:s,height:r}=e;return s<r/2?"top":s>t.height-r/2?"bottom":"center"}function Mte(t,e,s,r){const{x:a,width:i}=r,o=s.caretSize+s.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function Dte(t,e,s,r){const{x:a,width:i}=s,{width:o,chartArea:{left:c,right:d}}=t;let h="center";return r==="center"?h=a<=(c+d)/2?"left":"right":a<=i/2?h="left":a>=o-i/2&&(h="right"),Mte(h,t,e,s)&&(h="center"),h}function bS(t,e,s){const r=s.yAlign||e.yAlign||Rte(t,s);return{xAlign:s.xAlign||e.xAlign||Dte(t,e,s,r),yAlign:r}}function Bte(t,e){let{x:s,width:r}=t;return e==="right"?s-=r:e==="center"&&(s-=r/2),s}function _te(t,e,s){let{y:r,height:a}=t;return e==="top"?r+=s:e==="bottom"?r-=a+s:r-=a/2,r}function vS(t,e,s,r){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:c,yAlign:d}=s,h=a+i,{topLeft:f,topRight:x,bottomLeft:g,bottomRight:p}=ld(o);let v=Bte(e,c);const y=_te(e,d,h);return d==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(f,g)+a:c==="right"&&(v+=Math.max(x,p)+a),{x:gn(v,0,r.width-e.width),y:gn(y,0,r.height-e.height)}}function Ng(t,e,s){const r=pn(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function yS(t){return La([],Di(t))}function Ite(t,e,s){return ql(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function wS(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const wD={beforeTitle:Ei,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,r=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return s[e.dataIndex]}return""},afterTitle:Ei,beforeBody:Ei,beforeLabel:Ei,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Nt(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Ei,afterBody:Ei,beforeFooter:Ei,footer:Ei,afterFooter:Ei};function zn(t,e,s,r){const a=t[e].call(s,r);return typeof a>"u"?wD[e].call(s,r):a}class h4 extends bo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&s.options.animation&&r.animations,i=new JM(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Ite(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:r}=s,a=zn(r,"beforeTitle",this,e),i=zn(r,"title",this,e),o=zn(r,"afterTitle",this,e);let c=[];return c=La(c,Di(a)),c=La(c,Di(i)),c=La(c,Di(o)),c}getBeforeBody(e,s){return yS(zn(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:r}=s,a=[];return _t(e,i=>{const o={before:[],lines:[],after:[]},c=wS(r,i);La(o.before,Di(zn(c,"beforeLabel",this,i))),La(o.lines,zn(c,"label",this,i)),La(o.after,Di(zn(c,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,s){return yS(zn(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:r}=s,a=zn(r,"beforeFooter",this,e),i=zn(r,"footer",this,e),o=zn(r,"afterFooter",this,e);let c=[];return c=La(c,Di(a)),c=La(c,Di(i)),c=La(c,Di(o)),c}_createItems(e){const s=this._active,r=this.chart.data,a=[],i=[],o=[];let c=[],d,h;for(d=0,h=s.length;d<h;++d)c.push(Tte(this.chart,s[d]));return e.filter&&(c=c.filter((f,x,g)=>e.filter(f,x,g,r))),e.itemSort&&(c=c.sort((f,x)=>e.itemSort(f,x,r))),_t(c,f=>{const x=wS(e.callbacks,f);a.push(zn(x,"labelColor",this,f)),i.push(zn(x,"labelPointStyle",this,f)),o.push(zn(x,"labelTextColor",this,f))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(e,s){const r=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const c=mf[r.position].call(this,a,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const d=this._size=pS(this,r),h=Object.assign({},c,d),f=bS(this.chart,r,h),x=vS(r,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:x.x,y:x.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,r,a){const i=this.getCaretPosition(e,r,a);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,r){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:c}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:x}=ld(c),{x:g,y:p}=e,{width:v,height:y}=s;let w,A,j,C,S,E;return i==="center"?(S=p+y/2,a==="left"?(w=g,A=w-o,C=S+o,E=S-o):(w=g+v,A=w+o,C=S-o,E=S+o),j=w):(a==="left"?A=g+Math.max(d,f)+o:a==="right"?A=g+v-Math.max(h,x)-o:A=this.caretX,i==="top"?(C=p,S=C-o,w=A-o,j=A+o):(C=p+y,S=C+o,w=A+o,j=A-o),E=C),{x1:w,x2:A,x3:j,y1:C,y2:S,y3:E}}drawTitle(e,s,r){const a=this.title,i=a.length;let o,c,d;if(i){const h=M0(r.rtl,this.x,this.width);for(e.x=Ng(this,r.titleAlign,r),s.textAlign=h.textAlign(r.titleAlign),s.textBaseline="middle",o=_s(r.titleFont),c=r.titleSpacing,s.fillStyle=r.titleColor,s.font=o.string,d=0;d<i;++d)s.fillText(a[d],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,d+1===i&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,s,r,a,i){const o=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:h}=i,f=_s(i.bodyFont),x=Ng(this,"left",i),g=a.x(x),p=d<f.lineHeight?(f.lineHeight-d)/2:0,v=s.y+p;if(i.usePointStyle){const y={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},w=a.leftForLtr(g,h)+h/2,A=v+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,o4(e,y,w,A),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,o4(e,y,w,A)}else{e.lineWidth=mt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=a.leftForLtr(g,h),w=a.leftForLtr(a.xPlus(g,1),h-2),A=ld(o.borderRadius);Object.values(A).some(j=>j!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,im(e,{x:y,y:v,w:h,h:d,radius:A}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),im(e,{x:w,y:v+1,w:h-2,h:d-2,radius:A}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,v,h,d),e.strokeRect(y,v,h,d),e.fillStyle=o.backgroundColor,e.fillRect(w,v+1,h-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,s,r){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:f}=r,x=_s(r.bodyFont);let g=x.lineHeight,p=0;const v=M0(r.rtl,this.x,this.width),y=function(_){s.fillText(_,v.x(e.x+p),e.y+g/2),e.y+=g+i},w=v.textAlign(o);let A,j,C,S,E,M,R;for(s.textAlign=o,s.textBaseline="middle",s.font=x.string,e.x=Ng(this,w,r),s.fillStyle=r.bodyColor,_t(this.beforeBody,y),p=c&&w!=="right"?o==="center"?h/2+f:h+2+f:0,S=0,M=a.length;S<M;++S){for(A=a[S],j=this.labelTextColors[S],s.fillStyle=j,_t(A.before,y),C=A.lines,c&&C.length&&(this._drawColorBox(s,e,S,v,r),g=Math.max(x.lineHeight,d)),E=0,R=C.length;E<R;++E)y(C[E]),g=x.lineHeight;_t(A.after,y)}p=0,g=x.lineHeight,_t(this.afterBody,y),e.y-=i}drawFooter(e,s,r){const a=this.footer,i=a.length;let o,c;if(i){const d=M0(r.rtl,this.x,this.width);for(e.x=Ng(this,r.footerAlign,r),e.y+=r.footerMarginTop,s.textAlign=d.textAlign(r.footerAlign),s.textBaseline="middle",o=_s(r.footerFont),s.fillStyle=r.footerColor,s.font=o.string,c=0;c<i;++c)s.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,s,r,a){const{xAlign:i,yAlign:o}=this,{x:c,y:d}=e,{width:h,height:f}=r,{topLeft:x,topRight:g,bottomLeft:p,bottomRight:v}=ld(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(c+x,d),o==="top"&&this.drawCaret(e,s,r,a),s.lineTo(c+h-g,d),s.quadraticCurveTo(c+h,d,c+h,d+g),o==="center"&&i==="right"&&this.drawCaret(e,s,r,a),s.lineTo(c+h,d+f-v),s.quadraticCurveTo(c+h,d+f,c+h-v,d+f),o==="bottom"&&this.drawCaret(e,s,r,a),s.lineTo(c+p,d+f),s.quadraticCurveTo(c,d+f,c,d+f-p),o==="center"&&i==="left"&&this.drawCaret(e,s,r,a),s.lineTo(c,d+x),s.quadraticCurveTo(c,d,c+x,d),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,r=this.$animations,a=r&&r.x,i=r&&r.y;if(a||i){const o=mf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=pS(this,e),d=Object.assign({},o,this._size),h=bS(s,e,d),f=vS(e,d,h,s);(a._to!==f.x||i._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=pn(s.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,a,s),WM(e,s.textDirection),i.y+=o.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),YM(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const r=this._active,a=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),i=!sb(r,a),o=this._positionChanged(a,s);(i||o)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,s,r),c=this._positionChanged(o,e),d=s||!sb(o,i)||c;return d&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),d}_getActiveElements(e,s,r,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:r,caretY:a,options:i}=this,o=mf[i.position].call(this,e,s);return o!==!1&&(r!==o.x||a!==o.y)}}se(h4,"positioners",mf);var ND={id:"tooltip",_element:h4,positioners:mf,afterInit(t,e,s){s&&(t.tooltip=new h4({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Lte=(t,e,s,r)=>(typeof e=="string"?(s=t.push(e)-1,r.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function Ote(t,e,s,r){const a=t.indexOf(e);if(a===-1)return Lte(t,e,s,r);const i=t.lastIndexOf(e);return a!==i?s:a}const Pte=(t,e)=>t===null?null:gn(Math.round(t),0,e);function NS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class cb extends Wu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const r=this.getLabels();for(const{index:a,label:i}of s)r[a]===i&&r.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Nt(e))return null;const r=this.getLabels();return s=isFinite(s)&&r[s]===e?s:Ote(r,e,at(s,e),this._addedLabels),Pte(s,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),s||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){const e=this.min,s=this.max,r=this.options.offset,a=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=s;o++)a.push({value:o});return a}getLabelForValue(e){return NS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}se(cb,"id","category"),se(cb,"defaults",{ticks:{callback:NS}});function Fte(t,e){const s=[],{bounds:a,step:i,min:o,max:c,precision:d,count:h,maxTicks:f,maxDigits:x,includeBounds:g}=t,p=i||1,v=f-1,{min:y,max:w}=e,A=!Nt(o),j=!Nt(c),C=!Nt(h),S=(w-y)/(x+1);let E=yE((w-y)/v/p)*p,M,R,_,I;if(E<1e-14&&!A&&!j)return[{value:y},{value:w}];I=Math.ceil(w/E)-Math.floor(y/E),I>v&&(E=yE(I*E/v/p)*p),Nt(d)||(M=Math.pow(10,d),E=Math.ceil(E*M)/M),a==="ticks"?(R=Math.floor(y/E)*E,_=Math.ceil(w/E)*E):(R=y,_=w),A&&j&&i&&GX((c-o)/i,E/1e3)?(I=Math.round(Math.min((c-o)/E,f)),E=(c-o)/I,R=o,_=c):C?(R=A?o:R,_=j?c:_,I=h-1,E=(_-R)/I):(I=(_-R)/E,Cf(I,Math.round(I),E/1e3)?I=Math.round(I):I=Math.ceil(I));const D=Math.max(wE(E),wE(R));M=Math.pow(10,Nt(d)?D:d),R=Math.round(R*M)/M,_=Math.round(_*M)/M;let B=0;for(A&&(g&&R!==o?(s.push({value:o}),R<o&&B++,Cf(Math.round((R+B*E)*M)/M,o,jS(o,S,t))&&B++):R<o&&B++);B<I;++B){const O=Math.round((R+B*E)*M)/M;if(j&&O>c)break;s.push({value:O})}return j&&g&&_!==c?s.length&&Cf(s[s.length-1].value,c,jS(c,S,t))?s[s.length-1].value=c:s.push({value:c}):(!j||_===c)&&s.push({value:_}),s}function jS(t,e,{horizontal:s,minRotation:r}){const a=Xa(r),i=(s?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class f4 extends Wu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:a,max:i}=this;const o=d=>a=s?a:d,c=d=>i=r?i:d;if(e){const d=ti(a),h=ti(i);d<0&&h<0?c(0):d>0&&h>0&&o(0)}if(a===i){let d=i===0?1:Math.abs(i*.05);c(i+d),e||o(a-d)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:r}=e,a;return r?(a=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const a={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=Fte(a,i);return e.bounds==="ticks"&&qX(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const a=(r-s)/Math.max(e.length-1,1)/2;s-=a,r+=a}this._startValue=s,this._endValue=r,this._valueRange=r-s}getLabelForValue(e){return J5(e,this.chart.options.locale,this.options.ticks.format)}}class db extends f4{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Vs(e)?e:0,this.max=Vs(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,r=Xa(this.options.ticks.minRotation),a=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}se(db,"id","linear"),se(db,"defaults",{ticks:{callback:eN.formatters.numeric}});function m4(t){const e=t.ticks;if(e.display&&t.display){const s=pn(e.backdropPadding);return at(e.font&&e.font.size,xs.font.size)+s.height}return 0}function zte(t,e,s){return s=ts(s)?s:[s],{w:hZ(t,e.string,s),h:s.length*e.lineHeight}}function CS(t,e,s,r,a){return t===r||t===a?{start:e-s/2,end:e+s/2}:t<r||t>a?{start:e-s,end:e}:{start:e,end:e+s}}function Ute(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),r=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,c=o.centerPointLabels?St/i:0;for(let d=0;d<i;d++){const h=o.setContext(t.getPointLabelContext(d));a[d]=h.padding;const f=t.getPointPosition(d,t.drawingArea+a[d],c),x=_s(h.font),g=zte(t.ctx,x,t._pointLabels[d]);r[d]=g;const p=un(t.getIndexAngle(d)+c),v=Math.round(Q5(p)),y=CS(v,f.x,g.w,0,180),w=CS(v,f.y,g.h,90,270);$te(s,e,p,y,w)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=Gte(t,r,a)}function $te(t,e,s,r,a){const i=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let c=0,d=0;r.start<e.l?(c=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-c)):r.end>e.r&&(c=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+c)),a.start<e.t?(d=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-d)):a.end>e.b&&(d=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+d))}function Hte(t,e,s){const r=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:c}=s,d=t.getPointPosition(e,r+a+o,i),h=Math.round(Q5(un(d.angle+ks))),f=Yte(d.y,c.h,h),x=qte(h),g=Wte(d.x,c.w,x);return{visible:!0,x:d.x,y:f,textAlign:x,left:g,top:f,right:g+c.w,bottom:f+c.h}}function Vte(t,e){if(!e)return!0;const{left:s,top:r,right:a,bottom:i}=t;return!(Zi({x:s,y:r},e)||Zi({x:s,y:i},e)||Zi({x:a,y:r},e)||Zi({x:a,y:i},e))}function Gte(t,e,s){const r=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:c}=i.pointLabels,d={extra:m4(i)/2,additionalAngle:o?St/a:0};let h;for(let f=0;f<a;f++){d.padding=s[f],d.size=e[f];const x=Hte(t,f,d);r.push(x),c==="auto"&&(x.visible=Vte(x,h),x.visible&&(h=x))}return r}function qte(t){return t===0||t===180?"center":t<180?"left":"right"}function Wte(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function Yte(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function Qte(t,e,s){const{left:r,top:a,right:i,bottom:o}=s,{backdropColor:c}=e;if(!Nt(c)){const d=ld(e.borderRadius),h=pn(e.backdropPadding);t.fillStyle=c;const f=r-h.left,x=a-h.top,g=i-r+h.width,p=o-a+h.height;Object.values(d).some(v=>v!==0)?(t.beginPath(),im(t,{x:f,y:x,w:g,h:p,radius:d}),t.fill()):t.fillRect(f,x,g,p)}}function Kte(t,e){const{ctx:s,options:{pointLabels:r}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=r.setContext(t.getPointLabelContext(a));Qte(s,o,i);const c=_s(o.font),{x:d,y:h,textAlign:f}=i;gd(s,t._pointLabels[a],d,h+c.lineHeight/2,c,{color:o.color,textAlign:f,textBaseline:"middle"})}}function jD(t,e,s,r){const{ctx:a}=t;if(s)a.arc(t.xCenter,t.yCenter,e,0,Kt);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<r;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function Xte(t,e,s,r,a){const i=t.ctx,o=e.circular,{color:c,lineWidth:d}=e;!o&&!r||!c||!d||s<0||(i.save(),i.strokeStyle=c,i.lineWidth=d,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),jD(t,s,o,r),i.closePath(),i.stroke(),i.restore())}function Zte(t,e,s){return ql(t,{label:s,index:e,type:"pointLabel"})}class N0 extends f4{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=pn(m4(this.options)/2),s=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(s,r)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=Vs(e)&&!isNaN(e)?e:0,this.max=Vs(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/m4(this.options))}generateTickLabels(e){f4.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,r)=>{const a=Gt(this.options.pointLabels.callback,[s,r],this);return a||a===0?a:""}).filter((s,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Ute(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,r,a){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((r-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,r,a))}getIndexAngle(e){const s=Kt/(this._pointLabels.length||1),r=this.options.startAngle||0;return un(e*s+Xa(r))}getDistanceFromCenterForValue(e){if(Nt(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(Nt(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const r=s[e];return Zte(this.getContext(),e,r)}}getPointPosition(e,s,r=0){const a=this.getIndexAngle(e)-ks+r;return{x:Math.cos(a)*s+this.xCenter,y:Math.sin(a)*s+this.yCenter,angle:a}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:r,right:a,bottom:i}=this._pointLabelItems[e];return{left:s,top:r,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),jD(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:r,grid:a,border:i}=s,o=this._pointLabels.length;let c,d,h;if(s.pointLabels.display&&Kte(this,o),a.display&&this.ticks.forEach((f,x)=>{if(x!==0||x===0&&this.min<0){d=this.getDistanceFromCenterForValue(f.value);const g=this.getContext(x),p=a.setContext(g),v=i.setContext(g);Xte(this,p,d,o,v)}}),r.display){for(e.save(),c=o-1;c>=0;c--){const f=r.setContext(this.getPointLabelContext(c)),{color:x,lineWidth:g}=f;!g||!x||(e.lineWidth=g,e.strokeStyle=x,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,d=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),h=this.getPointPosition(c,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,r=s.ticks;if(!r.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,d)=>{if(d===0&&this.min>=0&&!s.reverse)return;const h=r.setContext(this.getContext(d)),f=_s(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[d].value),h.showLabelBackdrop){e.font=f.string,o=e.measureText(c.label).width,e.fillStyle=h.backdropColor;const x=pn(h.backdropPadding);e.fillRect(-o/2-x.left,-i-f.size/2-x.top,o+x.width,f.size+x.height)}gd(e,c.label,0,-i,f,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}se(N0,"id","radialLinear"),se(N0,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eN.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),se(N0,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),se(N0,"descriptors",{angleLines:{_fallback:"grid"}});const Jb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(Jb);function kS(t,e){return t-e}function AS(t,e){if(Nt(e))return null;const s=t._adapter,{parser:r,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Vs(o)||(o=typeof r=="string"?s.parse(o,r):s.parse(o)),o===null?null:(a&&(o=a==="week"&&(rm(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,a)),+o)}function ES(t,e,s,r){const a=Vn.length;for(let i=Vn.indexOf(t);i<a-1;++i){const o=Jb[Vn[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(c*o.size))<=r)return Vn[i]}return Vn[a-1]}function Jte(t,e,s,r,a){for(let i=Vn.length-1;i>=Vn.indexOf(s);i--){const o=Vn[i];if(Jb[o].common&&t._adapter.diff(a,r,o)>=e-1)return o}return Vn[s?Vn.indexOf(s):0]}function ese(t){for(let e=Vn.indexOf(t)+1,s=Vn.length;e<s;++e)if(Jb[Vn[e]].common)return Vn[e]}function SS(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:r,hi:a}=K5(s,e),i=s[r]>=e?s[r]:s[a];t[i]=!0}}function tse(t,e,s,r){const a=t._adapter,i=+a.startOf(e[0].value,r),o=e[e.length-1].value;let c,d;for(c=i;c<=o;c=+a.add(c,1,r))d=s[c],d>=0&&(e[d].major=!0);return e}function TS(t,e,s){const r=[],a={},i=e.length;let o,c;for(o=0;o<i;++o)c=e[o],a[c]=o,r.push({value:c,major:!1});return i===0||!s?r:tse(t,r,a,s)}class ub extends Wu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const r=e.time||(e.time={}),a=this._adapter=new TJ._date(e.adapters.date);a.init(s),jf(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:AS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,r=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function d(h){!o&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!o||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=Vs(a)&&!isNaN(a)?a:+s.startOf(Date.now(),r),i=Vs(i)&&!isNaN(i)?i:+s.endOf(Date.now(),r)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],r=e[e.length-1]),{min:s,max:r}}buildTicks(){const e=this.options,s=e.time,r=e.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,c=KX(a,i,o);return this._unit=s.unit||(r.autoSkip?ES(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):Jte(this,c.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ese(this._unit),this.initOffsets(a),e.reverse&&c.reverse(),TS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,r=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=gn(s,0,o),r=gn(r,0,o),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const e=this._adapter,s=this.min,r=this.max,a=this.options,i=a.time,o=i.unit||ES(i.minUnit,s,r,this._getLabelCapacity(s)),c=at(a.ticks.stepSize,1),d=o==="week"?i.isoWeekday:!1,h=rm(d)||d===!0,f={};let x=s,g,p;if(h&&(x=+e.startOf(x,"isoWeek",d)),x=+e.startOf(x,h?"day":o),e.diff(r,s,o)>1e5*c)throw new Error(s+" and "+r+" are too far apart with stepSize of "+c+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(g=x,p=0;g<r;g=+e.add(g,c,o),p++)SS(f,g,v);return(g===r||a.bounds==="ticks"||p===1)&&SS(f,g,v),Object.keys(f).sort(kS).map(y=>+y)}getLabelForValue(e){const s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(e,r.tooltipFormat):s.format(e,r.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,i=this._unit,o=s||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,s,r,a){const i=this.options,o=i.ticks.callback;if(o)return Gt(o,[e,s,r],this);const c=i.time.displayFormats,d=this._unit,h=this._majorUnit,f=d&&c[d],x=h&&c[h],g=r[s],p=h&&x&&g&&g.major;return this._adapter.format(e,a||(p?x:f))}generateTickLabels(e){let s,r,a;for(s=0,r=e.length;s<r;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(e){const s=this._offsets,r=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,r=this.ctx.measureText(e).width,a=Xa(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(a),o=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:r*i+c*o,h:r*o+c*i}}_getLabelCapacity(e){const s=this.options.time,r=s.displayFormats,a=r[s.unit]||r.millisecond,i=this._tickFormatFunction(e,0,TS(this,[e],this._majorUnit),a),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],s,r;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,r=a.length;s<r;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,r;if(e.length)return e;const a=this.getLabels();for(s=0,r=a.length;s<r;++s)e.push(AS(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return OM(e.sort(kS))}}se(ub,"id","time"),se(ub,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jg(t,e,s){let r=0,a=t.length-1,i,o,c,d;s?(e>=t[r].pos&&e<=t[a].pos&&({lo:r,hi:a}=Oc(t,"pos",e)),{pos:i,time:c}=t[r],{pos:o,time:d}=t[a]):(e>=t[r].time&&e<=t[a].time&&({lo:r,hi:a}=Oc(t,"time",e)),{time:i,pos:c}=t[r],{time:o,pos:d}=t[a]);const h=o-i;return h?c+(d-c)*(e-i)/h:c}class RS extends ub{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=jg(s,this.min),this._tableRange=jg(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:r}=this,a=[],i=[];let o,c,d,h,f;for(o=0,c=e.length;o<c;++o)h=e[o],h>=s&&h<=r&&a.push(h);if(a.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(o=0,c=a.length;o<c;++o)f=a[o+1],d=a[o-1],h=a[o],Math.round((f+d)/2)!==h&&i.push({time:h,pos:o/(c-1)});return i}_generate(){const e=this.min,s=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(s)||r.length===1)&&r.push(s),r.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),r=this.getLabelTimestamps();return s.length&&r.length?e=this.normalize(s.concat(r)):e=s.length?s:r,e=this._cache.all=e,e}getDecimalForValue(e){return(jg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,r=this.getDecimalForPixel(e)/s.factor-s.end;return jg(this._table,r*this._tableRange+this._minPos,!0)}}se(RS,"id","timeseries"),se(RS,"defaults",ub.defaults);const CD="label";function MS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function sse(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function kD(t,e){t.labels=e}function AD(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:CD;const r=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[s]===a[s]);return!i||!a.data||r.includes(i)?{...a}:(r.push(i),Object.assign(i,a),i)})}function nse(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CD;const s={labels:[],datasets:[]};return kD(s,t.labels),AD(s,t.datasets,e),s}function rse(t,e){const{height:s=150,width:r=300,redraw:a=!1,datasetIdKey:i,type:o,data:c,options:d,plugins:h=[],fallbackContent:f,updateMode:x,...g}=t,p=k.useRef(null),v=k.useRef(null),y=()=>{p.current&&(v.current=new Fm(p.current,{type:o,data:nse(c,i),options:d&&{...d},plugins:h}),MS(e,v.current))},w=()=>{MS(e,null),v.current&&(v.current.destroy(),v.current=null)};return k.useEffect(()=>{!a&&v.current&&d&&sse(v.current,d)},[a,d]),k.useEffect(()=>{!a&&v.current&&kD(v.current.config.data,c.labels)},[a,c.labels]),k.useEffect(()=>{!a&&v.current&&c.datasets&&AD(v.current.config.data,c.datasets,i)},[a,c.datasets]),k.useEffect(()=>{v.current&&(a?(w(),setTimeout(y)):v.current.update(x))},[a,d,c.labels,c.datasets,x]),k.useEffect(()=>{v.current&&(w(),setTimeout(y))},[o]),k.useEffect(()=>(y(),()=>w()),[]),en.createElement("canvas",{ref:p,role:"img",height:s,width:r,...g},f)}const ase=k.forwardRef(rse);function e1(t,e){return Fm.register(e),k.forwardRef((s,r)=>en.createElement(ase,{...s,ref:r,type:t}))}const ED=e1("line",Tp),x4=e1("bar",Sp),ise=e1("radar",Rp),SD=e1("doughnut",hf),ose=t=>{console.log("useHistoricalMetrics: Hook initialized with contract:",!!t,!!(t!=null&&t.provider));const[e,s]=k.useState({verificationRates:[],efficiencyScores:[],months:[],isLoading:!1,error:null}),[r,a]=k.useState(0),[i,o]=k.useState(null),[c,d]=k.useState(0),h=3e5,f=async(x=!1)=>{console.log("useHistoricalMetrics: fetchHistoricalData called, forceRefresh:",x);const g=Date.now();if(!x&&i&&g-r<h){console.log("useHistoricalMetrics: Using cached data, last fetch:",Math.round((g-r)/1e3),"seconds ago");return}if(!t){console.log("useHistoricalMetrics: Contract not available");return}let p;try{if(window.ethereum){const{BrowserProvider:y}=await Fr(async()=>{const{BrowserProvider:w}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:w}},void 0);p=new y(window.ethereum),console.log("useHistoricalMetrics: Created new provider from window.ethereum")}else{console.log("useHistoricalMetrics: No window.ethereum available");return}}catch(y){console.log("useHistoricalMetrics: Error creating provider:",y);return}if(!p){console.log("useHistoricalMetrics: No provider available");return}let v;try{const{Contract:y}=await Fr(async()=>{const{Contract:w}=await Promise.resolve().then(()=>Wa);return{Contract:w}},void 0);v=new y(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,p),console.log("useHistoricalMetrics: Created new contract instance with full ABI")}catch(y){console.log("useHistoricalMetrics: Error creating contract instance:",y);return}console.log("useHistoricalMetrics: Contract and provider available, starting fetch..."),s(y=>({...y,isLoading:!0,error:null}));try{console.log("useHistoricalMetrics: Fetching historical data...");const y=await v.totalSupply();if(console.log("useHistoricalMetrics: Total certificates:",y.toString()),y.toString()==="0"){console.log("useHistoricalMetrics: No certificates yet - new contract");const R={verificationRates:[],efficiencyScores:[],months:[],isLoading:!1,error:null};s(R),o(R),a(g);return}const[w,A,j]=await Promise.all([v.getVerifiedCertificateIds(0,1e3),v.getPendingCertificateIds(0,1e3),v.getRevokedCertificateIds(0,1e3)]);console.log("useHistoricalMetrics: Current state:",{total:y.toString(),verified:w.length,pending:A.length,revoked:j.length});const C=y.toString()>0?Math.round(w.length/parseInt(y.toString())*100):0,S=y.toString()>0?Math.round(w.length/Math.max(1,parseInt(y.toString())-j.length)*100):0;console.log("useHistoricalMetrics: Calculated rates:",{verificationRate:C,efficiency:S});let E={verificationRates:[C],efficiencyScores:[S],months:["Current"]};if(console.log("useHistoricalMetrics: Initial historicalData created:",E),w.length>0||A.length>0)try{const R=await p.getBlockNumber(),_=Math.max(0,R-1e3),[I,D,B]=await Promise.all([v.queryFilter(v.filters.CertificateIssued(),_,"latest"),v.queryFilter(v.filters.CertificateVerified(),_,"latest"),v.queryFilter(v.filters.CertificateRevoked(),_,"latest")]);if(console.log("useHistoricalMetrics: Recent events fetched:",{issued:I.length,verified:D.length,revoked:B.length}),I.length>0||D.length>0){const $=Date.now()-7*24*60*60*1e3;let Y=0,H=0,L=0;for(const V of I)try{(await p.getBlock(V.blockNumber)).timestamp*1e3>$&&Y++}catch(X){console.warn("Error processing issued event:",X)}for(const V of D)try{(await p.getBlock(V.blockNumber)).timestamp*1e3>$&&H++}catch(X){console.warn("Error processing verified event:",X)}for(const V of B)try{(await p.getBlock(V.blockNumber)).timestamp*1e3>$&&L++}catch(X){console.warn("Error processing revoked event:",X)}if(Y>0||H>0){const V=Y>0?Math.round(H/Math.max(1,Y)*100):C,X=Y>0?Math.round(H/Math.max(1,Y-L)*100):S;E.verificationRates.unshift(V),E.efficiencyScores.unshift(X),E.months.unshift("Recent")}}}catch(R){console.warn("useHistoricalMetrics: Error fetching recent events, showing current data only:",R)}E.verificationRates.length===0&&(E.verificationRates=[C]),E.efficiencyScores.length===0&&(E.efficiencyScores=[S]),E.months.length===0&&(E.months=["Current"]),console.log("useHistoricalMetrics: Final data to set:",E),console.log("useHistoricalMetrics: Array lengths:",{verificationRates:E.verificationRates.length,efficiencyScores:E.efficiencyScores.length,months:E.months.length});const M={...E,isLoading:!1,error:null};s(M),o(M),a(g)}catch(y){console.error("Error fetching historical data:",y),s(w=>({...w,isLoading:!1,error:y.message}))}};return k.useEffect(()=>{if(console.log("useHistoricalMetrics: useEffect triggered, contract:",!!t),t){const x=window.ethereum;if(console.log("useHistoricalMetrics: Can create provider:",x),x)return console.log("useHistoricalMetrics: Contract available, calling fetchHistoricalData"),f(),(async()=>{try{const{BrowserProvider:p}=await Fr(async()=>{const{BrowserProvider:y}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:y}},void 0),v=new p(window.ethereum);v.on("block",async y=>{if(console.log("useHistoricalMetrics: New block detected:",y),y>c){console.log("useHistoricalMetrics: Checking for new events in block:",y);const{Contract:w}=await Fr(async()=>{const{Contract:M}=await Promise.resolve().then(()=>Wa);return{Contract:M}},void 0),A=new w(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,v),[j,C,S]=await Promise.all([A.queryFilter(A.filters.CertificateIssued(),y,y),A.queryFilter(A.filters.CertificateVerified(),y,y),A.queryFilter(A.filters.CertificateRevoked(),y,y)]);j.length>0||C.length>0||S.length>0?(console.log("useHistoricalMetrics: New events detected! Auto-updating data..."),d(y),f(!0)):(console.log("useHistoricalMetrics: New block but no relevant events, updating block number only"),d(y))}}),console.log("useHistoricalMetrics: Event listener set up - will auto-update on blockchain events")}catch(p){console.warn("useHistoricalMetrics: Error setting up event listener:",p)}})(),()=>{window.ethereum&&(async()=>{try{const{BrowserProvider:v}=await Fr(async()=>{const{BrowserProvider:w}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:w}},void 0);new v(window.ethereum).removeAllListeners("block"),console.log("useHistoricalMetrics: Event listeners cleaned up")}catch(v){console.warn("useHistoricalMetrics: Error cleaning up listeners:",v)}})()};console.log("useHistoricalMetrics: Contract available but no window.ethereum, setting empty state"),s({verificationRates:[],efficiencyScores:[],months:[],isLoading:!1,error:null})}else console.log("useHistoricalMetrics: Contract not available, setting empty state"),s({verificationRates:[],efficiencyScores:[],months:[],isLoading:!1,error:null})},[t]),console.log("useHistoricalMetrics: Returning data:",e),{historicalData:e,refreshHistoricalData:f,isLoading:e.isLoading,error:e.error}};Fm.register(cb,db,Ef,Ji,Sf,w0,N0,yD,ND,bD,gD);const lN=({institutionStats:t={},isLoading:e=!1,isUpdating:s=!1,realTimeEnabled:r=!1,contract:a=null})=>{var _;const{historicalData:i,isLoading:o}=ose(a),c=k.useMemo(()=>{const{totalCertificates:I=0,verifiedCertificates:D=0,pendingCertificates:B=0,revokedCertificates:O=0,totalInstitutions:$=0,issuedByCurrentInstitution:Y=0}=t,H=I;return{verificationRate:H>0?Math.round(D/H*100):0,pendingRate:H>0?Math.round(B/H*100):0,revocationRate:H>0?Math.round(O/H*100):0,averagePerInstitution:$>0?Math.round(H/$):0,efficiency:H>0?Math.round(D/Math.max(1,H-O)*100):0}},[t]),d=k.useMemo(()=>{const I=Math.round((c.verificationRate+c.efficiency)/2);return Math.max(0,Math.min(100,I))},[c.verificationRate,c.efficiency]),h=I=>{if(!Array.isArray(I)||I.length<2)return null;const D=Number(I[I.length-2]??0),B=Number(I[I.length-1]??0);return Math.round((B-D)*10)/10},f=k.useMemo(()=>h(i.verificationRates),[i.verificationRates]),x=k.useMemo(()=>h(i.efficiencyScores),[i.efficiencyScores]),g=k.useMemo(()=>{const I=c.verificationRate;return I>=80?{label:"Excellent",tone:"success",action:"Maintain current verification processes."}:I>=60?{label:"Good",tone:"warning",action:"Review edge cases to raise verification success."}:{label:"Needs improvement",tone:"danger",action:"Audit verification steps and address failure causes."}},[c.verificationRate]),p=k.useMemo(()=>{const I=c.efficiency;return I>=85?{label:"Excellent",tone:"success",action:"Keep workflows optimized."}:I>=70?{label:"Good",tone:"info",action:"Identify minor bottlenecks to improve throughput."}:{label:"Needs work",tone:"warning",action:"Streamline processing and reduce rework."}},[c.efficiency]),v=k.useMemo(()=>{const I=100-c.revocationRate;return I>=80?{label:"Stable",tone:"success",action:"Continue monitoring for anomalies."}:I>=60?{label:"Acceptable",tone:"warning",action:"Investigate common revocation reasons."}:{label:"Unstable",tone:"danger",action:"Reduce errors leading to revocations."}},[c.revocationRate]),y=(I,D=160,B=48)=>{if(!Array.isArray(I)||I.length===0)return"";const O=Math.max(...I,100),$=Math.min(...I,0),Y=O-$||1,H=D/Math.max(1,I.length-1);return I.map((L,V)=>{const X=V*H,ee=B-(L-$)/Y*B;return`${V===0?"M":"L"} ${X} ${ee}`}).join(" ")},w=k.useMemo(()=>y(i.efficiencyScores),[i.efficiencyScores]),A=k.useMemo(()=>d>=80?{label:"Optimal",color:"text-emerald-300",dot:"bg-emerald-400",ringFrom:"#34d399",ringTo:"#2dd4bf"}:d>=60?{label:"Stable",color:"text-yellow-300",dot:"bg-yellow-400",ringFrom:"#f59e0b",ringTo:"#f97316"}:{label:"Critical",color:"text-red-300",dot:"bg-red-400",ringFrom:"#ef4444",ringTo:"#ec4899"},[d]),j=()=>{const{totalCertificates:I=0,verifiedCertificates:D=0,revokedCertificates:B=0}=t,O=I>0?D/I*100:0,$=I>0?Math.max(0,100-B/I*100):100,Y=Array.isArray(i.efficiencyScores)?i.efficiencyScores:[];let H=100;if(Y.length>=2){const V=[];for(let ee=1;ee<Y.length;ee++)V.push(Math.abs(Number(Y[ee])-Number(Y[ee-1])));const X=V.reduce((ee,F)=>ee+F,0)/V.length;H=Math.max(0,Math.min(100,100-X))}else Y.length===1&&(H=100);const L=Math.round(O*.4+$*.3+H*.3);return Math.max(0,Math.min(100,L))},C=k.useMemo(()=>{const I={labels:["Verified","Pending","Revoked"],datasets:[{data:[t.verifiedCertificates||0,t.pendingCertificates||0,t.revokedCertificates||0],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgba(34, 197, 94, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)"],borderWidth:2,hoverBackgroundColor:["rgba(34, 197, 94, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)"]}]},D={labels:["Total","Verified","Pending","Revoked","Institutions"],datasets:[{label:"Count",data:[t.totalCertificates||0,t.verifiedCertificates||0,t.pendingCertificates||0,t.revokedCertificates||0,t.totalInstitutions||0],backgroundColor:["rgba(99, 102, 241, 0.8)","rgba(34, 197, 94, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(20, 184, 166, 0.8)"],borderColor:["rgba(99, 102, 241, 1)","rgba(34, 197, 94, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(20, 184, 166, 1)"],borderWidth:2,borderRadius:8,borderSkipped:!1}]},B={labels:i.months.length>0?i.months:["No Events Yet"],datasets:[{label:"Verification Rate (%)",data:i.verificationRates.length>0?i.verificationRates:[],borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"rgba(34, 197, 94, 1)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8},{label:"Efficiency Score (%)",data:i.efficiencyScores.length>0?i.efficiencyScores:[],borderColor:"rgba(168, 85, 247, 1)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"rgba(168, 85, 247, 1)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]},O={labels:["Verification","Efficiency","Processing","Reliability","Performance"],datasets:[{label:"Current Score",data:[c.verificationRate,c.efficiency,100-c.revocationRate,j(),d],backgroundColor:"rgba(99, 102, 241, 0.2)",borderColor:"rgba(99, 102, 241, 1)",borderWidth:3,pointBackgroundColor:"rgba(99, 102, 241, 1)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]};return{certificateStatus:I,metricsComparison:D,performanceTrends:B,systemHealth:O}},[t,c,i]),S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgba(156, 163, 175, 1)",font:{size:12}}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"rgba(255, 255, 255, 1)",bodyColor:"rgba(156, 163, 175, 1)",borderColor:"rgba(75, 85, 99, 0.5)",borderWidth:1,cornerRadius:8}}},E={...S,scales:{x:{grid:{color:"rgba(75, 85, 99, 0.3)"},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:11}}},y:{grid:{color:"rgba(75, 85, 99, 0.3)"},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:11}}}}},M={...S,scales:{x:{grid:{color:"rgba(75, 85, 99, 0.3)"},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:11}}},y:{grid:{color:"rgba(75, 85, 99, 0.3)"},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:11},callback:function(I){return I+"%"},min:0,max:100,stepSize:20},title:{display:!0,text:"Percentage (%)",color:"rgba(156, 163, 175, 1)",font:{size:12}}}},plugins:{...S.plugins,tooltip:{...S.plugins.tooltip,callbacks:{label:function(I){return I.dataset.label+": "+I.parsed.y+"%"}}}}},R={...S,scales:{r:{grid:{color:"rgba(75, 85, 99, 0.3)"},ticks:{color:"rgba(156, 163, 175, 1)",font:{size:11},backdropColor:"transparent"},pointLabels:{color:"rgba(156, 163, 175, 1)",font:{size:11}}}}};return e||o?n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((I,D)=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse h-80",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-700 rounded w-full"})]},D))})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Overview Analytics"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Comprehensive insights into your blockchain certificate ecosystem. Monitor key performance indicators and system health in real-time."}),r&&n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-yellow-400 animate-pulse":"bg-green-400"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:s?"Updating...":"Live data"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-indigo-500/30 transition-all duration-300 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-indigo-400 rounded-full mr-2 animate-pulse"}),"Certificate Status"]}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Total: ",t.totalCertificates||0]})]}),n.jsxs("div",{className:"relative h-56 sm:h-64",children:[n.jsx(SD,{data:C.certificateStatus,options:S},"certificate-status"),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-white",children:[c.verificationRate,"%"]}),n.jsx("div",{className:"text-xs text-gray-400",children:"Verified"})]})})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-green-500/30 transition-all duration-300 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2 animate-pulse"}),"Metrics Overview"]}),n.jsx("div",{className:"text-sm text-gray-400",children:"Real-time data"})]}),n.jsx("div",{className:"h-56 sm:h-64",children:n.jsx(x4,{data:C.metricsComparison,options:E},"metrics-comparison")})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-purple-500/30 transition-all duration-300 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full mr-2 animate-pulse"}),"Performance Trends"]}),n.jsx("div",{className:"text-sm text-gray-400",children:i.months.length>0?`${i.months.length} months of real data`:"Real-time data only"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 p-3 bg-gray-800/40 rounded-lg border border-gray-700/30",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[c.verificationRate,"%"]}),n.jsx("div",{className:"text-xs text-gray-400",children:"Current Verification Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-purple-400",children:[c.efficiency,"%"]}),n.jsx("div",{className:"text-xs text-gray-400",children:"Current Efficiency"})]})]}),n.jsx("div",{className:"h-56 sm:h-64",children:i.months.length>0?n.jsx(ED,{data:C.performanceTrends,options:M},"performance-trends"):n.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h4",{className:"text-lg font-medium text-gray-300 mb-2",children:"No Historical Data Yet"}),n.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed",children:["This chart will populate automatically as certificates are",n.jsx("br",{}),"issued, verified, and revoked on the blockchain."]}),n.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Real-time updates every 30 seconds"})]})}),n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3",children:[n.jsxs("h4",{className:"text-sm font-medium text-blue-300 mb-2 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"What This Chart Shows"]}),n.jsxs("p",{className:"text-xs text-blue-200 leading-relaxed",children:[n.jsx("strong",{children:"Green Line:"})," How many certificates were verified each month (higher = better)",n.jsx("br",{}),n.jsx("strong",{children:"Purple Line:"})," How efficient the system was each month (higher = better)",n.jsx("br",{}),n.jsx("strong",{children:"Current Values:"})," Right side shows today's performance"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-3 border border-gray-700/30",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),n.jsx("span",{className:"text-sm font-medium text-white",children:"Verification Rate"}),n.jsxs("span",{className:"ml-auto text-xs px-2 py-1 bg-green-900/40 text-green-300 rounded-full",children:[c.verificationRate,"%"]})]}),n.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[n.jsx("strong",{children:"What it means:"})," Out of all certificates, how many were successfully verified?",n.jsx("br",{}),n.jsx("span",{className:"text-green-400 font-medium",children:"Higher is better"})," - shows system reliability."]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsx("span",{className:"text-green-400",children:"🟢 Excellent:"})," 80%+ |",n.jsx("span",{className:"text-yellow-400",children:"🟡 Good:"})," 60-79% |",n.jsx("span",{className:"text-red-400",children:"🔴 Poor:"})," Below 60%"]})]}),n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-3 border border-gray-700/30",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full mr-2"}),n.jsx("span",{className:"text-sm font-medium text-white",children:"System Efficiency"}),n.jsxs("span",{className:"ml-auto text-xs px-2 py-1 bg-purple-900/40 text-purple-300 rounded-full",children:[c.efficiency,"%"]})]}),n.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[n.jsx("strong",{children:"What it means:"})," How well does the system process certificates overall?",n.jsx("br",{}),n.jsx("span",{className:"text-purple-400 font-medium",children:"Higher is better"})," - shows processing quality."]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsx("span",{className:"text-purple-400",children:"🟣 Excellent:"})," 85%+ |",n.jsx("span",{className:"text-blue-400",children:"🔵 Good:"})," 70-84% |",n.jsx("span",{className:"text-orange-400",children:"🟠 Needs Work:"})," Below 70%"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-lg p-3 border border-blue-500/30",children:[n.jsxs("h4",{className:"text-sm font-medium text-blue-300 mb-2 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Current Performance Status"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Verification Rate: "}),n.jsx("span",{className:`font-medium ${c.verificationRate>=80?"text-green-400":c.verificationRate>=60?"text-yellow-400":"text-red-400"}`,children:c.verificationRate>=80?"🟢 Excellent":c.verificationRate>=60?"🟡 Good":"🔴 Needs Improvement"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"System Efficiency: "}),n.jsx("span",{className:`font-medium ${c.efficiency>=85?"text-purple-400":c.efficiency>=70?"text-blue-400":"text-orange-400"}`,children:c.efficiency>=85?"🟣 Excellent":c.efficiency>=70?"🔵 Good":"🟠 Needs Work"})]})]})]}),i.months.length>0?n.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-2 text-center",children:[n.jsxs("div",{className:"text-xs text-green-400 font-medium flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"✓ Real blockchain data from ",i.months.length," months"]}),n.jsx("div",{className:"text-xs text-green-300 mt-1",children:"Updates every 30 seconds • Real contract events"})]}):n.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-2 text-center",children:[n.jsxs("div",{className:"text-xs text-blue-400 font-medium flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"ℹ New contract - building historical data"]}),n.jsx("div",{className:"text-xs text-blue-300 mt-1",children:"Chart will populate as more events occur • Real-time updates active"})]})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-cyan-500/50 hover:border-cyan-400/70 transition-all duration-500 relative overflow-hidden min-w-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-blue-500/5 to-purple-500/5"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(6,182,212,0.1),transparent_50%)]"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(147,51,234,0.1),transparent_50%)]"}),n.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20 opacity-0 hover:opacity-100 transition-opacity duration-500"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 flex items-center",children:[n.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full mr-3 animate-pulse shadow-lg shadow-cyan-400/50"}),"SYSTEM HEALTH MATRIX"]}),n.jsxs("div",{className:"text-sm text-cyan-300 font-mono",children:["OVERALL: ",Math.round((c.verificationRate+c.efficiency)/2),"%"]})]}),n.jsx("div",{className:"mb-6 h-60 sm:h-72",children:n.jsx(ise,{data:C.systemHealth,options:R},"system-health")}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"bg-gradient-to-br from-cyan-950/40 via-slate-900/40 to-blue-950/40 backdrop-blur-md rounded-xl p-4 border border-cyan-500/40 hover:border-cyan-400/60 ring-1 ring-cyan-400/10 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 to-blue-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(6,182,212,0.1)_50%,transparent_75%)] bg-[length:20px_20px] animate-pulse"}),n.jsxs("div",{className:"relative z-10 text-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"w-4 h-4 text-cyan-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M9 11l3 3L22 4"}),n.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),n.jsx("span",{className:"text-sm font-semibold text-cyan-200",children:"Verification"}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${g.tone==="success"?"bg-green-900/30 text-green-300 border-green-500/40":g.tone==="warning"?"bg-yellow-900/30 text-yellow-300 border-yellow-500/40":"bg-red-900/30 text-red-300 border-red-500/40"}`,children:g.label})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[f!==null&&n.jsxs("span",{className:`text-xs font-mono px-2 py-0.5 rounded-full border ${f>0?"text-green-300 border-green-500/40 bg-green-900/20":f<0?"text-red-300 border-red-500/40 bg-red-900/20":"text-gray-300 border-gray-600/40 bg-gray-800/30"}`,children:[f>0?"↑":f<0?"↓":"→"," ",Math.abs(f),"%"]}),n.jsxs("span",{className:"text-lg font-bold font-mono text-cyan-200",children:[c.verificationRate,"%"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-center mb-1",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 96 96",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"verGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),n.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})}),n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#374151",strokeWidth:"10",fill:"none"}),(()=>{const I=2*Math.PI*36,D=Math.max(0,Math.min(100,c.verificationRate))/100*I,B=I-D;return n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"url(#verGrad)",strokeWidth:"10",fill:"none",strokeDasharray:`${D} ${B}`,strokeLinecap:"round",transform:"rotate(-90 48 48)"})})(),n.jsxs("text",{x:"48",y:"52",textAnchor:"middle",className:"fill-white font-bold",style:{fontSize:"14px"},children:[c.verificationRate,"%"]})]})}),n.jsxs("div",{className:"text-xs text-gray-300 sm:text-right",children:[f!==null&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full border mr-2 ${f>0?"text-green-300 border-green-500/40 bg-green-900/20":f<0?"text-red-300 border-red-500/40 bg-red-900/20":"text-gray-300 border-gray-600/40 bg-gray-800/30"}`,children:[f>0?"↑":f<0?"↓":"→"," ",Math.abs(f),"%"]}),n.jsx("span",{className:"text-gray-400",children:"Latest verification success"})]})]}),n.jsxs("div",{className:"text-xs text-slate-300 mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 mb-1",children:"Insights"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Higher verification signals stronger credential trust."}),n.jsx("li",{children:"Directly affects public confidence and adoption."})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 mb-1",children:"Actions"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:g.action}),n.jsx("li",{children:"Share clear verification steps with issuers."})]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-950/40 via-slate-900/40 to-pink-950/40 backdrop-blur-md rounded-xl p-4 border border-purple-500/40 hover:border-purple-400/60 ring-1 ring-purple-400/10 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(147,51,234,0.1)_50%,transparent_75%)] bg-[length:20px_20px] animate-pulse"}),n.jsxs("div",{className:"relative z-10 text-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),n.jsx("span",{className:"text-sm font-semibold text-purple-200",children:"Efficiency"}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${p.tone==="success"?"bg-purple-900/30 text-purple-300 border-purple-500/40":p.tone==="info"?"bg-blue-900/30 text-blue-300 border-blue-500/40":"bg-orange-900/30 text-orange-300 border-orange-500/40"}`,children:p.label})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[x!==null&&n.jsxs("span",{className:`text-xs font-mono px-2 py-0.5 rounded-full border ${x>0?"text-green-300 border-green-500/40 bg-green-900/20":x<0?"text-red-300 border-red-500/40 bg-red-900/20":"text-gray-300 border-gray-600/40 bg-gray-800/30"}`,children:[x>0?"↑":x<0?"↓":"→"," ",Math.abs(x),"%"]}),n.jsxs("span",{className:"text-lg font-bold font-mono text-purple-200",children:[c.efficiency,"%"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-center mb-1",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 96 96",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"effGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),n.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})}),n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#374151",strokeWidth:"10",fill:"none"}),(()=>{const I=2*Math.PI*36,D=Math.max(0,Math.min(100,c.efficiency))/100*I,B=I-D;return n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"url(#effGrad)",strokeWidth:"10",fill:"none",strokeDasharray:`${D} ${B}`,strokeLinecap:"round",transform:"rotate(-90 48 48)"})})(),n.jsxs("text",{x:"48",y:"52",textAnchor:"middle",className:"fill-white font-bold",style:{fontSize:"14px"},children:[c.efficiency,"%"]})]})}),n.jsxs("div",{className:"text-xs text-gray-300 sm:text-right",children:[x!==null&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full border mr-2 ${x>0?"text-green-300 border-green-500/40 bg-green-900/20":x<0?"text-red-300 border-red-500/40 bg-red-900/20":"text-gray-300 border-gray-600/40 bg-gray-800/30"}`,children:[x>0?"↑":x<0?"↓":"→"," ",Math.abs(x),"%"]}),n.jsx("span",{className:"text-gray-400",children:"Throughput after revocations"})]})]}),n.jsxs("div",{className:"text-xs text-gray-300 mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Why it matters"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[n.jsx("li",{children:"Captures throughput quality after excluding revoked items."}),n.jsx("li",{children:"Higher efficiency means less rework and lower costs."})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Next steps"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[n.jsx("li",{children:p.action}),n.jsx("li",{children:"Automate repetitive checks to reduce manual delays."})]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-950/40 via-slate-900/40 to-cyan-950/40 backdrop-blur-md rounded-xl p-4 border border-blue-500/40 hover:border-blue-400/60 ring-1 ring-blue-400/10 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(59,130,246,0.1)_50%,transparent_75%)] bg-[length:20px_20px] animate-pulse"}),n.jsxs("div",{className:"relative z-10 text-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"w-4 h-4 text-blue-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"3"}),n.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h0A1.65 1.65 0 0 0 11 3.09V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h0a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v0A1.65 1.65 0 0 0 21 11h.09a2 2 0 1 1 0 4H21a1.65 1.65 0 0 0-1.6 0z"})]}),n.jsx("span",{className:"text-sm font-semibold text-blue-200",children:"Processing Quality"}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${v.tone==="success"?"bg-green-900/30 text-green-300 border-green-500/40":v.tone==="warning"?"bg-yellow-900/30 text-yellow-300 border-yellow-500/40":"bg-red-900/30 text-red-300 border-red-500/40"}`,children:v.label})]}),n.jsxs("span",{className:"text-lg font-bold font-mono text-blue-200",children:[100-c.revocationRate,"%"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-center mb-1",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 96 96",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"procGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),n.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})}),n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#374151",strokeWidth:"10",fill:"none"}),(()=>{const I=100-c.revocationRate,D=2*Math.PI*36,B=Math.max(0,Math.min(100,I))/100*D,O=D-B;return n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"url(#procGrad)",strokeWidth:"10",fill:"none",strokeDasharray:`${B} ${O}`,strokeLinecap:"round",transform:"rotate(-90 48 48)"})})(),n.jsxs("text",{x:"48",y:"52",textAnchor:"middle",className:"fill-white font-bold",style:{fontSize:"14px"},children:[100-c.revocationRate,"%"]})]})}),n.jsx("div",{className:"text-xs text-gray-300 sm:text-right",children:n.jsx("span",{className:"text-gray-400",children:"Low revocations indicate stable processing"})})]}),n.jsxs("div",{className:"text-xs text-slate-300 mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 mb-1",children:"Insights"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Low revocations reflect strong issuance quality."}),n.jsx("li",{children:"Fewer reversals reduce support overhead."})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 mb-1",children:"Actions"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:v.action}),n.jsx("li",{children:"Track top revocation reasons and fix root causes."})]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-teal-950/40 via-slate-900/40 to-cyan-950/40 backdrop-blur-md rounded-xl p-4 border border-teal-500/40 hover:border-teal-400/60 ring-1 ring-teal-400/10 transition-all duration-300 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(20,184,166,0.1)_50%,transparent_75%)] bg-[length:20px_20px] animate-pulse"}),n.jsxs("div",{className:"relative z-10 text-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("span",{className:"text-sm font-semibold text-teal-200 flex items-center gap-2",children:[n.jsxs("svg",{className:"w-4 h-4 text-teal-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),n.jsx("path",{d:"M9 12l2 2 4-4"})]}),"Reliability"]}),n.jsxs("span",{className:"text-lg font-bold px-3 py-1 rounded-full font-mono bg-gradient-to-r from-teal-500/20 to-cyan-500/20 text-teal-300 border border-teal-400/50",children:[j(),"%"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-center",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 96 96",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"relGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#14b8a6"}),n.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})}),n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#374151",strokeWidth:"10",fill:"none"}),(()=>{const I=j(),D=2*Math.PI*36,B=Math.max(0,Math.min(100,I))/100*D,O=D-B;return n.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"url(#relGrad)",strokeWidth:"10",fill:"none",strokeDasharray:`${B} ${O}`,strokeLinecap:"round",transform:"rotate(-90 48 48)"})})(),n.jsxs("text",{x:"48",y:"52",textAnchor:"middle",className:"fill-white font-bold",style:{fontSize:"14px"},children:[j(),"%"]})]})}),n.jsxs("div",{className:"text-xs text-gray-300 sm:text-right",children:[n.jsx("span",{className:"text-gray-400",children:"Shield status: "}),n.jsx("span",{className:"text-teal-300 font-medium",children:"Impenetrable"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-900/70 backdrop-blur-md rounded-xl p-5 border border-indigo-500/40 hover:border-indigo-400/70 transition-all duration-300 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-500/10 via-purple-500/10 to-blue-500/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("h4",{className:"text-sm font-bold text-indigo-300 flex items-center gap-2",children:[n.jsx("span",{children:"📊"}),"PERFORMANCE INDEX"]}),n.jsx("span",{className:"text-xs text-indigo-200",children:"Real-time • On-chain"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-center",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("svg",{width:"160",height:"160",viewBox:"0 0 160 160",className:"drop-shadow",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"piGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#6366F1"}),n.jsx("stop",{offset:"50%",stopColor:"#A855F7"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]})}),n.jsx("circle",{cx:"80",cy:"80",r:"64",stroke:"#374151",strokeWidth:"14",fill:"none"}),(()=>{const I=2*Math.PI*64,D=Math.max(0,Math.min(100,d))/100*I,B=I-D;return n.jsx("circle",{cx:"80",cy:"80",r:"64",stroke:"url(#piGrad)",strokeWidth:"14",fill:"none",strokeDasharray:`${D} ${B}`,strokeLinecap:"round",transform:"rotate(-90 80 80)"})})(),n.jsxs("text",{x:"80",y:"80",textAnchor:"middle",dominantBaseline:"central",className:"fill-white font-bold",style:{fontSize:"28px"},children:[d,"%"]}),n.jsx("text",{x:"80",y:"112",textAnchor:"middle",className:"fill-indigo-200",style:{fontSize:"12px"},children:"Overall"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-indigo-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-indigo-300",children:"Efficiency trend"}),n.jsxs("span",{className:"text-xs text-gray-400",children:[((_=i.efficiencyScores)==null?void 0:_.length)||0," pts"]})]}),n.jsxs("svg",{width:"100%",height:"56",viewBox:"0 0 160 48",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"sparkGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"rgba(168,85,247,0.6)"}),n.jsx("stop",{offset:"100%",stopColor:"rgba(168,85,247,0.05)"})]})}),n.jsx("path",{d:w||"M0 48 L160 48",stroke:"#A855F7",strokeWidth:"2",fill:"none"}),n.jsx("path",{d:`${(w||"M0 48 L160 48").replace("M","M0 48 L")} L160 48 Z`,fill:"url(#sparkGrad)",opacity:"0.4"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{className:"bg-gray-800/40 p-2 rounded border border-gray-700/40 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Verification"}),n.jsxs("span",{className:"font-mono text-green-300",children:[c.verificationRate,"%"]})]}),n.jsxs("div",{className:"bg-gray-800/40 p-2 rounded border border-gray-700/40 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Efficiency"}),n.jsxs("span",{className:"font-mono text-purple-300",children:[c.efficiency,"%"]})]})]})]})]}),n.jsxs("div",{className:"mt-5",children:[n.jsxs("div",{className:"h-2 rounded-full overflow-hidden bg-gray-700/60",children:[n.jsx("div",{className:"h-2 w-1/2 bg-gradient-to-r from-red-500/50 to-yellow-500/50 inline-block"}),n.jsx("div",{className:"h-2 w-1/4 bg-gradient-to-r from-yellow-500/50 to-green-500/50 inline-block"}),n.jsx("div",{className:"h-2 w-1/4 bg-gradient-to-r from-green-500/50 to-emerald-500/60 inline-block"})]}),n.jsx("div",{className:"relative",children:n.jsx("div",{className:"absolute -mt-1",style:{left:`calc(${d}% - 8px)`},children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-indigo-400 border border-white/20 shadow"})})}),n.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mt-2",children:[n.jsx("span",{children:"Underutilized"}),n.jsx("span",{children:"Nominal"}),n.jsx("span",{children:"High"}),n.jsx("span",{children:"Peak"})]})]})]})]})]}),n.jsxs("div",{className:"mt-6 rounded-xl p-4 border border-cyan-400/40 bg-gray-900/70 backdrop-blur-md relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-900/20 via-blue-900/20 to-purple-900/20"}),n.jsxs("div",{className:"relative z-10 flex items-center gap-5",children:[n.jsxs("svg",{width:"84",height:"84",viewBox:"0 0 84 84",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"sumGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:A.ringFrom}),n.jsx("stop",{offset:"100%",stopColor:A.ringTo})]})}),n.jsx("circle",{cx:"42",cy:"42",r:"32",stroke:"#334155",strokeWidth:"10",fill:"none"}),(()=>{const I=2*Math.PI*32,D=Math.max(0,Math.min(100,d))/100*I,B=I-D;return n.jsx("circle",{cx:"42",cy:"42",r:"32",stroke:"url(#sumGrad)",strokeWidth:"10",fill:"none",strokeDasharray:`${D} ${B}`,strokeLinecap:"round",transform:"rotate(-90 42 42)"})})(),n.jsxs("text",{x:"42",y:"44",textAnchor:"middle",className:"fill-white font-bold",style:{fontSize:"14px"},children:[d,"%"]})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm tracking-widest text-cyan-300 font-semibold",children:"SYSTEM STATUS"}),n.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${A.dot} animate-pulse`}),n.jsx("span",{className:`text-lg font-bold ${A.color}`,children:A.label}),r&&n.jsx("span",{className:"ml-2 text-[10px] px-2 py-0.5 rounded-full bg-emerald-900/30 text-emerald-300 border border-emerald-500/30",children:"LIVE"})]}),n.jsxs("div",{className:"mt-1 text-xs text-cyan-200 font-mono truncate",children:["Index ",d,"% • Reliability ",j(),"%"]}),n.jsx("div",{className:"mt-2",children:n.jsx("svg",{width:"100%",height:"28",viewBox:"0 0 160 48",children:n.jsx("path",{d:w||"M0 48 L160 48",stroke:"#60a5fa",strokeWidth:"2",fill:"none"})})})]})]})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Verification Rate",value:`${c.verificationRate}%`,color:"green"},{label:"Efficiency Score",value:`${c.efficiency}%`,color:"purple"},{label:"Pending Queue",value:t.pendingCertificates||0,color:"amber"},{label:"Active Institutions",value:t.totalInstitutions||0,color:"teal"}].map((I,D)=>n.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-md rounded-lg p-4 border border-gray-800/30 text-center",children:[n.jsx("div",{className:`text-2xl font-bold text-${I.color}-400 mb-1`,children:I.value}),n.jsx("div",{className:"text-xs text-gray-400",children:I.label})]},D))}),r&&n.jsx("div",{className:"bg-gradient-to-r from-indigo-900/20 to-purple-900/20 rounded-xl p-4 border border-indigo-500/30",children:n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-indigo-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-indigo-300 font-medium",children:"Real-time analytics active • Updates every 30 seconds"}),n.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full animate-pulse delay-1000"})]})})]})};lN.propTypes={institutionStats:ie.shape({totalCertificates:ie.number,verifiedCertificates:ie.number,pendingCertificates:ie.number,revokedCertificates:ie.number,totalInstitutions:ie.number,issuedByCurrentInstitution:ie.number}),isLoading:ie.bool,isUpdating:ie.bool,realTimeEnabled:ie.bool,contract:ie.object};lN.defaultProps={institutionStats:{},isLoading:!1,isUpdating:!1,realTimeEnabled:!1,contract:null};const cN=({contract:t,institutionStats:e={},isLoading:s=!1,isUpdating:r=!1,realTimeEnabled:a=!1})=>{const[i,o]=k.useState({recentCertificates:[],courseDistribution:{},gradeDistribution:{},verificationTimeline:[],burnRequests:[],allCourses:{}}),[c,d]=k.useState("7d"),[h,f]=k.useState("issuance"),[x,g]=k.useState(!1),[p,v]=k.useState(null),y=(E,M=320,R=120)=>{if(!Array.isArray(E)||E.length===0)return"";const _=Math.max(...E,1),I=Math.min(...E,0),D=_-I||1,B=M/Math.max(1,E.length-1);return E.map((O,$)=>{const Y=$*B,H=R-(O-I)/D*R;return`${$===0?"M":"L"} ${Y} ${H}`}).join(" ")},w=k.useCallback(async()=>{if(t){g(!0);try{const[E,M,R]=await Promise.all([t.getVerifiedCertificateIds(0,1e3),t.getPendingCertificateIds(0,1e3),t.getRevokedCertificateIds(0,1e3)]),_=[...E,...M,...R],I=[...new Set(_)];if(I.length===0){const Q={};try{console.log("No certificates found, trying to fetch available courses...");for(let Z=0;Z<=100;Z++)try{const ne=await t.getCourseName(Z);if(ne&&ne.trim()){const re=await t.countCertificatesByCourse(Z);console.log(`Found course ${Z}: "${ne}" with ${re} certificates`),Q[ne]={id:Z,name:ne,certificateCount:Number(re),percentage:0}}}catch{console.log(`Course ${Z} doesn't exist, stopping search`);break}console.log("Available courses found:",Q)}catch(Z){console.warn("Error fetching available courses:",Z)}o({recentCertificates:[],courseDistribution:{},gradeDistribution:{"90-100":0,"80-89":0,"70-79":0,"60-69":0,"Below 60":0},verificationTimeline:[],burnRequests:[],allCourses:Q});return}const D=Math.min(10,I.length),B=I.slice(-D),O=[];for(const Q of B)try{const Z=await t.getCertificate(Q);if(Z&&Z.courseId&&Z.grade){let ne=`Course ${Z.courseId}`;try{const re=await t.getCourseName(Z.courseId);re&&re.trim()&&(ne=re)}catch(re){console.warn(`Error fetching course name for ID ${Z.courseId}:`,re)}O.push({id:Number(Q),course:ne,grade:Number(Z.grade),status:Z.isVerified?"verified":"pending",date:new Date(Number(Z.completionDate)*1e3).toLocaleDateString(),student:Z.student,institution:Z.institution})}}catch(Z){console.warn(`Error fetching certificate ${Q}:`,Z)}const $={},Y={"90-100":0,"80-89":0,"70-79":0,"60-69":0,"Below 60":0},H=[];for(const Q of I)try{const Z=await t.getCertificate(Q);if(Z&&Z.courseId&&Z.grade){H.push(Z);let ne=`Course ${Z.courseId}`;try{const ke=await t.getCourseName(Z.courseId);ke&&ke.trim()&&(ne=ke)}catch(ke){console.warn(`Error fetching course name for ID ${Z.courseId}:`,ke)}$[ne]=($[ne]||0)+1;const re=Number(Z.grade);re>=90?Y["90-100"]++:re>=80?Y["80-89"]++:re>=70?Y["70-79"]++:re>=60?Y["60-69"]++:Y["Below 60"]++}}catch(Z){console.warn(`Error fetching certificate ${Q} for distribution:`,Z)}const L=H.length,V={};Object.keys($).forEach(Q=>{V[Q]=Math.round($[Q]/L*100)});const X={};try{const Q=[...new Set(H.map(Z=>Z.courseId))];console.log("Course IDs found in certificates:",Q);for(const Z of Q)try{const ne=await t.getCourseName(Z),re=await t.countCertificatesByCourse(Z);console.log(`Course ${Z}: name="${ne}", count=${re}`),ne&&ne.trim()&&(X[ne]={id:Z,name:ne,certificateCount:Number(re),percentage:L>0?Math.round(Number(re)/L*100):0})}catch(ne){console.warn(`Error fetching course ${Z} details:`,ne)}console.log("All courses data:",X)}catch(Q){console.warn("Error fetching course details:",Q)}const ee=[],F=Math.floor(Date.now()/1e3),z=24*60*60,K={"24h":1,"7d":7,"30d":30,"90d":90,"1y":365}[c]||7;for(let Q=K-1;Q>=0;Q--){const ne=new Date((F-Q*z)*1e3).toISOString().split("T")[0],re=H.filter(be=>new Date(Number(be.completionDate)*1e3).toISOString().split("T")[0]===ne),ke=re.length,Me=re.filter(be=>be.isVerified).length,de=ke-Me;ee.push({date:ne,issued:ke,verified:Me,pending:de})}const W=[];try{(await Promise.all(R.map(async Z=>{try{const ne=await t.getCertificate(Z);if(ne)return{id:Number(Z),reason:"Revoked certificate",status:"approved",date:new Date(Number(ne.completionDate)*1e3).toLocaleDateString()}}catch(ne){console.warn(`Error fetching revoked certificate ${Z}:`,ne)}return null}))).forEach(Z=>{Z&&W.push(Z)})}catch(Q){console.warn("Error fetching burn requests:",Q)}o({recentCertificates:O,courseDistribution:V,gradeDistribution:Y,verificationTimeline:ee,burnRequests:W,allCourses:X})}catch(E){console.error("Error fetching certificate data:",E),v("Failed to fetch certificate data")}finally{g(!1)}}},[t,c]);k.useEffect(()=>{t&&w()},[t,w]),k.useEffect(()=>{if(!t||typeof window>"u"||!window.ethereum)return;let E,M=!0;return(async()=>{try{const{BrowserProvider:_,Contract:I}=await Fr(async()=>{const{BrowserProvider:D,Contract:B}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:D,Contract:B}},void 0);E=new _(window.ethereum),E.on("block",async D=>{try{const B=new I(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,E),[O,$,Y]=await Promise.all([B.queryFilter(B.filters.CertificateIssued(),D,D),B.queryFilter(B.filters.CertificateVerified(),D,D),B.queryFilter(B.filters.CertificateRevoked(),D,D)]);(O.length>0||$.length>0||Y.length>0)&&M&&w()}catch{}})}catch{}})(),()=>{M=!1,E&&E.removeAllListeners("block")}},[t,w]),k.useEffect(()=>{r&&t&&w()},[r,t,w]);const A=k.useMemo(()=>{const{totalCertificates:E=0,verifiedCertificates:M=0,pendingCertificates:R=0,revokedCertificates:_=0}=e;return{total:E,verified:M,pending:R,revoked:_,verificationRate:E>0?Math.round(M/E*100):0,pendingRate:E>0?Math.round(R/E*100):0,revocationRate:E>0?Math.round(_/E*100):0}},[e]),j=k.useMemo(()=>{const E=i.verificationTimeline.map(I=>I.date),M=i.verificationTimeline.map(I=>I.issued),R=i.verificationTimeline.map(I=>I.verified),_=i.verificationTimeline.map(I=>I.pending);return{dates:E,issued:M,verified:R,pending:_}},[i.verificationTimeline]),C=[{value:"24h",label:"24 Hours"},{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}],S=[{value:"issuance",label:"Issuance Trends",color:"blue"},{value:"verification",label:"Verification Status",color:"green"},{value:"grades",label:"Grade Distribution",color:"purple"},{value:"courses",label:"Course Analysis",color:"teal"}];return s||x?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((E,M)=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-4"}),n.jsx("div",{className:"h-32 bg-gray-700 rounded"})]},M))})]}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Certificate Analytics"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Deep insights into certificate issuance, verification patterns, and performance metrics. Track trends and identify opportunities for improvement."}),n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-yellow-400 animate-pulse":"bg-green-400"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:x?"Loading certificate data...":`${i.recentCertificates.length} certificates loaded`})]})]}),p&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Error Loading Data"}),n.jsx("p",{className:"text-sm text-red-300 mt-1",children:p})]}),n.jsx("button",{onClick:()=>v(null),className:"text-red-400 hover:text-red-300 transition-colors",children:n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Time Range:"}),n.jsx("div",{className:"flex bg-gray-800/60 rounded-lg p-1 border border-gray-700/50",children:C.map(E=>n.jsx("button",{onClick:()=>d(E.value),className:`px-3 py-1 text-sm rounded-md transition-all duration-200 ${c===E.value?"bg-indigo-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700/60"}`,children:E.label},E.value))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"View:"}),n.jsx("div",{className:"flex bg-gray-800/60 rounded-lg p-1 border border-gray-700/50",children:S.map(E=>n.jsx("button",{onClick:()=>f(E.value),className:`px-3 py-1 text-sm rounded-md transition-all duration-200 ${h===E.value?"bg-indigo-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700/60"}`,children:E.label},E.value))})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[h==="issuance"&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Issuance Trends"}),j.dates.length>0?n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Last ",c]}),n.jsxs("svg",{viewBox:"0 0 320 120",className:"w-full h-32",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"issGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:"0.05"})]}),n.jsxs("linearGradient",{id:"verGradLine",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#34d399"}),n.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})]}),n.jsx("path",{d:y(j.issued),stroke:"#60a5fa",strokeWidth:"2",fill:"none"}),n.jsx("path",{d:`${y(j.issued)||"M0 120 L320 120"} L320 120 L0 120 Z`,fill:"url(#issGrad)"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs mt-3",children:[n.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700/40 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Issued"}),n.jsx("span",{className:"text-blue-300 font-mono",children:j.issued.reduce((E,M)=>E+M,0)})]}),n.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700/40 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Verified"}),n.jsx("span",{className:"text-green-300 font-mono",children:j.verified.reduce((E,M)=>E+M,0)})]}),n.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700/40 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Pending"}),n.jsx("span",{className:"text-amber-300 font-mono",children:j.pending.reduce((E,M)=>E+M,0)})]})]})]}):n.jsx("div",{className:"text-center py-8 text-gray-400",children:"No data for the selected range"})]}),h==="verification"&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Verification Status"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/40 p-4 rounded border border-gray-700/40 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[A.verificationRate,"%"]}),n.jsx("div",{className:"text-xs text-gray-400",children:"Verification Rate"})]}),n.jsxs("div",{className:"bg-gray-800/40 p-4 rounded border border-gray-700/40 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-400",children:A.pending}),n.jsx("div",{className:"text-xs text-gray-400",children:"Pending"})]}),n.jsxs("div",{className:"bg-gray-800/40 p-4 rounded border border-gray-700/40 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-400",children:A.revoked}),n.jsx("div",{className:"text-xs text-gray-400",children:"Revoked"})]})]})]}),h==="grades"&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Grade Distribution"}),Object.values(i.gradeDistribution).some(E=>E>0)?n.jsx("div",{className:"space-y-2",children:Object.entries(i.gradeDistribution).map(([E,M])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:E}),n.jsx("div",{className:"w-40 bg-gray-800/60 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500",style:{width:`${M/Math.max(...Object.values(i.gradeDistribution))*100||0}%`}})}),n.jsx("span",{className:"text-sm text-purple-300 w-8 text-right",children:M})]},E))}):n.jsx("div",{className:"text-center py-8 text-gray-400",children:"No grade data available"})]}),h==="courses"&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Course Analysis"}),Object.keys(i.allCourses).length>0?n.jsx("div",{className:"space-y-2",children:Object.entries(i.allCourses).sort(([,E],[,M])=>M.certificateCount-E.certificateCount).map(([E,M])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300 truncate max-w-40",children:E}),n.jsx("div",{className:"w-40 bg-gray-800/60 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-emerald-500",style:{width:`${M.certificateCount/Math.max(...Object.values(i.allCourses).map(R=>R.certificateCount))*100||0}%`}})}),n.jsx("span",{className:"text-sm text-teal-300 w-10 text-right",children:M.certificateCount})]},E))}):n.jsx("div",{className:"text-center py-8 text-gray-400",children:"No course data available"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Total Certificates",value:A.total,icon:"📜",color:"indigo",change:"+12.5%",changeType:"positive"},{title:"Verification Rate",value:`${A.verificationRate}%`,icon:"✅",color:"green",change:"+2.1%",changeType:"positive"},{title:"Pending Queue",value:A.pending,icon:"⏳",color:"amber",change:"-5.3%",changeType:"negative"},{title:"Revocation Rate",value:`${A.revocationRate}%`,icon:"🚫",color:"red",change:"-0.2%",changeType:"positive"}].map(E=>n.jsxs("div",{className:"group relative bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-indigo-500/50 transition-all duration-300 hover:scale-105 transform hover:shadow-lg hover:shadow-indigo-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"text-2xl",children:E.icon}),n.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${E.changeType==="positive"?"bg-green-900/40 text-green-300 border border-green-500/30":"bg-red-900/40 text-red-300 border border-red-500/30"}`,children:E.change})]}),n.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:E.value}),n.jsx("div",{className:"text-sm text-gray-400",children:E.title})]},E.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Course Distribution"]}),Object.keys(i.courseDistribution).length>0||Object.keys(i.allCourses).length>0?n.jsxs("div",{className:"space-y-4",children:[Object.keys(i.courseDistribution).length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-400 mb-3 border-b border-gray-700 pb-2",children:"From Certificates"}),Object.entries(i.courseDistribution).sort(([,E],[,M])=>M-E).map(([E,M])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300 truncate max-w-32",children:E}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-24 bg-gray-800/60 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${M/Math.max(...Object.values(i.courseDistribution))*100}%`}})}),n.jsxs("span",{className:"text-sm font-medium text-blue-400 w-8 text-right",children:[M,"%"]})]})]},E))]}),Object.keys(i.allCourses).length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-400 mb-3 border-b border-gray-700 pb-2",children:"All Courses"}),Object.entries(i.allCourses).sort(([,E],[,M])=>M.certificateCount-E.certificateCount).map(([E,M])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300 truncate max-w-32",children:E}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-24 bg-gray-800/60 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${M.certificateCount/Math.max(...Object.values(i.allCourses).map(R=>R.certificateCount))*100}%`}})}),n.jsx("span",{className:"text-sm font-medium text-green-400 w-12 text-right",children:M.certificateCount})]})]},E))]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📚"}),n.jsx("div",{children:"No course data available"}),n.jsx("div",{className:"text-sm mt-2",children:"Courses will appear here once they are created and certificates are issued"})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Grade Distribution"]}),Object.values(i.gradeDistribution).some(E=>E>0)?n.jsx("div",{className:"space-y-4",children:Object.entries(i.gradeDistribution).map(([E,M])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:E}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-24 bg-gray-800/60 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${M/Math.max(...Object.values(i.gradeDistribution))*100}%`}})}),n.jsx("span",{className:"text-sm font-medium text-purple-400 w-8 text-right",children:M})]})]},E))}):n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📊"}),n.jsx("div",{children:"No grade data available"})]})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl border border-gray-800/50 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-800/50",children:n.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-teal-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Recent Certificates"]})}),i.recentCertificates.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-800/40",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Course"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Grade"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-800/50",children:i.recentCertificates.map(E=>n.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors duration-200",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:["#",E.id]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 truncate max-w-32",children:E.course}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[E.grade,"%"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.status==="verified"?"bg-green-900/40 text-green-300 border border-green-500/30":"bg-amber-900/40 text-amber-300 border border-amber-500/30"}`,children:E.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:E.date})]},E.id))})]})}):n.jsxs("div",{className:"text-center py-12 text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📜"}),n.jsx("div",{children:"No certificates found"}),n.jsx("div",{className:"text-sm mt-2",children:"Certificates will appear here once they are issued"})]})]}),a&&n.jsx("div",{className:"bg-gradient-to-r from-blue-900/20 to-indigo-900/20 rounded-xl p-4 border border-blue-500/30",children:n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse"}),n.jsxs("span",{className:"text-sm text-blue-300 font-medium",children:["Certificate analytics updating in real-time • Last update: ",r?"Now":"30s ago"]}),n.jsx("div",{className:"w-3 h-3 bg-indigo-400 rounded-full animate-pulse delay-1000"})]})})]})};cN.propTypes={contract:ie.object,institutionStats:ie.shape({totalCertificates:ie.number,verifiedCertificates:ie.number,pendingCertificates:ie.number,revokedCertificates:ie.number}),isLoading:ie.bool,isUpdating:ie.bool,realTimeEnabled:ie.bool};cN.defaultProps={contract:null,institutionStats:{},isLoading:!1,isUpdating:!1,realTimeEnabled:!1};Fm.register(cb,db,Ef,Ji,Sf,w0,N0,yD,ND,bD,gD);const dN=({contract:t,roleConstants:e,currentAccount:s,institutionStats:r={},isLoading:a=!1,isUpdating:i=!1,realTimeEnabled:o=!1})=>{const[c,d]=k.useState("all"),[h,f]=k.useState({institutions:[],performanceMetrics:{averageVerificationTime:"0 days",totalInstitutions:0,activeInstitutions:0,averagePerformance:0}}),[x,g]=k.useState(!1),[p,v]=k.useState(null),{stats:y,isLoading:w,error:A,refreshStats:j}=Ub(t,e,s),C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"rgb(209, 213, 219)",font:{size:12}}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.9)",titleColor:"rgb(255, 255, 255)",bodyColor:"rgb(209, 213, 219)",borderColor:"rgba(107, 114, 128, 0.5)",borderWidth:1,padding:10,displayColors:!0,usePointStyle:!0,intersect:!1}},animation:{duration:1e3,easing:"easeOutQuart"}},S={...C,scales:{y:{beginAtZero:!0,grid:{color:"rgba(75, 85, 99, 0.2)"},ticks:{color:"rgb(209, 213, 219)"}},x:{grid:{display:!1},ticks:{color:"rgb(209, 213, 219)"}}}},E={...C,scales:{y:{beginAtZero:!0,grid:{color:"rgba(75, 85, 99, 0.2)"},ticks:{color:"rgb(209, 213, 219)"}},x:{grid:{display:!1},ticks:{color:"rgb(209, 213, 219)"}}},elements:{line:{tension:.4},point:{radius:4,hoverRadius:6}}};({...C.plugins,legend:{...C.plugins.legend,labels:{...C.plugins.legend.labels}},tooltip:{...C.plugins.tooltip}});const M=k.useCallback(async()=>{if(t){g(!0);try{const[R,_,I]=await Promise.all([t.getVerifiedCertificateIds(0,1e3),t.getPendingCertificateIds(0,1e3),t.getRevokedCertificateIds(0,1e3)]),D=[...R,..._,...I],B=[...new Set(D)];if(B.length===0){f({institutions:[],performanceMetrics:{totalInstitutions:y.totalInstitutions||0,activeInstitutions:y.totalInstitutions||0,averagePerformance:0,averageVerificationTime:"0 days"}});return}const O={},$={};for(const z of B)try{const G=await t.getCertificate(z);if(G&&G.institution){const K=G.institution.toLowerCase();O[K]||(O[K]={total:0,verified:0,pending:0,revoked:0,totalGrade:0},$[K]=[]),O[K].total++,O[K].totalGrade+=Number(G.grade||0),G.isVerified?O[K].verified++:O[K].pending++,$[K].push(G)}}catch(G){console.warn(`Error fetching certificate ${z} for institution analysis:`,G)}try{const z=await t.getRevokedCertificateIds(0,1e3);for(const G of z)try{const K=await t.getCertificate(G);if(K&&K.institution){const W=K.institution.toLowerCase();O[W]&&(O[W].revoked++,O[W].verified--)}}catch(K){console.warn(`Error fetching revoked certificate ${G}:`,K)}}catch(z){console.warn("Error fetching revoked certificates:",z)}const Y=[];let H=0,L=0;Object.entries(O).forEach(([z,G])=>{if(G.total>0){const K=G.total>0?Math.round(G.verified/G.total*100):0,W=G.total>0?Math.round(G.totalGrade/G.total):0;let Q=0;if(G.verified>0){const Z=$[z].filter(ne=>ne.isVerified);if(Z.length>0){const ne=Math.floor(Date.now()/1e3),re=Z.reduce((ke,Me)=>ke+(ne-Number(Me.completionDate||0)),0);Q=Math.round(re/Z.length/(24*60*60))}}Y.push({address:z,name:`${z.slice(0,6)}...${z.slice(-4)}`,certificates:G.total,verified:G.verified,pending:G.pending,revoked:G.revoked,performance:K,averageGrade:W,verificationTime:Q}),H+=K,L++}}),Y.sort((z,G)=>G.performance-z.performance);const V=Y.reduce((z,G)=>z+G.verificationTime,0),X=L>0?Math.round(V/L):0,ee=(y.activeInstitutionAddresses||[]).map(z=>z.toLowerCase()).filter(z=>!Y.some(G=>G.address===z)).map(z=>({address:z,name:`${z.slice(0,6)}...${z.slice(-4)}`,certificates:0,verified:0,pending:0,revoked:0,performance:0,averageGrade:0,verificationTime:0})),F=[...Y,...ee];f({institutions:F,performanceMetrics:{totalInstitutions:y.totalInstitutions||F.length,activeInstitutions:y.totalInstitutions||F.length,averagePerformance:F.length>0?Math.round(H/(L||F.length)):0,averageVerificationTime:`${X} days`}})}catch(R){console.error("Error fetching institution data:",R),v("Failed to fetch institution data")}finally{g(!1)}}},[t,y.totalInstitutions,y.activeInstitutionAddresses]);return k.useEffect(()=>{t&&M()},[t,M]),k.useEffect(()=>{(i||y.lastUpdated)&&t&&M()},[i,y.lastUpdated,t,M]),k.useEffect(()=>{v(A||null)},[A]),a||x||w?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((R,_)=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-700 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/3"})]},_))})]}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-3xl"}),n.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-8 border border-cyan-500/30 shadow-[0_0_50px_rgba(0,255,255,0.3)]",children:[n.jsx("h2",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-4 tracking-wider",children:"INSTITUTION ANALYTICS"}),n.jsx("p",{className:"text-lg text-cyan-200 max-w-3xl mx-auto font-mono leading-relaxed",children:"Advanced blockchain performance monitoring with real-time cybernetic insights"}),n.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-cyan-400 rounded-full animate-ping"})]}),n.jsx("span",{className:"text-cyan-300 font-mono text-sm font-medium",children:x?"SYNCING DATA...":`${h.institutions.length} INSTITUTIONS ANALYZED`})]}),y.lastUpdated&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),n.jsxs("span",{className:"text-blue-300 font-mono text-xs",children:["LAST UPDATE: ",new Date(y.lastUpdated).toLocaleTimeString()]})]})]})]})]}),n.jsx("div",{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[{label:"TOTAL CERTIFICATES",value:y.totalCertificates||0,color:"blue",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),accent:"from-blue-400 via-cyan-400 to-blue-600",bg:"from-slate-900/80 via-blue-950/60 to-slate-900/80",border:"from-blue-400/50 via-cyan-400/50 to-blue-600/50"},{label:"VERIFIED",value:y.verifiedCertificates||0,color:"emerald",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),accent:"from-emerald-400 via-green-400 to-emerald-600",bg:"from-slate-900/80 via-emerald-950/60 to-slate-900/80",border:"from-emerald-400/50 via-green-400/50 to-emerald-600/50"},{label:"PENDING",value:y.pendingCertificates||0,color:"amber",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),accent:"from-amber-400 via-yellow-400 to-amber-600",bg:"from-slate-900/80 via-amber-950/60 to-slate-900/80",border:"from-amber-400/50 via-yellow-400/50 to-amber-600/50"},{label:"REVOKED",value:y.revokedCertificates||0,color:"rose",icon:n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),accent:"from-rose-400 via-pink-400 to-rose-600",bg:"from-slate-900/80 via-rose-950/60 to-slate-900/80",border:"from-rose-400/50 via-pink-400/50 to-rose-600/50"}].map((R,_)=>n.jsx("div",{className:"relative group cursor-pointer",children:n.jsxs("div",{className:"relative transform transition-all duration-700 group-hover:scale-105 group-hover:-translate-y-3 group-hover:rotate-2 perspective-1000",children:[n.jsx("div",{className:"absolute -inset-6 bg-gradient-to-br from-white/5 via-transparent to-white/5 rounded-3xl blur-3xl group-hover:blur-2xl transition-all duration-700 opacity-0 group-hover:opacity-100"}),n.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900/95 via-slate-800/90 to-slate-900/95 backdrop-blur-3xl rounded-3xl p-8 border border-slate-600/30 shadow-2xl group-hover:shadow-[0_35px_60px_-15px_rgba(0,0,0,0.9)] transition-all duration-700 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),n.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r ${R.accent} rounded-t-3xl opacity-80 group-hover:opacity-100 transition-opacity duration-500 shadow-[0_0_20px_rgba(0,255,255,0.5)]`}),n.jsxs("div",{className:"relative z-10 text-center",children:[n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${R.accent} rounded-3xl blur-2xl opacity-60 group-hover:opacity-80 transition-all duration-500`}),n.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/90 to-slate-900/90 rounded-3xl p-6 border border-slate-500/50 shadow-2xl group-hover:shadow-[0_20px_40px_-10px_rgba(0,0,0,0.8)] transition-all duration-500 group-hover:scale-110 group-hover:rotate-3",children:[n.jsx("div",{className:`text-${R.color}-400 group-hover:text-${R.color}-300 transition-colors duration-500`,children:R.icon}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[...Array(6)].map((I,D)=>n.jsx("div",{className:`absolute w-1 h-1 bg-gradient-to-r ${R.accent} rounded-full opacity-60`,style:{top:`${20+Math.random()*60}%`,left:`${20+Math.random()*60}%`,animation:`float ${3+Math.random()*4}s ease-in-out infinite`,animationDelay:`${Math.random()*2}s`}},D))})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:`text-6xl font-black bg-gradient-to-r ${R.accent} bg-clip-text text-transparent tracking-tighter group-hover:scale-110 transition-transform duration-500 drop-shadow-lg`,children:R.value})}),n.jsx("div",{className:"text-sm font-bold text-slate-200 uppercase tracking-[0.2em] group-hover:text-white transition-colors duration-500 font-mono",children:R.label})]}),n.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${R.accent} rounded-b-3xl opacity-60 group-hover:opacity-100 transition-opacity duration-500 shadow-[0_0_15px_rgba(0,255,255,0.4)]`}),n.jsx("div",{className:`absolute top-6 right-6 w-3 h-3 bg-gradient-to-r ${R.accent} rounded-full opacity-80 group-hover:opacity-100 transition-all duration-500 shadow-[0_0_10px_rgba(0,255,255,0.6)]`}),n.jsx("div",{className:`absolute bottom-6 left-6 w-3 h-3 bg-gradient-to-r ${R.accent} rounded-full opacity-80 group-hover:opacity-100 transition-all duration-500 shadow-[0_0_10px_rgba(0,255,255,0.6)]`}),n.jsx("div",{className:`absolute top-4 right-4 w-8 h-0.5 bg-gradient-to-r ${R.accent} opacity-60 group-hover:opacity-100 transition-all duration-500 transform rotate-45 origin-center`}),n.jsx("div",{className:`absolute bottom-4 left-4 w-8 h-0.5 bg-gradient-to-r ${R.accent} opacity-60 group-hover:opacity-100 transition-all duration-500 transform -rotate-45 origin-center`}),n.jsx("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${R.accent} opacity-0 group-hover:opacity-10 transition-opacity duration-700`}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:[...Array(12)].map((I,D)=>n.jsx("div",{className:`absolute w-0.5 h-8 bg-gradient-to-b ${R.accent} opacity-40`,style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animation:`dataStream ${4+Math.random()*6}s linear infinite`,animationDelay:`${Math.random()*4}s`}},D))})]})]})},R.label))}),p&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L10 11.414l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Error Loading Data"}),n.jsx("p",{className:"text-sm text-red-300 mt-1",children:p})]}),n.jsx("button",{onClick:()=>{v(null),j()},className:"text-red-400 hover:text-red-300 transition-colors",children:n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 8.586 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Verification Status"}),n.jsx("div",{className:"h-64",children:n.jsxs("div",{className:"relative h-full flex items-center justify-center",children:[n.jsx(SD,{data:{labels:["Verified","Pending","Revoked"],datasets:[{data:[y.verifiedCertificates||0,y.pendingCertificates||0,y.revokedCertificates||0],backgroundColor:["rgba(72, 187, 120, 0.7)","rgba(237, 137, 54, 0.7)","rgba(229, 62, 62, 0.7)"],borderColor:["rgb(72, 187, 120)","rgb(237, 137, 54)","rgb(229, 62, 62)"],borderWidth:1}]},options:{...C,cutout:"70%",plugins:{...C.plugins,legend:{...C.plugins.legend,position:"bottom"}}}}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[n.jsx("div",{className:"text-3xl font-bold text-white",children:(y.verifiedCertificates||0)+(y.pendingCertificates||0)+(y.revokedCertificates||0)}),n.jsx("div",{className:"text-xs text-gray-400",children:"Total"})]})]})})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Institution Metrics"}),n.jsx("div",{className:"h-64",children:n.jsx(x4,{data:{labels:["Total Institutions","Active Institutions","Verification Rate","Revocation Rate"],datasets:[{label:"Metrics",data:[y.totalInstitutions||0,y.totalInstitutions||0,y.totalCertificates>0?Math.round(y.verifiedCertificates/y.totalCertificates*100):0,y.totalCertificates>0?Math.round(y.revokedCertificates/y.totalCertificates*100):0],backgroundColor:["rgba(79, 70, 229, 0.7)","rgba(16, 185, 129, 0.7)","rgba(59, 130, 246, 0.7)","rgba(239, 68, 68, 0.7)"],borderColor:["rgb(79, 70, 229)","rgb(16, 185, 129)","rgb(59, 130, 246)","rgb(239, 68, 68)"],borderWidth:1}]},options:{...S,plugins:{...S.plugins,legend:{display:!1}}}})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-purple-500/30 transition-all duration-300",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full mr-2 animate-pulse"}),"Institution Certificate Distribution"]}),n.jsx("div",{className:"h-80",children:h.institutions.length>0?n.jsx(x4,{data:{labels:h.institutions.slice(0,5).map(R=>R.name),datasets:[{label:"Verified",data:h.institutions.slice(0,5).map(R=>R.verified),backgroundColor:"rgba(72, 187, 120, 0.7)",borderColor:"rgb(72, 187, 120)",borderWidth:1},{label:"Pending",data:h.institutions.slice(0,5).map(R=>R.pending),backgroundColor:"rgba(237, 137, 54, 0.7)",borderColor:"rgb(237, 137, 54)",borderWidth:1},{label:"Revoked",data:h.institutions.slice(0,5).map(R=>R.revoked||0),backgroundColor:"rgba(229, 62, 62, 0.7)",borderColor:"rgb(229, 62, 62)",borderWidth:1}]},options:{...S,scales:{...S.scales,x:{...S.scales.x,stacked:!0},y:{...S.scales.y,stacked:!0}}}}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-400",children:"No institution data available"})})})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-blue-500/30 transition-all duration-300",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full mr-2 animate-pulse"}),"Performance Metrics"]}),n.jsx("div",{className:"h-80",children:h.institutions.length>0?n.jsx(ED,{data:{labels:h.institutions.slice(0,5).map(R=>R.name),datasets:[{label:"Performance %",data:h.institutions.slice(0,5).map(R=>R.performance||0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0},{label:"Avg Grade %",data:h.institutions.slice(0,5).map(R=>R.averageGrade||0),borderColor:"rgb(139, 92, 246)",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:2,fill:!0,yAxisID:"y1"}]},options:{...E,scales:{...E.scales,y:{...E.scales.y,type:"linear",display:!0,position:"left",title:{display:!0,text:"Performance %",color:"rgb(209, 213, 219)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Average Grade %",color:"rgb(209, 213, 219)"},grid:{drawOnChartArea:!1},ticks:{color:"rgb(209, 213, 219)"}}}}}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-400",children:"No institution data available"})})})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl border border-gray-800/50 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-800/50",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-teal-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Top Institution Rankings"]}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Top performing institutions ranked by verification efficiency"})]}),h.institutions.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-800/40",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Rank"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Institution"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Certificates"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Verified"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pending"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Performance"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Avg Grade"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-800/50",children:h.institutions.slice(0,5).map((R,_)=>n.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors duration-200",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:[_===0&&n.jsx("span",{className:"text-yellow-400 mr-2",children:"🥇"}),_===1&&n.jsx("span",{className:"text-gray-400 mr-2",children:"🥈"}),_===2&&n.jsx("span",{className:"text-amber-600 mr-2",children:"🥉"}),"#",_+1]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white font-mono",children:R.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:R.certificates}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400",children:R.verified}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-amber-400",children:R.pending}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`text-sm font-medium ${R.performance>=90?"text-green-400":R.performance>=80?"text-blue-400":R.performance>=70?"text-yellow-400":"text-red-400"}`,children:[R.performance,"%"]}),n.jsx("div",{className:"w-16 bg-gray-800/60 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${R.performance>=90?"bg-green-500":R.performance>=80?"bg-blue-500":R.performance>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${R.performance}%`}})})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[R.averageGrade,"%"]})]},R.address))})]})}):n.jsxs("div",{className:"text-center py-12 text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"🏛️"}),n.jsx("div",{children:"No institutions found"}),n.jsx("div",{className:"text-sm mt-2",children:"Institution data will appear here once certificates are issued"})]})]}),h.institutions.length>0&&n.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/80 via-indigo-950/60 to-gray-900/80 backdrop-blur-xl rounded-2xl p-6 border border-indigo-500/20 shadow-[0_0_25px_rgba(99,102,241,0.15)] hover:shadow-[0_0_35px_rgba(99,102,241,0.25)] transition-all duration-500 overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-10 pointer-events-none",children:[n.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-cyan-500 rounded-full filter blur-[80px]"}),n.jsx("div",{className:"absolute bottom-10 right-10 w-60 h-60 bg-indigo-500 rounded-full filter blur-[100px]"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-violet-500 rounded-full filter blur-[120px] opacity-20"})]}),n.jsx("div",{className:"relative z-10",children:n.jsxs("h3",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-400 mb-6 flex items-center",children:[n.jsxs("div",{className:"relative mr-3 w-8 h-8 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-indigo-600/30 rounded-full blur-sm opacity-75"}),n.jsx("svg",{className:"w-6 h-6 text-indigo-400 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),"Performance Insights",n.jsx("div",{className:"ml-2 text-xs font-normal text-indigo-400 bg-indigo-950/50 px-2 py-1 rounded-full border border-indigo-500/30",children:"LIVE"})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 relative z-10",children:[n.jsxs("div",{className:"lg:col-span-7 bg-gray-900/50 backdrop-blur-md rounded-xl p-5 border border-gray-800/50 hover:border-indigo-500/30 transition-all duration-300 shadow-lg",children:[n.jsx("h4",{className:"font-medium text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-300 mb-6",children:"Key Performance Metrics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-32 h-32",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(8, 145, 178, 0.1)",strokeWidth:"8"}),n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"url(#verificationGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"283",strokeDashoffset:283-283*h.performanceMetrics.averagePerformance/100,transform:"rotate(-90 50 50)",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.5))"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"verificationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsxs("span",{className:"text-2xl font-bold text-cyan-400",children:[h.performanceMetrics.averagePerformance,"%"]}),n.jsx("span",{className:"text-xs text-cyan-300/80 mt-1",children:"Verification"})]})]}),n.jsxs("div",{className:"mt-3 text-center",children:[n.jsx("h5",{className:"text-sm font-medium text-white",children:"Verification Rate"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Industry avg: 78%"})]})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-32 h-32",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(16, 185, 129, 0.1)",strokeWidth:"8"}),n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"url(#timeGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"283",strokeDashoffset:283-283*(100-Math.min(100,parseInt(h.performanceMetrics.averageVerificationTime)*10))/100,transform:"rotate(-90 50 50)",style:{filter:"drop-shadow(0 0 6px rgba(16, 185, 129, 0.5))"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"timeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#10b981"}),n.jsx("stop",{offset:"100%",stopColor:"#059669"})]})})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:h.performanceMetrics.averageVerificationTime.split(" ")[0]}),n.jsx("span",{className:"text-xs text-emerald-300/80 mt-1",children:"Days"})]})]}),n.jsxs("div",{className:"mt-3 text-center",children:[n.jsx("h5",{className:"text-sm font-medium text-white",children:"Verification Time"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Industry avg: 3 days"})]})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-32 h-32",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(168, 85, 247, 0.1)",strokeWidth:"8"}),n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"url(#qualityGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"283",strokeDashoffset:283-283*Math.round(h.institutions.reduce((R,_)=>R+(_.averageGrade||0),0)/Math.max(1,h.institutions.length))/100,transform:"rotate(-90 50 50)",style:{filter:"drop-shadow(0 0 6px rgba(168, 85, 247, 0.5))"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"qualityGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),n.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsxs("span",{className:"text-2xl font-bold text-purple-400",children:[Math.round(h.institutions.reduce((R,_)=>R+(_.averageGrade||0),0)/Math.max(1,h.institutions.length)),"%"]}),n.jsx("span",{className:"text-xs text-purple-300/80 mt-1",children:"Quality"})]})]}),n.jsxs("div",{className:"mt-3 text-center",children:[n.jsx("h5",{className:"text-sm font-medium text-white",children:"Certificate Quality"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Industry avg: 85%"})]})]})]})]}),n.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[n.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-md rounded-xl p-5 border border-gray-800/50 hover:border-indigo-500/30 transition-all duration-300 shadow-lg",children:[n.jsx("h4",{className:"font-medium text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-300 mb-4",children:"Performance Distribution"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"relative group overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/20 to-green-900/10 rounded-lg transform group-hover:scale-105 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 border border-green-500/30 rounded-lg shadow-[0_0_15px_rgba(34,197,94,0.2)] group-hover:shadow-[0_0_25px_rgba(34,197,94,0.3)] transition-all duration-500"}),n.jsxs("div",{className:"relative p-3 rounded-lg z-10",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 mr-2"}),n.jsx("div",{className:"text-xs text-green-300 font-medium",children:"Excellent (90%+)"})]}),n.jsx("div",{className:"text-xl font-bold text-green-400 mt-1 ml-4",children:h.institutions.filter(R=>R.performance>=90).length})]})]}),n.jsxs("div",{className:"relative group overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-blue-900/10 rounded-lg transform group-hover:scale-105 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 border border-blue-500/30 rounded-lg shadow-[0_0_15px_rgba(59,130,246,0.2)] group-hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-all duration-500"}),n.jsxs("div",{className:"relative p-3 rounded-lg z-10",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mr-2"}),n.jsx("div",{className:"text-xs text-blue-300 font-medium",children:"Good (80-89%)"})]}),n.jsx("div",{className:"text-xl font-bold text-blue-400 mt-1 ml-4",children:h.institutions.filter(R=>R.performance>=80&&R.performance<90).length})]})]}),n.jsxs("div",{className:"relative group overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-600/20 to-yellow-900/10 rounded-lg transform group-hover:scale-105 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 border border-yellow-500/30 rounded-lg shadow-[0_0_15px_rgba(234,179,8,0.2)] group-hover:shadow-[0_0_25px_rgba(234,179,8,0.3)] transition-all duration-500"}),n.jsxs("div",{className:"relative p-3 rounded-lg z-10",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-2"}),n.jsx("div",{className:"text-xs text-yellow-300 font-medium",children:"Fair (70-79%)"})]}),n.jsx("div",{className:"text-xl font-bold text-yellow-400 mt-1 ml-4",children:h.institutions.filter(R=>R.performance>=70&&R.performance<80).length})]})]}),n.jsxs("div",{className:"relative group overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/20 to-red-900/10 rounded-lg transform group-hover:scale-105 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 border border-red-500/30 rounded-lg shadow-[0_0_15px_rgba(239,68,68,0.2)] group-hover:shadow-[0_0_25px_rgba(239,68,68,0.3)] transition-all duration-500"}),n.jsxs("div",{className:"relative p-3 rounded-lg z-10",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400 mr-2"}),n.jsx("div",{className:"text-xs text-red-300 font-medium",children:"Needs Improvement (<70%)"})]}),n.jsx("div",{className:"text-xl font-bold text-red-400 mt-1 ml-4",children:h.institutions.filter(R=>R.performance<70).length})]})]})]})]}),n.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-md rounded-xl p-5 border border-gray-800/50 hover:border-indigo-500/30 transition-all duration-300 shadow-lg",children:[n.jsx("h4",{className:"font-medium text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-300 mb-4",children:"Top Performers"}),n.jsx("div",{className:"space-y-3",children:h.institutions.slice(0,3).map((R,_)=>n.jsxs("div",{className:"relative group overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-900/30 via-indigo-800/20 to-indigo-900/30 rounded-lg transform group-hover:scale-[1.02] transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 border border-indigo-500/30 rounded-lg shadow-[0_0_10px_rgba(99,102,241,0.2)] group-hover:shadow-[0_0_20px_rgba(99,102,241,0.3)] transition-all duration-500"}),n.jsxs("div",{className:"relative flex items-center p-3 rounded-lg z-10",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-indigo-900/70 mr-3 border border-indigo-500/30 shadow-[0_0_10px_rgba(99,102,241,0.3)]",children:n.jsx("span",{className:"text-lg",children:_===0?"🥇":_===1?"🥈":"🥉"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-white font-mono",children:R.name}),n.jsxs("div",{className:"flex items-center mt-1 space-x-3",children:[n.jsxs("div",{className:"text-xs bg-green-900/30 text-green-400 px-2 py-0.5 rounded-full border border-green-500/20",children:[R.verified," verified"]}),n.jsxs("div",{className:"text-xs bg-purple-900/30 text-purple-400 px-2 py-0.5 rounded-full border border-purple-500/20",children:[R.averageGrade||0,"% grade"]})]})]}),n.jsx("div",{className:"flex-shrink-0 ml-2",children:n.jsxs("div",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-300",children:[R.performance,"%"]})})]})]},R.address))})]})]})]}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[...Array(20)].map((R,_)=>n.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-indigo-400 opacity-50",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animation:`float ${5+Math.random()*10}s linear infinite`,animationDelay:`${Math.random()*5}s`}},_))}),n.jsx("style",{children:`
              @keyframes float {
                0% { transform: translateY(0) translateX(0); opacity: 0; }
                50% { opacity: 0.8; }
                100% { transform: translateY(-100px) translateX(20px); opacity: 0; }
              }
              
              @keyframes dataStream {
                0% { transform: translateY(100px) scaleY(0); opacity: 0; }
                50% { transform: translateY(0) scaleY(1); opacity: 0.8; }
                100% { transform: translateY(-100px) scaleY(0); opacity: 0; }
              }
            `})]}),o&&n.jsx("div",{className:"bg-gradient-to-r from-teal-900/20 to-blue-900/20 rounded-xl p-4 border border-teal-500/30",children:n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-teal-400 rounded-full"}),n.jsxs("span",{className:"text-sm text-teal-300 font-medium",children:["Institution analytics updating in real-time • Last update: ",y.lastUpdated?new Date(y.lastUpdated).toLocaleTimeString():"Never"]}),n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"})]})})]})};dN.propTypes={contract:ie.object,roleConstants:ie.object,currentAccount:ie.string,institutionStats:ie.object,isLoading:ie.bool,isUpdating:ie.bool,realTimeEnabled:ie.bool};dN.defaultProps={contract:null,roleConstants:null,currentAccount:null,institutionStats:{},isLoading:!1,isUpdating:!1,realTimeEnabled:!1};console.log("Contract address loaded:",Ze);console.log("Contract ABI loaded, type:",typeof Ue);const lse=(t,e={})=>{const{refreshInterval:s=3e4,realTimeEnabled:r=!1,maxHistoryPoints:a=20}=e;console.log("useNetworkAnalytics received contract:",t),console.log("Contract type:",typeof t),console.log("Contract keys:",t?Object.keys(t):"null"),t&&(console.log("Contract provider:",t.provider),console.log("Contract signer:",t.signer),console.log("Contract interface:",t.interface));const[i,o]=k.useState(null),[c,d]=k.useState({gasPrice:0,blockNumber:0,networkId:null,chainId:null,latency:0,status:"unknown",lastUpdate:null,currentBlock:0,networkStatus:"unknown",networkHealth:{blockConfirmation:"unknown",congestion:"unknown",gasEfficiency:"unknown",uptime:"99.9%",responseTime:"0ms",securityScore:"A+"},contractMetrics:{totalTransactions:0,averageGasUsed:0,lastActivity:"None",errorRate:0}}),[h,f]=k.useState({gasPriceHistory:[],latencyHistory:[],blockTimeHistory:[],gasPrice:"stable",blockTime:"consistent"}),[x,g]=k.useState(!1),[p,v]=k.useState(null),[y,w]=k.useState(()=>{}),[A,j]=k.useState(!1),C=k.useRef(null),S=k.useRef(0),E=k.useRef(Date.now()),M=k.useCallback(async()=>{var L,V;if(t)return console.log("Using external contract, no need to initialize local contract"),t;try{if(j(!0),console.log("Initializing local contract..."),!window.ethereum)throw new Error("MetaMask not installed");if((await window.ethereum.request({method:"eth_requestAccounts"})).length===0)throw new Error("No accounts found");const ee=new Xe(window.ethereum);if((await ee.getNetwork()).chainId!==11155111n)throw new Error("Please connect to Sepolia network");console.log("Contract ABI type:",typeof Ue),console.log("Contract ABI keys:",Object.keys(Ue));let z;if(typeof Ue=="object"&&Ue.SoulboundCertificateNFT)console.log("Found SoulboundCertificateNFT key in ABI object"),z=Ue.SoulboundCertificateNFT;else if(Array.isArray(Ue))console.log("ABI is array format"),z=Ue;else{console.log("ABI in unknown format, searching for array content");const W=Object.keys(Ue);for(const Q of W)if(Array.isArray(Ue[Q])){console.log(`Found array in key: ${Q}`),z=Ue[Q];break}!z&&typeof Ue=="object"&&Object.keys(Ue).length>0&&(console.log("Using contractABI directly as interface"),z=Ue)}if(!z){console.error("Could not find valid ABI format:",Ue),v("Contract ABI is invalid or missing"),j(!1);return}console.log("Using ABI:",typeof z,Array.isArray(z)?z.length:"non-array"),console.log("ABI sample:",z.slice?z.slice(0,3):"non-array ABI");const G=Ze.SoulboundCertificateNFT||Ze.defaultNetwork&&((L=Ze[Ze.defaultNetwork])==null?void 0:L.SoulboundCertificateNFT);console.log("Target contract address:",G);const K=new jt(G,z,ee);console.log("Local contract initialized:",K),console.log("Contract interface methods:",Object.keys(((V=K.interface)==null?void 0:V.functions)||{}));try{const W=await K.name();console.log("Contract name:",W)}catch(W){console.warn("Could not get contract name, but contract instance created:",W.message)}return o(K),K}catch(X){throw console.error("Error initializing local contract:",X),v(X.message),X}finally{j(!1)}},[t]),R=k.useCallback(async()=>{try{return(await window.ethereum.request({method:"eth_accounts"})).length>0}catch(L){return console.error("Error checking wallet connection:",L),!1}},[]),_=k.useCallback(async()=>{try{return(await window.ethereum.request({method:"eth_requestAccounts"})).length>0}catch(L){return console.error("Error connecting wallet:",L),!1}},[]),I=k.useCallback(()=>{if(window.ethereum)return new Xe(window.ethereum);try{const L="https://eth-sepolia.g.alchemy.com/v2/kepUw7sPrkvIrU8AH0CJBX3jqBI4sgq_";if(L)return console.log("Using fallback RPC provider from environment"),new Ib(L)}catch(L){console.log("Fallback RPC provider failed:",L.message)}return null},[]),D=k.useCallback(async L=>{const V=Date.now();try{const X=await L.getBlockNumber();return{success:!0,latency:Date.now()-V,blockNumber:X}}catch{return{success:!1,latency:0,blockNumber:0}}},[]),B=k.useCallback((L,V)=>L===0?"error":L<1e3?"optimal":L<3e3?"moderate":L<5e3?"slow":V>50?"congested":"moderate",[]),O=k.useCallback(async L=>{try{console.log("Fetching contract data..."),console.log("Contract instance methods:",Object.keys(L));const X=["totalSupply","getRecentCertificates","getVerifiedCertificateIds","getRevokedCertificateIds","getPendingCertificateIds"].filter(Me=>!L[Me]);if(X.length>0&&(console.warn("Missing contract methods:",X),console.log("Available methods:",Object.keys(L)),L.interface)){const Me=Object.keys(L.interface.functions);console.log("Interface methods:",Me)}let ee=0;try{L.totalSupply?(ee=await L.totalSupply(),console.log("Total supply:",ee.toString())):console.warn("totalSupply method not available")}catch(Me){console.error("Error getting total supply:",Me)}let F=[];try{L.getRecentCertificates?(F=await L.getRecentCertificates(10),console.log("Recent certificates:",F)):console.warn("getRecentCertificates method not available")}catch(Me){console.error("Error getting recent certificates:",Me)}let z=[];try{L.getVerifiedCertificateIds?(z=await L.getVerifiedCertificateIds(0,1e3),console.log("Verified certificates count:",z.length)):console.warn("getVerifiedCertificateIds method not available")}catch(Me){console.error("Error getting verified certificates:",Me)}let G=[];try{L.getRevokedCertificateIds?(G=await L.getRevokedCertificateIds(0,1e3),console.log("Revoked certificates count:",G.length)):console.warn("getRevokedCertificateIds method not available")}catch(Me){console.error("Error getting revoked certificates:",Me)}let K=[];try{L.getPendingCertificateIds?(K=await L.getPendingCertificateIds(0,1e3),console.log("Pending certificates count:",K.length)):console.warn("getPendingCertificateIds method not available")}catch(Me){console.error("Error getting pending certificates:",Me)}const W=parseInt(ee.toString())||0,Q=z.length||0,Z=G.length||0,ne=K.length||0,re=W>0?Z/W*100:0;let ke="None";if(F.length>0)try{const Me=F[F.length-1];if(Me&&L.getCertificate){const de=await L.getCertificate(Me);if(de&&de.completionDate){const be=parseInt(de.completionDate.toString())*1e3;ke=new Date(be).toLocaleTimeString()}}}catch(Me){console.log("Could not get latest certificate details:",Me.message),ke=new Date().toLocaleTimeString()}return console.log("Calculated contract metrics:",{totalTransactions:W,verifiedCount:Q,revokedCount:Z,pendingCount:ne,errorRate:re.toFixed(2),lastActivity:ke}),{totalTransactions:W,verifiedCount:Q,revokedCount:Z,pendingCount:ne,errorRate:re.toFixed(2),lastActivity:ke}}catch(V){return console.error("Error fetching contract data:",V),{totalTransactions:0,verifiedCount:0,revokedCount:0,pendingCount:0,errorRate:0,lastActivity:"None"}}},[]),$=k.useCallback(async()=>{if(console.log("fetchNetworkData called, contract:",t),!await R()&&(console.log("Wallet not connected, attempting to connect..."),!await _())){console.log("Failed to connect wallet"),v("Please connect your wallet to view network data");return}let V=t;if(!V)try{V=await M()}catch(ee){console.error("Failed to initialize contract:",ee),v(ee.message);return}if(!V){console.log("No contract instance available, cannot fetch network data"),v("Contract not available");return}console.log("Using contract instance:",V),console.log("Wallet connected, getting network info directly...");const X=I();if(!X){console.log("No provider available, cannot fetch network data"),v("MetaMask not available");return}g(!0),v(null);try{console.log("Using provider:",X);const ee=await D(X),F=await X.getNetwork();if(F.chainId!==11155111n)if(console.log("Current network chain ID:",F.chainId),console.log("Expected Sepolia chain ID: 11155111"),window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0xaa36a7"}]}),console.log("Successfully switched to Sepolia network")}catch(me){throw console.log("Failed to switch to Sepolia:",me.message),new Error(`Please connect to Sepolia network (Chain ID: 11155111). Current network: ${F.chainId}`)}else throw new Error(`Please connect to Sepolia network (Chain ID: 11155111). Current network: ${F.chainId}`);const z=await X.getBlockNumber();let G;try{const me=await X.getBlock(z);me&&me.baseFeePerGas&&(G=me.baseFeePerGas,console.log("Gas price from block base fee:",G))}catch(me){console.log("Block gas price approach failed:",me.message)}if(!G&&F.chainId!==11155111n)try{const me=await X.getFeeData();console.log("Fee data received:",me),me.gasPrice&&(G=me.gasPrice,console.log("Gas price from fee data:",G))}catch(me){console.log("getFeeData failed:",me.message)}if(G||(G=1500000000n+1000000000n,console.log("Using Sepolia dynamic gas price estimate:",xf(G,"gwei"),"gwei")),!G)throw new Error("Gas price not available from network");let K=0;if(S.current>0){const me=await X.getBlock(z),ve=await X.getBlock(S.current);me&&ve&&(K=me.timestamp-ve.timestamp)}S.current=z;const W=B(ee.latency,xf(G,"gwei")),Q=parseFloat(xf(G,"gwei")),Z=ee.latency<1e3?"fast":ee.latency<3e3?"moderate":"slow",ne=Q>50?"high":Q>20?"medium":"low",re=Q<10?"excellent":Q<25?"good":Q<50?"fair":"poor",ke=`${ee.latency}ms`,Me=await O(V);console.log("Contract data fetched:",Me);const de={gasPrice:Q.toFixed(2),blockNumber:z,networkId:F.chainId,chainId:F.chainId,latency:ee.latency,status:W,lastUpdate:new Date,currentBlock:z,networkStatus:W,networkHealth:{blockConfirmation:Z,congestion:ne,gasEfficiency:re,uptime:"99.9%",responseTime:ke,securityScore:"A+"},contractMetrics:{totalTransactions:Me.totalTransactions,averageGasUsed:Q.toFixed(2),lastActivity:Me.lastActivity,errorRate:Me.errorRate}};d(de);const be=Date.now();f(me=>{const ve={...me};if(ve.gasPriceHistory=[...me.gasPriceHistory,{value:parseFloat(de.gasPrice),timestamp:be}].slice(-a),ve.latencyHistory=[...me.latencyHistory,{value:ee.latency,timestamp:be}].slice(-a),K>0&&(ve.blockTimeHistory=[...me.blockTimeHistory,{value:K,timestamp:be}].slice(-a)),ve.gasPriceHistory.length>=2){const Ae=ve.gasPriceHistory.slice(-3),Be=ve.gasPriceHistory.slice(-6,-3);if(Ae.length>0&&Be.length>0){const ue=Ae.reduce((ye,je)=>ye+je.value,0)/Ae.length,le=Be.reduce((ye,je)=>ye+je.value,0)/Be.length;ve.gasPrice=ue>le*1.1?"rising":ue<le*.9?"falling":"stable"}}if(ve.blockTimeHistory.length>=2){const Ae=ve.blockTimeHistory.slice(-3),Be=ve.blockTimeHistory.slice(-6,-3);if(Ae.length>0&&Be.length>0){const ue=Ae.reduce((ye,je)=>ye+je.value,0)/Ae.length,le=Be.reduce((ye,je)=>ye+je.value,0)/Be.length;ve.blockTime=ue>le*1.2?"slow":ue<le*.8?"fast":"consistent"}}return ve}),E.current=be}catch(ee){console.error("Error fetching network data:",ee),v(ee.message),d(F=>({...F,status:"error",lastUpdate:new Date}))}finally{g(!1)}},[t,D,B,a,M,O]),Y=k.useCallback(()=>{$()},[$]),H=k.useCallback(async()=>{try{if(j(!0),!await R()&&!await _())throw new Error("Failed to connect wallet");return t||await M(),await $(),!0}catch(L){return console.error("Manual initialization failed:",L),v(L.message),!1}finally{j(!1)}},[R,_,$,t,M]);return k.useEffect(()=>{w(()=>Y)},[Y]),k.useEffect(()=>{if(r&&window.ethereum)return R().then(L=>{L&&($(),C.current=setInterval($,s))}),()=>{C.current&&clearInterval(C.current)}},[r,s,$,R]),k.useEffect(()=>{window.ethereum&&R().then(L=>{L?$():console.log("Wallet not connected on mount, waiting for user action")})},[R,$]),k.useEffect(()=>()=>{C.current&&clearInterval(C.current)},[]),{networkData:c,trends:h,isLoadingData:x,error:p,refreshData:Y,initializeContract:H,lastUpdate:E.current,isInitializing:A,checkWalletConnection:R,connectWallet:_}},uN=({contract:t,isLoading:e=!1,isUpdating:s=!1,realTimeEnabled:r=!1})=>{const[a,i]=k.useState(!1),[o,c]=k.useState(null);k.useEffect(()=>{(async()=>{if(window.ethereum)try{const C=await window.ethereum.request({method:"eth_accounts"});i(C.length>0),c(null)}catch(C){console.error("Error checking MetaMask connection:",C),i(!1),c("Failed to connect to MetaMask")}else i(!1),c("MetaMask not installed")})()},[]);const{networkData:d,isLoadingData:h,trends:f,refreshData:x,initializeContract:g,error:p,isInitializing:v}=lse(t,{refreshInterval:3e4,realTimeEnabled:r,maxHistoryPoints:20}),y=e||h||v;if(en.useEffect(()=>{s&&t&&x()},[s,t,x]),!!!t&&!y&&!o&&!p)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center text-blue-400 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:"Blockchain Connection Required"})]}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Please connect your MetaMask wallet to view real-time network analytics. Make sure you're connected to the correct network."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:async()=>{if(window.ethereum)try{await window.ethereum.request({method:"eth_requestAccounts"}),await g()}catch(j){console.error("User rejected connection",j)}else window.open("https://metamask.io/download/","_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:window.ethereum?"Connect Wallet":"Install MetaMask"}),n.jsx("button",{onClick:async()=>{try{await g()}catch(j){console.error("Error initializing contract:",j)}},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg transition-colors text-sm",children:"Initialize Contract"})]})]})});const A=j=>{switch(j){case"optimal":return{color:"text-green-400",bg:"bg-green-900/40",border:"border-green-500/30",icon:"🟢"};case"moderate":return{color:"text-yellow-400",bg:"bg-yellow-900/40",border:"border-yellow-500/30",icon:"🟡"};case"congested":return{color:"text-red-400",bg:"bg-red-900/40",border:"border-red-500/30",icon:"🔴"};case"slow":return{color:"text-orange-400",bg:"bg-orange-900/40",border:"border-orange-500/30",icon:"🟠"};case"error":return{color:"text-red-400",bg:"bg-red-900/40",border:"border-red-500/30",icon:"❌"};default:return{color:"text-gray-400",bg:"bg-gray-900/40",border:"border-gray-500/30",icon:"⚫"}}};return e||h||v?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),n.jsx("div",{className:"text-center text-gray-400 mt-4",children:v?"Initializing blockchain connection...":"Loading network data..."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((j,C)=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-700 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/3"})]},C))})]}):o?n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center text-red-400 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:["MetaMask Error: ",o]})]}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Please make sure MetaMask is installed and connected to view network analytics."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry Connection"})]})}):p?n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/30 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center text-orange-400 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:["Network Error: ",p]})]}),n.jsx("p",{className:"text-gray-400 mb-4",children:"There was an issue fetching network data. This could be due to network congestion or contract issues."}),n.jsx("button",{onClick:x,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})}):!d||!d.currentBlock?n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center text-yellow-400 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:"No Network Data Available"})]}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Network data is not available. Please try refreshing or reconnecting your wallet."}),n.jsx("button",{onClick:x,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Refresh Data"})]})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Network Analytics"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Monitor blockchain network health, gas prices, and network performance metrics in real-time."}),n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-yellow-400 animate-pulse":"bg-green-400"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:h?"Loading network data...":"Network data updated"})]}),n.jsxs("button",{onClick:x,disabled:h,className:`px-3 py-1 rounded-md text-sm flex items-center space-x-1 transition-all duration-200 ${h?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:[n.jsx("svg",{className:`w-4 h-4 ${h?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:h?"Refreshing...":"Refresh Data"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Current Block",value:d.currentBlock.toLocaleString(),icon:"🔗",color:"indigo",description:"Latest blockchain block"},{title:"Gas Price",value:`${d.gasPrice} Gwei`,icon:"⛽",color:"green",description:"Current gas price"},{title:"Network Status",value:d.networkStatus.charAt(0).toUpperCase()+d.networkStatus.slice(1),icon:"📡",color:"blue",description:"Overall network health"},{title:"Last Update",value:d.lastUpdate?new Date(d.lastUpdate).toLocaleTimeString():"Just now",icon:"🕒",color:"purple",description:"Data freshness"}].map(j=>{const C=j.title==="Network Status"?A(d.networkStatus):null;return n.jsxs("div",{className:"group relative bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50 hover:border-indigo-500/50 transition-all duration-300 hover:scale-105 transform hover:shadow-lg hover:shadow-indigo-500/20",children:[n.jsx("div",{className:"text-2xl mb-4",children:j.icon}),n.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:j.value}),n.jsx("div",{className:"text-sm text-gray-400 mb-2",children:j.title}),n.jsx("div",{className:"text-xs text-gray-500",children:j.description}),C&&n.jsx("div",{className:`absolute top-4 right-4 ${C.bg} ${C.border} rounded-full p-2`,children:n.jsx("span",{className:"text-lg",children:C.icon})})]},j.title)})}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Network Health Dashboard"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-gray-300",children:"Network Performance"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Block Confirmation"}),n.jsx("span",{className:`font-medium ${d.networkHealth.blockConfirmation==="fast"?"text-green-400":d.networkHealth.blockConfirmation==="moderate"?"text-yellow-400":d.networkHealth.blockConfirmation==="slow"?"text-red-400":"text-gray-400"}`,children:d.networkHealth.blockConfirmation.charAt(0).toUpperCase()+d.networkHealth.blockConfirmation.slice(1)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Network Congestion"}),n.jsx("span",{className:`font-medium ${d.networkHealth.congestion==="low"?"text-green-400":d.networkHealth.congestion==="medium"?"text-yellow-400":d.networkHealth.congestion==="high"?"text-red-400":"text-gray-400"}`,children:d.networkHealth.congestion.charAt(0).toUpperCase()+d.networkHealth.congestion.slice(1)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Gas Efficiency"}),n.jsx("span",{className:`font-medium ${d.networkHealth.gasEfficiency==="excellent"?"text-green-400":d.networkHealth.gasEfficiency==="good"?"text-blue-400":d.networkHealth.gasEfficiency==="fair"?"text-yellow-400":d.networkHealth.gasEfficiency==="poor"?"text-red-400":"text-gray-400"}`,children:d.networkHealth.gasEfficiency.charAt(0).toUpperCase()+d.networkHealth.gasEfficiency.slice(1)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-gray-300",children:"System Metrics"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Uptime"}),n.jsx("span",{className:"text-green-400 font-medium",children:d.networkHealth.uptime})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Response Time"}),n.jsx("span",{className:"text-blue-400 font-medium",children:d.networkHealth.responseTime})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Security Score"}),n.jsx("span",{className:`font-medium ${d.networkHealth.securityScore==="A+"||d.networkHealth.securityScore==="A"?"text-green-400":d.networkHealth.securityScore==="B+"?"text-blue-400":d.networkHealth.securityScore==="B"?"text-yellow-400":"text-red-400"}`,children:d.networkHealth.securityScore})]})]})]})]})]}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Contract Performance Metrics"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Total Transactions",value:d.contractMetrics.totalTransactions.toLocaleString(),icon:"📊",color:"blue"},{title:"Avg Gas Used",value:`${d.contractMetrics.averageGasUsed} Gwei`,icon:"⛽",color:"green"},{title:"Last Activity",value:d.contractMetrics.lastActivity||"None",icon:"🕒",color:"purple"},{title:"Error Rate",value:`${d.contractMetrics.errorRate}%`,icon:"⚠️",color:"red"}].map(j=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4 border border-gray-700/50",children:[n.jsx("div",{className:"text-xl mb-2",children:j.icon}),n.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:j.value}),n.jsx("div",{className:"text-sm text-gray-400",children:j.title})]},j.title))})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-indigo-900/20 rounded-xl p-6 border border-blue-500/30",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Network Recommendations"]}),n.jsxs("div",{className:"space-y-3",children:[d.networkStatus==="optimal"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[n.jsx("span",{children:"✅"}),n.jsx("span",{children:"Network is performing optimally. Continue with normal operations."})]}),d.networkStatus==="moderate"&&n.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400",children:[n.jsx("span",{children:"⚠️"}),n.jsx("span",{children:"Network is moderately congested. Consider timing transactions during off-peak hours."})]}),d.networkStatus==="congested"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[n.jsx("span",{children:"🚨"}),n.jsx("span",{children:"Network is highly congested. Delay non-urgent transactions and monitor gas prices."})]}),d.networkStatus==="slow"&&n.jsxs("div",{className:"flex items-center space-x-2 text-orange-400",children:[n.jsx("span",{children:"🐌"}),n.jsx("span",{children:"Network is experiencing slow block confirmations. Be patient with transaction processing."})]}),d.networkStatus==="error"&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[n.jsx("span",{children:"❌"}),n.jsx("span",{children:"Unable to fetch network data. Check your connection and try again."})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-xl p-6 border border-blue-500/30",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),"Network Trends"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Gas Price Trend"}),n.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded ${f.gasPrice==="rising"?"bg-red-900/40 text-red-400":f.gasPrice==="falling"?"bg-green-900/40 text-green-400":"bg-blue-900/40 text-blue-400"}`,children:f.gasPrice==="rising"?"↗ Rising":f.gasPrice==="falling"?"↘ Falling":"→ Stable"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:f.gasPrice==="rising"?"Gas prices are trending upward. Consider delaying non-urgent transactions.":f.gasPrice==="falling"?"Gas prices are trending downward. Good time for transactions.":"Gas prices are stable."})]}),n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4 border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Block Time Trend"}),n.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded ${f.blockTime==="slow"?"bg-red-900/40 text-red-400":f.blockTime==="fast"?"bg-green-900/40 text-green-400":"bg-blue-900/40 text-blue-400"}`,children:f.blockTime==="slow"?"🐢 Slowing":f.blockTime==="fast"?"🚀 Accelerating":"⏱️ Consistent"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:f.blockTime==="slow"?"Block confirmation times are increasing. Expect longer transaction times.":f.blockTime==="fast"?"Block confirmation times are decreasing. Transactions should be faster.":"Block confirmation times are consistent."})]})]})]}),r&&n.jsx("div",{className:"bg-gradient-to-r from-purple-900/20 to-indigo-900/20 rounded-xl p-4 border border-purple-500/30",children:n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full animate-pulse"}),n.jsxs("span",{className:"text-sm text-purple-300 font-medium",children:["Network analytics updating in real-time • Last update: ",h?"Now":"Just now"]}),n.jsx("div",{className:"w-3 h-3 bg-indigo-400 rounded-full animate-pulse delay-1000"})]})})]})};uN.propTypes={contract:ie.object,isLoading:ie.bool,isUpdating:ie.bool,realTimeEnabled:ie.bool};uN.defaultProps={contract:null,isLoading:!1,isUpdating:!1,realTimeEnabled:!1};const hN=({contract:t,isLoading:e=!1,isUpdating:s=!1,realTimeEnabled:r=!1})=>{const[a,i]=k.useState([]),[o,c]=k.useState(!1),[d,h]=k.useState([]),[f,x]=k.useState(null),[g,p]=k.useState([]),[v,y]=k.useState({total:0,recent:[]}),[w,A]=k.useState({total:0,recent:[],byCourse:{},byInstitution:{}}),[j,C]=k.useState({issuances:{page:1,limit:50,total:0},verifications:{page:1,limit:50,total:0},courses:{page:1,limit:20,total:0},institutions:{page:1,limit:20,total:0}}),S=k.useCallback(async()=>{var D,B,O,$,Y,H,L,V;if(!window.ethereum){x("No Ethereum provider found. Please connect a wallet.");return}c(!0);try{const{BrowserProvider:X,Contract:ee}=await Fr(async()=>{const{BrowserProvider:W,Contract:Q}=await Promise.resolve().then(()=>Wa);return{BrowserProvider:W,Contract:Q}},void 0),F=new X(window.ethereum),z=new ee(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,F),G=[];let K=[];try{const[W,Q,Z]=await Promise.all([z.getVerifiedCertificateIds(0,1e3),z.getPendingCertificateIds(0,1e3),z.getRevokedCertificateIds(0,1e3)]),ne=W.map(de=>de.toString()),re=Q.map(de=>de.toString()),ke=Z.map(de=>de.toString()),Me=[...ne,...re,...ke];if(K=[...new Set(Me)],K.length>0){const de=Math.min(10,K.length),be=K.slice(-de);for(const me of be)try{const ve=await z.getCertificate(me);if(ve){const Ae=Number(ve.completionDate)*1e3;let Be="CertificateIssued",ue=`New certificate #${me} issued for Course ${ve.courseId||"Unknown Course"}`,le="success";ve.isVerified&&(Be="CertificateVerified",ue=`Certificate #${me} verified by ${ve.institution?ve.institution.slice(0,6)+"..."+ve.institution.slice(-4):"Unknown Institution"}`,le="info"),ve.isRevoked&&(Be="CertificateRevoked",ue=`Certificate #${me} revoked`,le="warning"),G.push({id:`direct-${me}`,type:Be,message:ue,timestamp:Ae,status:le,certificateId:me,course:`Course ${ve.courseId}`,student:ve.student,institution:ve.institution,grade:ve.grade});try{const ye=await z.burnRequestTimestamps(me),je=Number(((D=ye==null?void 0:ye.toString)==null?void 0:D.call(ye))||"0");je>0&&G.push({id:`direct-burn-${me}`,type:"CertificateBurnRequested",message:`Burn requested for certificate #${me}`,timestamp:je*1e3,status:"warning",certificateId:me})}catch(ye){console.warn(`Error checking burnRequestTimestamps for ${me}:`,ye)}}}catch(ve){console.warn(`Error fetching certificate ${me}:`,ve)}}try{if(W&&W.length>0){const de=Array.from(W).map(De=>{try{return BigInt(De.toString())}catch{return Number(De)}}),[be,me]=await Promise.all([z.getCertificatesBatch(de),z.getCertificatesBatchDetails(de)]),ve=be.students||be[0]||[],Ae=be.institutions||be[1]||[],Be=be.courseIds||be[2]||[],ue=be.completionDates||be[3]||[],le=be.grades||be[4]||[],ye=be.verificationStatuses||be[5]||[],je=me.lastUpdateDates||me[2]||[],Se=me.updateReasons||me[3]||[];de.forEach((De,_e)=>{var ot,nt,$e,Mt,rs;const st=((ot=De==null?void 0:De.toString)==null?void 0:ot.call(De))||String(De);if(!!ye[_e]){const Xt=Number((($e=(nt=je[_e])==null?void 0:nt.toString)==null?void 0:$e.call(nt))||((rs=(Mt=ue[_e])==null?void 0:Mt.toString)==null?void 0:rs.call(Mt))||"0"),sn=Xt>0?Xt*1e3:Date.now();G.push({id:`verified-snapshot-${st}`,type:"CertificateVerified",message:`Certificate #${st} currently verified`+(Se!=null&&Se[_e]?` (${Se[_e]})`:""),timestamp:sn,status:"info",certificateId:st,course:(Be==null?void 0:Be[_e])!==void 0?`Course ${Be[_e]}`:void 0,student:ve==null?void 0:ve[_e],institution:Ae==null?void 0:Ae[_e],grade:le==null?void 0:le[_e]})}});const Ne=de.slice(0,50);try{(await Promise.all(Ne.map(_e=>z.verifiedCertificates(_e).catch(()=>!1)))).forEach((_e,st)=>{var Pe,ot;if(_e){const nt=((ot=(Pe=Ne[st])==null?void 0:Pe.toString)==null?void 0:ot.call(Pe))||String(Ne[st]);G.push({id:`verified-map-snapshot-${nt}`,type:"CertificateVerified",message:`Certificate #${nt} verified (mapping)`,timestamp:Date.now(),status:"info",certificateId:nt})}})}catch(De){console.warn("Error checking verifiedCertificates mapping:",De)}}}catch(de){console.warn("Error batch-fetching verification snapshots:",de)}try{const de=await z.countCertificatesByStatus(!0,!1),be=Number(((B=de==null?void 0:de.toString)==null?void 0:B.call(de))||"0");let me=[];try{const ve=await z.getRecentCertificates(50),Ae=Array.from(ve).map(ue=>ue.toString());me=(await Promise.all(Ae.map(async ue=>{var le,ye,je,Se;try{const Ne=await z.getCertificate(ue),De=Number(((ye=(le=Ne==null?void 0:Ne.lastUpdateDate)==null?void 0:le.toString)==null?void 0:ye.call(le))||((Se=(je=Ne==null?void 0:Ne.completionDate)==null?void 0:je.toString)==null?void 0:Se.call(je))||"0")*1e3;return!!(Ne!=null&&Ne.isVerified)?{id:ue,timestamp:De}:null}catch{return null}}))).filter(Boolean).slice(0,50)}catch(ve){console.warn("Error fetching recent verified certificates:",ve)}y({total:be,recent:me})}catch(de){console.warn("Error fetching verification totals:",de)}try{const[de,be]=await Promise.all([z.totalSupply(),z.countCertificatesByStatus(!1,!1)]),me=Number(((O=de==null?void 0:de.toString)==null?void 0:O.call(de))||"0"),ve=Number((($=be==null?void 0:be.toString)==null?void 0:$.call(be))||"0");let Ae=[];try{const je=await z.getRecentCertificates(100),Se=Array.from(je).map(De=>De.toString());Ae=(await Promise.all(Se.map(async De=>{var _e,st;try{const Pe=await z.getCertificate(De);if(Pe&&!Pe.isRevoked){const ot=Number(((st=(_e=Pe==null?void 0:Pe.completionDate)==null?void 0:_e.toString)==null?void 0:st.call(_e))||"0")*1e3;return{id:De,timestamp:ot,courseId:Pe.courseId,institution:Pe.institution,student:Pe.student,grade:Pe.grade}}return null}catch{return null}}))).filter(Boolean).slice(0,50)}catch(je){console.warn("Error fetching recent issuances:",je)}let Be={};try{const je=[1,2,3,4,5,6,7,8,9,10];for(const Se of je)try{const Ne=await z.countCertificatesByCourse(Se);if(Number(((Y=Ne==null?void 0:Ne.toString)==null?void 0:Y.call(Ne))||"0")>0){const De=await z.getCertificatesByCourse(Se,0,20);Be[Se]={count:Number(Ne.toString()),name:await z.getCourseName(Se).catch(()=>`Course ${Se}`),recentIds:Array.from(De).map(_e=>_e.toString())}}}catch(Ne){console.warn(`Error fetching course ${Se} data:`,Ne)}}catch(je){console.warn("Error fetching course-based issuances:",je)}let ue={};try{const je=g.length>0?g:["0x0000000000000000000000000000000000000000"];for(const Se of je.slice(0,10))try{const Ne=await z.countCertificatesByInstitution(Se);if(Number(((H=Ne==null?void 0:Ne.toString)==null?void 0:H.call(Ne))||"0")>0){const De=await z.getCertificatesByInstitution(Se,0,20);ue[Se]={count:Number(Ne.toString()),recentIds:Array.from(De).map(_e=>_e.toString())}}}catch(Ne){console.warn(`Error fetching institution ${Se} data:`,Ne)}}catch(je){console.warn("Error fetching institution-based issuances:",je)}let le=[];try{const je=Math.floor(Date.now()/1e3),Se=je-30*24*60*60,Ne=await z.getCertificatesByDateRange(Se,je,0,50);le=Array.from(Ne).map(De=>De.toString())}catch(je){console.warn("Error fetching date range issuances:",je)}let ye=[];try{const je=Array.from({length:Math.min(20,me)},(Se,Ne)=>Ne);for(const Se of je)try{const Ne=await z.academicCertificates(Se);if(Ne&&Ne.studentAddress!=="0x0000000000000000000000000000000000000000"){const De=Number(((V=(L=Ne==null?void 0:Ne.completionDate)==null?void 0:L.toString)==null?void 0:V.call(L))||"0")*1e3;ye.push({id:Se.toString(),timestamp:De,student:Ne.studentAddress,institution:Ne.institutionAddress,courseId:Ne.courseId,grade:Ne.grade})}}catch{break}}catch(je){console.warn("Error fetching academic certificates mapping:",je)}ye.forEach(je=>{G.push({id:`academic-mapping-${je.id}`,type:"CertificateIssued",message:`Certificate #${je.id} issued via academic mapping (Course ${je.courseId})`,timestamp:je.timestamp,status:"success",certificateId:je.id,course:`Course ${je.courseId}`,student:je.student,institution:je.institution,grade:je.grade})}),A({total:me,totalIssued:ve,recent:Ae,byCourse:Be,byInstitution:ue,dateRange:le})}catch(de){console.warn("Error fetching comprehensive issuance data:",de)}}catch(W){console.warn("Error fetching certificate ID lists:",W)}try{const W=await F.getBlockNumber(),Q=0,Z=[["Approval",z.filters.Approval()],["ApprovalForAll",z.filters.ApprovalForAll()],["BatchMetadataUpdate",z.filters.BatchMetadataUpdate()],["BurnTimelockChanged",z.filters.BurnTimelockChanged()],["CertificateBurnApproved",z.filters.CertificateBurnApproved()],["CertificateBurnRequestCanceled",z.filters.CertificateBurnRequestCanceled()],["CertificateBurnRequested",z.filters.CertificateBurnRequested()],["CertificateBurned",z.filters.CertificateBurned()],["CertificateIssued",z.filters.CertificateIssued()],["CertificateRevoked",z.filters.CertificateRevoked()],["CertificateStatusChanged",z.filters.CertificateStatusChanged()],["CertificateUpdated",z.filters.CertificateUpdated()],["CertificateVerified",z.filters.CertificateVerified()],["CourseNameSet",z.filters.CourseNameSet()],["InstitutionAuthorized",z.filters.InstitutionAuthorized()],["InstitutionRevoked",z.filters.InstitutionRevoked()],["MetadataUpdate",z.filters.MetadataUpdate()],["OwnershipTransferred",z.filters.OwnershipTransferred()],["RoleAdminChanged",z.filters.RoleAdminChanged()],["RoleGranted",z.filters.RoleGranted()],["RoleRevoked",z.filters.RoleRevoked()],["Transfer",z.filters.Transfer()]],ne=await Promise.all(Z.map(([be,me])=>z.queryFilter(me,Q,W))),re=new Set;ne.forEach(be=>{be.forEach(me=>re.add(me.blockNumber))});const ke=Array.from(re),Me=await Promise.all(ke.map(be=>F.getBlock(be))),de=new Map(Me.map(be=>[be.number,be.timestamp]));Z.forEach(([be],me)=>{ne[me].forEach(Ae=>{var je,Se,Ne,De,_e,st,Pe,ot,nt,$e,Mt,rs,Xt,sn,xt,Rs,Tn,xr,Gr,ai,Rn,gr,bn,Mn,pr,ya,Dn,qr,Wr,wa,Ms,Zt,gt,As,Yn,vo,yo,Wl,Qn,ii,Kn,Yr,Xn,Bn,qt,Yl,oi,Zn,Jn,Cd,Qr,li,wo,Na,Kr,_n,ja,ci,vn,No,Ca,jo,di,qs;const ue=(de.get(Ae.blockNumber)||Math.floor(Date.now()/1e3))*1e3,le=Ae.args||{},ye=`${be}-${Ae.blockNumber}-${Ae.logIndex}`;switch(be){case"CertificateIssued":{const Ie=((Se=(je=le.tokenId)==null?void 0:je.toString)==null?void 0:Se.call(je))||((De=(Ne=le[0])==null?void 0:Ne.toString)==null?void 0:De.call(Ne))||"",tt=((st=(_e=le.courseId)==null?void 0:_e.toString)==null?void 0:st.call(_e))||((ot=(Pe=le[3])==null?void 0:Pe.toString)==null?void 0:ot.call(Pe))||"";G.push({id:ye,type:"CertificateIssued",message:`Certificate #${Ie} issued (Course ${tt})`,timestamp:ue,status:"success",certificateId:Ie});break}case"CertificateVerified":{const Ie=(($e=(nt=le.tokenId)==null?void 0:nt.toString)==null?void 0:$e.call(nt))||((rs=(Mt=le[0])==null?void 0:Mt.toString)==null?void 0:rs.call(Mt))||"",tt=le.verifier||le[1]||"";G.push({id:ye,type:"CertificateVerified",message:`Certificate #${Ie} verified by ${tt?tt.slice(0,6)+"..."+tt.slice(-4):"unknown"}`,timestamp:ue,status:"info",certificateId:Ie});break}case"CertificateRevoked":{const Ie=((sn=(Xt=le.tokenId)==null?void 0:Xt.toString)==null?void 0:sn.call(Xt))||((Rs=(xt=le[0])==null?void 0:xt.toString)==null?void 0:Rs.call(xt))||"",tt=le.reason||le[2]||"";G.push({id:ye,type:"CertificateRevoked",message:`Certificate #${Ie} revoked${tt?`: ${tt}`:""}`,timestamp:ue,status:"warning",certificateId:Ie});break}case"CertificateUpdated":{const Ie=((xr=(Tn=le.tokenId)==null?void 0:Tn.toString)==null?void 0:xr.call(Tn))||((ai=(Gr=le[0])==null?void 0:Gr.toString)==null?void 0:ai.call(Gr))||"",tt=((gr=(Rn=le.newGrade)==null?void 0:Rn.toString)==null?void 0:gr.call(Rn))||((Mn=(bn=le[1])==null?void 0:bn.toString)==null?void 0:Mn.call(bn))||"";G.push({id:ye,type:"CertificateUpdated",message:`Certificate #${Ie} updated (grade ${tt})`,timestamp:ue,status:"info",certificateId:Ie});break}case"CertificateStatusChanged":{const Ie=((ya=(pr=le.tokenId)==null?void 0:pr.toString)==null?void 0:ya.call(pr))||((qr=(Dn=le[0])==null?void 0:Dn.toString)==null?void 0:qr.call(Dn))||"",tt=le.isVerified??le[1],er=le.isRevoked??le[2];G.push({id:ye,type:"CertificateStatusChanged",message:`Certificate #${Ie} status: verified=${tt}, revoked=${er}`,timestamp:ue,status:"info",certificateId:Ie});break}case"CertificateBurnRequested":{const Ie=((wa=(Wr=le.tokenId)==null?void 0:Wr.toString)==null?void 0:wa.call(Wr))||((Zt=(Ms=le[0])==null?void 0:Ms.toString)==null?void 0:Zt.call(Ms))||"",tt=le.reason||le[2]||"";G.push({id:ye,type:"CertificateBurnRequested",message:`Burn requested for certificate #${Ie}${tt?`: ${tt}`:""}`,timestamp:ue,status:"warning",certificateId:Ie});break}case"CertificateBurnApproved":{const Ie=((As=(gt=le.tokenId)==null?void 0:gt.toString)==null?void 0:As.call(gt))||((vo=(Yn=le[0])==null?void 0:Yn.toString)==null?void 0:vo.call(Yn))||"";G.push({id:ye,type:"CertificateBurnApproved",message:`Burn approved for certificate #${Ie}`,timestamp:ue,status:"warning",certificateId:Ie});break}case"CertificateBurnRequestCanceled":{const Ie=((Wl=(yo=le.tokenId)==null?void 0:yo.toString)==null?void 0:Wl.call(yo))||((ii=(Qn=le[0])==null?void 0:Qn.toString)==null?void 0:ii.call(Qn))||"";G.push({id:ye,type:"CertificateBurnRequestCanceled",message:`Burn request canceled for certificate #${Ie}`,timestamp:ue,status:"info",certificateId:Ie});break}case"CertificateBurned":{const Ie=((Yr=(Kn=le.tokenId)==null?void 0:Kn.toString)==null?void 0:Yr.call(Kn))||((Bn=(Xn=le[0])==null?void 0:Xn.toString)==null?void 0:Bn.call(Xn))||"";G.push({id:ye,type:"CertificateBurned",message:`Certificate #${Ie} burned`,timestamp:ue,status:"warning",certificateId:Ie});break}case"CourseNameSet":{const Ie=((Yl=(qt=le.courseId)==null?void 0:qt.toString)==null?void 0:Yl.call(qt))||((Zn=(oi=le[0])==null?void 0:oi.toString)==null?void 0:Zn.call(oi))||"",tt=le.name||le[1]||"";G.push({id:ye,type:"CourseNameSet",message:`Course #${Ie} named "${tt}"`,timestamp:ue,status:"info"});break}case"InstitutionAuthorized":{const Ie=le.institution||le[0]||"";G.push({id:ye,type:"InstitutionAuthorized",message:`Institution ${Ie?Ie.slice(0,6)+"..."+Ie.slice(-4):""} authorized`,timestamp:ue,status:"success"});break}case"InstitutionRevoked":{const Ie=le.institution||le[0]||"";G.push({id:ye,type:"InstitutionRevoked",message:`Institution ${Ie?Ie.slice(0,6)+"..."+Ie.slice(-4):""} revoked`,timestamp:ue,status:"warning"});break}case"RoleGranted":{const Ie=le.role||le[0]||"",tt=le.account||le[1]||"";G.push({id:ye,type:"RoleGranted",message:`Role granted: ${Ie} to ${tt?tt.slice(0,6)+"..."+tt.slice(-4):""}`,timestamp:ue,status:"success"});break}case"RoleRevoked":{const Ie=le.role||le[0]||"",tt=le.account||le[1]||"";G.push({id:ye,type:"RoleRevoked",message:`Role revoked: ${Ie} from ${tt?tt.slice(0,6)+"..."+tt.slice(-4):""}`,timestamp:ue,status:"warning"});break}case"RoleAdminChanged":{const Ie=le.role||le[0]||"";G.push({id:ye,type:"RoleAdminChanged",message:`Role admin changed for ${Ie}`,timestamp:ue,status:"info"});break}case"OwnershipTransferred":{const Ie=le.previousOwner||le[0]||"",tt=le.newOwner||le[1]||"";G.push({id:ye,type:"OwnershipTransferred",message:`Ownership transferred ${Ie?Ie.slice(0,6)+"..."+Ie.slice(-4):""} → ${tt?tt.slice(0,6)+"..."+tt.slice(-4):""}`,timestamp:ue,status:"info"});break}case"Transfer":{const Ie=((Cd=(Jn=le.tokenId)==null?void 0:Jn.toString)==null?void 0:Cd.call(Jn))||((li=(Qr=le[2])==null?void 0:Qr.toString)==null?void 0:li.call(Qr))||"",tt=le.from||le[0]||"",er=le.to||le[1]||"";G.push({id:ye,type:"Transfer",message:`Token #${Ie} transferred ${tt?tt.slice(0,6)+"..."+tt.slice(-4):""} → ${er?er.slice(0,6)+"..."+er.slice(-4):""}`,timestamp:ue,status:"info",certificateId:Ie});break}case"Approval":{const Ie=((Na=(wo=le.tokenId)==null?void 0:wo.toString)==null?void 0:Na.call(wo))||((_n=(Kr=le[2])==null?void 0:Kr.toString)==null?void 0:_n.call(Kr))||"",tt=le.approved||le[1]||"";G.push({id:ye,type:"Approval",message:`Approval set for token #${Ie} to ${tt?tt.slice(0,6)+"..."+tt.slice(-4):""}`,timestamp:ue,status:"info",certificateId:Ie});break}case"ApprovalForAll":{const Ie=le.operator||le[1]||"",tt=le.approved??le[2];G.push({id:ye,type:"ApprovalForAll",message:`Operator ${Ie?Ie.slice(0,6)+"..."+Ie.slice(-4):""} approvedForAll=${tt}`,timestamp:ue,status:"info"});break}case"BatchMetadataUpdate":{G.push({id:ye,type:"BatchMetadataUpdate",message:"Batch metadata update occurred",timestamp:ue,status:"info"});break}case"MetadataUpdate":{const Ie=((ci=(ja=le._tokenId)==null?void 0:ja.toString)==null?void 0:ci.call(ja))||((No=(vn=le[0])==null?void 0:vn.toString)==null?void 0:No.call(vn))||"";G.push({id:ye,type:"MetadataUpdate",message:`Metadata updated for token #${Ie}`,timestamp:ue,status:"info",certificateId:Ie});break}case"BurnTimelockChanged":{const Ie=((jo=(Ca=le.newTimelock)==null?void 0:Ca.toString)==null?void 0:jo.call(Ca))||((qs=(di=le[0])==null?void 0:di.toString)==null?void 0:qs.call(di))||"";G.push({id:ye,type:"BurnTimelockChanged",message:`Burn timelock changed to ${Ie}s`,timestamp:ue,status:"info"});break}default:G.push({id:ye,type:be,message:be,timestamp:ue,status:"info"})}})});try{const be=await F.getBlock(W),me=((be==null?void 0:be.timestamp)||Math.floor(Date.now()/1e3))*1e3,ve=new Set,Ae=Z.findIndex(([Se])=>Se==="InstitutionAuthorized");Ae!==-1&&ne[Ae].forEach(Se=>{const Ne=Se.args||{},De=Ne.institution||Ne[0];De&&ve.add(De)});const Be=Z.findIndex(([Se])=>Se==="InstitutionRevoked");Be!==-1&&ne[Be].forEach(Se=>{const Ne=Se.args||{},De=Ne.institution||Ne[0];De&&ve.add(De)});const ue=await z.INSTITUTION_ROLE(),le=Z.findIndex(([Se])=>Se==="RoleGranted");le!==-1&&ne[le].filter(Se=>{var Ne,De;return(((Ne=Se.args)==null?void 0:Ne.role)||((De=Se.args)==null?void 0:De[0]))===ue}).forEach(Se=>{const Ne=Se.args||{},De=Ne.account||Ne[1];De&&ve.add(De)});const ye=Z.findIndex(([Se])=>Se==="RoleRevoked");ye!==-1&&ne[ye].filter(Se=>{var Ne,De;return(((Ne=Se.args)==null?void 0:Ne.role)||((De=Se.args)==null?void 0:De[0]))===ue}).forEach(Se=>{const Ne=Se.args||{},De=Ne.account||Ne[1];De&&ve.add(De)});const je=Array.from(ve);if(je.length>0){const[Se,Ne]=await Promise.all([Promise.all(je.map(_e=>z.hasRole(ue,_e).catch(()=>!1))),Promise.all(je.map(_e=>z.authorizedInstitutions(_e).catch(()=>!1)))]),De=[];je.forEach((_e,st)=>{const Pe=!!(Se[st]||Ne[st]);Pe&&De.push(_e),G.push({id:`auth-snapshot-${_e}`,type:Pe?"InstitutionAuthorized":"InstitutionRevoked",message:`Institution ${_e.slice(0,6)}...${_e.slice(-4)} ${Pe?"currently authorized":"currently revoked"}`,timestamp:me,status:Pe?"success":"warning",institution:_e})}),p(De)}}catch(be){console.warn("Error enriching authorization state:",be)}}catch(W){console.warn("Error fetching full event history:",W)}try{if(K.length>0){const W=[...K].sort((ne,re)=>Number(ne)-Number(re)),Q=W[W.length-1],Z=await z.getCertificate(Q);if(Z&&Z.institution){const ne=Z.institution,re=await z.INSTITUTION_ROLE();try{await z.hasRole(re,ne)&&G.push({id:`direct-role-${ne}`,type:"InstitutionAuthorized",message:`Institution ${ne.slice(0,6)}...${ne.slice(-4)} currently authorized`,timestamp:Date.now()-3e5,status:"success",institution:ne})}catch(ke){console.warn("Error checking hasRole:",ke)}}}}catch(W){console.warn("Error enriching with role data:",W)}G.sort((W,Q)=>Q.timestamp-W.timestamp),i(G.slice(0,20))}catch(X){console.error("Error fetching activity data:",X),x("Failed to load activity data. Please check your contract connection and try again.")}finally{c(!1)}},[t]);k.useEffect(()=>{window.ethereum&&S()},[S]),k.useEffect(()=>{s&&window.ethereum&&S()},[s,S]),k.useEffect(()=>{if(window.ethereum&&r){const D=setInterval(()=>{S()},3e4);return()=>clearInterval(D)}},[r,S]);const E=D=>{switch(D){case"success":return"text-green-400 bg-green-900/20 border-green-500/30";case"info":return"text-blue-400 bg-blue-900/20 border-blue-500/30";case"warning":return"text-amber-400 bg-amber-900/20 border-amber-500/30";case"error":return"text-red-400 bg-red-900/20 border-red-500/30";default:return"text-gray-400 bg-gray-900/20 border-gray-500/30"}},M=D=>{switch(D){case"CertificateIssued":return"📜";case"CertificateVerified":return"✅";case"InstitutionAuthorized":return"🏛️";case"CertificateRevoked":return"🚫";case"CertificateBurnRequested":return"🔥";default:return"📋"}},R=D=>a.filter(B=>B.type===D).length,_=D=>{try{const B=new Date(Number(D));return Number.isNaN(B.getTime())?"":B.toLocaleString()}catch{return""}},I=a.filter(D=>d.length===0?!0:d.includes(D.type));return e||o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]}),n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((D,B)=>n.jsx("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-lg"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]})},B))})]}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Activity Feed"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Real-time feed of blockchain activities, certificate events, and system updates."}),n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-yellow-400 animate-pulse":"bg-green-400"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:o?"Loading activity data...":`${a.length} activities loaded`})]})]}),f&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L10 11.414l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Error Loading Data"}),n.jsx("p",{className:"text-sm text-red-300 mt-1",children:f})]}),n.jsx("button",{onClick:()=>x(null),className:"text-red-400 hover:text-red-300 transition-colors",children:n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 8.586 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),n.jsx("div",{className:"bg-gray-900/60 backdrop-blur-md rounded-xl p-4 border border-gray-800/50",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-400 mr-2",children:"Filter by:"}),[{type:"CertificateIssued",label:"Issuances",icon:"📜"},{type:"CertificateVerified",label:"Verifications",icon:"✅"},{type:"InstitutionAuthorized",label:"Authorizations",icon:"🏛️"},{type:"CertificateRevoked",label:"Revocations",icon:"🚫"},{type:"CertificateBurnRequested",label:"Burn Requests",icon:"🔥"}].map(D=>n.jsxs("button",{onClick:()=>{h(B=>B.includes(D.type)?B.filter(O=>O!==D.type):[...B,D.type])},className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${d.includes(D.type)?"bg-indigo-600 text-white shadow-lg":"bg-gray-800/60 text-gray-400 hover:text-white hover:bg-gray-700/60"}`,children:[n.jsx("span",{children:D.icon}),n.jsx("span",{children:D.label}),n.jsx("span",{className:"text-[10px] ml-1 px-1.5 py-0.5 rounded bg-gray-700/60 text-gray-300 border border-gray-600/50",children:R(D.type)})]},D.type)),d.length>0&&n.jsx("button",{onClick:()=>h([]),className:"px-3 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Clear All"})]})}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl border border-gray-800/50 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-800/50",children:[n.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Live Activity Stream"]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Showing ",I.length," of ",a.length," activities"]})]}),I.length>0?n.jsx("div",{className:"divide-y divide-gray-800/50",children:I.map(D=>n.jsx("div",{className:"p-6 hover:bg-gray-800/30 transition-colors duration-200",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-gray-800/60 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-xl",children:M(D.type)})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${E(D.status)}`,children:D.type}),n.jsx("span",{className:"text-xs text-gray-500 font-mono",children:_(D.timestamp)}),D.certificateId&&n.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:["#",D.certificateId]})]}),n.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-2",children:D.message}),D.course&&n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[D.course&&n.jsxs("span",{children:["Course: ",D.course]}),D.grade&&n.jsxs("span",{children:["Grade: ",D.grade,"%"]}),D.student&&n.jsxs("span",{children:["Student: ",D.student.slice(0,6),"...",D.student.slice(-4)]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:`w-2 h-2 rounded-full ${D.status==="success"?"bg-green-400":D.status==="info"?"bg-blue-400":D.status==="warning"?"bg-amber-400":"bg-red-400"}`})})]})},D.id))}):n.jsxs("div",{className:"text-center py-12 text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📋"}),n.jsx("div",{children:"No activities found"}),n.jsx("div",{className:"text-sm mt-2",children:d.length>0?"Try adjusting your filters or check back later":"Activities will appear here once certificates are issued"})]})]}),a.length>0&&n.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Activity Summary"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{type:"CertificateIssued",label:"Issuances",icon:"📜"},{type:"CertificateVerified",label:"Verifications",icon:"✅"},{type:"InstitutionAuthorized",label:"Authorizations",icon:"🏛️"},{type:"CertificateRevoked",label:"Revocations",icon:"🚫"},{type:"CertificateBurnRequested",label:"Burn Requests",icon:"🔥"}].map(D=>{const B=a.filter(O=>O.type===D.type).length;return n.jsxs("div",{className:"text-center p-4 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsx("div",{className:"text-2xl mb-2",children:D.icon}),n.jsx("div",{className:"text-lg font-semibold text-white",children:B}),n.jsx("div",{className:"text-sm text-gray-400",children:D.label})]},D.type)})}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Authorized Institutions Now"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:g.length>0?g.map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"🏛️"}),n.jsxs("span",{className:"text-sm text-gray-300 font-mono",children:[D.slice(0,6),"...",D.slice(-4)]})]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/30 border border-green-700/40 text-green-300",children:"Authorized"})]},D)):n.jsx("div",{className:"text-sm text-gray-400",children:"No authorized institutions detected."})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Total authorized: ",g.length]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Verifications Now"}),n.jsxs("div",{className:"text-sm text-gray-300",children:["Total verified: ",n.jsx("span",{className:"font-semibold text-white",children:v.total})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mt-3 mb-3",children:v.recent.length>0?v.recent.slice(0,12).map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"✅"}),n.jsxs("span",{className:"text-sm text-gray-300",children:["#",D.id]})]}),n.jsx("span",{className:"text-xs text-gray-400",children:_(D.timestamp)})]},`vnow-${D.id}`)):n.jsx("div",{className:"text-sm text-gray-400",children:"No recent verifications detected."})}),v.recent.length>12&&n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>C(D=>({...D,verifications:{...D.verifications,page:Math.max(1,D.verifications.page-1)}})),className:"px-3 py-1 text-xs bg-gray-700/60 text-gray-300 rounded hover:bg-gray-600/60 transition-colors",children:"Previous"}),n.jsxs("span",{className:"text-xs text-gray-400",children:["Page ",j.verifications.page," of ",Math.ceil(v.recent.length/12)]}),n.jsx("button",{onClick:()=>C(D=>({...D,verifications:{...D.verifications,page:Math.min(Math.ceil(v.recent.length/12),D.verifications.page+1)}})),className:"px-3 py-1 text-xs bg-gray-700/60 text-gray-300 rounded hover:bg-gray-600/60 transition-colors",children:"Next"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Issuances Now"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:w.total}),n.jsx("div",{className:"text-xs text-gray-400",children:"Total Supply"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:w.totalIssued}),n.jsx("div",{className:"text-xs text-gray-400",children:"Total Issued"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:w.recent.length}),n.jsx("div",{className:"text-xs text-gray-400",children:"Recent (50)"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"Recent Issuances"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-3",children:w.recent.length>0?w.recent.slice(0,12).map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:"📜"}),n.jsxs("div",{className:"text-xs",children:[n.jsxs("div",{className:"text-gray-300",children:["#",D.id]}),n.jsxs("div",{className:"text-gray-500",children:["Course ",D.courseId]})]})]}),n.jsx("span",{className:"text-xs text-gray-400",children:_(D.timestamp)})]},`issuance-${D.id}`)):n.jsx("div",{className:"text-sm text-gray-400",children:"No recent issuances detected."})}),w.recent.length>12&&n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>C(D=>({...D,issuances:{...D.issuances,page:Math.max(1,D.issuances.page-1)}})),className:"px-3 py-1 text-xs bg-gray-700/60 text-gray-300 rounded hover:bg-gray-600/60 transition-colors",children:"Previous"}),n.jsxs("span",{className:"text-xs text-gray-400",children:["Page ",j.issuances.page," of ",Math.ceil(w.recent.length/12)]}),n.jsx("button",{onClick:()=>C(D=>({...D,issuances:{...D.issuances,page:Math.min(Math.ceil(w.recent.length/12),D.issuances.page+1)}})),className:"px-3 py-1 text-xs bg-gray-700/60 text-gray-300 rounded hover:bg-gray-600/60 transition-colors",children:"Next"})]})]}),Object.keys(w.byCourse).length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"By Course"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(w.byCourse).map(([D,B])=>n.jsxs("div",{className:"p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-300",children:B.name}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-900/30 border border-blue-700/40 text-blue-300",children:B.count})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Recent IDs: ",B.recentIds.slice(0,3).join(", ")]})]},`course-${D}`))})]}),Object.keys(w.byInstitution).length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"By Institution"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(w.byInstitution).map(([D,B])=>n.jsxs("div",{className:"p-3 bg-gray-800/40 rounded-lg border border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-300 font-mono",children:[D.slice(0,6),"...",D.slice(-4)]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/30 border border-green-700/40 text-green-300",children:B.count})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Recent IDs: ",B.recentIds.slice(0,3).join(", ")]})]},`institution-${D}`))})]}),w.dateRange.length>0&&n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"Last 30 Days"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Recent IDs: ",w.dateRange.slice(0,10).join(", ")]})]})]})]}),r&&n.jsx("div",{className:"bg-gradient-to-r from-amber-900/20 to-orange-900/20 rounded-xl p-4 border border-amber-500/30",children:n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-amber-300 font-medium",children:"Activity feed updating in real-time • New events every 30 seconds"}),n.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full animate-pulse delay-1000"})]})})]})};hN.propTypes={contract:ie.object,isLoading:ie.bool,isUpdating:ie.bool,realTimeEnabled:ie.bool};hN.defaultProps={contract:null,isLoading:!1,isUpdating:!1,realTimeEnabled:!1};const cse=t=>{const[e,s]=k.useState(null),[r,a]=k.useState(!1),[i,o]=k.useState(null),[c,d]=k.useState(null),[h,f]=k.useState(0),[x,g]=k.useState(!1),p=k.useRef(0),v=w=>w==null?0:typeof w=="bigint"?Number(w):typeof w=="string"?Number(w)||0:typeof w=="number"?w:0,y=k.useCallback(async(w=!1)=>{if(!t)return;const A=Date.now();if(!(!w&&A-p.current<2e3)){a(!0),g(!0),o(null);try{const j={overview:{},certificates:{},institutions:{},custom:{}};console.log("Fetching real data from contract...");let C=0;try{const I=await t.totalSupply();C=v(I),console.log("Total certificates from contract.totalSupply():",C)}catch(I){console.warn("Could not get totalSupply, trying alternative methods:",I);try{const[D,B,O]=await Promise.allSettled([t.getVerifiedCertificateIds(0,1e4),t.getPendingCertificateIds(0,1e4),t.getRevokedCertificateIds(0,1e4)]),$=D.status==="fulfilled"?D.value:[],Y=B.status==="fulfilled"?B.value:[],H=O.status==="fulfilled"?O.value:[];console.log("Contract data received with higher limits:",{verified:$.length,pending:Y.length,revoked:H.length});const L=[...$,...Y,...H];C=[...new Set(L)].length,console.log("Total unique certificates found:",C)}catch(D){console.error("All methods failed, using estimated count:",D);let B=0;for(let O=0;O<1e3;O++)try{await t.tokenExists(O)&&B++}catch{break}C=B,console.log("Estimated total certificates:",C)}}let S=0;try{t.provider&&(S=await t.provider.getBlockNumber(),f(S))}catch(I){console.warn("Could not fetch current block number:",I)}let E=0,M=0,R=0;try{const[I,D,B]=await Promise.allSettled([t.countCertificatesByStatus(!0,!1),t.countCertificatesByStatus(!1,!1),t.countCertificatesByStatus(!1,!0)]);E=I.status==="fulfilled"?v(I.value):0,M=D.status==="fulfilled"?v(D.value):0,R=B.status==="fulfilled"?v(B.value):0,console.log("Status counts from contract:",{verified:E,pending:M,revoked:R,total:C})}catch(I){console.warn("Could not get status counts, using fallback method:",I);const[D,B,O]=await Promise.allSettled([t.getVerifiedCertificateIds(0,1e3),t.getPendingCertificateIds(0,1e3),t.getRevokedCertificateIds(0,1e3)]);E=D.status==="fulfilled"?D.value.length:0,M=B.status==="fulfilled"?B.value.length:0,R=O.status==="fulfilled"?O.value.length:0}if(j.overview={totalCertificates:C,verifiedCertificates:E,pendingCertificates:M,revokedCertificates:R,verificationRate:C>0?Math.round(E/C*100):0,totalInstitutions:0,averageGrade:0,lastBlockNumber:S,lastUpdate:new Date().toISOString()},j.certificates={totalSupply:C,verifiedCount:E,pendingCount:M,revokedCount:R,courseDistribution:{},gradeDistribution:{"90-100":0,"80-89":0,"70-79":0,"60-69":0,"Below 60":0},recentActivity:[],lastUpdate:new Date().toISOString()},C>0){const I={};let D=0,B=0;const O=[];try{const[$,Y,H]=await Promise.allSettled([t.getVerifiedCertificateIds(0,1e4),t.getPendingCertificateIds(0,1e4),t.getRevokedCertificateIds(0,1e4)]),L=[...$.status==="fulfilled"?$.value:[],...Y.status==="fulfilled"?Y.value:[],...H.status==="fulfilled"?H.value:[]],V=[...new Set(L)].filter(ee=>ee!=null);console.log("Processing existing certificates:",{totalIds:V.length,verifiedIds:$.status==="fulfilled"?$.value.length:0,pendingIds:Y.status==="fulfilled"?Y.value.length:0,revokedIds:H.status==="fulfilled"?H.value.length:0});const X=10;for(let ee=0;ee<V.length;ee+=X){const z=V.slice(ee,ee+X).map(async G=>{try{const K=await t.getCertificate(G);if(K&&K.student&&K.student!=="0x0000000000000000000000000000000000000000"){if(O.push({id:G,cert:K}),K.courseId)try{const W=v(K.courseId);let Q=`Course ${W}`;try{const Z=await t.getCourseName(W);Z&&Z.trim()&&(Q=Z)}catch(Z){console.warn(`Error fetching course name for ID ${W}:`,Z)}I[Q]=(I[Q]||0)+1}catch(W){console.warn(`Error processing courseId for certificate ${G}:`,W)}if(K.grade)try{const W=v(K.grade);isNaN(W)||(D+=W,B++,W>=90?j.certificates.gradeDistribution["90-100"]++:W>=80?j.certificates.gradeDistribution["80-89"]++:W>=70?j.certificates.gradeDistribution["70-79"]++:W>=60?j.certificates.gradeDistribution["60-69"]++:j.certificates.gradeDistribution["Below 60"]++)}catch(W){console.warn(`Error processing grade for certificate ${G}:`,W)}}}catch(K){console.warn(`Error fetching certificate ${G} for report:`,K)}});await Promise.allSettled(z)}Object.keys(I).forEach(ee=>{j.certificates.courseDistribution[ee]=Math.round(I[ee]/C*100)}),B>0&&(j.overview.averageGrade=Math.round(D/B),j.certificates.averageGrade=Math.round(D/B)),O.forEach(({id:ee,cert:F})=>{try{const z=v(ee),G=F.courseId?v(F.courseId):null,K=F.grade?v(F.grade):"N/A",W=F.completionDate?new Date(v(F.completionDate)*1e3).toLocaleDateString():"Unknown Date";j.certificates.recentActivity.push({id:z,course:G?`Course ${G}`:"Unknown Course",grade:K,status:F.isVerified?"verified":"pending",date:W})}catch(z){console.warn(`Error processing recent activity for certificate ${ee}:`,z)}})}catch($){console.warn("Error processing certificate data:",$)}}j.institutions={totalInstitutions:0,institutionPerformance:[],averagePerformance:0,lastUpdate:new Date().toISOString()};const _=new Set;if(C>0)try{const[I,D,B]=await Promise.allSettled([t.getVerifiedCertificateIds(0,1e4),t.getPendingCertificateIds(0,1e4),t.getRevokedCertificateIds(0,1e4)]),O=[...I.status==="fulfilled"?I.value:[],...D.status==="fulfilled"?D.value:[],...B.status==="fulfilled"?B.value:[]],$=[...new Set(O)].filter(L=>L!=null);for(const L of $)try{const V=await t.getCertificate(L);V&&V.institution&&_.add(V.institution.toLowerCase())}catch(V){console.warn(`Error fetching certificate ${L} for institution analysis:`,V)}j.overview.totalInstitutions=_.size,j.institutions.totalInstitutions=_.size;const Y={};for(const L of $)try{const V=await t.getCertificate(L);if(V&&V.institution){const X=V.institution.toLowerCase();Y[X]||(Y[X]={total:0,verified:0,pending:0}),Y[X].total++,V.isVerified?Y[X].verified++:Y[X].pending++}}catch(V){console.warn(`Error analyzing institution performance for certificate ${L}:`,V)}const H=Object.entries(Y).map(([L,V])=>({address:L,name:`Institution ${L.slice(0,6)}...${L.slice(-4)}`,total:V.total,verified:V.verified,pending:V.pending,performance:V.total>0?Math.round(V.verified/V.total*100):0}));if(j.institutions.institutionPerformance=H.sort((L,V)=>V.performance-L.performance),H.length>0){const L=H.reduce((V,X)=>V+X.performance,0);j.institutions.averagePerformance=Math.round(L/H.length)}}catch(I){console.warn("Error processing institution data:",I)}j.overview.totalCertificates>=0&&j.overview.verificationRate>=0&&j.overview.verificationRate<=100?(s(j),d(new Date),p.current=A,console.log("Report data updated successfully from contract:",{timestamp:new Date().toISOString(),blockNumber:S,totalCertificates:j.overview.totalCertificates,verificationRate:j.overview.verificationRate,verified:E,pending:M,revoked:R}),console.log("🔍 CERTIFICATE COUNTING DEBUG:",{"Total from totalSupply()":C,"Verified Count":E,"Pending Count":M,"Revoked Count":R,"Sum of Statuses":E+M+R,Difference:C-(E+M+R),"Verification Rate":`${j.overview.verificationRate}%`,"Block Number":S})):(console.warn("Data validation failed, skipping update"),o("Data validation failed. Please check your connection and try again."))}catch(j){console.error("Error fetching report data:",j);let C="Failed to load report data. ";j.code==="NETWORK_ERROR"?C+="Network connection issue. Please check your internet connection.":j.code==="CONTRACT_ERROR"?C+="Smart contract error. Please check if you're connected to the correct network.":j.message.includes("user rejected")?C+="Transaction was rejected by user.":j.message.includes("BigInt")?C+="Data type conversion error. Please refresh and try again.":C+=`${j.message}. Please check your connection and try again.`,o(C),console.error("Detailed error info:",{error:j,code:j.code,message:j.message,timestamp:new Date().toISOString(),contractAvailable:!!t,providerAvailable:!!(t!=null&&t.provider)})}finally{a(!1),g(!1)}}},[t]);return{reportData:e,isLoadingData:r,error:i,lastUpdate:c,blockNumber:h,isUpdating:x,fetchReportData:y,setError:o}},dse=(t,e)=>{const[s,r]=k.useState(!1),a=k.useCallback(()=>{if(t){try{t.on("CertificateIssued",()=>{console.log("Certificate issued event detected, refreshing data..."),e(!0)}),t.on("CertificateVerified",()=>{console.log("Certificate verified event detected, refreshing data..."),e(!0)}),t.on("CertificateRevoked",()=>{console.log("Certificate revoked event detected, refreshing data..."),e(!0)}),t.on("CertificateStatusChanged",()=>{console.log("Certificate status changed event detected, refreshing data..."),e(!0)}),t.on("CertificateUpdated",()=>{console.log("Certificate updated event detected, refreshing data..."),e(!0)}),t.on("CourseNameSet",()=>{console.log("Course name set event detected, refreshing data..."),e(!0)}),t.on("InstitutionAuthorized",()=>{console.log("Institution authorized event detected, refreshing data..."),e(!0)}),t.on("InstitutionRevoked",()=>{console.log("Institution revoked event detected, refreshing data..."),e(!0)}),console.log("Blockchain event listeners attached for real-time updates")}catch(o){console.warn("Could not attach blockchain event listeners:",o)}r(!0)}},[t,e]),i=k.useCallback(()=>{try{t&&(t.off("CertificateIssued"),t.off("CertificateVerified"),t.off("CertificateRevoked"),t.off("CertificateStatusChanged"),t.off("CertificateUpdated"),t.off("CourseNameSet"),t.off("InstitutionAuthorized"),t.off("InstitutionRevoked"),console.log("Blockchain event listeners removed"))}catch(o){console.warn("Error removing blockchain event listeners:",o)}r(!1)},[t]);return k.useEffect(()=>(t?a():i(),()=>{i()}),[t,a,i]),{isRealTimeEnabled:s,setIsRealTimeEnabled:r,startRealTimeUpdates:a,stopRealTimeUpdates:i}},use=t=>{const[e,s]=k.useState(["totalCertificates","verificationRate"]),r=[{value:"totalCertificates",label:"Total Certificates",category:"Volume",priority:"high",reportTypes:["overview","custom"]},{value:"verifiedCertificates",label:"Verified Certificates",category:"Status",priority:"high",reportTypes:["overview","custom"]},{value:"pendingCertificates",label:"Pending Certificates",category:"Status",priority:"medium",reportTypes:["overview","custom"]},{value:"revokedCertificates",label:"Revoked Certificates",category:"Status",priority:"medium",reportTypes:["overview","custom"]},{value:"totalInstitutions",label:"Total Institutions",category:"Network",priority:"high",reportTypes:["overview","institutions","custom"]},{value:"verificationRate",label:"Verification Rate",category:"Performance",priority:"critical",reportTypes:["overview","custom"]},{value:"averageGrade",label:"Average Grade",category:"Performance",priority:"high",reportTypes:["overview","certificates","custom"]},{value:"courseDistribution",label:"Course Distribution",category:"Analysis",priority:"medium",reportTypes:["certificates","custom"]},{value:"gradeDistribution",label:"Grade Distribution",category:"Analysis",priority:"medium",reportTypes:["certificates","custom"]},{value:"institutionPerformance",label:"Institution Performance",category:"Analysis",priority:"high",reportTypes:["institutions","custom"]},{value:"trendAnalysis",label:"Trend Analysis",category:"Insights",priority:"critical",reportTypes:["overview","certificates","institutions","custom"]},{value:"complianceMetrics",label:"Compliance Metrics",category:"Governance",priority:"high",reportTypes:["overview","institutions","custom"]}],a=()=>t==="custom"?r:r.filter(o=>o.reportTypes.includes(t)),i=o=>{s(c=>c.includes(o)?c.filter(d=>d!==o):[...c,o])};return k.useEffect(()=>{const o=a(),c=e.filter(d=>o.some(h=>h.value===d));c.length===0&&o.length>0?s([o[0].value]):s(c)},[t]),{selectedMetrics:e,setSelectedMetrics:s,availableMetrics:r,getFilteredMetrics:a,handleMetricToggle:i}},hse=(t,e,s,r,a,i,o)=>{const[c,d]=k.useState(!1),[h,f]=k.useState(null);return{isGeneratingReport:c,currentReport:h,generateReport:async()=>{if(t){d(!0);try{const g={type:e,timeRange:s,generatedAt:new Date().toISOString(),metrics:r,data:{},metadata:{blockNumber:a,lastDataUpdate:i,realTimeEnabled:o,autoRefresh:!1,reportVersion:"2.0",generatedBy:"Professional Analytics Engine"},executiveSummary:{},insights:[],recommendations:[],riskAssessment:{},performanceMetrics:{}};switch(e){case"overview":g.data={totalCertificates:t.overview.totalCertificates,verificationRate:t.overview.verificationRate,totalInstitutions:t.overview.totalInstitutions,averageGrade:t.overview.averageGrade,lastBlockNumber:t.overview.lastBlockNumber,lastUpdate:t.overview.lastUpdate},g.executiveSummary={keyHighlights:[`Total certificates: ${t.overview.totalCertificates}`,`Verification rate: ${t.overview.verificationRate}%`,`Network institutions: ${t.overview.totalInstitutions}`,`Academic performance: ${t.overview.averageGrade}%`],performanceStatus:t.overview.verificationRate>=80?"Excellent":t.overview.verificationRate>=60?"Good":"Needs Attention",networkHealth:t.overview.totalInstitutions>=5?"Robust":"Growing",dataQuality:"High - Blockchain Verified"},g.insights=[`Verification rate of ${t.overview.verificationRate}% indicates ${t.overview.verificationRate>=80?"strong":"moderate"} quality control`,`Network spans ${t.overview.totalInstitutions} institutions, showing ${t.overview.totalInstitutions>=5?"established":"emerging"} ecosystem`,`Average grade of ${t.overview.averageGrade}% reflects ${t.overview.averageGrade>=80?"high":"moderate"} academic standards`],g.recommendations=[t.overview.verificationRate<80?"Implement stricter verification protocols":"Maintain current verification standards",t.overview.totalInstitutions<5?"Expand institutional partnerships":"Strengthen existing partnerships","Continue blockchain-based transparency initiatives"],g.riskAssessment={verificationRisk:t.overview.verificationRate<60?"High":t.overview.verificationRate<80?"Medium":"Low",networkRisk:t.overview.totalInstitutions<3?"High":t.overview.totalInstitutions<5?"Medium":"Low",dataIntegrityRisk:"Low - Blockchain Protected",complianceRisk:"Low - Automated Verification"},g.performanceMetrics={efficiency:Math.round(t.overview.verifiedCertificates/t.overview.totalCertificates*100),scalability:t.overview.totalInstitutions>=5?"High":"Medium",reliability:"High - Event-Driven Updates",transparency:"100% - Blockchain Immutable"};break;case"certificates":g.data={totalSupply:t.certificates.totalSupply,courseDistribution:t.certificates.courseDistribution,gradeDistribution:t.certificates.gradeDistribution,recentActivity:t.certificates.recentActivity,lastUpdate:t.certificates.lastUpdate};const p=Object.keys(t.certificates.courseDistribution).length,v=Object.values(t.certificates.gradeDistribution),y=(t.certificates.gradeDistribution["90-100"]||0)+(t.certificates.gradeDistribution["80-89"]||0);g.executiveSummary={keyHighlights:[`Total certificates: ${t.certificates.totalSupply}`,`Active courses: ${p}`,`High performers (80%+): ${y}`,`Recent activity: ${t.certificates.recentActivity.length} updates`],performanceStatus:y>=t.certificates.totalSupply*.6?"Excellent":"Good",academicDiversity:p>=5?"High":p>=3?"Medium":"Low",dataQuality:"High - Real-time Blockchain Data"},g.insights=[`Course diversity: ${p} active courses indicate ${p>=5?"comprehensive":"focused"} academic coverage`,`Grade distribution shows ${y>=t.certificates.totalSupply*.6?"strong":"moderate"} academic performance`,"Real-time activity tracking provides immediate visibility into system dynamics"],g.recommendations=[p<3?"Expand course offerings to increase academic diversity":"Maintain current course portfolio",y<t.certificates.totalSupply*.6?"Review academic standards and support systems":"Continue current academic excellence","Leverage blockchain transparency for stakeholder reporting"];break;case"institutions":g.data={totalInstitutions:t.institutions.totalInstitutions,averagePerformance:t.institutions.averagePerformance,topPerformers:t.institutions.institutionPerformance.slice(0,5),lastUpdate:t.institutions.lastUpdate};const w=t.institutions.institutionPerformance[0],A=w?w.performance-t.institutions.averagePerformance:0;g.executiveSummary={keyHighlights:[`Total institutions: ${t.institutions.totalInstitutions}`,`Average performance: ${t.institutions.averagePerformance}%`,`Top performer: ${w?w.performance+"%":"N/A"}`,`Performance gap: ${A>0?"+"+A:A}%`],performanceStatus:t.institutions.averagePerformance>=80?"Excellent":t.institutions.averagePerformance>=60?"Good":"Needs Attention",networkDiversity:t.institutions.totalInstitutions>=5?"High":"Growing",collaborationPotential:A>20?"High - Knowledge Sharing Opportunity":"Moderate"},g.insights=[`Network performance of ${t.institutions.averagePerformance}% indicates ${t.institutions.averagePerformance>=80?"strong":"developing"} institutional collaboration`,`Performance gap of ${A}% suggests ${A>20?"significant":"moderate"} opportunities for best practice sharing`,"Institutional diversity supports robust ecosystem development"],g.recommendations=[A>20?"Implement best practice sharing programs between institutions":"Continue current collaboration initiatives",t.institutions.averagePerformance<70?"Develop institutional support and training programs":"Maintain current performance standards","Expand network partnerships to increase ecosystem resilience"];break;case"custom":g.data={},r.forEach(S=>{t.overview[S]!==void 0&&(g.data[S]=t.overview[S])});const j=r.length,C=r.filter(S=>["verificationRate","trendAnalysis"].includes(S)).length;g.executiveSummary={keyHighlights:[`Custom report with ${j} selected metrics`,`Critical metrics: ${C}`,`Time range: ${s}`,`Data freshness: ${i?"Real-time":"Historical"}`],performanceStatus:C>0?"Strategic Focus":"Operational Overview",reportScope:j>=8?"Comprehensive":j>=5?"Detailed":"Focused",dataQuality:"High - Blockchain Verified"},g.insights=[`Custom report configuration allows targeted analysis of ${j} key areas`,`Inclusion of ${C} critical metrics ensures strategic alignment`,"Real-time data provides immediate actionable insights"],g.recommendations=[C===0?"Consider including critical metrics for strategic insights":"Maintain focus on critical performance indicators",j<5?"Expand metric selection for comprehensive analysis":"Current selection provides balanced coverage","Regular review of metric selection ensures continued relevance"],g.data.lastUpdate=t.overview.lastUpdate,g.data.blockNumber=t.overview.lastBlockNumber;break}console.log("Generated real-time report:",g),f(g)}catch(g){throw console.error("Error generating report:",g),new Error(`Failed to generate report: ${g.message}`)}finally{d(!1)}}}}},fse=()=>({exportToCSV:r=>{var d,h,f,x;if(!r)return;let a=`Section,Metric,Value,Timestamp
`;a+=`Report Info,Report Type,${r.type},${r.generatedAt}
`,a+=`Report Info,Time Range,${r.timeRange},${r.generatedAt}
`,a+=`Report Info,Block Number,${((d=r.metadata)==null?void 0:d.blockNumber)||"N/A"},${r.generatedAt}
`,a+=`Report Info,Last Update,${((h=r.metadata)==null?void 0:h.lastDataUpdate)||"N/A"},${r.generatedAt}
`,a+=`Report Info,Real-time Enabled,${((f=r.metadata)==null?void 0:f.realTimeEnabled)||!1},${r.generatedAt}
`,a+=`Report Info,Report Version,${((x=r.metadata)==null?void 0:x.reportVersion)||"N/A"},${r.generatedAt}
`,a+=`
`,r.executiveSummary&&(a+=`Executive Summary,Performance Status,${r.executiveSummary.performanceStatus||"N/A"},${r.generatedAt}
`,a+=`Executive Summary,Network Health,${r.executiveSummary.networkHealth||r.executiveSummary.academicDiversity||"N/A"},${r.generatedAt}
`,a+=`Executive Summary,Data Quality,${r.executiveSummary.dataQuality||"N/A"},${r.generatedAt}
`,a+=`
`),r.insights&&(r.insights.forEach((g,p)=>{a+=`Strategic Insights,Insight ${p+1},"${g}",${r.generatedAt}
`}),a+=`
`),r.recommendations&&(r.recommendations.forEach((g,p)=>{a+=`Recommendations,Recommendation ${p+1},"${g}",${r.generatedAt}
`}),a+=`
`),Object.entries(r.data).forEach(([g,p])=>{typeof p=="object"?Array.isArray(p)?a+=`${g},${p.length} items,${r.generatedAt}
`:Object.entries(p).forEach(([v,y])=>{a+=`${g}_${v},${y},${r.generatedAt}
`}):a+=`${g},${p},${r.generatedAt}
`});const i=new Blob([a],{type:"text/csv"}),o=window.URL.createObjectURL(i),c=document.createElement("a");c.href=o,c.download=`professional-analytics-report-${r.type}-${Date.now()}.csv`,c.click(),window.URL.revokeObjectURL(o)},exportToPDF:r=>{var o,c,d,h,f;if(!r)return;const a=`
      PROFESSIONAL ANALYTICS REPORT
      =============================
      
      EXECUTIVE SUMMARY
      -----------------
      ${r.executiveSummary?`
      Key Highlights:
      ${((o=r.executiveSummary.keyHighlights)==null?void 0:o.map(x=>`• ${x}`).join(`
`))||"N/A"}
      
      Performance Status: ${r.executiveSummary.performanceStatus||"N/A"}
      Network Health: ${r.executiveSummary.networkHealth||r.executiveSummary.academicDiversity||"N/A"}
      Data Quality: ${r.executiveSummary.dataQuality||"N/A"}
      `:""}
      
      STRATEGIC INSIGHTS
      ------------------
      ${r.insights?r.insights.map(x=>`• ${x}`).join(`
`):"N/A"}
      
      RECOMMENDATIONS
      ---------------
      ${r.recommendations?r.recommendations.map(x=>`• ${x}`).join(`
`):"N/A"}
      
      ${r.riskAssessment?`
      RISK ASSESSMENT
      ----------------
      Verification Risk: ${r.riskAssessment.verificationRisk||"N/A"}
      Network Risk: ${r.riskAssessment.networkRisk||"N/A"}
      Data Integrity Risk: ${r.riskAssessment.dataIntegrityRisk||"N/A"}
      Compliance Risk: ${r.riskAssessment.complianceRisk||"N/A"}
      `:""}
      
      ${r.performanceMetrics?`
      PERFORMANCE METRICS
      -------------------
      Efficiency: ${r.performanceMetrics.efficiency||"N/A"}%
      Scalability: ${r.performanceMetrics.scalability||"N/A"}
      Reliability: ${r.performanceMetrics.reliability||"N/A"}
      Transparency: ${r.performanceMetrics.transparency||"N/A"}
      `:""}
      
      TECHNICAL DETAILS
      -----------------
      Report Type: ${r.type}
      Time Range: ${r.timeRange}
      Generated: ${new Date(r.generatedAt).toLocaleString()}
      Block Number: ${((c=r.metadata)==null?void 0:c.blockNumber)||"N/A"}
      Last Data Update: ${(d=r.metadata)!=null&&d.lastDataUpdate?new Date(r.metadata.lastDataUpdate).toLocaleString():"N/A"}
      Real-time Enabled: ${((h=r.metadata)==null?void 0:h.realTimeEnabled)||!1}
      Report Version: ${((f=r.metadata)==null?void 0:f.reportVersion)||"N/A"}
      
      DETAILED DATA
      -------------
      ${JSON.stringify(r.data,null,2)}
      
      ---
      Generated by Professional Analytics Engine
      Blockchain-Verified Data | Event-Driven Updates
    `,i=window.open("","_blank");i.document.write(`
      <html>
        <head>
          <title>Real-Time Analytics Report - ${r.type}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            pre { background: #f5f5f5; padding: 10px; border-radius: 5px; }
          </style>
        </head>
        <body>
          <pre>${a}</pre>
          <script>window.print();<\/script>
        </body>
      </html>
    `),i.document.close()},exportToJSON:r=>{if(!r)return;const a=JSON.stringify(r,null,2),i=new Blob([a],{type:"application/json"}),o=window.URL.createObjectURL(i),c=document.createElement("a");c.href=o,c.download=`professional-analytics-report-${r.type}-${Date.now()}.json`,c.click(),window.URL.revokeObjectURL(o)}}),mse=({reportType:t,setReportType:e,timeRange:s,setTimeRange:r,reportTypes:a,timeRanges:i})=>n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Report Configuration"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-300 mb-4",children:"Report Type"}),n.jsx("div",{className:"space-y-3",children:a.map(o=>n.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"reportType",value:o.value,checked:t===o.value,onChange:c=>e(c.target.value),className:"mt-1 w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 focus:ring-indigo-500 focus:ring-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-white",children:o.label}),n.jsx("div",{className:"text-xs text-gray-400",children:o.description})]})]},o.value))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-300 mb-4",children:"Time Range"}),n.jsx("div",{className:"space-y-3",children:i.map(o=>n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"timeRange",value:o.value,checked:s===o.value,onChange:c=>r(c.target.value),className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 focus:ring-indigo-500 focus:ring-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:o.label})]},o.value))})]})]})]}),xse=({selectedMetrics:t,handleMetricToggle:e,getFilteredMetrics:s})=>n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Select Metrics"}),n.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Choose which metrics to include in your report"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s().map(r=>n.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-800/40 rounded-lg border border-gray-700/50 hover:border-indigo-500/50 cursor-pointer transition-colors",children:[n.jsx("input",{type:"checkbox",checked:t.includes(r.value),onChange:()=>e(r.value),className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 focus:ring-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-white",children:r.label}),n.jsx("div",{className:"text-xs text-gray-400",children:r.category}),n.jsxs("div",{className:"text-xs text-indigo-400",children:["Priority: ",r.priority]})]})]},r.value))})]}),gse=({isRealTimeEnabled:t,lastUpdate:e,isLoadingData:s,blockNumber:r,isUpdating:a,contract:i})=>n.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${s?"bg-yellow-400 animate-pulse":t?"bg-green-400":"bg-gray-500"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:s?"Loading...":t?"Event Listening Active":"Manual Mode"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),n.jsxs("span",{className:"text-sm text-gray-400",children:["Block: ",r||"N/A"]})]}),e&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"}),n.jsxs("span",{className:"text-sm text-gray-400",children:["Updated: ",new Date(e).toLocaleTimeString()]})]}),a&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400 animate-pulse"}),n.jsx("span",{className:"text-sm text-orange-400 animate-pulse",children:"Updating..."})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${i!=null&&i.provider?"bg-green-400":"bg-red-400"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:i!=null&&i.provider?"Connected":"Disconnected"})]})]}),pse=({isGeneratingReport:t,reportData:e,currentReport:s,generateReport:r,exportToPDF:a,exportToCSV:i,exportToJSON:o})=>n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("button",{onClick:r,disabled:t||!e,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 text-white font-medium rounded-lg transition-colors flex items-center space-x-2",children:t?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Generating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:"Generate Event-Driven Report"})]})}),n.jsxs("button",{onClick:()=>a(s),disabled:!s,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white font-medium rounded-lg transition-colors flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{children:"Export PDF"})]}),n.jsxs("button",{onClick:()=>i(s),disabled:!s,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white font-medium rounded-lg transition-colors flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{onClick:()=>o(s),disabled:!s,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white font-medium rounded-lg transition-colors flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),n.jsx("span",{children:"Export JSON"})]})]}),fN=({contract:t,institutionStats:e={},isLoading:s=!1,userRoles:r={}})=>{var X,ee,F,z,G,K,W;const[a,i]=k.useState("overview"),[o,c]=k.useState("30d"),[d,h]=k.useState(!1),[f,x]=k.useState(null),{reportData:g,isLoadingData:p,error:v,lastUpdate:y,blockNumber:w,isUpdating:A,fetchReportData:j,setError:C}=cse(t),{isRealTimeEnabled:S,setIsRealTimeEnabled:E}=dse(t,j),{selectedMetrics:M,getFilteredMetrics:R,handleMetricToggle:_}=use(a),{isGeneratingReport:I,currentReport:D,generateReport:B}=hse(g,a,o,M,w,y,S),{exportToCSV:O,exportToPDF:$,exportToJSON:Y}=fse(),H=[{value:"overview",label:"Overview Report",description:"High-level system metrics"},{value:"certificates",label:"Certificate Report",description:"Detailed certificate analytics"},{value:"institutions",label:"Institution Report",description:"Institution performance analysis"},{value:"custom",label:"Custom Report",description:"Build your own report"}],L=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}];k.useEffect(()=>{t&&j(!0)},[t,j]),k.useEffect(()=>{y&&y!==f&&(h(!0),x(y),setTimeout(()=>h(!1),3e3))},[y,f]);const V=()=>{j(!0)};return s||p?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((Q,Z)=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-4"}),n.jsx("div",{className:"h-32 bg-gray-700 rounded"})]},Z))})]}):n.jsxs("div",{className:"space-y-8",children:[d&&n.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg animate-in slide-in-from-right-2 duration-300",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),n.jsx("span",{className:"font-medium",children:"Data Updated!"}),n.jsx("span",{className:"text-sm opacity-90",children:f?new Date(f).toLocaleTimeString():""})]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Professional Analytics Reports Builder"}),n.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Create enterprise-grade analytics reports with executive insights, strategic recommendations, and blockchain-verified data for stakeholders and decision-makers."}),n.jsxs("div",{className:"mt-2 flex items-center justify-center space-x-2",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${S?"bg-green-400":"bg-gray-500"}`}),n.jsx("span",{className:"text-xs text-gray-500",children:S?"EVENT LISTENING":"EVENTS DISABLED"})]}),S&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"•"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Last update: ",y?Math.round((Date.now()-new Date(y).getTime())/1e3):0,"s ago"]})]})]}),n.jsx(gse,{isRealTimeEnabled:S,lastUpdate:y,isLoadingData:p,blockNumber:w,isUpdating:A,contract:t}),n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S,onChange:Q=>E(Q.target.checked),className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 focus:ring-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Listen to Events"})]}),n.jsxs("button",{onClick:V,disabled:p,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 text-white text-sm rounded-lg transition-colors flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Refresh Now"})]})]})]}),v&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Error Loading Data"}),n.jsx("p",{className:"text-sm text-red-300 mt-1",children:v})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>j(!0),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded transition-colors",children:"Retry"}),n.jsx("button",{onClick:()=>C(null),className:"text-red-400 hover:text-red-300 transition-colors",children:n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 8.586 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})}),n.jsx(mse,{reportType:a,setReportType:i,timeRange:o,setTimeRange:c,reportTypes:H,timeRanges:L}),n.jsx(xse,{selectedMetrics:M,handleMetricToggle:_,getFilteredMetrics:R}),n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Event-Driven Report Preview"}),n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4 mb-6",children:[n.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Report Summary"}),n.jsxs("div",{className:"text-white",children:[n.jsx("strong",{children:(X=H.find(Q=>Q.value===a))==null?void 0:X.label})," for the last"," ",n.jsx("strong",{children:(ee=L.find(Q=>Q.value===o))==null?void 0:ee.label})," including"," ",n.jsxs("strong",{children:[M.length," metrics"]})]}),S&&n.jsx("div",{className:"mt-2 text-sm text-green-400",children:"🔴 Event-driven updates from blockchain"})]}),g&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{label:"Total Certificates",value:g.overview.totalCertificates,trend:"up"},{label:"Verification Rate",value:`${g.overview.verificationRate}%`,trend:"stable"},{label:"Total Institutions",value:g.overview.totalInstitutions,trend:"up"},{label:"Recent Activity",value:`${g.certificates.recentActivity.length} certs`,trend:"up"}].map(Q=>n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-3 text-center relative",children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:Q.value}),n.jsx("div",{className:"text-xs text-gray-400",children:Q.label}),A&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"})}),y&&n.jsx("div",{className:"absolute bottom-1 right-1",children:n.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"})})]},Q.label))}),g&&n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4 mb-6",children:[n.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Event-Driven Performance & Data Quality"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:S?"Active":"Inactive"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Event Listening"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-lg font-semibold text-white",children:[y?Math.round((Date.now()-new Date(y).getTime())/1e3):"N/A","s"]}),n.jsx("div",{className:"text-xs text-gray-400",children:"Last Update"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:w||"N/A"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Current Block"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-white",children:g.overview.totalCertificates||"N/A"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Total Certs"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:[n.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Data Quality"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-white",children:g.overview.totalCertificates>0?"✓ Valid":"⚠ Empty"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Data Integrity"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-white",children:t!=null&&t.provider?"✓ Active":"✗ Inactive"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Contract Connection"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-white",children:S?"✓ Event-Driven":"✗ Manual"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Update Mode"})]})]})]})]}),n.jsx(pse,{isGeneratingReport:I,reportData:g,currentReport:D,generateReport:B,exportToPDF:$,exportToCSV:O,exportToJSON:Y})]}),D&&n.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-xl p-6 border border-gray-800/50",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Generated Professional Report"}),n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Report Details"}),n.jsxs("div",{className:"text-white space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Type:"})," ",(F=H.find(Q=>Q.value===D.type))==null?void 0:F.label]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Time Range:"})," ",(z=L.find(Q=>Q.value===D.timeRange))==null?void 0:z.label]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Generated:"})," ",new Date(D.generatedAt).toLocaleString()]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Metrics:"})," ",D.metrics.join(", ")]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Block Number:"})," ",((G=D.metadata)==null?void 0:G.blockNumber)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Real-time:"})," ",(K=D.metadata)!=null&&K.realTimeEnabled?"Enabled":"Disabled"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Version:"})," ",((W=D.metadata)==null?void 0:W.reportVersion)||"N/A"]})]})]}),D.executiveSummary&&n.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/50 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"text-sm text-blue-400 mb-2 font-semibold",children:"📊 Executive Summary"}),n.jsxs("div",{className:"text-white space-y-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Performance Status:"})," ",n.jsx("span",{className:"text-blue-300",children:D.executiveSummary.performanceStatus})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Network Health:"})," ",n.jsx("span",{className:"text-blue-300",children:D.executiveSummary.networkHealth||D.executiveSummary.academicDiversity})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Data Quality:"})," ",n.jsx("span",{className:"text-blue-300",children:D.executiveSummary.dataQuality})]}),D.executiveSummary.keyHighlights&&n.jsxs("div",{children:[n.jsx("strong",{children:"Key Highlights:"}),n.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:D.executiveSummary.keyHighlights.map((Q,Z)=>n.jsxs("li",{className:"text-blue-200",children:["• ",Q]},Z))})]})]})]}),D.insights&&D.insights.length>0&&n.jsxs("div",{className:"bg-green-900/20 border border-green-500/50 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"text-sm text-green-400 mb-2 font-semibold",children:"💡 Strategic Insights"}),n.jsx("div",{className:"text-white space-y-2",children:D.insights.map((Q,Z)=>n.jsxs("div",{className:"text-green-200",children:["• ",Q]},Z))})]}),D.recommendations&&D.recommendations.length>0&&n.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/50 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"text-sm text-yellow-400 mb-2 font-semibold",children:"🎯 Strategic Recommendations"}),n.jsx("div",{className:"text-white space-y-2",children:D.recommendations.map((Q,Z)=>n.jsxs("div",{className:"text-yellow-200",children:["• ",Q]},Z))})]}),D.riskAssessment&&n.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"text-sm text-red-400 mb-2 font-semibold",children:"⚠️ Risk Assessment"}),n.jsxs("div",{className:"text-white space-y-2",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Verification Risk:"})," ",n.jsx("span",{className:"text-red-300",children:D.riskAssessment.verificationRisk})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Network Risk:"})," ",n.jsx("span",{className:"text-red-300",children:D.riskAssessment.networkRisk})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Data Integrity Risk:"})," ",n.jsx("span",{className:"text-red-300",children:D.riskAssessment.dataIntegrityRisk})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Compliance Risk:"})," ",n.jsx("span",{className:"text-red-300",children:D.riskAssessment.complianceRisk})]})]})]}),n.jsxs("div",{className:"bg-gray-800/40 rounded-lg p-4",children:[n.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Event-Driven Report Data"}),n.jsx("pre",{className:"text-xs text-gray-300 overflow-x-auto",children:JSON.stringify(D.data,null,2)})]})]})]})};fN.propTypes={contract:ie.object,institutionStats:ie.object,isLoading:ie.bool,userRoles:ie.object};fN.defaultProps={contract:null,institutionStats:{},isLoading:!1,userRoles:{}};const bse=()=>{const{account:t,roles:e,contract:s,roleConstants:r,connectWallet:a,isConnected:i,isLoading:o}=zb();e.isAdmin,e.isInstitution;const{INSTITUTION_ROLE:c,DEFAULT_ADMIN_ROLE:d}=r,h=s,{stats:f,isLoading:x,error:g,refreshStats:p}=Ub(h,r,t),[v,y]=k.useState("overview"),[w,A]=k.useState(!0),[j,C]=k.useState(null),[S,E]=k.useState(null),[M,R]=k.useState(!1),[_,I]=k.useState(0),[D,B]=k.useState(!1);k.useEffect(()=>{(async()=>{if(h&&h.provider)try{const H=await h.provider.getBlockNumber();R(!0),I(H)}catch(H){console.warn("Real-time features not available:",H),R(!1)}})()},[h]),k.useEffect(()=>{if(!h||!M)return;(async()=>{try{if(!h.provider){console.log("Analytics: No provider available for real-time updates");return}const H=await h.provider.getBlockNumber();if(H>_){if(console.log("Analytics: New block detected, updating stats..."),B(!0),p&&typeof p=="function")try{await p(),console.log("Analytics: Stats refreshed successfully")}catch(L){console.warn("Analytics: Error refreshing stats:",L)}I(H),E(Date.now()),B(!1)}}catch(H){console.warn("Analytics: Error checking for updates:",H),B(!1)}})()},[h,M,_,p]),k.useEffect(()=>{h&&(r!=null&&r.INSTITUTION_ROLE)&&(A(!1),E(Date.now()))},[h,r]);const O=k.useCallback(Y=>{y(Y)},[]),$=k.useCallback(()=>{C(null),p&&p(),a&&!i&&a()},[p,a,i]);return o||w?n.jsx("div",{className:"min-h-screen bg-gray-950",children:n.jsx("div",{className:"p-6",children:n.jsx(lX,{})})}):j||g?n.jsx("div",{className:"min-h-screen bg-gray-950",children:n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center text-red-400 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:["Error loading analytics: ",(j==null?void 0:j.message)||(g==null?void 0:g.message)||"Unknown error"]})]}),n.jsx("button",{onClick:$,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})})}):i?n.jsxs("div",{className:"min-h-screen bg-gray-950",children:[n.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-black opacity-100"}),n.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx(H5,{lastUpdate:S,isUpdating:D,realTimeEnabled:M,userRoles:e}),n.jsx(V5,{activeSection:v,onSectionChange:O,userRoles:e}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[v==="overview"&&n.jsx(lN,{institutionStats:f,isLoading:x,isUpdating:D,realTimeEnabled:M,contract:h}),v==="certificates"&&n.jsx(cN,{contract:h,institutionStats:f,isLoading:x,isUpdating:D,realTimeEnabled:M}),v==="institutions"&&n.jsx(dN,{contract:h,roleConstants:r,currentAccount:t,institutionStats:f,isLoading:x,isUpdating:D,realTimeEnabled:M}),v==="network"&&n.jsx(uN,{contract:h,isLoading:x,isUpdating:D,realTimeEnabled:M}),v==="activity"&&n.jsx(hN,{contract:h,isLoading:x,isUpdating:D,realTimeEnabled:M}),v==="reports"&&n.jsx(fN,{contract:h,institutionStats:f,isLoading:x,userRoles:e})]})})]})]}):n.jsx(CM,{onConnect:a})},vse=()=>{const[t,e]=k.useState("getting-started"),[s,r]=k.useState({x:0,y:0}),[a,i]=k.useState(!1),[o,c]=k.useState(!1),[d,h]=k.useState(null);k.useRef(null);const f=k.useRef([]);k.useEffect(()=>{const g=()=>{i(window.innerWidth>=1024)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),k.useEffect(()=>{if(!a)return;let g=null,p=null,v=!1;const y=()=>{g=document.createElement("div"),g.style.cssText=`
        position: fixed;
        width: 32px;
        height: 32px;
        pointer-events: none;
        z-index: 9999;
        transform: translate3d(0,0,0);
        transition: width 0.1s ease, height 0.1s ease;
      `,g.innerHTML=`
        <div style="position: absolute; inset: 0; animation: spin-slow 3s linear infinite;">
          <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid transparent; background: linear-gradient(45deg, #22d3ee, #a855f7); background-clip: border-box; opacity: 0.6; clip-path: polygon(0% 0%, 50% 0%, 50% 50%, 0% 50%);"></div>
        </div>
        <div style="position: absolute; inset: 4px; animation: spin-reverse 2s linear infinite;">
          <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid transparent; background: linear-gradient(45deg, #a855f7, #10b981); background-clip: border-box; opacity: 0.4; clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);"></div>
      </div>
        <div style="position: absolute; inset: 8px; background: radial-gradient(circle, white, #22d3ee, transparent); border-radius: 50%; animation: pulse-quantum 1.5s ease-in-out infinite;"></div>
        <div style="position: absolute; inset: 0; overflow: hidden; border-radius: 50%;">
          <div style="position: absolute; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #22d3ee, transparent); top: 50%; transform: translateY(-50%); animation: scan-cursor 2s ease-in-out infinite;"></div>
          <div style="position: absolute; height: 100%; width: 2px; background: linear-gradient(0deg, transparent, #a855f7, transparent); left: 50%; transform: translateX(-50%); animation: scan-cursor-v 1.8s ease-in-out infinite;"></div>
    </div>
        <div style="position: absolute; inset: 4px; border-radius: 50%; background: linear-gradient(45deg, rgba(34,211,238,0.2), rgba(168,85,247,0.2)); animation: glitch 3s ease-in-out infinite;"></div>
      `,p=document.createElement("div"),p.style.cssText=`
        position: fixed;
        width: 80px;
        height: 80px;
        pointer-events: none;
        z-index: 9998;
        opacity: 0.3;
        background: radial-gradient(circle, rgba(34,211,238,0.1) 0%, rgba(139,92,246,0.05) 50%, transparent 100%);
        border-radius: 50%;
        animation: pulse-aura 2s ease-in-out infinite;
        transform: translate3d(0,0,0);
      `,document.body.appendChild(g),document.body.appendChild(p)},w=E=>{const M=E.clientX,R=E.clientY;g&&(g.style.left=M-16+"px",g.style.top=R-16+"px"),p&&(p.style.left=M-40+"px",p.style.top=R-40+"px"),r({x:M,y:R}),f.current=[{x:M,y:R,time:Date.now(),velocity:Math.sqrt(Math.pow(E.movementX||0,2)+Math.pow(E.movementY||0,2)),angle:Math.atan2(E.movementY||0,E.movementX||0)},...f.current.slice(0,29)]},A=E=>{const M=E.target.closest('button, a, [role="button"]'),R=M&&M.closest("nav");M&&!R&&!v&&(v=!0,c(!0),g&&(g.style.width="48px",g.style.height="48px",g.innerHTML=`
            <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid #f59e0b; opacity: 0.8; animation: pulse-fast 1s ease-in-out infinite;"></div>
            <div style="position: absolute; inset: 0; animation: spin-fast 1s linear infinite;">
              <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid transparent; background: linear-gradient(45deg, #f59e0b, #f97316); background-clip: border-box; opacity: 0.6; clip-path: polygon(0% 0%, 50% 0%, 50% 50%, 0% 50%);"></div>
    </div>
            <div style="position: absolute; inset: 4px; animation: spin-reverse-fast 0.8s linear infinite;">
              <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid transparent; background: linear-gradient(45deg, #f97316, #dc2626); background-clip: border-box; opacity: 0.4; clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);"></div>
            </div>
            <div style="position: absolute; inset: 8px; background: radial-gradient(circle, #fef3c7, #fed7aa, transparent); border-radius: 50%; animation: pulse-quantum-fast 0.8s ease-in-out infinite;"></div>
            <div style="position: absolute; inset: 0; overflow: hidden; border-radius: 50%;">
              <div style="position: absolute; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #f59e0b, transparent); top: 50%; transform: translateY(-50%); animation: scan-cursor-fast 1s ease-in-out infinite;"></div>
              <div style="position: absolute; height: 100%; width: 2px; background: linear-gradient(0deg, transparent, #f97316, transparent); left: 50%; transform: translateX(-50%); animation: scan-cursor-v-fast 0.9s ease-in-out infinite;"></div>
            </div>
            <div style="position: absolute; inset: 4px; border-radius: 50%; background: linear-gradient(45deg, rgba(245,158,11,0.3), rgba(249,115,22,0.3)); animation: glitch-fast 1.5s ease-in-out infinite;"></div>
            <div style="position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;">
              <div style="width: 8px; height: 8px; background: white; border-radius: 50%; animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;"></div>
            </div>
          `))},j=E=>{const M=E.relatedTarget&&E.relatedTarget.closest('button, a, [role="button"]'),R=M&&M.closest("nav");v&&(!M||R)&&(v=!1,c(!1),g&&(g.style.width="32px",g.style.height="32px",g.innerHTML=`
            <div style="position: absolute; inset: 0; animation: spin-slow 3s linear infinite;">
              <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid transparent; background: linear-gradient(45deg, #22d3ee, #a855f7); background-clip: border-box; opacity: 0.6; clip-path: polygon(0% 0%, 50% 0%, 50% 50%, 0% 50%);"></div>
    </div>
            <div style="position: absolute; inset: 4px; animation: spin-reverse 2s linear infinite;">
              <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid transparent; background: linear-gradient(45deg, #a855f7, #10b981); background-clip: border-box; opacity: 0.4; clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);"></div>
    </div>
            <div style="position: absolute; inset: 8px; background: radial-gradient(circle, white, #22d3ee, transparent); border-radius: 50%; animation: pulse-quantum 1.5s ease-in-out infinite;"></div>
            <div style="position: absolute; inset: 0; overflow: hidden; border-radius: 50%;">
              <div style="position: absolute; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #22d3ee, transparent); top: 50%; transform: translateY(-50%); animation: scan-cursor 2s ease-in-out infinite;"></div>
              <div style="position: absolute; height: 100%; width: 2px; background: linear-gradient(0deg, transparent, #a855f7, transparent); left: 50%; transform: translateX(-50%); animation: scan-cursor-v 1.8s ease-in-out infinite;"></div>
  </div>
            <div style="position: absolute; inset: 4px; border-radius: 50%; background: linear-gradient(45deg, rgba(34,211,238,0.2), rgba(168,85,247,0.2)); animation: glitch 3s ease-in-out infinite;"></div>
          `))};y(),document.addEventListener("mousemove",w,{passive:!0}),document.addEventListener("mouseover",A,{passive:!0}),document.addEventListener("mouseout",j,{passive:!0}),document.body.style.cursor="none";const C=document.createElement("style");C.textContent=`
      *, *:hover, *:focus, *:active {
        cursor: none !important;
      }
      button, a, [role="button"] {
        cursor: none !important;
      }
    `,document.head.appendChild(C);const S=()=>{const E=Date.now();f.current=f.current.filter(M=>E-M.time<800),requestAnimationFrame(S)};return S(),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseover",A),document.removeEventListener("mouseout",j),document.body.style.cursor="auto",C.parentNode&&document.head.removeChild(C),g&&document.body.removeChild(g),p&&document.body.removeChild(p)}},[a]);const x=[{id:"getting-started",title:"Getting Started",icon:"🚀"},{id:"setup",title:"Setup Guide",icon:"⚙️"},{id:"features",title:"Platform Features",icon:"✨"},{id:"roles",title:"User Roles",icon:"👥"},{id:"troubleshooting",title:"Troubleshooting",icon:"🔧"}];return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white relative overflow-hidden",children:[a&&n.jsxs(n.Fragment,{children:[f.current.map((g,p)=>{const v=Date.now()-g.time,y=Math.max(0,1-v/800),w=Math.max(.1,1-v/800),A=Math.min(2,(g.velocity||0)/10),j=(Date.now()/10+p*30)%360;return n.jsx("div",{className:"fixed pointer-events-none z-[9997]",style:{left:g.x-3,top:g.y-3,width:6+A*2,height:6+A*2,opacity:y*.8,transform:`scale(${w}) rotate(${g.angle||0}rad)`,background:`hsl(${j}, 80%, 60%)`,borderRadius:A>1?"2px":"50%",boxShadow:`0 0 ${8+A*4}px hsla(${j}, 80%, 60%, 0.6)`,transition:"none"}},`${g.x}-${g.y}-${g.time}`)}),Array.from({length:12}).map((g,p)=>n.jsx("div",{className:"fixed w-1 h-1 pointer-events-none z-[9996] rounded-full opacity-40",style:{left:s.x+Math.cos(Date.now()/500+p*.5)*(30+p*5)-2,top:s.y+Math.sin(Date.now()/500+p*.5)*(30+p*5)-2,background:`hsl(${180+p*15}, 100%, 70%)`,boxShadow:`0 0 4px hsl(${180+p*15}, 100%, 70%)`,animation:`quantum-orbit-${p%3} ${2+p*.1}s linear infinite`}},`particle-${p}`)),n.jsxs("svg",{className:"fixed pointer-events-none z-[9995] opacity-20",style:{left:s.x-60,top:s.y-60,width:120,height:120},children:[n.jsx("defs",{children:n.jsxs("radialGradient",{id:"magneticField",cx:"50%",cy:"50%",r:"50%",children:[n.jsx("stop",{offset:"0%",stopColor:"rgba(34,211,238,0.6)"}),n.jsx("stop",{offset:"100%",stopColor:"transparent"})]})}),Array.from({length:6}).map((g,p)=>n.jsx("ellipse",{cx:"60",cy:"60",rx:15+p*8,ry:10+p*5,fill:"none",stroke:"url(#magneticField)",strokeWidth:"1",transform:`rotate(${p*30+Date.now()/50} 60 60)`},p))]})]}),n.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(34,211,238,0.15),transparent_50%)]"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom,rgba(139,92,246,0.10),transparent_50%)]"}),n.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-violet-500/20 rounded-full blur-3xl ${a?"animate-float-slow":"animate-pulse"}`}),n.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-violet-500/20 to-emerald-500/20 rounded-full blur-3xl ${a?"animate-float-reverse":"animate-pulse"}`}),a&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-1/2 left-1/6 w-32 h-32 bg-gradient-to-r from-emerald-500/15 to-cyan-500/15 rounded-full blur-2xl animate-bounce-slow"}),n.jsx("div",{className:"absolute top-3/4 right-1/6 w-48 h-48 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-full blur-2xl animate-drift"}),n.jsx("div",{className:"absolute top-1/6 right-1/3 w-24 h-24 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-full blur-xl animate-pulse-slow"})]}),n.jsx("div",{className:`absolute inset-0 opacity-10 ${a?"animate-grid-move":""}`,style:{backgroundImage:"linear-gradient(rgba(34,211,238,0.3) 1px, transparent 1px), linear-gradient(90deg, rgba(34,211,238,0.3) 1px, transparent 1px)",backgroundSize:"50px 50px"}}),a&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-cyan-500/5 to-transparent h-2 animate-scan-vertical"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-violet-500/5 to-transparent w-2 animate-scan-horizontal"})]})]}),n.jsxs("header",{className:"relative bg-slate-900/80 backdrop-blur-xl border-b border-cyan-400/20 sticky top-0 z-10",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 to-violet-500/5"}),n.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-violet-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"BC"})}),n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/50 to-violet-500/50 rounded-lg blur opacity-75"})]}),n.jsx("h1",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-violet-300",children:"Blockchain Certificates"})]}),n.jsx("div",{className:"text-sm text-cyan-300",children:"Documentation Guide"})]})})]}),n.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8",children:[n.jsx("nav",{className:"lg:hidden",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-cyan-400/30 shadow-[0_0_50px_rgba(34,211,238,0.2)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-violet-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-violet-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                  linear-gradient(rgba(34,211,238,0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(34,211,238,0.3) 1px, transparent 1px)
                `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-400 to-violet-500 flex items-center justify-center shadow-[0_0_20px_rgba(34,211,238,0.5)]",children:n.jsx("span",{className:"text-white text-lg",children:"⚡"})}),n.jsx("h2",{className:"font-bold text-transparent bg-gradient-to-r from-cyan-300 via-violet-300 to-emerald-300 bg-clip-text text-lg",children:"Quick Navigation"})]}),n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map((g,p)=>n.jsxs("button",{onClick:()=>e(g.id),className:`relative overflow-hidden rounded-xl transition-all duration-500 group ${t===g.id?"bg-gradient-to-r from-cyan-500/20 via-violet-500/20 to-emerald-500/20 border border-cyan-400/50 shadow-[0_0_20px_rgba(34,211,238,0.4)] scale-105":"bg-slate-800/50 border border-slate-700/50 hover:border-cyan-400/30 hover:shadow-[0_0_15px_rgba(34,211,238,0.2)] hover:scale-102"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative flex flex-col items-center gap-3 p-4",children:[n.jsxs("div",{className:`relative w-12 h-12 rounded-lg flex items-center justify-center transition-all duration-300 ${t===g.id?"bg-gradient-to-br from-cyan-400/30 to-violet-400/30 shadow-[0_0_15px_rgba(34,211,238,0.5)]":"bg-slate-700/50 group-hover:bg-cyan-400/20"}`,children:[n.jsx("div",{className:`absolute inset-0 rounded-lg border transition-all duration-300 ${t===g.id?"border-cyan-400/60 animate-pulse":"border-slate-600 group-hover:border-cyan-400/40"}`}),n.jsx("span",{className:`text-xl transition-all duration-300 ${t===g.id?"text-cyan-300 scale-110":"text-gray-400 group-hover:text-cyan-400"}`,children:g.icon}),t===g.id&&n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full animate-pulse shadow-[0_0_10px_rgba(34,211,238,0.8)]"})]}),n.jsx("span",{className:`font-medium transition-all duration-300 text-sm text-center leading-tight ${t===g.id?"text-transparent bg-gradient-to-r from-cyan-300 to-violet-300 bg-clip-text":"text-gray-300 group-hover:text-cyan-300"}`,children:g.title}),n.jsx("div",{className:`w-full h-0.5 bg-slate-700 rounded-full overflow-hidden transition-all duration-500 ${t===g.id?"opacity-100":"opacity-0 group-hover:opacity-50"}`,children:n.jsx("div",{className:`h-full bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full transition-all duration-1000 ${t===g.id?"w-full":"w-0 group-hover:w-1/3"}`})})]}),t===g.id&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 border-t-2 border-l-2 border-cyan-400/60 rounded-tl-lg"}),n.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 border-t-2 border-r-2 border-violet-400/60 rounded-tr-lg"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b-2 border-l-2 border-emerald-400/60 rounded-bl-lg"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 border-b-2 border-r-2 border-pink-400/60 rounded-br-lg"})]})]},g.id))})]})]})}),n.jsx("nav",{className:"hidden lg:block w-72 flex-shrink-0",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-cyan-400/30 shadow-[0_0_50px_rgba(34,211,238,0.2)] sticky top-24",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-violet-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-violet-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                  linear-gradient(rgba(34,211,238,0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(34,211,238,0.3) 1px, transparent 1px)
                `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-400 to-violet-500 flex items-center justify-center shadow-[0_0_20px_rgba(34,211,238,0.5)]",children:n.jsx("span",{className:"text-white text-lg",children:"⚡"})}),n.jsx("h2",{className:"font-bold text-transparent bg-gradient-to-r from-cyan-300 via-violet-300 to-emerald-300 bg-clip-text text-lg",children:"Quick Navigation"})]}),n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"})]}),n.jsx("ul",{className:"space-y-3",children:x.map((g,p)=>n.jsxs("li",{className:"relative",children:[p>0&&n.jsx("div",{className:"absolute -top-3 left-4 w-px h-3 bg-gradient-to-b from-cyan-400/30 to-transparent"}),n.jsxs("button",{onClick:()=>e(g.id),className:`w-full text-left relative overflow-hidden rounded-xl transition-all duration-500 group ${t===g.id?"bg-gradient-to-r from-cyan-500/20 via-violet-500/20 to-emerald-500/20 border border-cyan-400/50 shadow-[0_0_30px_rgba(34,211,238,0.4)] scale-105":"bg-slate-800/50 border border-slate-700/50 hover:border-cyan-400/30 hover:shadow-[0_0_20px_rgba(34,211,238,0.2)] hover:scale-102"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative flex items-center gap-4 p-4",children:[n.jsxs("div",{className:`relative w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300 ${t===g.id?"bg-gradient-to-br from-cyan-400/30 to-violet-400/30 shadow-[0_0_15px_rgba(34,211,238,0.5)]":"bg-slate-700/50 group-hover:bg-cyan-400/20"}`,children:[n.jsx("div",{className:`absolute inset-0 rounded-lg border transition-all duration-300 ${t===g.id?"border-cyan-400/60 animate-pulse":"border-slate-600 group-hover:border-cyan-400/40"}`}),n.jsx("span",{className:`text-lg transition-all duration-300 ${t===g.id?"text-cyan-300 scale-110":"text-gray-400 group-hover:text-cyan-400"} ${a?"group-hover:rotate-12 group-hover:scale-125":""}`,children:g.icon}),t===g.id&&n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full animate-pulse shadow-[0_0_10px_rgba(34,211,238,0.8)]"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:`font-medium transition-all duration-300 ${t===g.id?"text-transparent bg-gradient-to-r from-cyan-300 to-violet-300 bg-clip-text":"text-gray-300 group-hover:text-cyan-300"}`,children:g.title}),n.jsx("div",{className:`mt-1 h-0.5 bg-slate-700 rounded-full overflow-hidden transition-all duration-500 ${t===g.id?"opacity-100":"opacity-0 group-hover:opacity-50"}`,children:n.jsx("div",{className:`h-full bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full transition-all duration-1000 ${t===g.id?"w-full":"w-0 group-hover:w-1/3"}`})})]}),n.jsx("div",{className:`transition-all duration-300 ${t===g.id?"text-cyan-400 translate-x-0 opacity-100":"text-gray-600 -translate-x-2 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 group-hover:text-cyan-400"}`,children:n.jsx("span",{className:"text-sm",children:"→"})})]}),t===g.id&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-3/4 h-px bg-gradient-to-r from-transparent via-cyan-400 to-transparent"})]})]},g.id))}),n.jsx("div",{className:"mt-6 pt-4 border-t border-slate-700/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),n.jsx("span",{children:"System Online"})]})})]})]})}),n.jsxs("main",{className:"flex-1",children:[t==="getting-started"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-cyan-400/30 shadow-[0_0_50px_rgba(34,211,238,0.2)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-violet-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-violet-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                      linear-gradient(rgba(34,211,238,0.3) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(34,211,238,0.3) 1px, transparent 1px)
                    `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsxs("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-400 to-violet-500 flex items-center justify-center shadow-[0_0_30px_rgba(34,211,238,0.5)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-cyan-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-3xl",children:"🚀"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(34,211,238,0.8)]"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-4xl font-bold text-transparent bg-gradient-to-r from-cyan-300 via-violet-300 to-emerald-300 bg-clip-text mb-2",children:"Getting Started"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-cyan-400/50 via-violet-400/50 to-transparent w-32"})]})]}),n.jsx("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:"Welcome to the Blockchain Certificate Platform. This guide will help you issue, manage, and verify digital academic credentials on the blockchain."}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-blue-400/30 shadow-[0_0_30px_rgba(59,130,246,0.2)] mb-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-transparent to-cyan-500/10"}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-blue-400/40 to-transparent animate-scan-nav top-0"})}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsxs("div",{className:"relative w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center shadow-[0_0_20px_rgba(59,130,246,0.5)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-xl border border-blue-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-lg",children:"📋"})]}),n.jsx("h3",{className:"font-bold text-transparent bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text text-xl",children:"What you'll need:"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:["A modern web browser (Chrome, Firefox, Safari, Edge)","MetaMask wallet extension","Access to Sepolia test network","Some test ETH for transactions"].map((g,p)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-800/50 border border-slate-700/50 hover:border-cyan-400/30 transition-all duration-300",children:[n.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full shadow-[0_0_8px_rgba(34,211,238,0.6)] animate-pulse"}),n.jsx("span",{className:"text-gray-300",children:g})]},p))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[n.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-emerald-400/30 shadow-[0_0_30px_rgba(16,185,129,0.2)] transition-all duration-500 group ${a?"hover:scale-105 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(16,185,129,0.3)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 via-transparent to-green-500/10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-emerald-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative text-center p-6",children:[n.jsx("div",{className:"relative w-16 h-16 mx-auto mb-4",children:n.jsxs("div",{className:`w-full h-full bg-gradient-to-br from-emerald-500 to-green-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(16,185,129,0.5)] transition-all duration-300 ${a?"group-hover:animate-bounce-subtle group-hover:shadow-[0_0_30px_rgba(16,185,129,0.7)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-emerald-400/60 group-hover:animate-pulse"}),n.jsx("span",{className:"text-white text-2xl",children:"🏫"})]})}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-emerald-300 to-green-300 bg-clip-text text-lg mb-2",children:"For Institutions"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"Issue and manage digital certificates for your students"}),n.jsx("div",{className:"mt-3 h-0.5 bg-slate-700 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-green-400 rounded-full w-0 group-hover:w-full transition-all duration-1000"})})]})]}),n.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-blue-400/30 shadow-[0_0_30px_rgba(59,130,246,0.2)] transition-all duration-500 group ${a?"hover:scale-105 hover:-rotate-1 hover:shadow-[0_20px_40px_rgba(59,130,246,0.3)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-transparent to-cyan-500/10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative text-center p-6",children:[n.jsx("div",{className:"relative w-16 h-16 mx-auto mb-4",children:n.jsxs("div",{className:`w-full h-full bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(59,130,246,0.5)] transition-all duration-300 ${a?"group-hover:animate-bounce-subtle group-hover:shadow-[0_0_30px_rgba(59,130,246,0.7)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-blue-400/60 group-hover:animate-pulse"}),n.jsx("span",{className:"text-white text-2xl",children:"🎓"})]})}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text text-lg mb-2",children:"For Students"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"View and share your verified academic credentials"}),n.jsx("div",{className:"mt-3 h-0.5 bg-slate-700 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full w-0 group-hover:w-full transition-all duration-1000"})})]})]}),n.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-purple-400/30 shadow-[0_0_30px_rgba(147,51,234,0.2)] transition-all duration-500 group ${a?"hover:scale-105 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(147,51,234,0.3)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-violet-500/10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative text-center p-6",children:[n.jsx("div",{className:"relative w-16 h-16 mx-auto mb-4",children:n.jsxs("div",{className:`w-full h-full bg-gradient-to-br from-purple-500 to-violet-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(147,51,234,0.5)] transition-all duration-300 ${a?"group-hover:animate-bounce-subtle group-hover:shadow-[0_0_30px_rgba(147,51,234,0.7)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-purple-400/60 group-hover:animate-pulse"}),n.jsx("span",{className:"text-white text-2xl",children:"✅"})]})}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-purple-300 to-violet-300 bg-clip-text text-lg mb-2",children:"For Verifiers"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"Quickly verify the authenticity of certificates"}),n.jsx("div",{className:"mt-3 h-0.5 bg-slate-700 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-purple-400 to-violet-400 rounded-full w-0 group-hover:w-full transition-all duration-1000"})})]})]})]})]})]})}),t==="setup"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-cyan-400/30 shadow-[0_0_50px_rgba(34,211,238,0.2)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-violet-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-violet-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                      linear-gradient(rgba(34,211,238,0.3) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(34,211,238,0.3) 1px, transparent 1px)
                    `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsxs("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-400 to-violet-500 flex items-center justify-center shadow-[0_0_30px_rgba(34,211,238,0.5)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-cyan-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-3xl",children:"⚙️"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(34,211,238,0.8)]"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-4xl font-bold text-transparent bg-gradient-to-r from-cyan-300 via-violet-300 to-emerald-300 bg-clip-text mb-2",children:"Setup Guide"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-cyan-400/50 via-violet-400/50 to-transparent w-32"})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-full flex items-center justify-center font-bold shadow-[0_0_15px_rgba(249,115,22,0.4)]",children:"1"}),n.jsx("h3",{className:"text-xl font-semibold text-orange-300",children:"Install MetaMask"})]}),n.jsxs("div",{className:"ml-11 space-y-4",children:[n.jsx("p",{className:"text-gray-300",children:"MetaMask is a browser extension that acts as your digital wallet."}),n.jsxs("div",{className:"relative bg-slate-800/50 border border-orange-400/20 rounded-xl p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/5 to-red-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-orange-300 mb-2",children:"Installation Steps:"}),n.jsxs("ol",{className:"text-gray-300 space-y-2",children:[n.jsxs("li",{children:["1. Go to ",n.jsx("a",{href:"https://metamask.io",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"metamask.io"})]}),n.jsx("li",{children:'2. Click "Download" and add the extension to your browser'}),n.jsx("li",{children:"3. Create a new wallet or import an existing one"}),n.jsx("li",{children:"4. Save your recovery phrase in a secure location"})]})]})]}),n.jsxs("div",{className:"relative bg-red-500/10 border border-red-400/30 rounded-xl p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-pink-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-red-300 mb-2",children:"⚠️ Security Warning"}),n.jsx("p",{className:"text-red-200 text-sm",children:"Never share your recovery phrase with anyone. Store it offline in multiple secure locations."})]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-violet-500 text-white rounded-full flex items-center justify-center font-bold shadow-[0_0_15px_rgba(147,51,234,0.4)]",children:"2"}),n.jsx("h3",{className:"text-xl font-semibold text-purple-300",children:"Add Sepolia Test Network"})]}),n.jsxs("div",{className:"ml-11 space-y-4",children:[n.jsx("p",{className:"text-gray-300",children:"Sepolia is a test network where you can safely test the platform without spending real money."}),n.jsxs("div",{className:"relative bg-slate-800/50 border border-purple-400/20 rounded-xl p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-violet-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-purple-300 mb-2",children:"Network Configuration:"}),n.jsxs("ol",{className:"text-gray-300 space-y-2 mb-4",children:[n.jsx("li",{children:'1. Open MetaMask and click the network dropdown (usually shows "Ethereum Mainnet")'}),n.jsx("li",{children:'2. Click "Add Network" or "Custom RPC"'}),n.jsx("li",{children:"3. Enter the following details:"})]}),n.jsxs("div",{className:"bg-slate-900/50 border border-cyan-400/20 rounded p-3 font-mono text-sm",children:[n.jsxs("div",{className:"text-cyan-300",children:[n.jsx("strong",{children:"Network Name:"})," ",n.jsx("span",{className:"text-white",children:"Sepolia"})]}),n.jsxs("div",{className:"text-cyan-300",children:[n.jsx("strong",{children:"RPC URL:"})," ",n.jsx("span",{className:"text-white",children:"https://rpc.sepolia.org"})]}),n.jsxs("div",{className:"text-cyan-300",children:[n.jsx("strong",{children:"Chain ID:"})," ",n.jsx("span",{className:"text-white",children:"11155111"})]}),n.jsxs("div",{className:"text-cyan-300",children:[n.jsx("strong",{children:"Symbol:"})," ",n.jsx("span",{className:"text-white",children:"ETH"})]}),n.jsxs("div",{className:"text-cyan-300",children:[n.jsx("strong",{children:"Block Explorer:"})," ",n.jsx("span",{className:"text-white",children:"https://sepolia.etherscan.io"})]})]})]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-full flex items-center justify-center font-bold shadow-[0_0_15px_rgba(34,197,94,0.4)]",children:"3"}),n.jsx("h3",{className:"text-xl font-semibold text-green-300",children:"Get Test ETH"})]}),n.jsxs("div",{className:"ml-11 space-y-4",children:[n.jsx("p",{className:"text-gray-300",children:"You need test ETH to pay for blockchain transactions. These are free and have no real value."}),n.jsxs("div",{className:"relative bg-slate-800/50 border border-green-400/20 rounded-xl p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 to-emerald-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-green-300 mb-2",children:"Recommended Faucets:"}),n.jsxs("ul",{className:"text-gray-300 space-y-2",children:[n.jsxs("li",{children:["• ",n.jsx("a",{href:"https://sepoliafaucet.com",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"Sepolia Faucet"})," - Simple and fast"]}),n.jsxs("li",{children:["• ",n.jsx("a",{href:"https://faucets.chain.link/sepolia",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"Chainlink Faucet"})," - Requires social verification"]}),n.jsxs("li",{children:["• ",n.jsx("a",{href:"https://www.alchemy.com/faucets/ethereum-sepolia",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"Alchemy Faucet"})," - Account required"]})]})]})]}),n.jsxs("div",{className:"relative bg-yellow-500/10 border border-yellow-400/30 rounded-xl p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-yellow-300 mb-2",children:"💡 Tips"}),n.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[n.jsx("li",{children:"• Faucets may require social media verification to prevent abuse"}),n.jsx("li",{children:"• Wait 2-5 minutes for transactions to complete"}),n.jsx("li",{children:"• You only need a small amount (0.1 ETH is plenty)"})]})]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-full flex items-center justify-center font-bold shadow-[0_0_15px_rgba(59,130,246,0.4)]",children:"4"}),n.jsx("h3",{className:"text-xl font-semibold text-blue-300",children:"Connect to Platform"})]}),n.jsxs("div",{className:"ml-11 space-y-4",children:[n.jsx("p",{className:"text-gray-300",children:"Now you're ready to connect your wallet to the platform."}),n.jsxs("div",{className:"relative bg-slate-800/50 border border-blue-400/20 rounded-xl p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"Connection Steps:"}),n.jsxs("ol",{className:"text-gray-300 space-y-2",children:[n.jsx("li",{children:"1. Go to the platform homepage"}),n.jsx("li",{children:"2. Make sure Sepolia network is selected in MetaMask"}),n.jsx("li",{children:'3. Click "Connect Wallet" button'}),n.jsx("li",{children:"4. Approve the connection in MetaMask popup"}),n.jsx("li",{children:"5. Your wallet address will appear in the navigation bar"})]})]})]})]})]})]})]})}),t==="features"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-violet-400/30 shadow-[0_0_50px_rgba(139,92,246,0.2)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/10 via-transparent to-emerald-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-violet-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-emerald-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                      linear-gradient(rgba(139,92,246,0.3) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(139,92,246,0.3) 1px, transparent 1px)
                    `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsxs("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-400 to-emerald-500 flex items-center justify-center shadow-[0_0_30px_rgba(139,92,246,0.5)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-violet-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-3xl",children:"✨"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-violet-400 to-emerald-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(139,92,246,0.8)]"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-4xl font-bold text-transparent bg-gradient-to-r from-violet-300 via-emerald-300 to-cyan-300 bg-clip-text mb-2",children:"Platform Features"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-violet-400/50 via-emerald-400/50 to-transparent w-32"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"relative border border-emerald-400/20 rounded-xl p-6 bg-emerald-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("h3",{className:"text-lg font-semibold text-emerald-300 mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"text-emerald-400",children:"🏫"}),"For Institutions"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:"Issue Certificates"}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Create and mint digital certificates for your students."}),n.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"• Fill in student information"}),n.jsx("li",{children:"• Upload certificate image"}),n.jsx("li",{children:"• Store metadata on IPFS"}),n.jsx("li",{children:"• Mint certificate on blockchain"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:"Manage Courses"}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Create and organize your course catalog."}),n.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"• Add new courses"}),n.jsx("li",{children:"• Set course details and requirements"}),n.jsx("li",{children:"• Track issued certificates per course"})]})]})]})]})]}),n.jsxs("div",{className:"relative border border-blue-400/20 rounded-xl p-6 bg-blue-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("h3",{className:"text-lg font-semibold text-blue-300 mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"text-blue-400",children:"🎓"}),"For Students"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:"View Certificates"}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Access all your digital certificates in one place."}),n.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"• Browse your certificate collection"}),n.jsx("li",{children:"• Search and filter certificates"}),n.jsx("li",{children:"• View detailed certificate information"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:"Share Certificates"}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Generate secure QR codes for sharing."}),n.jsxs("ul",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"• Create time-limited sharing links"}),n.jsx("li",{children:"• Download QR codes"}),n.jsx("li",{children:"• Control access duration"})]})]})]})]})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-blue-400/30 shadow-[0_0_50px_rgba(59,130,246,0.3)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/15 via-purple-500/10 to-cyan-500/15"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-blue-400/60 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-purple-400/60 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                          linear-gradient(rgba(59,130,246,0.4) 1px, transparent 1px),
                          linear-gradient(90deg, rgba(59,130,246,0.4) 1px, transparent 1px)
                        `,backgroundSize:"25px 25px",animation:"grid-shift 12s linear infinite"}}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsxs("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-400 via-purple-500 to-cyan-400 flex items-center justify-center shadow-[0_0_30px_rgba(59,130,246,0.6)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-blue-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-3xl",children:"🔗"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(251,191,36,0.8)]"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-4xl font-bold text-transparent bg-gradient-to-r from-blue-300 via-purple-300 to-cyan-300 bg-clip-text mb-2",children:"Secure QR Code Sharing"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-blue-400/50 via-purple-400/50 to-transparent w-40"})]})]}),n.jsx("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:"Revolutionary blockchain-powered QR codes that provide secure, time-limited access to certificates with military-grade encryption."}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-cyan-400/30 shadow-[0_0_30px_rgba(34,211,238,0.2)] bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl p-6 text-center",children:[n.jsxs("div",{className:"relative mx-auto mb-4",children:[n.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[n.jsxs("svg",{viewBox:"0 0 128 128",className:"w-full h-full",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"qrGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"50%",stopColor:"#a855f7"}),n.jsx("stop",{offset:"100%",stopColor:"#10b981"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsxs("g",{fill:"url(#qrGradient)",filter:"url(#glow)",children:[n.jsx("rect",{x:"8",y:"8",width:"24",height:"24",rx:"2",className:"animate-pulse"}),n.jsx("rect",{x:"96",y:"8",width:"24",height:"24",rx:"2",className:"animate-pulse",style:{animationDelay:"0.2s"}}),n.jsx("rect",{x:"8",y:"96",width:"24",height:"24",rx:"2",className:"animate-pulse",style:{animationDelay:"0.4s"}}),n.jsx("rect",{x:"12",y:"12",width:"16",height:"16",rx:"1",fill:"#1e293b"}),n.jsx("rect",{x:"100",y:"12",width:"16",height:"16",rx:"1",fill:"#1e293b"}),n.jsx("rect",{x:"12",y:"100",width:"16",height:"16",rx:"1",fill:"#1e293b"}),n.jsx("rect",{x:"16",y:"16",width:"8",height:"8",rx:"1"}),n.jsx("rect",{x:"104",y:"16",width:"8",height:"8",rx:"1"}),n.jsx("rect",{x:"16",y:"104",width:"8",height:"8",rx:"1"}),n.jsx("rect",{x:"8",y:"40",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.1s"}}),n.jsx("rect",{x:"16",y:"40",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.3s"}}),n.jsx("rect",{x:"24",y:"40",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.5s"}}),n.jsx("rect",{x:"8",y:"48",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.2s"}}),n.jsx("rect",{x:"20",y:"48",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.4s"}}),n.jsx("rect",{x:"40",y:"8",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.6s"}}),n.jsx("rect",{x:"48",y:"8",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.1s"}}),n.jsx("rect",{x:"56",y:"8",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.7s"}}),n.jsx("rect",{x:"64",y:"8",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.3s"}}),n.jsx("rect",{x:"72",y:"8",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.8s"}}),n.jsx("rect",{x:"80",y:"8",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.2s"}}),n.jsx("rect",{x:"40",y:"16",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.4s"}}),n.jsx("rect",{x:"52",y:"16",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.9s"}}),n.jsx("rect",{x:"64",y:"16",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.1s"}}),n.jsx("rect",{x:"76",y:"16",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.5s"}}),n.jsx("rect",{x:"56",y:"56",width:"16",height:"16",rx:"2",className:"animate-pulse",style:{animationDelay:"0.3s"}}),n.jsx("rect",{x:"60",y:"60",width:"8",height:"8",rx:"1",fill:"#1e293b"}),n.jsx("rect",{x:"62",y:"62",width:"4",height:"4",rx:"1"}),n.jsx("rect",{x:"40",y:"40",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.2s"}}),n.jsx("rect",{x:"48",y:"44",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.6s"}}),n.jsx("rect",{x:"80",y:"40",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.8s"}}),n.jsx("rect",{x:"88",y:"44",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.4s"}}),n.jsx("rect",{x:"40",y:"80",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.7s"}}),n.jsx("rect",{x:"48",y:"84",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.1s"}}),n.jsx("rect",{x:"56",y:"88",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.9s"}}),n.jsx("rect",{x:"80",y:"80",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.3s"}}),n.jsx("rect",{x:"88",y:"84",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.5s"}}),n.jsx("rect",{x:"96",y:"88",width:"4",height:"4",className:"animate-pulse",style:{animationDelay:"0.8s"}})]})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/20 to-transparent h-2 animate-scan-qr"})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),n.jsx("span",{className:"text-xs text-green-300 font-medium",children:"Active & Secure"})]})]}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-lg mb-2",children:"Live QR Code"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Scan to verify certificate instantly"})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-purple-400/30 shadow-[0_0_20px_rgba(147,51,234,0.2)] bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center shadow-[0_0_15px_rgba(147,51,234,0.5)]",children:n.jsx("span",{className:"text-white text-lg",children:"⏱️"})}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-purple-300 to-violet-300 bg-clip-text text-xl",children:"Time-Limited Access"})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["1 hour","1 day","1 week","1 month","3 months","1 year"].map((g,p)=>n.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-purple-400/30 bg-slate-800/50 p-3 text-center transition-all duration-300 hover:border-purple-400/60 hover:shadow-[0_0_15px_rgba(147,51,234,0.3)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-400/10 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-1000"}),n.jsx("span",{className:"relative text-purple-300 font-medium text-sm",children:g})]},g))})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-cyan-400/30 shadow-[0_0_20px_rgba(34,211,238,0.2)] bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center shadow-[0_0_15px_rgba(34,211,238,0.5)]",children:n.jsx("span",{className:"text-white text-lg",children:"⚡"})}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-xl",children:"Advanced Security Features"})]}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:[{icon:"🔐",title:"Encrypted Access Tokens",desc:"Military-grade encryption"},{icon:"⏰",title:"Automatic Expiration",desc:"Time-based security"},{icon:"📱",title:"Multi-format Export",desc:"PNG, URL, PDF ready"},{icon:"🔗",title:"Shareable Links",desc:"One-click sharing"}].map((g,p)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-slate-800/50 border border-slate-700/50 hover:border-cyan-400/30 transition-all duration-300",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-400 rounded-lg flex items-center justify-center text-sm shadow-[0_0_10px_rgba(34,211,238,0.4)]",children:g.icon}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-cyan-300 text-sm",children:g.title}),n.jsx("p",{className:"text-gray-400 text-xs",children:g.desc})]})]},p))})]})]})]})]})]})]})]})}),t==="roles"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-cyan-400/30 shadow-[0_0_50px_rgba(34,211,238,0.2)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-transparent to-violet-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-violet-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                      linear-gradient(rgba(34,211,238,0.3) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(34,211,238,0.3) 1px, transparent 1px)
                    `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsxs("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-400 to-violet-500 flex items-center justify-center shadow-[0_0_30px_rgba(34,211,238,0.5)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-cyan-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-3xl",children:"👥"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-cyan-400 to-violet-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(34,211,238,0.8)]"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-4xl font-bold text-transparent bg-gradient-to-r from-cyan-300 via-violet-300 to-emerald-300 bg-clip-text mb-2",children:"User Roles & Permissions"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-cyan-400/50 via-violet-400/50 to-transparent w-32"})]})]}),n.jsx("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:"The platform uses blockchain-based role management to control access to different features."}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-red-400/30 shadow-[0_0_30px_rgba(239,68,68,0.2)] transition-all duration-500 group ${a?"hover:scale-105 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(239,68,68,0.3)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 via-transparent to-pink-500/10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-red-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"relative w-14 h-14",children:n.jsxs("div",{className:`w-full h-full bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(239,68,68,0.5)] transition-all duration-300 ${a?"group-hover:shadow-[0_0_30px_rgba(239,68,68,0.7)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-red-400/60 group-hover:animate-pulse"}),n.jsx("span",{className:"text-white text-xl font-bold",children:"A"})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-transparent bg-gradient-to-r from-red-300 to-pink-300 bg-clip-text",children:"Admin"}),n.jsx("p",{className:"text-red-200 text-sm",children:"Full system access"})]})]}),n.jsx("h4",{className:"font-bold text-red-300 mb-3",children:"Permissions:"}),n.jsx("div",{className:"space-y-2",children:["Grant institution roles","Approve certificate burns","System management","Contract administration","View all certificates"].map((g,p)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-red-400 rounded-full shadow-[0_0_6px_rgba(239,68,68,0.6)]"}),n.jsx("span",{className:"text-red-200",children:g})]},p))}),n.jsx("div",{className:"mt-4 h-0.5 bg-slate-700 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-pink-400 rounded-full w-0 group-hover:w-full transition-all duration-1000"})})]})]}),n.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-blue-400/30 shadow-[0_0_30px_rgba(59,130,246,0.2)] transition-all duration-500 group ${a?"hover:scale-105 hover:-rotate-1 hover:shadow-[0_20px_40px_rgba(59,130,246,0.3)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-transparent to-cyan-500/10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"relative w-14 h-14",children:n.jsxs("div",{className:`w-full h-full bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(59,130,246,0.5)] transition-all duration-300 ${a?"group-hover:shadow-[0_0_30px_rgba(59,130,246,0.7)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-blue-400/60 group-hover:animate-pulse"}),n.jsx("span",{className:"text-white text-xl font-bold",children:"I"})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-transparent bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text",children:"Institution"}),n.jsx("p",{className:"text-blue-200 text-sm",children:"Certificate management"})]})]}),n.jsx("h4",{className:"font-bold text-blue-300 mb-3",children:"Permissions:"}),n.jsx("div",{className:"space-y-2",children:["Issue new certificates","Update certificate metadata","Manage course catalog","View institution analytics","Generate reports"].map((g,p)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full shadow-[0_0_6px_rgba(59,130,246,0.6)]"}),n.jsx("span",{className:"text-blue-200",children:g})]},p))}),n.jsx("div",{className:"mt-4 h-0.5 bg-slate-700 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full w-0 group-hover:w-full transition-all duration-1000"})})]})]}),n.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-green-400/30 shadow-[0_0_30px_rgba(34,197,94,0.2)] transition-all duration-500 group ${a?"hover:scale-105 hover:rotate-1 hover:shadow-[0_20px_40px_rgba(34,197,94,0.3)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-transparent to-emerald-500/10"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-400/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"relative w-14 h-14",children:n.jsxs("div",{className:`w-full h-full bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(34,197,94,0.5)] transition-all duration-300 ${a?"group-hover:shadow-[0_0_30px_rgba(34,197,94,0.7)]":""}`,children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-green-400/60 group-hover:animate-pulse"}),n.jsx("span",{className:"text-white text-xl font-bold",children:"S"})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-transparent bg-gradient-to-r from-green-300 to-emerald-300 bg-clip-text",children:"Student"}),n.jsx("p",{className:"text-green-200 text-sm",children:"Certificate viewing"})]})]}),n.jsx("h4",{className:"font-bold text-green-300 mb-3",children:"Permissions:"}),n.jsx("div",{className:"space-y-2",children:["View own certificates","Generate QR codes","Verify certificates","Share certificates","Basic platform access"].map((g,p)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full shadow-[0_0_6px_rgba(34,197,94,0.6)]"}),n.jsx("span",{className:"text-green-200",children:g})]},p))}),n.jsx("div",{className:"mt-4 h-0.5 bg-slate-700 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-400 rounded-full w-0 group-hover:w-full transition-all duration-1000"})})]})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-400/30 shadow-[0_0_20px_rgba(100,116,139,0.2)] bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-xl",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-slate-400/40 to-transparent animate-scan-nav top-0"})}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-500 to-gray-500 flex items-center justify-center shadow-[0_0_15px_rgba(100,116,139,0.5)]",children:n.jsx("span",{className:"text-white text-lg",children:"🔒"})}),n.jsx("h4",{className:"font-bold text-transparent bg-gradient-to-r from-slate-300 to-gray-300 bg-clip-text text-xl",children:"Role Security"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed",children:"All roles are managed by smart contracts on the blockchain. This ensures that permissions cannot be tampered with and are transparently verifiable."})]})]})]})]})}),t==="troubleshooting"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-orange-400/30 shadow-[0_0_50px_rgba(251,146,60,0.2)]",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/90 to-slate-900/90 backdrop-blur-2xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/10 via-transparent to-red-500/10"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-orange-400/50 to-transparent animate-scan-nav top-0"}),n.jsx("div",{className:"absolute w-px h-full bg-gradient-to-b from-transparent via-red-400/50 to-transparent animate-scan-nav-v left-0"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
                      linear-gradient(rgba(251,146,60,0.3) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(251,146,60,0.3) 1px, transparent 1px)
                    `,backgroundSize:"20px 20px",animation:"grid-shift 10s linear infinite"}}),n.jsxs("div",{className:"relative p-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsxs("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center shadow-[0_0_30px_rgba(251,146,60,0.5)]",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-orange-400/60 animate-pulse"}),n.jsx("span",{className:"text-white text-3xl",children:"🔧"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full animate-pulse shadow-[0_0_15px_rgba(251,191,36,0.8)]"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-4xl font-bold text-transparent bg-gradient-to-r from-orange-300 via-red-300 to-yellow-300 bg-clip-text mb-2",children:"Troubleshooting"}),n.jsx("div",{className:"h-px bg-gradient-to-r from-orange-400/50 via-red-400/50 to-transparent w-32"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-300 mb-4",children:"Common Issues"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative border border-red-400/20 rounded-xl p-4 bg-red-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-orange-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-red-300 mb-2",children:'❌ "Wrong Network" Error'}),n.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:[n.jsx("strong",{children:"Problem:"})," You're connected to the wrong blockchain network."]}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:n.jsx("strong",{children:"Solution:"})}),n.jsxs("ol",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"1. Open MetaMask"}),n.jsx("li",{children:"2. Click the network dropdown"}),n.jsx("li",{children:'3. Select "Sepolia" network'}),n.jsx("li",{children:"4. Refresh the webpage"})]})]})]}),n.jsxs("div",{className:"relative border border-orange-400/20 rounded-xl p-4 bg-orange-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/5 to-yellow-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-orange-300 mb-2",children:"🔌 Connection Failed"}),n.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:[n.jsx("strong",{children:"Problem:"})," MetaMask won't connect to the platform."]}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:n.jsx("strong",{children:"Solution:"})}),n.jsxs("ol",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"1. Check if MetaMask is unlocked"}),n.jsx("li",{children:"2. Clear browser cache and cookies"}),n.jsx("li",{children:"3. Disable other wallet extensions"}),n.jsx("li",{children:"4. Try refreshing the page"}),n.jsx("li",{children:"5. Restart your browser if needed"})]})]})]}),n.jsxs("div",{className:"relative border border-yellow-400/20 rounded-xl p-4 bg-yellow-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-green-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-yellow-300 mb-2",children:"💰 Insufficient Funds"}),n.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:[n.jsx("strong",{children:"Problem:"})," Not enough ETH to complete transactions."]}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:n.jsx("strong",{children:"Solution:"})}),n.jsxs("ol",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"1. Get more test ETH from a Sepolia faucet"}),n.jsx("li",{children:"2. Wait for faucet transaction to complete"}),n.jsx("li",{children:"3. Check your balance in MetaMask"}),n.jsx("li",{children:"4. Try the transaction again"})]})]})]}),n.jsxs("div",{className:"relative border border-purple-400/20 rounded-xl p-4 bg-purple-500/5",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-blue-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h4",{className:"font-semibold text-purple-300 mb-2",children:"⏳ Transaction Stuck"}),n.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:[n.jsx("strong",{children:"Problem:"})," Transaction is pending for too long."]}),n.jsx("p",{className:"text-gray-300 text-sm mb-2",children:n.jsx("strong",{children:"Solution:"})}),n.jsxs("ol",{className:"text-gray-400 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"1. Wait 5-10 minutes (network might be busy)"}),n.jsxs("li",{children:["2. Check transaction status on ",n.jsx("a",{href:"https://sepolia.etherscan.io",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"Sepolia Explorer"})]}),n.jsx("li",{children:"3. Try increasing gas price in MetaMask"}),n.jsx("li",{children:"4. Cancel and retry if still stuck"})]})]})]})]})]}),n.jsxs("div",{className:"relative bg-blue-500/10 border border-blue-400/30 rounded-xl p-6",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-xl"}),n.jsxs("div",{className:"relative",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-300 mb-4",children:"🆘 Need More Help?"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"Debug Information"}),n.jsx("p",{className:"text-blue-200 text-sm mb-2",children:"If you're still having issues, please provide this information when asking for help:"}),n.jsxs("ul",{className:"text-blue-200 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"• Your wallet address"}),n.jsx("li",{children:"• Current network (should be Sepolia)"}),n.jsx("li",{children:"• Browser and version"}),n.jsx("li",{children:"• Steps you took before the error"}),n.jsx("li",{children:"• Any error messages you see"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"Console Logs"}),n.jsx("p",{className:"text-blue-200 text-sm mb-2",children:"To see detailed error information:"}),n.jsxs("ol",{className:"text-blue-200 text-sm space-y-1 ml-4",children:[n.jsx("li",{children:"1. Press F12 to open browser developer tools"}),n.jsx("li",{children:'2. Click on "Console" tab'}),n.jsx("li",{children:"3. Look for red error messages"}),n.jsx("li",{children:"4. Take a screenshot of any errors"})]})]})]})]})]})]})]})]})})]})]})}),n.jsx("style",{children:`
        @keyframes float-slow {
          0%, 100% { 
            transform: translateY(0px) translateX(0px) rotate(0deg);
          }
          25% { 
            transform: translateY(-20px) translateX(10px) rotate(1deg);
          }
          50% { 
            transform: translateY(-10px) translateX(-5px) rotate(-0.5deg);
          }
          75% { 
            transform: translateY(-30px) translateX(-10px) rotate(0.5deg);
          }
        }

        @keyframes float-reverse {
          0%, 100% { 
            transform: translateY(0px) translateX(0px) rotate(0deg);
          }
          25% { 
            transform: translateY(30px) translateX(-10px) rotate(-1deg);
          }
          50% { 
            transform: translateY(10px) translateX(5px) rotate(0.5deg);
          }
          75% { 
            transform: translateY(20px) translateX(10px) rotate(-0.5deg);
          }
        }

        @keyframes bounce-slow {
          0%, 100% { 
            transform: translateY(0px);
            animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
          }
          50% { 
            transform: translateY(-25px);
            animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
          }
        }

        @keyframes drift {
          0% { 
            transform: translateX(0px) translateY(0px) rotate(0deg);
          }
          33% { 
            transform: translateX(30px) translateY(-20px) rotate(2deg);
          }
          66% { 
            transform: translateX(-20px) translateY(10px) rotate(-1deg);
          }
          100% { 
            transform: translateX(0px) translateY(0px) rotate(0deg);
          }
        }

        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.8;
            transform: scale(1);
          }
          50% {
            opacity: 1;
            transform: scale(1.05);
          }
        }

        @keyframes grid-move {
          0% {
            background-position: 0 0;
          }
          100% {
            background-position: 50px 50px;
          }
        }

        @keyframes scan-vertical {
          0% {
            transform: translateY(-100vh);
          }
          100% {
            transform: translateY(100vh);
          }
        }

        @keyframes scan-horizontal {
          0% {
            transform: translateX(-100vw);
          }
          100% {
            transform: translateX(100vw);
          }
        }

        @keyframes bounce-subtle {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-8px);
          }
        }

        .animate-float-slow {
          animation: float-slow 20s ease-in-out infinite;
        }

        .animate-float-reverse {
          animation: float-reverse 25s ease-in-out infinite;
        }

        .animate-bounce-slow {
          animation: bounce-slow 4s ease-in-out infinite;
        }

        .animate-drift {
          animation: drift 30s ease-in-out infinite;
        }

        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }

        .animate-grid-move {
          animation: grid-move 20s linear infinite;
        }

        .animate-scan-vertical {
          animation: scan-vertical 8s ease-in-out infinite;
        }

        .animate-scan-horizontal {
          animation: scan-horizontal 12s ease-in-out infinite;
        }

        .animate-bounce-subtle {
          animation: bounce-subtle 0.6s ease-in-out;
        }

        /* REVOLUTIONARY CURSOR ANIMATIONS */
        @keyframes spin-slow {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @keyframes spin-reverse {
          from { transform: rotate(360deg); }
          to { transform: rotate(0deg); }
        }

        @keyframes pulse-quantum {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
            filter: brightness(1);
          }
          50% {
            opacity: 0.8;
            transform: scale(1.2);
            filter: brightness(1.5);
          }
        }

        @keyframes scan-cursor {
          0% { transform: translateY(-50%) translateX(-100%); }
          50% { transform: translateY(-50%) translateX(0%); }
          100% { transform: translateY(-50%) translateX(100%); }
        }

        @keyframes scan-cursor-v {
          0% { transform: translateX(-50%) translateY(-100%); }
          50% { transform: translateX(-50%) translateY(0%); }
          100% { transform: translateX(-50%) translateY(100%); }
        }

        @keyframes glitch {
          0%, 100% {
            transform: translate(0);
            filter: hue-rotate(0deg);
          }
          10% {
            transform: translate(-1px, 1px);
            filter: hue-rotate(90deg);
          }
          20% {
            transform: translate(1px, -1px);
            filter: hue-rotate(180deg);
          }
          30% {
            transform: translate(-1px, -1px);
            filter: hue-rotate(270deg);
          }
          40% {
            transform: translate(1px, 1px);
            filter: hue-rotate(360deg);
          }
        }

        @keyframes pulse-aura {
          0%, 100% {
            transform: scale(1);
            opacity: 0.3;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.1;
          }
        }

        @keyframes quantum-orbit-0 {
          0% { transform: rotate(0deg) translateX(20px) rotate(0deg); }
          100% { transform: rotate(360deg) translateX(20px) rotate(-360deg); }
        }

        @keyframes quantum-orbit-1 {
          0% { transform: rotate(0deg) translateX(25px) rotate(0deg); }
          100% { transform: rotate(-360deg) translateX(25px) rotate(360deg); }
        }

        @keyframes quantum-orbit-2 {
          0% { transform: rotate(0deg) translateX(30px) rotate(0deg); }
          100% { transform: rotate(360deg) translateX(30px) rotate(-360deg); }
        }

        .animate-spin-slow {
          animation: spin-slow 3s linear infinite;
        }

        .animate-spin-reverse {
          animation: spin-reverse 2s linear infinite;
        }

        .animate-pulse-quantum {
          animation: pulse-quantum 1.5s ease-in-out infinite;
        }

        .animate-scan-cursor {
          animation: scan-cursor 2s ease-in-out infinite;
        }

        .animate-scan-cursor-v {
          animation: scan-cursor-v 1.8s ease-in-out infinite;
        }

        .animate-glitch {
          animation: glitch 3s ease-in-out infinite;
        }

        /* HOVER STATE ANIMATIONS */
        @keyframes spin-fast {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @keyframes spin-reverse-fast {
          from { transform: rotate(360deg); }
          to { transform: rotate(0deg); }
        }

        @keyframes pulse-quantum-fast {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
            filter: brightness(1.2);
          }
          50% {
            opacity: 0.9;
            transform: scale(1.3);
            filter: brightness(1.8);
          }
        }

        @keyframes scan-cursor-fast {
          0% { transform: translateY(-50%) translateX(-100%); }
          50% { transform: translateY(-50%) translateX(0%); }
          100% { transform: translateY(-50%) translateX(100%); }
        }

        @keyframes scan-cursor-v-fast {
          0% { transform: translateX(-50%) translateY(-100%); }
          50% { transform: translateX(-50%) translateY(0%); }
          100% { transform: translateX(-50%) translateY(100%); }
        }

        @keyframes glitch-fast {
          0%, 100% {
            transform: translate(0);
            filter: hue-rotate(0deg);
          }
          10% {
            transform: translate(-2px, 2px);
            filter: hue-rotate(90deg);
          }
          20% {
            transform: translate(2px, -2px);
            filter: hue-rotate(180deg);
          }
          30% {
            transform: translate(-2px, -2px);
            filter: hue-rotate(270deg);
          }
          40% {
            transform: translate(2px, 2px);
            filter: hue-rotate(360deg);
          }
        }

        @keyframes pulse-fast {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.1);
          }
        }

        @keyframes scan-nav {
          0% { transform: translateX(-100%); }
          50% { transform: translateX(0%); }
          100% { transform: translateX(100%); }
        }

        @keyframes scan-nav-v {
          0% { transform: translateY(-100%); }
          50% { transform: translateY(0%); }
          100% { transform: translateY(100%); }
        }

        @keyframes grid-shift {
          0% { background-position: 0 0; }
          100% { background-position: 20px 20px; }
        }

        .animate-spin-fast {
          animation: spin-fast 1s linear infinite;
        }

        .animate-spin-reverse-fast {
          animation: spin-reverse-fast 0.8s linear infinite;
        }

        .animate-pulse-quantum-fast {
          animation: pulse-quantum-fast 0.8s ease-in-out infinite;
        }

        .animate-scan-cursor-fast {
          animation: scan-cursor-fast 1s ease-in-out infinite;
        }

        .animate-scan-cursor-v-fast {
          animation: scan-cursor-v-fast 0.9s ease-in-out infinite;
        }

        .animate-glitch-fast {
          animation: glitch-fast 1.5s ease-in-out infinite;
        }

        .animate-pulse-fast {
          animation: pulse-fast 1s ease-in-out infinite;
        }

        .animate-scan-nav {
          animation: scan-nav 3s ease-in-out infinite;
        }

        .animate-scan-nav-v {
          animation: scan-nav-v 2.5s ease-in-out infinite;
        }

        /* QR Code Scanning Animation */
        @keyframes scan-qr {
          0% { 
            top: 0;
            opacity: 0;
          }
          25% {
            opacity: 1;
          }
          75% {
            opacity: 1;
          }
          100% { 
            top: 100%;
            opacity: 0;
          }
        }

        .animate-scan-qr {
          animation: scan-qr 3s ease-in-out infinite;
        }

        /* Gradient utilities */
        .bg-gradient-radial {
          background: radial-gradient(circle, var(--tw-gradient-stops));
        }

        /* Hover scale utilities */
        .hover\\:scale-102:hover {
          transform: scale(1.02);
        }

        /* Responsive text scaling */
        @media (max-width: 768px) {
          .text-responsive {
            font-size: 0.875rem;
          }
        }

        /* Hide scrollbar for custom cursor on large screens */
        ${a?`
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.1);
          }
          
          ::-webkit-scrollbar-thumb {
            background: rgba(34, 211, 238, 0.3);
            border-radius: 4px;
          }
          
          ::-webkit-scrollbar-thumb:hover {
            background: rgba(34, 211, 238, 0.5);
          }
        `:""}
      `})]})},yse=({certificateData:t,isVerifying:e})=>{const[s,r]=k.useState(0),[a,i]=k.useState(0),[o,c]=k.useState([]);k.useEffect(()=>{const h=Array.from({length:30},(g,p)=>({id:p,x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,opacity:Math.random()*.8+.2}));c(h);const f=setInterval(()=>{r(g=>(g+2)%100)},50),x=setInterval(()=>{i(g=>(g+.1)%(Math.PI*2))},100);return()=>{clearInterval(f),clearInterval(x)}},[]);const d=h=>h?`${h.slice(0,6)}...${h.slice(-4)}`:"0x0000...0000";return n.jsx("div",{className:"relative w-full h-full perspective-1000",children:n.jsxs("div",{className:"relative transform-gpu preserve-3d hover:rotateY-5 transition-transform duration-700 group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/20 via-transparent to-purple-500/20 rounded-3xl blur-2xl animate-pulse scale-110"}),n.jsx("div",{className:"absolute inset-0 pointer-events-none z-10 rounded-3xl overflow-hidden",style:{background:`linear-gradient(to bottom, transparent ${s}%, rgba(0, 255, 255, 0.3) ${s+2}%, transparent ${s+4}%)`}}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:o.map(h=>n.jsx("div",{className:"absolute w-1 h-1 bg-cyan-400 rounded-full animate-pulse",style:{left:`${h.x}%`,top:`${h.y}%`,opacity:h.opacity,animation:`quantumFloat ${3+h.id%3}s infinite ease-in-out ${h.id*.1}s`}},h.id))}),n.jsxs("div",{className:`relative bg-slate-900/95 border-2 border-cyan-500/60 p-8 rounded-3xl backdrop-blur-xl shadow-2xl transform transition-all duration-500 ${e?"animate-pulse border-green-400/80":""} ${Math.sin(a)>.95?"translate-x-1":""}`,children:[n.jsxs("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-500/20 to-transparent animate-pulse"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-purple-400 to-transparent"}),n.jsx("div",{className:"absolute left-0 top-0 h-full w-0.5 bg-gradient-to-b from-transparent via-cyan-400 to-transparent"}),n.jsx("div",{className:"absolute right-0 top-0 h-full w-0.5 bg-gradient-to-b from-transparent via-purple-400 to-transparent"})]}),n.jsx("div",{className:"absolute top-6 right-6",children:n.jsx("div",{className:`w-4 h-4 rounded-full ${t!=null&&t.isVerified?"bg-green-400":"bg-yellow-400"} animate-pulse shadow-lg ${t!=null&&t.isVerified?"shadow-green-400/50":"shadow-yellow-400/50"}`})}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative w-20 h-20",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400 to-purple-600 rounded-full animate-spin-slow"}),n.jsx("div",{className:"absolute inset-2 bg-slate-900 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/50 to-purple-600/50 rounded-full blur animate-pulse"})]})}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("h3",{className:"text-sm font-mono text-cyan-400 uppercase tracking-[0.3em] mb-4 animate-glow",children:"QUANTUM CERTIFICATE PROTOCOL"}),n.jsx("p",{className:"text-xs text-slate-400/80 font-mono",children:"AUTHENTICATED ENTITY"}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-2xl font-bold font-mono bg-gradient-to-r from-cyan-400 via-white to-purple-400 text-transparent bg-clip-text mb-2",children:d(t==null?void 0:t.student)}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/20 to-purple-400/20 blur rounded-lg"})]}),n.jsx("p",{className:"text-xs text-slate-400/80 font-mono",children:"HAS SUCCESSFULLY COMPLETED"}),n.jsx("h4",{className:"text-lg font-bold text-white mb-6 tracking-wide",children:(t==null?void 0:t.courseName)||"QUANTUM BLOCKCHAIN DEVELOPMENT"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{className:"bg-slate-800/60 p-4 rounded-xl border border-cyan-500/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-slate-400 mb-2 font-mono",children:"MINT_DATE"}),n.jsx("div",{className:"text-cyan-300 font-mono text-sm",children:(t==null?void 0:t.completionDate)instanceof Date?t.completionDate.toLocaleDateString():t!=null&&t.completionDate?new Date(t.completionDate).toLocaleDateString():new Date().toLocaleDateString()})]}),n.jsxs("div",{className:"bg-slate-800/60 p-4 rounded-xl border border-purple-500/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-slate-400 mb-2 font-mono",children:"TOKEN_ID"}),n.jsxs("div",{className:"text-purple-300 font-mono text-sm",children:["#",(t==null?void 0:t.tokenId)||"0x"+Math.random().toString(16).substr(2,4).toUpperCase()]})]}),n.jsxs("div",{className:"bg-slate-800/60 p-4 rounded-xl border border-green-500/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-slate-400 mb-2 font-mono",children:"PERFORMANCE"}),n.jsxs("div",{className:"text-green-400 font-bold text-sm",children:[(t==null?void 0:t.grade)||"98.7","%"]})]}),n.jsxs("div",{className:"bg-slate-800/60 p-4 rounded-xl border border-yellow-500/30 backdrop-blur-sm",children:[n.jsx("div",{className:"text-slate-400 mb-2 font-mono",children:"STATUS"}),n.jsx("div",{className:`font-bold text-sm ${t!=null&&t.isVerified?"text-green-400":"text-yellow-400"}`,children:t!=null&&t.isVerified?"VERIFIED":"PENDING"})]})]}),n.jsxs("div",{className:"mt-6 p-3 bg-slate-800/40 rounded-lg border border-slate-600/50",children:[n.jsx("div",{className:"text-xs text-slate-400 mb-1 font-mono",children:"QUANTUM_HASH"}),n.jsxs("div",{className:"text-xs text-cyan-300 font-mono break-all opacity-70",children:["0x",Math.random().toString(16).substr(2,32),"...",Math.random().toString(16).substr(2,8)]})]})]})]}),n.jsx("div",{className:"absolute -top-8 -left-8 w-16 h-16 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-full flex items-center justify-center shadow-2xl animate-levitate",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),n.jsx("div",{className:"absolute -bottom-8 -right-8 w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center shadow-2xl animate-levitate-delayed",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})},wse=()=>{const[t,e]=k.useState(0),[s,r]=k.useState("Initializing wallet and network");return k.useEffect(()=>{const a=["Initializing wallet and network","Syncing contract and ABI","Fetching on-chain certificate schema","Preparing IPFS gateway","Calibrating holographic renderer"],i=setInterval(()=>{e(o=>{const c=Math.min(o+Math.random()*18,98),d=Math.min(a.length-1,Math.floor(c/100*a.length));return r(a[d]),c})},700);return()=>clearInterval(i)},[]),n.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-slate-950",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-slate-950 to-black opacity-90"}),n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-20"}),n.jsx("div",{className:"absolute inset-0 quantum-field opacity-30"}),n.jsx(Je.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:[.15,.3,.15]},transition:{duration:6,repeat:1/0},children:n.jsx("div",{className:"absolute -top-1/3 left-1/2 -translate-x-1/2 w-[120vmax] h-[120vmax] rounded-full blur-3xl opacity-40 bg-gradient-to-tr from-cyan-600/20 via-purple-600/20 to-pink-600/20"})})]}),n.jsx("div",{className:"relative z-10 h-full w-full flex items-center justify-center px-6",children:n.jsx("div",{className:"w-full max-w-3xl aspect-[16/10] perspective-1000",children:n.jsx(yse,{certificateData:{isVerified:t>66,student:"0xA1cD3f...2E9B",courseName:"Academic NFT Certificate",completionDate:new Date,tokenId:"0xLOADER",grade:99.9},isVerifying:t<100})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-20 px-6 pb-8",children:n.jsxs("div",{className:"mx-auto w-full max-w-3xl",children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-mono text-slate-300",children:[n.jsx("span",{className:"holographic-text",children:s}),n.jsxs("span",{className:"text-cyan-300",children:[Math.floor(t),"%"]})]}),n.jsxs("div",{className:"relative h-2 rounded-full bg-slate-800/70 overflow-hidden border border-slate-700/60",children:[n.jsx(Je.div,{className:"h-full bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500 progress-glow",initial:{width:"0%"},animate:{width:`${Math.floor(t)}%`},transition:{ease:"easeOut",duration:.6}}),n.jsx("div",{className:"absolute inset-0 animate-gradient-x opacity-30"})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-3 text-[11px] font-mono text-slate-400",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 pulse-green"}),n.jsx("span",{children:"Verifying chain integrity"}),n.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-neural-pulse"}),n.jsx("span",{children:"Loading assets"}),n.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400 animate-neural-pulse"}),n.jsx("span",{children:"Preparing UI"})]})]})}),n.jsx("div",{className:"pointer-events-none absolute inset-0 z-0 opacity-20",children:[...Array(6)].map((a,i)=>n.jsx("div",{className:"absolute top-[-20%] w-px h-[140%] left-1/4 bg-gradient-to-b from-cyan-400/0 via-cyan-400/40 to-cyan-400/0 animate-matrix-rain",style:{left:`${10+i*15}%`,animationDelay:`${i*.6}s`,animationDuration:`${4+i}s`}},i))})]})},Nse=["https://ethereum-sepolia.publicnode.com","https://sepolia.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161","https://eth-sepolia.g.alchemy.com/v2/demo"],jse=Ue.SoulboundCertificateNFT||Ue,Cse=()=>{const{id:t}=bI(),e=ri(),[s,r]=k.useState(null),[a,i]=k.useState(!0),[o,c]=k.useState(null),[d,h]=k.useState(null),[f,x]=k.useState(!1),[g,p]=k.useState(null),[v,y]=k.useState(!1),[w,A]=k.useState(""),j=k.useRef(null),[C,S]=k.useState(!1),[E,M]=k.useState(null),[R,_]=k.useState(null),[I,D]=k.useState(null),[B,O]=k.useState(null),{loadMetadataForCertificate:$}=tM(B);k.useEffect(()=>{(async()=>{try{let Q=null;if(window.ethereum)try{const ne=new Xe(window.ethereum);await ne.getNetwork(),Q=ne;const re=await window.ethereum.request({method:"eth_accounts"});re.length>0&&D(re[0])}catch{console.warn("MetaMask not available or not connected, using fallback RPC")}if(!Q)for(const ne of Nse)try{const re=new Ib(ne);await re.getNetwork(),Q=re,console.log(`Connected to fallback RPC: ${ne}`);break}catch(re){console.warn(`Failed to connect to RPC ${ne}:`,re.message)}if(!Q)throw new Error("Unable to connect to any blockchain provider");const Z=new jt(Ze.SoulboundCertificateNFT,jse,Q);O(Z)}catch(Q){console.error("Error initializing contract:",Q),c("Unable to connect to blockchain. Please check your connection.")}})()},[]),k.useEffect(()=>{const W=NQ(e.search);if(W)_(W),sessionStorage.setItem(`cert_access_token_${t}`,W);else{const Q=sessionStorage.getItem(`cert_access_token_${t}`);Q&&_(Q)}},[e.search,t]);const Y=async()=>{try{if(!window.ethereum){alert("Please install MetaMask to connect your wallet");return}const W=await window.ethereum.request({method:"eth_requestAccounts"});W.length>0&&D(W[0])}catch(W){console.error("Error connecting wallet:",W),alert("Failed to connect wallet. Please try again.")}},H=async(W,Q)=>{var Z;try{if(!await Q.tokenExists(W).catch(()=>!1))throw new Error(`Certificate ${W} does not exist`);const re=await Q.getCertificate(W);if(!re||re.length===0)throw new Error(`No data found for certificate ${W}`);const ke=await Q.tokenURI(W).catch(()=>""),Me=await Q.academicCertificates(W).catch(()=>null),de=Number(re[3]),me=new Date(de*1e3).toLocaleDateString(),ve=ke||(Me==null?void 0:Me.certificateHash)||"";let Ae=null,Be=null,ue=null,le=`Certificate ${W}`,ye=null;ve&&(Ae=ve.startsWith("ipfs://")?ve.slice(7):ve,ye=ho(`${Mu}_${Ae}`),ye&&(console.log("Found cached metadata for certificate:",W),le=ye.name||le,ye.image&&(Be=ye.image.startsWith("ipfs://")?ye.image.slice(7):ye.image,ue=Vu(ye,Be))));const je={id:W.toString(),tokenId:W.toString(),tokenURI:ve,metadataCID:Ae,imageCID:Be,imageUrl:ue,student:re[0],institution:re[1],courseId:re[2].toString(),courseName:le,completionDate:me,completionTimestamp:de,grade:Number(re[4]),isVerified:re[5],isRevoked:re[6],revocationReason:re[7]||null,version:((Z=re[8])==null?void 0:Z.toString())||"1",lastUpdateDate:re[9]||null,updateReason:re[10]||null,metadataLoaded:!!ye};return console.log("Built certificate data:",je),je}catch(ne){throw console.error("Error fetching certificate with metadata:",ne),ne}};k.useEffect(()=>{t&&B&&(async()=>{try{i(!0),c(null);const Q=parseInt(t);if(isNaN(Q))throw new Error("Invalid certificate ID");if(!B)return;let Z=null;const ne=ho(`certificates_${Q}`);if(ne&&ne.metadataCID?(Z=ne,console.log("Using cached certificate data")):(console.log(`Fetching certificate #${Q} with metadata structure...`),Z=await H(Q,B),Hl(`certificates_${Q}`,Z,3e5)),!Z)throw new Error("Certificate data not available");const re=await yQ(Q,Z,I,R);if(M(re),console.log("Access validation result:",re),!re.allowed){c(re.reason),r(Z);return}if(r(Z),p(Z.isVerified&&!Z.isRevoked),!Z.metadataLoaded&&Z.metadataCID){console.log("Loading metadata using metadata hook..."),x(!0);try{const ke=await $(Z);console.log("Loaded certificate with metadata:",ke),r(ke),ke.imageUrl?(h(ke.imageUrl),x(!1)):ke.imageCID?await ee(ke.imageCID):(x(!1),L())}catch(ke){console.error("Failed to load metadata:",ke),x(!1),L()}}else Z.imageUrl?h(Z.imageUrl):Z.imageCID?(x(!0),await ee(Z.imageCID)):L()}catch(Q){console.error("Error fetching certificate:",Q),c(Q.message)}finally{i(!1)}})()},[t,B,I,R,$]);const L=()=>{if(!(!s||!j.current))try{const W=j.current,Q=W.getContext("2d");W.width=1200,W.height=800;const Z=Q.createLinearGradient(0,0,0,W.height);Z.addColorStop(0,"#1a1f2e"),Z.addColorStop(1,"#0f1319"),Q.fillStyle=Z,Q.fillRect(0,0,W.width,W.height),Q.strokeStyle="#4c1d95",Q.lineWidth=10,Q.strokeRect(30,30,W.width-60,W.height-60),Q.strokeStyle="#8b5cf6",Q.lineWidth=2,Q.strokeRect(50,50,W.width-100,W.height-100),Q.font="bold 80px Arial",Q.fillStyle="#ffffff",Q.textAlign="center",Q.fillText("CERTIFICATE",W.width/2,150),Q.font="italic 40px Arial",Q.fillStyle="#8b5cf6",Q.fillText("Blockchain Verified",W.width/2,210),Q.font="bold 60px Arial",Q.fillStyle="#ffffff",Q.fillText(s.courseName||`Course ${s.courseId}`,W.width/2,320),Q.font="30px Arial",Q.fillStyle="#64748b",Q.fillText(`Certificate #${s.id}`,W.width/2,380),Q.font="36px Arial",Q.fillStyle="#ffffff",Q.fillText("Awarded to",W.width/2,460);const ne=s.student,re=ne?`${ne.substring(0,6)}...${ne.substring(ne.length-4)}`:"Unknown";Q.font="bold 44px Arial",Q.fillStyle="#8b5cf6",Q.fillText(re,W.width/2,520),s.grade&&(Q.font="36px Arial",Q.fillStyle="#ffffff",Q.fillText(`Grade: ${kl(s.grade)} (${s.grade}%)`,W.width/2,590)),s.completionDate&&(Q.font="30px Arial",Q.fillStyle="#64748b",Q.fillText(`Completion Date: ${s.completionDate}`,W.width/2,650)),Q.font="bold 36px Arial",Q.fillStyle=s.isVerified?"#22c55e":s.isRevoked?"#ef4444":"#f59e0b",Q.fillText(s.isRevoked?"REVOKED":s.isVerified?"VERIFIED":"PENDING",W.width/2,720),Q.font="20px Arial",Q.fillStyle="#64748b",Q.fillText(`On Sepolia • Token ID: ${s.id}`,W.width/2,760);const ke=W.toDataURL("image/png");h(ke),x(!1)}catch(W){console.error("Failed to generate certificate template:",W),x(!1)}};k.useEffect(()=>{s&&!d&&!f&&j.current&&(E!=null&&E.allowed)&&(x(!0),L())},[s,d,f,E]);const V=()=>{x(!1)},X=()=>{console.error("Failed to load certificate image from IPFS, generating template"),x(!1),j.current&&s&&L()},ee=async W=>{x(!0);for(let Q=0;Q<Du.length;Q++){const Z=Du[Q],ne=`${Z}${W}`;try{const re=new Image;re.crossOrigin="anonymous";const ke=new Promise((de,be)=>{re.onload=()=>de(ne),re.onerror=()=>be(new Error(`Failed to load from ${Z}`)),setTimeout(()=>be(new Error("Timeout")),5e3)});re.src=ne;const Me=await ke;console.log(`Successfully loaded image from: ${Z}`),h(Me),x(!1);return}catch(re){console.warn(`Failed to load image from ${Z}:`,re.message);continue}}console.warn("All IPFS gateways failed, generating certificate template"),L()},F=()=>{if(d){const W=document.createElement("a");W.href=d,W.download=`certificate-${s.id}.png`,W.click()}},z=()=>{if(d){const W=window.open("","_blank");W.document.write(`
        <html>
          <head><title>Certificate ${s.id}</title></head>
          <body style="margin: 0; padding: 20px; text-align: center;">
            <img src="${d}" style="max-width: 100%; height: auto;" />
          </body>
        </html>
      `),W.document.close(),W.print()}},G=()=>{if(!E||!E.allowed)return null;const W=()=>{switch(E.method){case Ki.QR_CODE:return{icon:n.jsx(Dk,{className:"w-4 h-4"}),text:"QR Code Access",color:"bg-green-100 text-green-800 border-green-200"};case Ki.WALLET_OWNER:return{icon:n.jsx(eb,{className:"w-4 h-4"}),text:"Wallet Owner",color:"bg-blue-100 text-blue-800 border-blue-200"};case Ki.INSTITUTION_OWNER:return{icon:n.jsx(gq,{className:"w-4 h-4"}),text:"Institution Access",color:"bg-purple-100 text-purple-800 border-purple-200"};case Ki.PUBLIC_ACCESS:return{icon:n.jsx(Cq,{className:"w-4 h-4"}),text:"Public Certificate",color:"bg-gray-100 text-gray-800 border-gray-200"};default:return{icon:n.jsx(Dk,{className:"w-4 h-4"}),text:"Authorized Access",color:"bg-gray-100 text-gray-800 border-gray-200"}}},{icon:Q,text:Z,color:ne}=W();return n.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm border ${ne}`,children:[Q,n.jsx("span",{children:Z})]})},K=()=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-red-950 text-white flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full bg-gray-800/50 rounded-lg p-8 text-center border border-red-500/30",children:[n.jsx(Al,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-300 mb-6",children:o}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsx("p",{className:"font-medium mb-2",children:"To view this certificate, you need:"}),n.jsxs("ul",{className:"text-left space-y-1",children:[n.jsx("li",{children:"• A valid QR code from the certificate owner"}),n.jsx("li",{children:"• Connect the wallet that owns this certificate"}),n.jsx("li",{children:"• Connect as the issuing institution"})]})]}),!I&&n.jsxs("button",{onClick:Y,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors flex items-center justify-center gap-2",children:[n.jsx(eb,{className:"w-4 h-4"}),"Connect Wallet"]}),s&&n.jsxs("div",{className:"text-xs text-gray-500 p-3 bg-gray-900/50 rounded",children:[n.jsxs("p",{children:["Certificate ID: ",s.id]}),n.jsxs("p",{children:["Course: ",s.courseName]})]})]})]})});return a?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-violet-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Sn,{}),n.jsx("p",{className:"mt-4 text-gray-300",children:"Loading certificate..."})]})}):o&&(!E||!E.allowed)?K():s?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-violet-950 text-white",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[n.jsxs("h1",{className:"text-3xl font-bold",children:["Certificate #",s.id]}),n.jsxs("div",{className:"flex items-center gap-4",children:[G(),window.location.hostname==="localhost"&&n.jsx("button",{onClick:()=>{if(console.log("=== DEBUG INFO ==="),console.log("Certificate:",s),console.log("Token URI:",s.tokenURI),console.log("Metadata:",s.metadata),console.log("Current image URL:",d),console.log("Image loading:",f),console.log("=================="),s.tokenURI){const W=s.tokenURI.startsWith("ipfs://")?s.tokenURI.replace("ipfs://ipfs/","").replace("ipfs://",""):s.tokenURI;console.log("Manual reload with CID:",W),Lm(W).then(Q=>{console.log("Manual metadata fetch result:",Q)})}},className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 rounded text-xs",children:"Debug"})]})]}),n.jsx("div",{className:"flex flex-wrap gap-3",children:s&&n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("span",{className:"font-medium",children:["Certificate #",s.id]})," •",n.jsx("span",{className:"ml-1",children:s.courseName})]})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Mk,{className:"w-5 h-5"}),"Certificate Image"]}),n.jsxs("div",{className:"relative",children:[f?n.jsxs("div",{className:"aspect-[4/3] bg-gray-700 rounded-lg flex flex-col items-center justify-center",children:[n.jsx(Sn,{}),n.jsx("p",{className:"text-gray-400 mt-4",children:"Loading certificate image..."})]}):d?n.jsxs("div",{className:"group",children:[n.jsx("img",{src:d,alt:`Certificate ${s.id}`,className:"w-full h-auto rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-shadow group-hover:scale-105 transform transition-transform duration-200",onLoad:V,onError:X,onClick:()=>window.open(d,"_blank")}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsx(Jp,{className:"w-8 h-8 text-white"})})]}):n.jsxs("div",{className:"aspect-[4/3] bg-gray-700 rounded-lg flex flex-col items-center justify-center",children:[n.jsx(Mk,{className:"w-16 h-16 text-gray-500 mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Certificate image not available"}),n.jsx("button",{onClick:L,className:"mt-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 rounded-lg text-sm transition-colors",children:"Generate Preview"})]}),n.jsx("canvas",{ref:j,style:{display:"none"}})]}),d&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Certificate Actions"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium",children:[n.jsx(yq,{className:"w-4 h-4"}),"Download PNG"]}),n.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors font-medium",children:[n.jsx(Rq,{className:"w-4 h-4"}),"Print"]}),n.jsxs("button",{onClick:()=>window.open(d,"_blank"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors font-medium",children:[n.jsx(Jp,{className:"w-4 h-4"}),"View Full Size"]})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Status"}),n.jsx("div",{className:"flex items-center gap-2",children:s.isRevoked?n.jsxs(n.Fragment,{children:[n.jsx(Al,{className:"w-5 h-5 text-red-500"}),n.jsx("span",{className:"text-red-400 font-medium",children:"Revoked"})]}):s.isVerified?n.jsxs(n.Fragment,{children:[n.jsx(fo,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"text-green-400 font-medium",children:"Verified"})]}):n.jsxs(n.Fragment,{children:[n.jsx(mo,{className:"w-5 h-5 text-yellow-500"}),n.jsx("span",{className:"text-yellow-400 font-medium",children:"Pending Verification"})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Certificate Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Course Name:"}),n.jsx("span",{className:"ml-2 text-white font-medium",children:s.courseName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Course ID:"}),n.jsx("span",{className:"ml-2 text-white",children:s.courseId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Grade:"}),n.jsxs("span",{className:"ml-2 text-white",children:[s.grade,"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Completion Date:"}),n.jsx("span",{className:"ml-2 text-white",children:s.completionDate})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Student:"}),n.jsx("span",{className:"ml-2 text-white font-mono text-sm break-all",children:s.student})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Institution:"}),n.jsx("span",{className:"ml-2 text-white font-mono text-sm break-all",children:s.institution})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Blockchain Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Token ID:"}),n.jsx("span",{className:"ml-2 text-white",children:s.id})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Network:"}),n.jsx("span",{className:"ml-2 text-white",children:"Sepolia Testnet"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Contract:"}),n.jsxs("a",{href:`https://sepolia.etherscan.io/address/${Ze.SoulboundCertificateNFT}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-400 hover:text-blue-300 font-mono text-sm break-all underline",children:[Ze.SoulboundCertificateNFT,n.jsx(f0,{className:"inline w-3 h-3 ml-1"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"View on Explorer:"}),n.jsxs("a",{href:`https://sepolia.etherscan.io/token/${Ze.SoulboundCertificateNFT}?a=${s.id}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-400 hover:text-blue-300 underline",children:["Sepolia Etherscan",n.jsx(f0,{className:"inline w-3 h-3 ml-1"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Student Address:"}),n.jsxs("a",{href:`https://sepolia.etherscan.io/address/${s.student}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-400 hover:text-blue-300 font-mono text-sm break-all underline",children:[s.student,n.jsx(f0,{className:"inline w-3 h-3 ml-1"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Institution Address:"}),n.jsxs("a",{href:`https://sepolia.etherscan.io/address/${s.institution}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-400 hover:text-blue-300 font-mono text-sm break-all underline",children:[s.institution,n.jsx(f0,{className:"inline w-3 h-3 ml-1"})]})]}),s.tokenURI&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Metadata URI:"}),n.jsx("div",{className:"ml-2 text-blue-400 font-mono text-sm break-all",children:s.tokenURI.startsWith("ipfs://")?n.jsxs("a",{href:`https://ipfs.io/ipfs/${s.tokenURI.replace("ipfs://","")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-300 underline",children:[s.tokenURI,n.jsx(f0,{className:"inline w-3 h-3 ml-1"})]}):n.jsx("span",{children:s.tokenURI})})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verification Status"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:s.isRevoked?n.jsxs(n.Fragment,{children:[n.jsx(Al,{className:"w-5 h-5 text-red-500"}),n.jsx("span",{className:"text-red-400 font-medium",children:"Certificate Revoked"})]}):s.isVerified?n.jsxs(n.Fragment,{children:[n.jsx(El,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"text-green-400 font-medium",children:"Verified by Institution"})]}):n.jsxs(n.Fragment,{children:[n.jsx(fd,{className:"w-5 h-5 text-yellow-500"}),n.jsx("span",{className:"text-yellow-400 font-medium",children:"Pending Verification"})]})}),n.jsx("div",{className:"text-sm text-gray-400",children:s.isRevoked?n.jsx("p",{children:"This certificate has been revoked by the issuing institution and is no longer valid."}):s.isVerified?n.jsx("p",{children:"This certificate has been verified and approved by the issuing institution. It is a valid blockchain-verified credential."}):n.jsx("p",{children:"This certificate has been issued but is still pending verification by the institution. The verification status may change."})})]})]})]})]})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-violet-950 text-white flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(mo,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Certificate Not Found"}),n.jsx("p",{className:"text-gray-300",children:"The requested certificate could not be found."})]})})},kse=()=>{const[t,e]=k.useState(!1),[s,r]=k.useState(null),[a,i]=k.useState(!1),[o,c]=k.useState({});k.useEffect(()=>{if(localStorage.getItem("browser-recommendation-dismissed"))return;const y=()=>{const A=navigator.userAgent;let j="unknown",C=0,S=!1;if(A.includes("Chrome")&&!A.includes("Edg")){j="Chrome";const E=A.match(/Chrome\/(\d+)/);C=E?parseInt(E[1]):0,S=C>=90}else if(A.includes("Firefox")){j="Firefox";const E=A.match(/Firefox\/(\d+)/);C=E?parseInt(E[1]):0,S=C>=88}else if(A.includes("Edg")){j="Edge";const E=A.match(/Edg\/(\d+)/);C=E?parseInt(E[1]):0,S=C>=90}else if(A.includes("Safari")&&!A.includes("Chrome")){j="Safari";const E=A.match(/Version\/(\d+)/);C=E?parseInt(E[1]):0,S=C>=14}r({browser:j,version:C,isCompatible:S}),S||e(!0)},w=()=>{const A={web3:typeof window<"u"&&typeof window.ethereum<"u",webgl:(()=>{try{const j=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(j.getContext("webgl")||j.getContext("experimental-webgl")))}catch{return!1}})(),intersectionObserver:typeof IntersectionObserver<"u",localStorage:typeof Storage<"u",fetch:typeof fetch<"u",es6:(()=>{try{return new Function("const a = 1; const b = 2; const c = a + b;"),!0}catch{return!1}})(),webp:(()=>{const j=document.createElement("canvas");return j.width=1,j.height=1,j.toDataURL("image/webp").indexOf("data:image/webp")===0})(),webm:(()=>{const j=document.createElement("video");return j.canPlayType&&j.canPlayType('video/webm; codecs="vp8, vorbis"')!==""})()};c(A)};y(),w()},[]);const d=()=>{i(!0),localStorage.setItem("browser-recommendation-dismissed","true")},h=v=>{switch(v.toLowerCase()){case"chrome":return n.jsx(Ak,{className:"w-5 h-5"});case"firefox":return n.jsx(jc,{className:"w-5 h-5"});case"edge":return n.jsx(Ek,{className:"w-5 h-5"});case"safari":return n.jsx(jc,{className:"w-5 h-5"});default:return n.jsx(Sk,{className:"w-5 h-5"})}},f=()=>s?s.isCompatible?`Your ${s.browser} ${s.version} is fully compatible! 🚀`:"For optimal experience, we recommend using:":"",x=v=>{switch(v){case"web3":return n.jsx(jc,{className:"w-4 h-4"});case"webgl":return n.jsx(tl,{className:"w-4 h-4"});case"intersectionObserver":return n.jsx(tl,{className:"w-4 h-4"});case"localStorage":return n.jsx(IG,{className:"w-4 h-4"});case"fetch":return n.jsx(jc,{className:"w-4 h-4"});case"es6":return n.jsx(tl,{className:"w-4 h-4"});case"webp":return n.jsx(tl,{className:"w-4 h-4"});case"webm":return n.jsx(tl,{className:"w-4 h-4"});default:return n.jsx(tl,{className:"w-4 h-4"})}},g=[{name:"Chrome",version:"90+",icon:n.jsx(Ak,{className:"w-4 h-4"}),color:"from-green-500 to-green-600",downloadUrl:"https://www.google.com/chrome/",features:["web3","webgl","intersectionObserver","localStorage","fetch","es6","webp","webm"]},{name:"Firefox",version:"88+",icon:n.jsx(jc,{className:"w-4 h-4"}),color:"from-orange-500 to-orange-600",downloadUrl:"https://www.mozilla.org/firefox/",features:["web3","webgl","intersectionObserver","localStorage","fetch","es6","webp","webm"]},{name:"Edge",version:"90+",icon:n.jsx(Ek,{className:"w-4 h-4"}),color:"from-blue-500 to-blue-600",downloadUrl:"https://www.microsoft.com/edge",features:["web3","webgl","intersectionObserver","localStorage","fetch","es6","webp","webm"]},{name:"Safari",version:"14+",icon:n.jsx(jc,{className:"w-4 h-4"}),color:"from-purple-500 to-purple-600",downloadUrl:"https://www.apple.com/safari/",features:["web3","webgl","intersectionObserver","localStorage","fetch","es6","webp"]}],p=v=>{window.open(v,"_blank")};return a||!t?null:n.jsx(j5,{children:n.jsx(Je.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.5,ease:"easeOut"},className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-5xl mx-4",children:n.jsxs("div",{className:"relative bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border border-cyan-400/30 rounded-2xl shadow-2xl backdrop-blur-xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-cyan-400/20 via-blue-500/20 to-purple-500/20 animate-pulse"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-scan-line"}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center animate-pulse",children:s!=null&&s.isCompatible?n.jsx(EG,{className:"w-6 h-6 text-white"}):n.jsx(Sk,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Browser Compatibility Check"}),n.jsx("p",{className:"text-sm text-slate-300",children:f()})]})]}),n.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-700/50 rounded-full transition-colors duration-200 group",children:n.jsx(zG,{className:"w-5 h-5 text-slate-400 group-hover:text-white transition-colors duration-200"})})]}),s&&n.jsxs("div",{className:"mb-4 p-4 bg-slate-800/50 rounded-xl border border-slate-600/30",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[h(s.browser),n.jsxs("span",{className:"text-slate-200 font-medium",children:[s.browser," ",s.version]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.isCompatible?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:s.isCompatible?"Compatible":"Limited Support"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(o).map(([v,y])=>n.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[x(v),n.jsx("span",{className:`${y?"text-green-400":"text-red-400"}`,children:v})]},v))})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:g.map((v,y)=>n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1,duration:.3},className:"group cursor-pointer",children:n.jsxs("div",{className:"p-3 bg-gradient-to-br from-slate-800 to-slate-700 rounded-xl border border-slate-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:scale-105",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${v.color}`,children:v.icon}),n.jsx("span",{className:"text-sm font-medium text-slate-200",children:v.name})]}),n.jsxs("div",{className:"text-xs text-slate-400 mb-3",children:["Version ",v.version]}),n.jsxs("button",{onClick:()=>p(v.downloadUrl),className:"w-full flex items-center justify-center space-x-2 px-3 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 rounded-lg text-white text-xs font-medium transition-all duration-200 hover:scale-105",children:[n.jsx(TG,{className:"w-3 h-3"}),n.jsx("span",{children:"Download"})]})]})},v.name))}),n.jsxs("div",{className:"mb-4 p-4 bg-slate-800/30 rounded-xl border border-slate-600/20",children:[n.jsxs("h4",{className:"text-sm font-medium text-slate-200 mb-3 flex items-center space-x-2",children:[n.jsx(tl,{className:"w-4 h-4 text-cyan-400"}),n.jsx("span",{children:"Why These Features Matter"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-slate-400",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Web3:"})," Blockchain wallet integration"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"WebGL:"})," Smooth 3D animations"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"ES6+:"})," Modern JavaScript features"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"IntersectionObserver:"})," Scroll animations"]})]})]}),n.jsx("div",{className:"pt-4 border-t border-slate-600/30",children:n.jsx("p",{className:"text-xs text-slate-400 text-center",children:"💡 Modern browsers ensure optimal blockchain integration, smooth animations, and enhanced security"})})]})]})})})},vc=({children:t,requiredRoles:e=[],fallbackPath:s="/"})=>{const[r,a]=k.useState(!0),[i,o]=k.useState(!1),[c,d]=k.useState(""),h=async f=>{if(!window.ethereum||!f){o(!1),a(!1);return}try{const x=new Xe(window.ethereum),g=new jt(Ze.SoulboundCertificateNFT,Ue.SoulboundCertificateNFT,x),p=Dl,v=Qt(qn("INSTITUTION_ROLE")),[y,w]=await Promise.all([g.hasRole(p,f),g.hasRole(v,f)]);let A=!1;e.includes("admin")&&y&&(A=!0),e.includes("institution")&&w&&(A=!0),y&&(A=!0),o(A),a(!1)}catch(x){console.error("Error checking user roles:",x),o(!1),a(!1)}};return k.useEffect(()=>{if((async()=>{if(window.ethereum)try{const x=await window.ethereum.request({method:"eth_accounts"});x.length>0?(d(x[0]),await h(x[0])):(o(!1),a(!1))}catch(x){console.error("Error checking wallet connection:",x),o(!1),a(!1)}else o(!1),a(!1)})(),window.ethereum){const x=async g=>{g.length>0?(d(g[0]),a(!0),await h(g[0])):(d(""),o(!1),a(!1))};return window.ethereum.on("accountsChanged",x),()=>{window.ethereum.removeListener("accountsChanged",x)}}},[e]),r?n.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(go,{}),n.jsx("p",{className:"mt-4 text-gray-400",children:"Checking access permissions..."})]})}):!c||!i?n.jsx(nf,{to:s,replace:!0}):t},Ase=()=>n.jsxs("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-red-900/10 rounded-full filter blur-3xl"}),n.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-64 h-64 bg-orange-900/10 rounded-full filter blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 max-w-md mx-auto text-center px-6",children:[n.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-br from-red-500 to-orange-500 rounded-full flex items-center justify-center mb-8 shadow-[0_0_30px_rgba(239,68,68,0.5)]",children:n.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Access Restricted"}),n.jsx("p",{className:"text-gray-300 text-lg mb-2",children:"You don't have permission to access the dashboard."}),n.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:["Dashboard access is restricted to ",n.jsx("span",{className:"text-blue-400 font-semibold",children:"Educational Institutions"})," and ",n.jsx("span",{className:"text-purple-400 font-semibold",children:"System Administrators"})," only."]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(io,{to:"/",className:"block w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:"Return to Home"}),n.jsx(io,{to:"/certificate/check",className:"block w-full bg-gray-800 hover:bg-gray-700 text-gray-300 font-semibold py-3 px-6 rounded-lg transition-all duration-300 border border-gray-600 hover:border-gray-500",children:"Verify a Certificate"})]}),n.jsxs("div",{className:"mt-8 p-4 bg-gray-900/50 rounded-lg border border-gray-800",children:[n.jsx("h3",{className:"text-white font-semibold mb-2",children:"Need Access?"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"If you're representing an educational institution, please contact the system administrator to request dashboard access."})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"What you can do:"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-900/30 rounded-lg border border-gray-800",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),n.jsx("span",{className:"text-gray-300",children:"View and verify certificates"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-900/30 rounded-lg border border-gray-800",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),n.jsx("span",{className:"text-gray-300",children:"Generate QR codes for certificates"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-900/30 rounded-lg border border-gray-800",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),n.jsx("span",{className:"text-gray-300",children:"Access public certificate information"})]})]})]})]})]});function Ese(){const[t,e]=k.useState(!0),[s,r]=k.useState(null),[a,i]=k.useState(!1),[o,c]=k.useState(!1);k.useEffect(()=>((async()=>{try{if(window.ethereum){const x=await window.ethereum.request({method:"eth_accounts"});x&&x.length>0&&(r(x[0]),i(!0)),window.ethereum.on("accountsChanged",g=>{g.length>0?(r(g[0]),i(!0)):(r(null),i(!1))})}}catch(x){console.error("Error initializing app:",x)}finally{e(!1)}})(),()=>{window.ethereum&&window.ethereum.removeListener("accountsChanged",()=>{})}),[]);const d=!!s,h=({children:f})=>d?f:n.jsx(nf,{to:"/"});return t?n.jsx(wse,{}):n.jsx(jz,{children:n.jsx(nL,{children:n.jsx(lG,{children:n.jsxs("div",{className:"App flex flex-col min-h-screen bg-slate-950",children:[n.jsx(kse,{}),n.jsx(Ez,{userAccount:s,isMobileMenuOpen:o,setIsMobileMenuOpen:c}),n.jsx("div",{className:"flex-grow",children:n.jsxs(_I,{children:[n.jsx(Ks,{path:"/",element:n.jsx(_q,{isMobileMenuOpen:o,setIsMobileMenuOpen:c})}),n.jsx(Ks,{path:"/certificate/:id",element:n.jsx(Cse,{})}),n.jsx(Ks,{path:"/docs",element:n.jsx(vse,{})}),n.jsx(Ks,{path:"/unauthorized",element:n.jsx(Ase,{})}),n.jsxs(Ks,{path:"/dashboard",element:n.jsx(h,{children:n.jsx(Lq,{})}),children:[n.jsx(Ks,{index:!0,element:n.jsx(nf,{to:"certificates",replace:!0})}),n.jsx(Ks,{path:"certificates",element:n.jsx(BQ,{})}),n.jsx(Ks,{path:"in",element:n.jsx(vc,{requiredRoles:["admin","institution"],fallbackPath:"/unauthorized",children:n.jsx(uX,{})})}),n.jsx(Ks,{path:"analytics",element:n.jsx(vc,{requiredRoles:["admin","institution"],fallbackPath:"/unauthorized",children:n.jsx(bse,{})})}),n.jsx(Ks,{path:"issue",element:n.jsx(vc,{requiredRoles:["admin","institution"],fallbackPath:"/unauthorized",children:n.jsx(GK,{})})}),n.jsx(Ks,{path:"update",element:n.jsx(vc,{requiredRoles:["admin","institution"],fallbackPath:"/unauthorized",children:n.jsx(QK,{})})}),n.jsx(Ks,{path:"courses",element:n.jsx(vc,{requiredRoles:["admin","institution"],fallbackPath:"/unauthorized",children:n.jsx(nX,{isInstitution:a})})}),n.jsx(Ks,{path:"burn-approvals",element:n.jsx(vc,{requiredRoles:["admin"],fallbackPath:"/unauthorized",children:n.jsx(oX,{})})}),n.jsx(Ks,{path:"institutions",element:n.jsx(vc,{requiredRoles:["admin"],fallbackPath:"/unauthorized",children:n.jsx(aX,{})})}),n.jsx(Ks,{path:"*",element:n.jsx(nf,{to:"/dashboard/certificates",replace:!0})})]}),n.jsx(Ks,{path:"*",element:n.jsx(nf,{to:"/",replace:!0})})]})}),n.jsx(jK,{position:"top-center"})]})})})})}const Cg=document.getElementById("pre-root-loader");Cg&&setTimeout(()=>{Cg.parentNode&&Cg.parentNode.removeChild(Cg)},0);z_.createRoot(document.getElementById("root")).render(n.jsx(k.StrictMode,{children:n.jsx(Ese,{})}));export{n as j,k as r};
